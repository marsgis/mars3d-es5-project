/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.5.6
 * 编译日期：2023-05-07 18:41:18
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';var _0x37f6ce=_0x2db0;(function(_0x53f501,_0x1b5c11){var _0x5cad67={_0x3592c6:0x6d,_0x528ed9:0x8a,_0x35d35e:0x82,_0x4459f2:0xce,_0x3fa183:0x69,_0x592a5c:0x9c,_0x141e34:0xc3},_0x2089e3=_0x2db0,_0x30d075=_0x53f501();while(!![]){try{var _0x350128=parseInt(_0x2089e3(_0x5cad67._0x3592c6))/0x1+-parseInt(_0x2089e3(_0x5cad67._0x528ed9))/0x2*(parseInt(_0x2089e3(0x7a))/0x3)+parseInt(_0x2089e3(_0x5cad67._0x35d35e))/0x4*(parseInt(_0x2089e3(0x74))/0x5)+-parseInt(_0x2089e3(_0x5cad67._0x4459f2))/0x6*(-parseInt(_0x2089e3(0xb8))/0x7)+-parseInt(_0x2089e3(_0x5cad67._0x3fa183))/0x8*(parseInt(_0x2089e3(_0x5cad67._0x592a5c))/0x9)+parseInt(_0x2089e3(0xc5))/0xa*(parseInt(_0x2089e3(_0x5cad67._0x141e34))/0xb)+-parseInt(_0x2089e3(0x7d))/0xc*(parseInt(_0x2089e3(0xb1))/0xd);if(_0x350128===_0x1b5c11)break;else _0x30d075['push'](_0x30d075['shift']());}catch(_0x228f06){_0x30d075['push'](_0x30d075['shift']());}}}(_0x6c7f,0xd4252));function _interopNamespace(_0x560a5e){var _0x39fc88={_0x47235f:0x9d,_0x4d5aaa:0x89},_0x27cd96={_0x4e9c62:0x73,_0x20a7b9:0xc1},_0x4a3d4d=_0x2db0;if(_0x560a5e&&_0x560a5e['__esModule'])return _0x560a5e;var _0x4e261f=Object['create'](null);return _0x560a5e&&Object['keys'](_0x560a5e)[_0x4a3d4d(_0x39fc88._0x47235f)](function(_0x49fd71){var _0x3f5c2c=_0x4a3d4d;if(_0x49fd71!=='default'){var _0x5f2e26=Object['getOwnPropertyDescriptor'](_0x560a5e,_0x49fd71);Object[_0x3f5c2c(_0x27cd96._0x4e9c62)](_0x4e261f,_0x49fd71,_0x5f2e26[_0x3f5c2c(_0x27cd96._0x20a7b9)]?_0x5f2e26:{'enumerable':!![],'get':function(){return _0x560a5e[_0x49fd71];}});}}),_0x4e261f[_0x4a3d4d(_0x39fc88._0x4d5aaa)]=_0x560a5e,_0x4e261f;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x2db0(_0x22e92a,_0x2c8d2f){var _0x6c7f39=_0x6c7f();return _0x2db0=function(_0x2db0ba,_0x557170){_0x2db0ba=_0x2db0ba-0x66;var _0x42e401=_0x6c7f39[_0x2db0ba];return _0x42e401;},_0x2db0(_0x22e92a,_0x2c8d2f);}function ownKeys(_0x411f0a,_0x4fb396){var _0x4ed04c={_0x194944:0xbe},_0x43fe9d=_0x2db0,_0x50ba79=Object['keys'](_0x411f0a);if(Object['getOwnPropertySymbols']){var _0x4ae707=Object['getOwnPropertySymbols'](_0x411f0a);_0x4fb396&&(_0x4ae707=_0x4ae707[_0x43fe9d(_0x4ed04c._0x194944)](function(_0x3bd8e1){return Object['getOwnPropertyDescriptor'](_0x411f0a,_0x3bd8e1)['enumerable'];})),_0x50ba79[_0x43fe9d(0xaa)][_0x43fe9d(0x71)](_0x50ba79,_0x4ae707);}return _0x50ba79;}function _objectSpread2(_0x442744){var _0x3b8a23={_0x5d5010:0x9d,_0x37f711:0xa7,_0x2e4770:0xc9,_0x4eb200:0x9d},_0x3009fc=_0x2db0;for(var _0x11caa5=0x1;_0x11caa5<arguments['length'];_0x11caa5++){var _0x34b21b=null!=arguments[_0x11caa5]?arguments[_0x11caa5]:{};_0x11caa5%0x2?ownKeys(Object(_0x34b21b),!0x0)[_0x3009fc(_0x3b8a23._0x5d5010)](function(_0x41ab3f){_defineProperty(_0x442744,_0x41ab3f,_0x34b21b[_0x41ab3f]);}):Object['getOwnPropertyDescriptors']?Object[_0x3009fc(_0x3b8a23._0x37f711)](_0x442744,Object[_0x3009fc(_0x3b8a23._0x2e4770)](_0x34b21b)):ownKeys(Object(_0x34b21b))[_0x3009fc(_0x3b8a23._0x4eb200)](function(_0x73ef7d){Object['defineProperty'](_0x442744,_0x73ef7d,Object['getOwnPropertyDescriptor'](_0x34b21b,_0x73ef7d));});}return _0x442744;}function _classCallCheck(_0x43cb16,_0x228aaf){if(!(_0x43cb16 instanceof _0x228aaf))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x123bd6,_0xca8454){var _0x34c112=_0x2db0;for(var _0x1bcab2=0x0;_0x1bcab2<_0xca8454['length'];_0x1bcab2++){var _0x93866=_0xca8454[_0x1bcab2];_0x93866[_0x34c112(0x78)]=_0x93866['enumerable']||![],_0x93866['configurable']=!![];if('value'in _0x93866)_0x93866['writable']=!![];Object['defineProperty'](_0x123bd6,_0x93866[_0x34c112(0xa5)],_0x93866);}}function _createClass(_0x2b04e1,_0x1b5ac6,_0x5d6141){var _0x39dcad=_0x2db0;if(_0x1b5ac6)_defineProperties(_0x2b04e1[_0x39dcad(0xd7)],_0x1b5ac6);if(_0x5d6141)_defineProperties(_0x2b04e1,_0x5d6141);return Object['defineProperty'](_0x2b04e1,'prototype',{'writable':![]}),_0x2b04e1;}function _defineProperty(_0x14164e,_0x296e6e,_0x1af603){return _0x296e6e in _0x14164e?Object['defineProperty'](_0x14164e,_0x296e6e,{'value':_0x1af603,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x14164e[_0x296e6e]=_0x1af603,_0x14164e;}function _inherits(_0x1beb21,_0xe3f0c4){var _0x11b0bd={_0x204cbc:0x8c,_0x315e14:0x73},_0x4d4414=_0x2db0;if(typeof _0xe3f0c4!==_0x4d4414(_0x11b0bd._0x204cbc)&&_0xe3f0c4!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x1beb21['prototype']=Object['create'](_0xe3f0c4&&_0xe3f0c4['prototype'],{'constructor':{'value':_0x1beb21,'writable':!![],'configurable':!![]}}),Object[_0x4d4414(_0x11b0bd._0x315e14)](_0x1beb21,'prototype',{'writable':![]});if(_0xe3f0c4)_setPrototypeOf(_0x1beb21,_0xe3f0c4);}function _getPrototypeOf(_0x13c1c6){return _getPrototypeOf=Object['setPrototypeOf']?Object['getPrototypeOf']:function _0xbd3c62(_0x196c12){return _0x196c12['__proto__']||Object['getPrototypeOf'](_0x196c12);},_getPrototypeOf(_0x13c1c6);}function _setPrototypeOf(_0x328956,_0x58cb1e){return _setPrototypeOf=Object['setPrototypeOf']||function _0x59b8d3(_0x1a0b71,_0x23ef50){return _0x1a0b71['__proto__']=_0x23ef50,_0x1a0b71;},_setPrototypeOf(_0x328956,_0x58cb1e);}function _isNativeReflectConstruct(){var _0x4f9c5b={_0x181308:0xd4,_0x4a1c1b:0xcc},_0x298e5f=_0x2db0;if(typeof Reflect==='undefined'||!Reflect[_0x298e5f(_0x4f9c5b._0x181308)])return![];if(Reflect['construct']['sham'])return![];if(typeof Proxy==='function')return!![];try{return Boolean['prototype']['valueOf'][_0x298e5f(_0x4f9c5b._0x4a1c1b)](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x5f8c95){return![];}}function _assertThisInitialized(_0x3f6ad1){if(_0x3f6ad1===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x3f6ad1;}function _possibleConstructorReturn(_0x529229,_0x4952da){var _0x3e42ae={_0x5e3529:0x8c},_0x5ca01b=_0x2db0;if(_0x4952da&&(typeof _0x4952da==='object'||typeof _0x4952da===_0x5ca01b(_0x3e42ae._0x5e3529)))return _0x4952da;else{if(_0x4952da!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x529229);}function _createSuper(_0x447e4b){var _0x39b63a=_isNativeReflectConstruct();return function _0x51cdf3(){var _0x1299cf=_0x2db0,_0xf06194=_getPrototypeOf(_0x447e4b),_0x404862;if(_0x39b63a){var _0x19c73b=_getPrototypeOf(this)[_0x1299cf(0x6b)];_0x404862=Reflect['construct'](_0xf06194,arguments,_0x19c73b);}else _0x404862=_0xf06194['apply'](this,arguments);return _possibleConstructorReturn(this,_0x404862);};}function _superPropBase(_0x524a9e,_0x4f9580){var _0x34a961=_0x2db0;while(!Object[_0x34a961(0xd7)]['hasOwnProperty']['call'](_0x524a9e,_0x4f9580)){_0x524a9e=_getPrototypeOf(_0x524a9e);if(_0x524a9e===null)break;}return _0x524a9e;}function _get(){var _0x2b3de5={_0xc691c3:0x71},_0x47f89e={_0x336154:0x72},_0x19223f=_0x2db0;return typeof Reflect!=='undefined'&&Reflect['get']?_get=Reflect['get']:_get=function _0x1cfb97(_0x32d1fc,_0x459b01,_0x391510){var _0x24088d=_0x2db0,_0x5570e4=_superPropBase(_0x32d1fc,_0x459b01);if(!_0x5570e4)return;var _0x4a75c8=Object[_0x24088d(0x8e)](_0x5570e4,_0x459b01);if(_0x4a75c8['get'])return _0x4a75c8['get']['call'](arguments['length']<0x3?_0x32d1fc:_0x391510);return _0x4a75c8[_0x24088d(_0x47f89e._0x336154)];},_get[_0x19223f(_0x2b3de5._0xc691c3)](this,arguments);}var Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x37f6ce(0x9e)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function,MapVRenderer=function(_0x6d077){var _0x4bc343={_0x37a0aa:0xcb,_0xe8bfde:0xae},_0x3cd4e6={_0x566b9b:0x6c},_0x4c45ef={_0x4b73c7:0xa3},_0x428722={_0xe89cef:0x77,_0x4c5bd0:0xaf},_0x1754a6={_0x5c3a3c:0xaf},_0x47bc3a={_0x372ff7:0xc1,_0x26d437:0x7f},_0x394846={_0x240aff:0xac,_0x5035a7:0xab,_0x1002f3:0xc0,_0x5408ae:0xb5,_0x4d7c7e:0x79},_0x5e626e={_0x531c30:0xc0,_0x4a5e32:0xc0,_0x30e1fe:0xd9},_0x49a7c5={_0x2c587c:0x81,_0x37c0c8:0xac},_0x227211={_0x1fefd0:0x84,_0x451a2e:0x92},_0x26dc22={_0x290704:0xca},_0x12f44d={_0xe8f256:0xcc,_0x2f734f:0xd1},_0x57f581=_0x37f6ce;_inherits(_0x2d7847,_0x6d077);var _0x36b3b1=_createSuper(_0x2d7847);function _0x2d7847(_0x470f48,_0x86c7b9,_0x2dafba,_0x3b48d6){var _0x31dcee=_0x2db0,_0xdb1f0c;_classCallCheck(this,_0x2d7847),_0xdb1f0c=_0x36b3b1[_0x31dcee(_0x12f44d._0xe8f256)](this,_0x470f48,_0x86c7b9,_0x2dafba);if(!BaseLayer$1)return _possibleConstructorReturn(_0xdb1f0c);return _0xdb1f0c['map']=_0x470f48,_0xdb1f0c['scene']=_0x470f48['scene'],_0xdb1f0c[_0x31dcee(0x77)]=_0x86c7b9,_0x2dafba=_0x2dafba||{},_0xdb1f0c['init'](_0x2dafba),_0xdb1f0c['argCheck'](_0x2dafba),_0xdb1f0c[_0x31dcee(_0x12f44d._0x2f734f)](),_0xdb1f0c['canvasLayer']=_0x3b48d6,_0xdb1f0c['stopAniamation']=!0x1,_0xdb1f0c['animation']=_0x2dafba['animation'],_0xdb1f0c;}return _createClass(_0x2d7847,[{'key':'initDevicePixelRatio','value':function _0x8be902(){var _0x52ced5=_0x2db0;this[_0x52ced5(_0x26dc22._0x290704)]=window[_0x52ced5(_0x26dc22._0x290704)]||0x1;}},{'key':_0x57f581(_0x4bc343._0x37a0aa),'value':function _0x15a714(){}},{'key':'animatorMovestartEvent','value':function _0xc0438e(){var _0x239b13=_0x57f581,_0x2dfdae=this['options'][_0x239b13(_0x227211._0x1fefd0)];this[_0x239b13(_0x227211._0x451a2e)]()&&this['animator']&&(this['steps']['step']=_0x2dfdae['stepsRange']['start']);}},{'key':_0x57f581(_0x4bc343._0xe8bfde),'value':function _0x5668ba(){var _0x1f912c=_0x57f581;this[_0x1f912c(0x92)]()&&this['animator'];}},{'key':'getContext','value':function _0x4a6ce6(){var _0x56565a=_0x57f581;return this['canvasLayer']['canvas'][_0x56565a(_0x49a7c5._0x2c587c)](this[_0x56565a(_0x49a7c5._0x37c0c8)]);}},{'key':'init','value':function _0x378114(_0x3ab55f){var _0x45a62a=_0x57f581;this['options']=_0x3ab55f,this['initDataRange'](_0x3ab55f),this['context']=this[_0x45a62a(_0x5e626e._0x531c30)]['context']||'2d',this[_0x45a62a(_0x5e626e._0x4a5e32)][_0x45a62a(_0x5e626e._0x30e1fe)]&&this[_0x45a62a(0xad)]&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this['options'][_0x45a62a(0xd9)]),this['initAnimator']();}},{'key':'_canvasUpdate','value':function _0x3d8dec(_0x1f5496){var _0x35d00b={_0x487db8:0xb0,_0x4975e5:0xb9},_0x1d82d2={_0x33dfce:0xb7,_0x595d0c:0xb2,_0x1e28ca:0x8f},_0x5212d2=_0x57f581,_0x9c6d17=this['scene'];if(this[_0x5212d2(0xad)]&&!this['stopAniamation']){var _0x45ade2=this['options']['animation'],_0x4668be=this[_0x5212d2(0x81)]();if(this[_0x5212d2(0x92)]()){if(void 0x0===_0x1f5496)return void this['clear'](_0x4668be);this['context']==='2d'&&(_0x4668be['save'](),_0x4668be['globalCompositeOperation']=_0x5212d2(0xd0),_0x4668be['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x4668be['fillRect'](0x0,0x0,_0x4668be['canvas'][_0x5212d2(0x9b)],_0x4668be['canvas']['height']),_0x4668be['restore']());}else this['clear'](_0x4668be);if(this[_0x5212d2(_0x394846._0x240aff)]==='2d')for(var _0x5c1cf3 in this[_0x5212d2(0xc0)]){_0x4668be[_0x5c1cf3]=this['options'][_0x5c1cf3];}else _0x4668be['clear'](_0x4668be['COLOR_BUFFER_BIT']);var _0xd3cdc2={'transferCoordinate':function _0x57835(_0x57f0b2){var _0x270004=_0x5212d2,_0x5bbf8e=null,_0x3d33a1=_0x9c6d17['mapvFixedHeight'];_0x9c6d17['mapvAutoHeight']&&(_0x3d33a1=_0x9c6d17['globe']['getHeight'](Cesium$1['Cartographic'][_0x270004(_0x1d82d2._0x33dfce)](_0x57f0b2[0x0],_0x57f0b2[0x1])));var _0x210f92=Cesium$1[_0x270004(_0x1d82d2._0x595d0c)]['fromDegrees'](_0x57f0b2[0x0],_0x57f0b2[0x1],_0x3d33a1);if(!_0x210f92)return _0x5bbf8e;var _0x30f5b8=_0x9c6d17['cartesianToCanvasCoordinates'](_0x210f92);if(!_0x30f5b8)return _0x5bbf8e;if(_0x9c6d17[_0x270004(0x93)]&&_0x9c6d17['mode']===Cesium$1['SceneMode']['SCENE3D']){var _0x1392be=new Cesium$1['EllipsoidalOccluder'](_0x9c6d17['globe']['ellipsoid'],_0x9c6d17[_0x270004(_0x1d82d2._0x1e28ca)]['positionWC']),_0x22402e=_0x1392be[_0x270004(0x6f)](_0x210f92);if(!_0x22402e)return _0x5bbf8e;}return[_0x30f5b8['x'],_0x30f5b8['y']];}};void 0x0!==_0x1f5496&&(_0xd3cdc2['filter']=function(_0x74ff9f){var _0x29a232=_0x5212d2,_0x13e195=_0x45ade2[_0x29a232(_0x35d00b._0x487db8)]||0xa;return!!(_0x1f5496&&_0x74ff9f['time']>_0x1f5496-_0x13e195&&_0x74ff9f[_0x29a232(_0x35d00b._0x4975e5)]<_0x1f5496);});var _0x45e114=this['dataSet']['get'](_0xd3cdc2);this['processData'](_0x45e114),this['options'][_0x5212d2(_0x394846._0x5035a7)]==='m'&&this[_0x5212d2(_0x394846._0x1002f3)]['size'],this['options'][_0x5212d2(0xbd)]=this['options'][_0x5212d2(_0x394846._0x5408ae)];var _0x800006=_0x9c6d17[_0x5212d2(_0x394846._0x4d7c7e)](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x800006)return;this['drawContext'](_0x4668be,new mapv__namespace['DataSet'](_0x45e114),this[_0x5212d2(_0x394846._0x1002f3)],_0x800006),this['options']['updateCallback']&&this['options']['updateCallback'](_0x1f5496);}}},{'key':'updateData','value':function _0x40cb5f(_0x27a3a2,_0x4c8628){var _0x4dbeca=_0x57f581,_0x467ad0=_0x27a3a2;_0x467ad0&&_0x467ad0[_0x4dbeca(0xc1)]&&(_0x467ad0=_0x467ad0['get']()),void 0x0!==_0x467ad0&&this[_0x4dbeca(0x77)]['set'](_0x467ad0),_get(_getPrototypeOf(_0x2d7847['prototype']),'update',this)['call'](this,{'options':_0x4c8628});}},{'key':_0x57f581(0xc6),'value':function _0x213fcd(_0x552ed0,_0x5317e4){var _0x288d02=_0x57f581,_0xea172f=_0x552ed0;_0x552ed0&&_0x552ed0[_0x288d02(_0x47bc3a._0x372ff7)]&&(_0xea172f=_0x552ed0['get']()),this['dataSet'][_0x288d02(_0x47bc3a._0x26d437)](_0xea172f),this['update']({'options':_0x5317e4});}},{'key':_0x57f581(0x98),'value':function _0x428610(){return this['dataSet'];}},{'key':'removeData','value':function _0x9ee2f1(_0x3dde1d){var _0x2fc323={_0x32426c:0x8c},_0x11f570=_0x57f581;if(this['dataSet']){var _0xbb1119=this['dataSet']['get']({'filter':function _0x2e6c5a(_0x2a4bdb){var _0x2b0de9=_0x2db0;return _0x3dde1d==null||typeof _0x3dde1d!==_0x2b0de9(_0x2fc323._0x32426c)||!_0x3dde1d(_0x2a4bdb);}});this['dataSet']['set'](_0xbb1119),this[_0x11f570(_0x1754a6._0x5c3a3c)]({'options':null});}}},{'key':'clearData','value':function _0x1b4d98(){var _0x27e275=_0x57f581;this['dataSet']&&this[_0x27e275(_0x428722._0xe89cef)]['clear'](),this[_0x27e275(_0x428722._0x4c5bd0)]({'options':null});}},{'key':'draw','value':function _0x4a01e6(){this['canvasLayer']['draw']();}},{'key':'clear','value':function _0x24ecb7(_0x10c9d8){var _0x4f422a=_0x57f581;_0x10c9d8&&_0x10c9d8['clearRect']&&_0x10c9d8['clearRect'](0x0,0x0,_0x10c9d8[_0x4f422a(0xa3)]['width'],_0x10c9d8[_0x4f422a(_0x4c45ef._0x4b73c7)]['height']);}},{'key':'destroy','value':function _0x411227(){var _0x38c35c=_0x57f581;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this['animator'][_0x38c35c(_0x3cd4e6._0x566b9b)](),this['animator']=null,this['canvasLayer']=null;}}]),_0x2d7847;}(BaseLayer$1);if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet'][_0x37f6ce(0xd7)][_0x37f6ce(0x67)]=function(_0x6fcbce,_0x3cc890,_0x50d4da,_0x13b87d){var _0xc98a68={_0x5d0d4a:0x96,_0x30d7d7:0xa9},_0x4e0b5c={_0xecf095:0xc2},_0x27f5c0=_0x37f6ce;_0x13b87d=_0x13b87d||_0x27f5c0(0xbc),_0x50d4da=_0x50d4da||_0x27f5c0(_0xc98a68._0x5d0d4a);for(var _0x37666e=0x0;_0x37666e<_0x6fcbce['length'];_0x37666e++){var _0x25bec5=_0x6fcbce[_0x37666e]['geometry'],_0x1ca5bf=_0x25bec5[_0x50d4da];switch(_0x25bec5[_0x27f5c0(0xc8)]){case _0x27f5c0(0x85):{var _0x53eba9=_0x3cc890(_0x1ca5bf);_0x53eba9?_0x25bec5[_0x13b87d]=_0x53eba9:_0x25bec5[_0x13b87d]=[-0x3e7,-0x3e7];}break;case _0x27f5c0(0x70):{var _0x37165a=[];for(var _0xb53dd7=0x0;_0xb53dd7<_0x1ca5bf[_0x27f5c0(0xc2)];_0xb53dd7++){var _0x2f9ff5=_0x3cc890(_0x1ca5bf[_0xb53dd7]);_0x2f9ff5&&_0x37165a['push'](_0x2f9ff5);}_0x25bec5[_0x13b87d]=_0x37165a;}break;case _0x27f5c0(_0xc98a68._0x30d7d7):case'Polygon':{var _0x4985e0=_0x1dddb4(_0x1ca5bf);_0x25bec5[_0x13b87d]=_0x4985e0;}break;case _0x27f5c0(0xba):{var _0xf0a838=[];for(var _0x3a498f=0x0;_0x3a498f<_0x1ca5bf['length'];_0x3a498f++){var _0x32753e=_0x1dddb4(_0x1ca5bf[_0x3a498f]);_0x32753e[_0x27f5c0(0xc2)]>0x0&&_0xf0a838[_0x27f5c0(0xaa)](_0x32753e);}_0x25bec5[_0x13b87d]=_0xf0a838;}break;}}function _0x1dddb4(_0x5d81a8){var _0x1eef5=_0x27f5c0,_0x2b146a=[];for(var _0x47be83=0x0;_0x47be83<_0x5d81a8[_0x1eef5(_0x4e0b5c._0xecf095)];_0x47be83++){var _0x44ece7=_0x5d81a8[_0x47be83],_0x562f40=[];for(var _0x142c0f=0x0;_0x142c0f<_0x44ece7['length'];_0x142c0f++){var _0x33ad5a=_0x3cc890(_0x44ece7[_0x142c0f]);_0x33ad5a&&_0x562f40['push'](_0x33ad5a);}_0x562f40['length']>0x0&&_0x2b146a['push'](_0x562f40);}return _0x2b146a;}return _0x6fcbce;};else throw new Error('请引入\x20mapv\x20库\x20');function _0x6c7f(){var _0x4ffedd=['call','position','36CgpatF','mars3d-mapv','destination-out','initDevicePixelRatio','mapvAutoHeight','_onMapMouseMove','construct','_onMapClick','scale','prototype','mousemoveEvent','zIndex','resize','height','transferCoordinate','postRender','8QepKqI','mapvFixedHeight','constructor','stop','812299UdNlQI','MapVLayer','isPointVisible','LineString','apply','value','defineProperty','25inPyUB','bind','fixedHeight','dataSet','enumerable','cartesianToCanvasCoordinates','1929QujzRy','_onMoveEndEvent','clearData','24QnHlMK','none','add','_cache_event','getContext','1233308XSFExJ','mouseDown','animation','Point','getExtentByGeoJSON','scene','pointerEvents','default','3510hSmDTk','draw','function','BaseLayer','getOwnPropertyDescriptor','camera','parentElement','layer','isEnabledTime','mapvDepthTest','EventType','mapv','coordinates','_map','getData','methods','destroy','width','8209449SqKKMc','forEach','baiduMapLayer','_pointerEvents','_removedHook','_mapVRenderer','hasOwnProperty','canvas','_reset','key','_mountedHook','defineProperties','mousemove','MultiLineString','push','unit','context','canvasLayer','animatorMoveendEvent','update','trails','16577119mTEIFU','Cartesian3','auto','_addedHook','size','off','fromDegrees','2025926mOhxNO','time','MultiPolygon','style','_coordinates','_size','filter','_data','options','get','length','1936IvqTvJ','click','77810wjYekw','addData','DataSet','type','getOwnPropertyDescriptors','devicePixelRatio','addAnimatorEvent'];_0x6c7f=function(){return _0x4ffedd;};return _0x6c7f();}var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x37f6ce(0x8d)],MapVLayer=function(_0x6853d8){var _0x34b1dc={_0x24ea2a:0xd5},_0x542544={_0x18157b:0x97,_0x186941:0xc0,_0x381f75:0x97,_0x58b1c0:0xa8},_0x20d832={_0x1818cc:0x77,_0x176afb:0x86},_0x3a6ba2={_0x7fb060:0xa3,_0x3b05a3:0xbb,_0x2a5fb9:0x97,_0x1b78dd:0xa3},_0x40f6b9={_0x1619ca:0xa1},_0x1e29c8={_0x49df85:0xcd,_0x3546ac:0x9b,_0x34a473:0x9b,_0x180899:0xbb,_0x4f1cc3:0x9f,_0x3335b2:0x7e,_0x4679a2:0xac},_0x3e7165={_0x58d87e:0x7c},_0x48ad84={_0x5a76f1:0xa1},_0x47264f={_0x4db5db:0xa1,_0x2c8aba:0x94},_0x397d2d={_0x3562bd:0x94,_0xf99e42:0x83,_0x1d1f6c:0x97,_0x468f26:0x99,_0x1bbb63:0xd5,_0x47c828:0xa8},_0x579907={_0x10e6d2:0xc0},_0x5d51c7={_0x493797:0xa1,_0x5d23de:0xa3},_0xbe7dc4={_0xa936b7:0x87,_0x59223a:0xd2,_0x121499:0x76},_0x2ba96f={_0x285b9d:0xbb,_0x563b16:0xa3},_0x24b1b5={_0x353cc1:0x9f},_0x587a3d={_0x5f568e:0xc0},_0x613a49=_0x37f6ce;_inherits(_0x83e919,_0x6853d8);var _0x2bf8e2=_createSuper(_0x83e919);function _0x83e919(_0x567a87,_0x35c648){var _0x276347=_0x2db0,_0x1ba47f;return _classCallCheck(this,_0x83e919),_0x1ba47f=_0x2bf8e2['call'](this,_0x567a87),_0x1ba47f['_pointerEvents']=_0x1ba47f[_0x276347(_0x587a3d._0x5f568e)]['pointerEvents'],_0x1ba47f['dataSet']=_0x35c648||new mapv__namespace[(_0x276347(0xc7))](_0x567a87['data']),_0x1ba47f['canvas']=null,_0x1ba47f;}return _createClass(_0x83e919,[{'key':'pointerEvents','get':function _0x3e0b3e(){var _0x131567=_0x2db0;return this[_0x131567(_0x24b1b5._0x353cc1)];},'set':function _0x26c8f4(_0x55bb93){var _0x1f97b9=_0x2db0;this['_pointerEvents']=_0x55bb93,this['canvas']&&(_0x55bb93?this['canvas']['style']['pointerEvents']='all':this[_0x1f97b9(0xa3)][_0x1f97b9(0xbb)]['pointerEvents']='none');}},{'key':'_showHook','value':function _0x473085(_0x412886){var _0x2f64f5=_0x2db0;_0x412886?this['canvas'][_0x2f64f5(_0x2ba96f._0x285b9d)]['display']='block':this[_0x2f64f5(_0x2ba96f._0x563b16)]['style']['display']=_0x2f64f5(0x7e);}},{'key':_0x613a49(0xa6),'value':function _0x188287(){var _0x166b81=_0x613a49,_0x330260,_0x391ea8,_0x1dbf0b;this['_map'][_0x166b81(_0xbe7dc4._0xa936b7)]['mapvDepthTest']=(_0x330260=this['options']['depthTest'])!==null&&_0x330260!==void 0x0?_0x330260:!![],this[_0x166b81(0x97)]['scene'][_0x166b81(_0xbe7dc4._0x59223a)]=(_0x391ea8=this['options']['clampToGround'])!==null&&_0x391ea8!==void 0x0?_0x391ea8:![],this['_map']['scene'][_0x166b81(0x6a)]=(_0x1dbf0b=this['options'][_0x166b81(_0xbe7dc4._0x121499)])!==null&&_0x1dbf0b!==void 0x0?_0x1dbf0b:0x0;}},{'key':'_addedHook','value':function _0x25c8ca(){var _0x5bb823=_0x613a49;this['dataSet']&&(!this['dataSet']['_data']||this[_0x5bb823(0x77)][_0x5bb823(0xbf)]['length']===0x0)&&(this['dataSet'][_0x5bb823(0xbf)]=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}},{'key':_0x613a49(0xa0),'value':function _0x219b11(){var _0xabfcae=_0x613a49;this['unbindEvent'](),this[_0xabfcae(_0x5d51c7._0x493797)]&&(this['_mapVRenderer']['destroy'](),this[_0xabfcae(0xa1)]=null),this[_0xabfcae(0xa3)][_0xabfcae(0x90)]['removeChild'](this[_0xabfcae(_0x5d51c7._0x5d23de)]);}},{'key':'initDevicePixelRatio','value':function _0x1c02ff(){var _0x1e50ac=_0x613a49;this[_0x1e50ac(0xca)]=window['devicePixelRatio']||0x1;}},{'key':'bindEvent','value':function _0x4cb495(){var _0x192caa=_0x613a49,_0x249ea7,_0x1e3107,_0x3c6010,_0x898542;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x192caa(0x7b)],this),(_0x249ea7=this['options'])!==null&&_0x249ea7!==void 0x0&&(_0x1e3107=_0x249ea7['methods'])!==null&&_0x1e3107!==void 0x0&&_0x1e3107[_0x192caa(0xc4)]&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x3c6010=this[_0x192caa(_0x579907._0x10e6d2)])!==null&&_0x3c6010!==void 0x0&&(_0x898542=_0x3c6010['methods'])!==null&&_0x898542!==void 0x0&&_0x898542['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x192caa(0xd3)],this);}},{'key':'unbindEvent','value':function _0x12a56b(){var _0x426e5d=_0x613a49,_0x3db47f,_0x5c1e9,_0x2bf656,_0x151ea2;this['_map']['off'](mars3d__namespace[_0x426e5d(_0x397d2d._0x3562bd)][_0x426e5d(_0x397d2d._0xf99e42)],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x426e5d(_0x397d2d._0x1d1f6c)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map'][_0x426e5d(0xb6)](mars3d__namespace['EventType'][_0x426e5d(0x68)],this['_reset'],this),(_0x3db47f=this['options'])!==null&&_0x3db47f!==void 0x0&&(_0x5c1e9=_0x3db47f[_0x426e5d(_0x397d2d._0x468f26)])!==null&&_0x5c1e9!==void 0x0&&_0x5c1e9['click']&&this[_0x426e5d(0x97)][_0x426e5d(0xb6)](mars3d__namespace['EventType']['click'],this[_0x426e5d(_0x397d2d._0x1bbb63)],this),(_0x2bf656=this['options'])!==null&&_0x2bf656!==void 0x0&&(_0x151ea2=_0x2bf656['methods'])!==null&&_0x151ea2!==void 0x0&&_0x151ea2[_0x426e5d(_0x397d2d._0x47c828)]&&this['_map']['off'](mars3d__namespace[_0x426e5d(0x94)]['mouseMove'],this['_onMapMouseMove'],this);}},{'key':'_onMoveStartEvent','value':function _0x90cd04(){var _0x2c4330=_0x613a49;this[_0x2c4330(_0x47264f._0x4db5db)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this[_0x2c4330(0x97)]['off'](mars3d__namespace[_0x2c4330(_0x47264f._0x2c8aba)]['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this[_0x2c4330(0xa4)],this));}},{'key':'_onMoveEndEvent','value':function _0x48d313(){var _0x2229da=_0x613a49;this['_mapVRenderer']&&(this['_map'][_0x2229da(0xb6)](mars3d__namespace[_0x2229da(0x94)]['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}},{'key':'_setOptionsHook','value':function _0x358489(_0x249962,_0x45cfdb){var _0x54acc0=_0x613a49;this['_removedHook'](),this[_0x54acc0(0xb4)]();}},{'key':_0x613a49(0xc6),'value':function _0x31b7c5(_0x14d06a){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x14d06a,this['options']);}},{'key':'updateData','value':function _0x12a98e(_0x4dbc36){var _0x29d766=_0x613a49;this['_mapVRenderer']&&this[_0x29d766(_0x48ad84._0x5a76f1)]['updateData'](_0x4dbc36,this['options']);}},{'key':'getData','value':function _0x138028(){var _0x3701ec=_0x613a49;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this[_0x3701ec(0x77)];}},{'key':'removeData','value':function _0x2ca941(_0x327788){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x327788);}},{'key':'removeAllData','value':function _0x39cf2a(){var _0x95ac9f=_0x613a49;this['_mapVRenderer']&&this[_0x95ac9f(0xa1)][_0x95ac9f(_0x3e7165._0x58d87e)]();}},{'key':'_createCanvas','value':function _0xdf9d68(){var _0x54b0f2=_0x613a49,_0x230a0e,_0x16d839=mars3d__namespace['DomUtil']['create']('canvas',_0x54b0f2(0xcf),this['_map']['container']);_0x16d839['id']=this['id'],_0x16d839['style'][_0x54b0f2(_0x1e29c8._0x49df85)]='absolute',_0x16d839['style']['top']='0px',_0x16d839['style']['left']='0px',_0x16d839['width']=parseInt(this['_map']['canvas'][_0x54b0f2(_0x1e29c8._0x3546ac)]),_0x16d839[_0x54b0f2(0x66)]=parseInt(this['_map']['canvas'][_0x54b0f2(0x66)]),_0x16d839[_0x54b0f2(0xbb)][_0x54b0f2(_0x1e29c8._0x34a473)]=this['_map']['canvas']['style'][_0x54b0f2(_0x1e29c8._0x34a473)],_0x16d839['style']['height']=this['_map']['canvas'][_0x54b0f2(_0x1e29c8._0x180899)]['height'],_0x16d839['style'][_0x54b0f2(0x88)]=this[_0x54b0f2(_0x1e29c8._0x4f1cc3)]?_0x54b0f2(0xb3):_0x54b0f2(_0x1e29c8._0x3335b2),_0x16d839[_0x54b0f2(_0x1e29c8._0x180899)]['zIndex']=(_0x230a0e=this['options'][_0x54b0f2(0xd9)])!==null&&_0x230a0e!==void 0x0?_0x230a0e:0x9;if(this[_0x54b0f2(0xc0)][_0x54b0f2(_0x1e29c8._0x4679a2)]==='2d'){var _0x2cf0d6=this['devicePixelRatio'];_0x16d839['getContext'](this['options']['context'])[_0x54b0f2(0xd6)](_0x2cf0d6,_0x2cf0d6);}return _0x16d839;}},{'key':'_reset','value':function _0xb9a882(){var _0x2a3607=_0x613a49;this[_0x2a3607(0xda)](),this['render']();}},{'key':_0x613a49(0x8b),'value':function _0x31b977(){this['_reset']();}},{'key':'remove','value':function _0x423af5(){var _0x19feed=_0x613a49;this[_0x19feed(_0x40f6b9._0x1619ca)]&&(this['_mapVRenderer'][_0x19feed(0x9a)](),this[_0x19feed(_0x40f6b9._0x1619ca)]=null),this['canvas']['parentElement']['removeChild'](this[_0x19feed(0xa3)]);}},{'key':'render','value':function _0x3b5689(){this['_mapVRenderer']['_canvasUpdate']();}},{'key':'resize','value':function _0x35b32a(){var _0x2b7ed2=_0x613a49;if(this[_0x2b7ed2(_0x3a6ba2._0x7fb060)]){var _0xd3d124=this['canvas'];_0xd3d124['style'][_0x2b7ed2(0xcd)]='absolute',_0xd3d124[_0x2b7ed2(_0x3a6ba2._0x3b05a3)]['top']='0px',_0xd3d124['style']['left']='0px',_0xd3d124['width']=parseInt(this[_0x2b7ed2(0x97)]['canvas']['width']),_0xd3d124['height']=parseInt(this['_map']['canvas']['height']),_0xd3d124['style']['width']=this[_0x2b7ed2(_0x3a6ba2._0x2a5fb9)][_0x2b7ed2(0xa3)]['style']['width'],_0xd3d124[_0x2b7ed2(0xbb)]['height']=this[_0x2b7ed2(_0x3a6ba2._0x2a5fb9)][_0x2b7ed2(_0x3a6ba2._0x1b78dd)]['style']['height'];}}},{'key':'getRectangle','value':function _0x853c1c(_0x1f57a0){var _0x458ae8=_0x613a49;if(!this['dataSet']||!this[_0x458ae8(_0x20d832._0x1818cc)]['_data'])return;var _0x2cd29e=mars3d__namespace['Util'][_0x458ae8(_0x20d832._0x176afb)]({'type':'FeatureCollection','features':this[_0x458ae8(0x77)]['_data']});if(!_0x2cd29e)return;return _0x1f57a0!==null&&_0x1f57a0!==void 0x0&&_0x1f57a0['isFormat']?_0x2cd29e:Cesium['Rectangle']['fromDegrees'](_0x2cd29e['xmin'],_0x2cd29e['ymin'],_0x2cd29e['xmax'],_0x2cd29e['ymax']);}},{'key':_0x613a49(_0x34b1dc._0x24ea2a),'value':function _0x1da7d1(_0x2200bc){var _0x264cff=_0x613a49;this[_0x264cff(0x80)]=_0x2200bc,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x2200bc['windowPosition'],_0x2200bc);}},{'key':'_onMapMouseMove','value':function _0x277362(_0x2270b7){var _0x4e1d23=_0x613a49;this['_cache_event']=_0x2270b7,this['_mapVRenderer']&&this['_mapVRenderer'][_0x4e1d23(0xd8)](_0x2270b7['windowPosition'],_0x2270b7);}},{'key':'on','value':function _0x3ebf41(_0x47f155,_0x63ab29,_0x1334be){var _0x27507f={_0x184920:0x75},_0x2f17e9=_0x613a49,_0x2b75b6=this;this['options']['methods']=this['options']['methods']||{};if(_0x47f155===mars3d__namespace[_0x2f17e9(0x94)]['click'])this['options']['methods']['click']=function(_0x13b4f4){_0x13b4f4&&_0x63ab29['bind'](_0x1334be)(_objectSpread2(_objectSpread2({},_0x2b75b6['_cache_event']),{},{'layer':_0x2b75b6,'data':_0x13b4f4}));},this['_map']['on'](mars3d__namespace[_0x2f17e9(0x94)]['click'],this['_onMapClick'],this);else _0x47f155===mars3d__namespace['EventType']['mouseMove']&&(this[_0x2f17e9(0xc0)]['methods']['mousemove']=function(_0x5f0552){var _0x2a5ed6=_0x2f17e9;_0x5f0552&&_0x63ab29[_0x2a5ed6(_0x27507f._0x184920)](_0x1334be)(_objectSpread2(_objectSpread2({},_0x2b75b6[_0x2a5ed6(0x80)]),{},{'layer':_0x2b75b6,'data':_0x5f0552}));},this[_0x2f17e9(0x97)]['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x2f17e9(0xd3)],this));return this;}},{'key':'off','value':function _0x2c33b8(_0x3e2f56,_0x332b3b){var _0x6fbe32=_0x613a49;if(_0x3e2f56==='click'){var _0xf5725e;this[_0x6fbe32(_0x542544._0x18157b)]['off'](_0x3e2f56,this['_onMapClick'],this),(_0xf5725e=this[_0x6fbe32(_0x542544._0x186941)]['methods'])!==null&&_0xf5725e!==void 0x0&&_0xf5725e['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x3e2f56==='mouseMove'){var _0x530be0;this[_0x6fbe32(_0x542544._0x381f75)]['off'](_0x3e2f56,this['_onMapMouseMove'],this),(_0x530be0=this['options']['methods'])!==null&&_0x530be0!==void 0x0&&_0x530be0[_0x6fbe32(0xa8)]&&delete this['options']['methods'][_0x6fbe32(_0x542544._0x58b1c0)];}}return this;}}]),_0x83e919;}(BaseLayer);mars3d__namespace['LayerUtil']['register'](_0x37f6ce(0x95),MapVLayer),mars3d__namespace[_0x37f6ce(0x91)]['MapVLayer']=MapVLayer,exports[_0x37f6ce(0x6e)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x43fde8){var _0x5c5926={_0x386f95:0xa2},_0x5d5397=_0x37f6ce;if(_0x43fde8!=='default'&&!exports[_0x5d5397(_0x5c5926._0x386f95)](_0x43fde8))Object['defineProperty'](exports,_0x43fde8,{'enumerable':!![],'get':function(){return mapv[_0x43fde8];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
