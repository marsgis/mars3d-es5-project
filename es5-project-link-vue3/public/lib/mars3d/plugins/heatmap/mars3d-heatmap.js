/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.2
 * 编译日期：2022-04-01 18:08:53
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x3fce42=_0x538f;(function(_0x3aabe9,_0x2f66bf){var _0x1dfb10=_0x538f,_0x3e3350=_0x3aabe9();while(!![]){try{var _0x4bc88b=-parseInt(_0x1dfb10(0x201))/0x1*(parseInt(_0x1dfb10(0x20e))/0x2)+-parseInt(_0x1dfb10(0x234))/0x3+parseInt(_0x1dfb10(0x1e9))/0x4+parseInt(_0x1dfb10(0x1c9))/0x5*(-parseInt(_0x1dfb10(0x22f))/0x6)+-parseInt(_0x1dfb10(0x1f8))/0x7+-parseInt(_0x1dfb10(0x203))/0x8*(-parseInt(_0x1dfb10(0x1cf))/0x9)+parseInt(_0x1dfb10(0x230))/0xa;if(_0x4bc88b===_0x2f66bf)break;else _0x3e3350['push'](_0x3e3350['shift']());}catch(_0x2afece){_0x3e3350['push'](_0x3e3350['shift']());}}}(_0x9347,0x8d284));function _0x9347(){var _0x3cfbb1=['oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','CMvJDgfUz2XL','vKvsvevyx0zpuK1bva','y29UC3rYDwn0B3i','ndi5mteWnuzhr2vmsa','CMvNAxn0zxi','Ew1HEa','Bgf0','C2v0rgf0yq','y2fUDMfZ','mJG0nhbLvfLsqq','Bwf4q2fUDMfZu2L6zq','zw51BwvYywjSzq','ug9SEvv0AwW','u3rLBMnPBez1BMn0Aw9U','Dw5KzwzPBMvK','x2nYzwf0zuDYyxbOAwm','CMDIkde0mcWXndaSmtqWkq','CMvTB3zLtgf5zxi','BwLUq2fUDMfZu2L6zq','zMX5vg8','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','x2nYzwf0zufYy0DYyxbOAwm','x21HCNmZzf9WCML2yxrL','Bg9UBgf0mM1LCMnHDg9Y','Cg9ZAxrPB25Z','BgvUz3rO','zNvUy3rPB24','x2HLyxq','uMvJDgfUz2XLuhjPBwL0AxzL','DMfSDwu','Bwf4','CMDIkdi1nsWYntuSmJu1kq','y29UzMLNDxjL','vxrPBa','y29Uy2f0','mJq2nZi5mKzoy1rxCa','zMX5vg9cEufUAw1HDgLVBKvUza','zgvMyxvSDa','x2fKzgvKsg9VAW','D2LKDgG','x3bVC2L0Aw9UCW','z3jHBNvSyxjPDhK','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','CMDIkdaSmcWWkq','y3jLyxrL','CMDIkdiXnIWYmtySmJe2kq','z3jHCgHPyW','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','ywjZ','zM9YrwfJAa','nZu2mtGYn0DNtgjLDG','y3nZvgv4Da','x19LC01VzhvSzq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','C2HVDW','ChvZAa','DMfSDwvpzG','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','Aw1Hz2uVCg5N','mJC4mJDUBNHvD3u','s0vfua','mJy0q0fXDxrY','AgvHDfn0EwXL','x3jLy3rHBMDSzq','zNjVBunHy2HL','Dg9bCNjHEq','x2XHEwvY','z2v0uhjVDg90ExbLt2y','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','C3r5Bgu','C3bSAxroDw0','zMLSDgvY','mtzfAu9qzLa','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','y29UzMLNDxjHyMXL','A2v5','CMfKAxvZ','x2XHC3rFAgvHDerHDge','x21HCa','uMvJDgfUz2XL','z3jHzgLLBNrbCMm','x21VDw50zwriB29R','CMvK','zgLMzKHLAwDODa','x3jLBw92zwriB29R','BwfYCZnKlwHLyxrTyxa','Dg9eyxrHvvjm','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','ug9PBNruCMfUCW','yMX1CG','AgvPz2H0','y2fSBa','Cg9PBNrZ','uMvUzgvYu3rHDgu','x3nLDe9WDgLVBNniB29R','AgvHDa','CM91BMq','zgvMAw5LuhjVCgvYDgLLCW','yxjJuMfKAxvZu2nHBgu','ChjVDg90ExbL','twf0zxjPywW','zM9YBwf0uMvJDgfUz2XL','uKvqtefdrq','ywrKr3jHCgHPyW','yxjJ','nM9tsezkva','mJK3odu4mJbtsujjEMu','quXxqvLt','BwvYy2f0B3iYBg9UBgf0','zgvMyxvSDfzHBhvL','mJu5oty2nw5AuvnouW','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','CMvTB3zLr3jHCgHPyW','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','yxbWBhK','y2XPzw50v2LKDgG','x19WCM90B19F','z2v0uMvJDgfUz2XL','Bg5N','BwvYz2u','u3rLBMnPBe9WzxjHDgLVBG','yMX1zq','y2XLyxi','CMvTB3zLq2HPBgq','y2XPzw50sgvPz2H0','y29UDgfPBMvY','x2DLDeHLyxrdyw52yxnjBwC','Ew1PBG','x21cB3vUzhnnyxG','CgfYC2u','ywrKug9ZAxrPB24','x3jLBMrLCMvY','x2DYyxbOAwm','Bgf5zxi','yM9KEq','qMfZzuXHEwvY','Eg1PBG','B3b0Aw9UCW','x2XHC3rFBujVDw5KCW','zgvMAw5LuhjVCgvYDhK','sgvHDeXHEwvY','C2v0uhjVDg90ExbLt2y','A2v5CW','Eg1HEa','BwLU','y29UC3rYDwn0','ChG7cIaGicaGicaGAgvPz2H0oG','C2HHBq','z3jLzw4','quXqsefFqKXftKq'];_0x9347=function(){return _0x3cfbb1;};return _0x9347();}function _interopNamespace(_0x50765a){var _0x3c8843=_0x538f;if(_0x50765a&&_0x50765a[_0x3c8843(0x1fa)])return _0x50765a;var _0x42264f=Object[_0x3c8843(0x1f2)](null);return _0x50765a&&Object[_0x3c8843(0x1bd)](_0x50765a)[_0x3c8843(0x1f7)](function(_0x10eeb0){var _0x4b03dc=_0x3c8843;if(_0x10eeb0!==_0x4b03dc(0x1eb)){var _0x42faa6=Object[_0x4b03dc(0x1ff)](_0x50765a,_0x10eeb0);Object[_0x4b03dc(0x1ba)](_0x42264f,_0x10eeb0,_0x42faa6['get']?_0x42faa6:{'enumerable':!![],'get':function(){return _0x50765a[_0x10eeb0];}});}}),_0x42264f[_0x3c8843(0x1eb)]=_0x50765a,_0x42264f;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x572248,_0x34f7c7){var _0x55b9a9=_0x538f,_0xe1758=Object[_0x55b9a9(0x1bd)](_0x572248);if(Object['getOwnPropertySymbols']){var _0x599e69=Object[_0x55b9a9(0x1f5)](_0x572248);_0x34f7c7&&(_0x599e69=_0x599e69[_0x55b9a9(0x20d)](function(_0x25cd5d){var _0x109506=_0x55b9a9;return Object[_0x109506(0x1ff)](_0x572248,_0x25cd5d)[_0x109506(0x1d1)];})),_0xe1758[_0x55b9a9(0x1fd)][_0x55b9a9(0x238)](_0xe1758,_0x599e69);}return _0xe1758;}function _objectSpread2(_0x13e3a1){var _0x4cda5b=_0x538f;for(var _0x45cd60=0x1;_0x45cd60<arguments[_0x4cda5b(0x1df)];_0x45cd60++){var _0x3d45a4=null!=arguments[_0x45cd60]?arguments[_0x45cd60]:{};_0x45cd60%0x2?ownKeys(Object(_0x3d45a4),!0x0)[_0x4cda5b(0x1f7)](function(_0x3c5bab){_defineProperty(_0x13e3a1,_0x3c5bab,_0x3d45a4[_0x3c5bab]);}):Object[_0x4cda5b(0x1fb)]?Object[_0x4cda5b(0x227)](_0x13e3a1,Object[_0x4cda5b(0x1fb)](_0x3d45a4)):ownKeys(Object(_0x3d45a4))[_0x4cda5b(0x1f7)](function(_0x34be70){var _0x5d7afa=_0x4cda5b;Object[_0x5d7afa(0x1ba)](_0x13e3a1,_0x34be70,Object['getOwnPropertyDescriptor'](_0x3d45a4,_0x34be70));});}return _0x13e3a1;}function _classCallCheck(_0x576e82,_0x179d52){var _0x32a294=_0x538f;if(!(_0x576e82 instanceof _0x179d52))throw new TypeError(_0x32a294(0x20f));}function _defineProperties(_0x9e205,_0xb6877){var _0x46e220=_0x538f;for(var _0x10102a=0x0;_0x10102a<_0xb6877[_0x46e220(0x1df)];_0x10102a++){var _0x737bf9=_0xb6877[_0x10102a];_0x737bf9[_0x46e220(0x1d1)]=_0x737bf9[_0x46e220(0x1d1)]||![],_0x737bf9[_0x46e220(0x210)]=!![];if(_0x46e220(0x1e3)in _0x737bf9)_0x737bf9['writable']=!![];Object[_0x46e220(0x1ba)](_0x9e205,_0x737bf9[_0x46e220(0x211)],_0x737bf9);}}function _createClass(_0x7dee43,_0x5d45b4,_0x4021f2){var _0x920b36=_0x538f;if(_0x5d45b4)_defineProperties(_0x7dee43['prototype'],_0x5d45b4);if(_0x4021f2)_defineProperties(_0x7dee43,_0x4021f2);return Object[_0x920b36(0x1ba)](_0x7dee43,_0x920b36(0x229),{'writable':![]}),_0x7dee43;}function _defineProperty(_0xe78d77,_0x4d97b9,_0x4b14f1){var _0x37597b=_0x538f;return _0x4d97b9 in _0xe78d77?Object[_0x37597b(0x1ba)](_0xe78d77,_0x4d97b9,{'value':_0x4b14f1,'enumerable':!![],'configurable':!![],'writable':!![]}):_0xe78d77[_0x4d97b9]=_0x4b14f1,_0xe78d77;}function _inherits(_0x42743e,_0x3db181){var _0x308a83=_0x538f;if(typeof _0x3db181!==_0x308a83(0x1e0)&&_0x3db181!==null)throw new TypeError(_0x308a83(0x1da));_0x42743e[_0x308a83(0x229)]=Object[_0x308a83(0x1f2)](_0x3db181&&_0x3db181[_0x308a83(0x229)],{'constructor':{'value':_0x42743e,'writable':!![],'configurable':!![]}}),Object[_0x308a83(0x1ba)](_0x42743e,_0x308a83(0x229),{'writable':![]});if(_0x3db181)_setPrototypeOf(_0x42743e,_0x3db181);}function _getPrototypeOf(_0x1fc504){var _0x3dc07d=_0x538f;return _getPrototypeOf=Object[_0x3dc07d(0x1bc)]?Object['getPrototypeOf']:function _0x93f41b(_0x29cbf3){var _0x58de45=_0x3dc07d;return _0x29cbf3[_0x58de45(0x1a3)]||Object[_0x58de45(0x209)](_0x29cbf3);},_getPrototypeOf(_0x1fc504);}function _setPrototypeOf(_0x19bb93,_0x1a30ae){var _0x2174ab=_0x538f;return _setPrototypeOf=Object[_0x2174ab(0x1bc)]||function _0x38e74a(_0x254000,_0x3d7206){var _0x18a520=_0x2174ab;return _0x254000[_0x18a520(0x1a3)]=_0x3d7206,_0x254000;},_setPrototypeOf(_0x19bb93,_0x1a30ae);}function _isNativeReflectConstruct(){var _0x5ebd30=_0x538f;if(typeof Reflect===_0x5ebd30(0x1d4)||!Reflect['construct'])return![];if(Reflect[_0x5ebd30(0x1c0)][_0x5ebd30(0x1c2)])return![];if(typeof Proxy===_0x5ebd30(0x1e0))return!![];try{return Boolean[_0x5ebd30(0x229)][_0x5ebd30(0x1fe)]['call'](Reflect[_0x5ebd30(0x1c0)](Boolean,[],function(){})),!![];}catch(_0x388225){return![];}}function _assertThisInitialized(_0xa69feb){var _0x33b310=_0x538f;if(_0xa69feb===void 0x0)throw new ReferenceError(_0x33b310(0x21d));return _0xa69feb;}function _possibleConstructorReturn(_0x50c0e1,_0x290537){var _0x10895f=_0x538f;if(_0x290537&&(typeof _0x290537==='object'||typeof _0x290537===_0x10895f(0x1e0)))return _0x290537;else{if(_0x290537!==void 0x0)throw new TypeError(_0x10895f(0x20a));}return _assertThisInitialized(_0x50c0e1);}function _createSuper(_0x41f3b6){var _0x38bc99=_isNativeReflectConstruct();return function _0x2548b1(){var _0x9da059=_0x538f,_0x543beb=_getPrototypeOf(_0x41f3b6),_0x2fb493;if(_0x38bc99){var _0x402a9c=_getPrototypeOf(this)[_0x9da059(0x1c8)];_0x2fb493=Reflect[_0x9da059(0x1c0)](_0x543beb,arguments,_0x402a9c);}else _0x2fb493=_0x543beb[_0x9da059(0x238)](this,arguments);return _possibleConstructorReturn(this,_0x2fb493);};}var HeatMaterial='uniform\x20sampler2D\x20image;\x0aczm_material\x20czm_getMaterial(czm_materialInput\x20materialInput){\x0a\x20\x20czm_material\x20material\x20=\x20czm_getDefaultMaterial(materialInput);\x0a\x20\x20vec2\x20st\x20=\x20materialInput.st;\x0a\x20\x20vec4\x20colorImage\x20=\x20texture2D(image,st);\x0a\x20\x20if(colorImage.rgb\x20==\x20vec3(1.0)\x20||\x20colorImage.rgb\x20==\x20vec3(0.0)){\x0a\x20\x20\x20\x20discard;\x0a\x20\x20}\x0a\x20\x20material.diffuse\x20=\x20colorImage.rgb;\x0a\x20\x20material.alpha\x20=\x20colorImage.a;\x0a\x20\x20return\x20material;\x0a}\x0a',Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x3fce42(0x1b4)][_0x3fce42(0x1b6)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x3fce42(0x1a8),0.6:_0x3fce42(0x1c3),0.8:'yellow',0.9:_0x3fce42(0x218)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x3fce42(0x237)][_0x3fce42(0x1c7)]},HeatLayer=function(_0x1d7e4e){var _0xa34f3d=_0x3fce42;_inherits(_0x2e3fcd,_0x1d7e4e);var _0x465678=_createSuper(_0x2e3fcd);function _0x2e3fcd(){var _0x3c7bf8=_0x538f,_0x421a0b,_0x3124c0=arguments[_0x3c7bf8(0x1df)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x2e3fcd),_0x421a0b=_0x465678[_0x3c7bf8(0x221)](this,_0x3124c0),_0x421a0b[_0x3c7bf8(0x1b8)]['maxCanvasSize']=Cesium[_0x3c7bf8(0x233)](_0x421a0b['options']['maxCanvasSize'],document['body'][_0x3c7bf8(0x1a2)]),_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x1d0)]=Math[_0x3c7bf8(0x1bf)](_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x1d0)],0x1388),_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x1d8)]=Cesium[_0x3c7bf8(0x233)](_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x1d8)],document[_0x3c7bf8(0x1b5)][_0x3c7bf8(0x1ab)]),_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x1d8)]=Math[_0x3c7bf8(0x1e4)](_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x1d8)],0x2bc),_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x204)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x421a0b[_0x3c7bf8(0x1b8)]['heatStyle']||{}),_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x20b)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x421a0b[_0x3c7bf8(0x1b8)][_0x3c7bf8(0x20b)]||{}),_0x421a0b;}return _createClass(_0x2e3fcd,[{'key':_0xa34f3d(0x1b4),'get':function _0x3941a3(){return this['_layer'];}},{'key':_0xa34f3d(0x204),'get':function _0x324098(){var _0x2c7af1=_0xa34f3d;return this[_0x2c7af1(0x1b8)][_0x2c7af1(0x204)];},'set':function _0x3aa781(_0x231dda){var _0x49ffc0=_0xa34f3d;this[_0x49ffc0(0x1b8)][_0x49ffc0(0x204)]=mars3d__namespace[_0x49ffc0(0x1e7)][_0x49ffc0(0x1a6)](this[_0x49ffc0(0x1b8)][_0x49ffc0(0x204)],_0x231dda),this['_heat']&&this[_0x49ffc0(0x1e1)][_0x49ffc0(0x1e6)](this[_0x49ffc0(0x1b8)]['heatStyle']);}},{'key':_0xa34f3d(0x20b),'get':function _0x4ce387(){var _0x47e156=_0xa34f3d;return this[_0x47e156(0x1b8)]['style'];},'set':function _0x104e29(_0x2e39e0){var _0x181e17=_0xa34f3d;this[_0x181e17(0x1b8)][_0x181e17(0x20b)]=mars3d__namespace[_0x181e17(0x1e7)][_0x181e17(0x1a6)](this[_0x181e17(0x1b8)]['style'],_0x2e39e0);}},{'key':_0xa34f3d(0x1de),'get':function _0x4e7b88(){return this['_positions'];},'set':function _0x20d8fb(_0x52b364){var _0x268dcf=_0xa34f3d;this[_0x268dcf(0x1ee)]=_0x52b364,this['_updatePositionsHook']();}},{'key':'coordinates','get':function _0x2dad9b(){var _0x1ff388=_0xa34f3d,_0x3daed5=[];return this[_0x1ff388(0x222)][_0x1ff388(0x1f7)](function(_0x537650){var _0x4fb7dc=_0x1ff388;_0x3daed5[_0x4fb7dc(0x1fd)](_0x537650[_0x4fb7dc(0x207)]());}),_0x3daed5;}},{'key':_0xa34f3d(0x1c6),'get':function _0x4543f4(){return this['_rectangle'];}},{'key':_0xa34f3d(0x224),'value':function _0x29d3e9(_0x2d78a4){var _0x5a02ff=_0xa34f3d;_0x2d78a4[_0x5a02ff(0x1de)]&&(this[_0x5a02ff(0x1de)]=_0x2d78a4[_0x5a02ff(0x1de)]);}},{'key':_0xa34f3d(0x217),'value':function _0xfb2be4(){var _0x4d0c5e=_0xa34f3d;this['_layer']=new mars3d__namespace[(_0x4d0c5e(0x1b4))]['GraphicLayer']({'noLayerManage':!![]}),this['_layer'][_0x4d0c5e(0x1dc)]=!![];}},{'key':_0xa34f3d(0x1ec),'value':function _0xa5e79f(){var _0x31e5da=_0xa34f3d;this[_0x31e5da(0x214)]['addLayer'](this[_0x31e5da(0x208)]),this[_0x31e5da(0x1b8)][_0x31e5da(0x1de)]&&(this[_0x31e5da(0x1de)]=this[_0x31e5da(0x1b8)]['positions']),this[_0x31e5da(0x1b8)][_0x31e5da(0x1d9)]&&this[_0x31e5da(0x1ea)]();}},{'key':_0xa34f3d(0x21a),'value':function _0x52a84c(){var _0x180a66=_0xa34f3d;this['heatStyle'][_0x180a66(0x1ac)]&&(this['_map'][_0x180a66(0x1ac)][_0x180a66(0x1aa)](this[_0x180a66(0x204)][_0x180a66(0x1ac)]),delete this[_0x180a66(0x204)]['container']),this[_0x180a66(0x1a9)](),this[_0x180a66(0x214)][_0x180a66(0x1d7)](this['_layer']);}},{'key':_0xa34f3d(0x1b1),'value':function _0x2fd2d8(_0xa952e9){var _0x10082a=_0xa34f3d;this['_positions']=this['_positions']||[],this[_0x10082a(0x1ee)][_0x10082a(0x1fd)](_0xa952e9),this['_updatePositionsHook']();}},{'key':_0xa34f3d(0x1a9),'value':function _0x25e0a3(){var _0x23f4f8=_0xa34f3d;this[_0x23f4f8(0x1b3)]&&(this[_0x23f4f8(0x208)][_0x23f4f8(0x236)](this[_0x23f4f8(0x1b3)],!![]),delete this[_0x23f4f8(0x1b3)]);}},{'key':_0xa34f3d(0x235),'value':function _0x3ba009(){var _0x27d650=_0xa34f3d;if(!this[_0x27d650(0x1fc)]||!this[_0x27d650(0x214)]||!this['positions']||this[_0x27d650(0x1de)][_0x27d650(0x1df)]===0x0)return this;var _0x570230=this['_getHeatCanvasImg']();return this[_0x27d650(0x20b)][_0x27d650(0x22e)]?this[_0x27d650(0x1db)](_0x570230):this[_0x27d650(0x1d5)](_0x570230),this;}},{'key':_0xa34f3d(0x1ad),'value':function _0x3e0531(){var _0x57e082=_0xa34f3d,_0x4835fd,_0x1f15c7,_0x270cd7=this[_0x57e082(0x1ee)],_0x3c43=[],_0x6832ab,_0x2d6ec9,_0x579fe1,_0x548f2b;_0x270cd7['forEach'](function(_0x33e174){var _0x47bd1c=_0x57e082,_0x58abca=mars3d__namespace['LngLatPoint'][_0x47bd1c(0x1b0)](_0x33e174);if(!_0x58abca)return;_0x58abca[_0x47bd1c(0x1e3)]=_0x33e174[_0x47bd1c(0x1e3)]||0x1,_0x6832ab===undefined?(_0x6832ab=_0x58abca[_0x47bd1c(0x1a5)],_0x2d6ec9=_0x58abca[_0x47bd1c(0x1a5)],_0x579fe1=_0x58abca[_0x47bd1c(0x1cc)],_0x548f2b=_0x58abca[_0x47bd1c(0x1cc)]):(_0x6832ab=Math[_0x47bd1c(0x1bf)](_0x6832ab,_0x58abca['lng']),_0x2d6ec9=Math['max'](_0x2d6ec9,_0x58abca['lng']),_0x579fe1=Math[_0x47bd1c(0x1bf)](_0x579fe1,_0x58abca[_0x47bd1c(0x1cc)]),_0x548f2b=Math[_0x47bd1c(0x1e4)](_0x548f2b,_0x58abca['lat'])),_0x3c43[_0x47bd1c(0x1fd)](_0x58abca);});var _0x40d6c1=this['heatStyle'][_0x57e082(0x212)]*1.5,_0x445b3e={'xmin':_0x6832ab,'xmax':_0x2d6ec9,'ymin':_0x579fe1,'ymax':_0x548f2b},_0xc70a3d=getMercatorBounds(_0x445b3e),_0x37bfea=Math[_0x57e082(0x1f6)](_0xc70a3d[_0x57e082(0x1be)]-_0xc70a3d[_0x57e082(0x1b7)]),_0x15aaaa=Math[_0x57e082(0x1f6)](_0xc70a3d[_0x57e082(0x1cb)]-_0xc70a3d[_0x57e082(0x1ae)]),_0x156708=Math[_0x57e082(0x1e4)](_0x37bfea,_0x15aaaa),_0x1b2a3e=Math[_0x57e082(0x1bf)](_0x37bfea,_0x15aaaa);this['_mBoundsMax']=_0x156708;var _0x280244=0x1;if(_0x156708>this[_0x57e082(0x1b8)]['maxCanvasSize'])_0x280244=_0x156708/this[_0x57e082(0x1b8)][_0x57e082(0x1d0)],_0x1b2a3e/_0x280244<this[_0x57e082(0x1b8)][_0x57e082(0x1d8)]&&(_0x280244=_0x1b2a3e/this[_0x57e082(0x1b8)][_0x57e082(0x1d8)]);else _0x1b2a3e<this[_0x57e082(0x1b8)][_0x57e082(0x1d8)]&&(_0x280244=_0x1b2a3e/this[_0x57e082(0x1b8)][_0x57e082(0x1d8)],_0x156708/_0x280244>this[_0x57e082(0x1b8)][_0x57e082(0x1d0)]&&(_0x280244=_0x156708/this['options'][_0x57e082(0x1d0)]));var _0x59b64a=_0x37bfea/_0x280244+_0x40d6c1*0x2,_0x3d7f28=_0x15aaaa/_0x280244+_0x40d6c1*0x2,_0x57e7d6=_0x40d6c1*_0x280244;_0xc70a3d[_0x57e082(0x1b7)]-=_0x57e7d6,_0xc70a3d[_0x57e082(0x1ae)]-=_0x57e7d6,_0xc70a3d[_0x57e082(0x1be)]+=_0x57e7d6,_0xc70a3d[_0x57e082(0x1cb)]+=_0x57e7d6,_0x445b3e=geLatLngBounds(_0xc70a3d),this['_rectangle']=Cesium[_0x57e082(0x215)]['fromDegrees'](_0x445b3e[_0x57e082(0x1b7)],_0x445b3e[_0x57e082(0x1ae)],_0x445b3e['xmax'],_0x445b3e[_0x57e082(0x1cb)]);var _0x3891e1=(_0x4835fd=_0x3c43[0x0]['value'])!==null&&_0x4835fd!==void 0x0?_0x4835fd:0x1,_0x3b9ca6=(_0x1f15c7=_0x3c43[0x0][_0x57e082(0x1e3)])!==null&&_0x1f15c7!==void 0x0?_0x1f15c7:0x0,_0x3e8a8b=[];_0x3c43[_0x57e082(0x1f7)](function(_0x2d424e){var _0x24ef50=_0x57e082,_0x5eeaa3=mars3d__namespace[_0x24ef50(0x21e)][_0x24ef50(0x1dd)]([_0x2d424e['lng'],_0x2d424e[_0x24ef50(0x1cc)]]),_0x4a852f=_0x2d424e[_0x24ef50(0x1e3)]||0x1,_0x9e7c14=Math[_0x24ef50(0x226)]((_0x5eeaa3[0x0]-_0xc70a3d[_0x24ef50(0x1b7)])/_0x280244),_0x2b2d99=Math[_0x24ef50(0x226)]((_0xc70a3d[_0x24ef50(0x1cb)]-_0x5eeaa3[0x1])/_0x280244);_0x3891e1=Math[_0x24ef50(0x1e4)](_0x3891e1,_0x4a852f),_0x3b9ca6=Math[_0x24ef50(0x1bf)](_0x3b9ca6,_0x4a852f),_0x3e8a8b[_0x24ef50(0x1fd)]({'x':_0x9e7c14,'y':_0x2b2d99,'value':_0x4a852f});});var _0x4c597d={'min':_0x3b9ca6,'max':_0x3891e1,'data':_0x3e8a8b};this[_0x57e082(0x213)]=_0x4c597d;(!this[_0x57e082(0x1b9)]||_0xc70a3d[_0x57e082(0x1b7)]!==this[_0x57e082(0x1b9)][_0x57e082(0x1b7)]||_0xc70a3d['ymin']!==this['_last_mBounds'][_0x57e082(0x1ae)]||_0xc70a3d[_0x57e082(0x1be)]!==this[_0x57e082(0x1b9)][_0x57e082(0x1be)]||_0xc70a3d['ymax']!==this['_last_mBounds']['ymax'])&&(this['_last_mBounds']=_0xc70a3d,!this['heatStyle'][_0x57e082(0x1ac)]&&(this[_0x57e082(0x204)]['container']=mars3d__namespace['DomUtil']['create']('div',_0x57e082(0x21b),this[_0x57e082(0x214)]['container'])),this[_0x57e082(0x204)][_0x57e082(0x1ac)][_0x57e082(0x20b)][_0x57e082(0x1f9)]=_0x57e082(0x1f0)['concat'](_0x59b64a,_0x57e082(0x1c1))[_0x57e082(0x1e8)](_0x3d7f28,'px;'),!this[_0x57e082(0x1e1)]?this[_0x57e082(0x1e1)]=h337__namespace['create'](this[_0x57e082(0x204)]):this['_heat']['configure'](this['heatStyle']));this[_0x57e082(0x1e1)][_0x57e082(0x1cd)](_0x4c597d);var _0x3755d3=this[_0x57e082(0x1e1)][_0x57e082(0x1b2)][_0x57e082(0x1ce)][_0x57e082(0x21c)]('image/png');return this['heatStyle'][_0x57e082(0x1ac)]&&(this['_map'][_0x57e082(0x1ac)][_0x57e082(0x1aa)](this['heatStyle']['container']),delete this[_0x57e082(0x204)][_0x57e082(0x1ac)]),_0x3755d3;}},{'key':_0xa34f3d(0x1d5),'value':function _0x49ba93(_0x51f362){var _0x2908dc=_0xa34f3d;this['clear'](),this[_0x2908dc(0x1b3)]=new mars3d__namespace[(_0x2908dc(0x1f4))][(_0x2908dc(0x1e2))](_objectSpread2(_objectSpread2({},this[_0x2908dc(0x1b8)]),{},{'rectangle':this[_0x2908dc(0x205)],'appearance':new Cesium[(_0x2908dc(0x237))]({'material':new Cesium[(_0x2908dc(0x22a))]({'fabric':{'uniforms':{'image':_0x51f362},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x2908dc(0x208)][_0x2908dc(0x22d)](this['_graphic']);}},{'key':_0xa34f3d(0x1db),'value':function _0x1e58e4(_0x55ab6d){var _0x12d482=_0xa34f3d;this[_0x12d482(0x1a9)](),this[_0x12d482(0x1e1)][_0x12d482(0x1e6)](_objectSpread2(_objectSpread2({},this[_0x12d482(0x204)]),{},{'radius':this[_0x12d482(0x204)][_0x12d482(0x212)]*this[_0x12d482(0x20b)][_0x12d482(0x228)],'blur':this[_0x12d482(0x204)][_0x12d482(0x21f)]*this[_0x12d482(0x20b)]['arcBlurScale'],'gradient':this[_0x12d482(0x204)][_0x12d482(0x216)]||{0.25:_0x12d482(0x1f1),0.55:_0x12d482(0x1d6),0.85:_0x12d482(0x1f3),0x1:_0x12d482(0x1e5)}}));var _0x1b5bde=this[_0x12d482(0x1e1)][_0x12d482(0x1b2)]['canvas']['toDataURL'](_0x12d482(0x200)),_0x354806=Cesium[_0x12d482(0x223)][_0x12d482(0x206)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x12d482(0x1d3)][_0x12d482(0x231)],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0x12d482(0x1a7)][_0x12d482(0x202)],'zPass':Cesium[_0x12d482(0x1a7)][_0x12d482(0x22c)]},'backFunction':Cesium[_0x12d482(0x1d3)]['ALWAYS'],'backOperation':{'fail':Cesium[_0x12d482(0x1a7)][_0x12d482(0x202)],'zFail':Cesium[_0x12d482(0x1a7)]['KEEP'],'zPass':Cesium[_0x12d482(0x1a7)][_0x12d482(0x22c)]},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0x12d482(0x1c4)]}),_0x4a175c=Math['floor'](Cesium[_0x12d482(0x233)](this[_0x12d482(0x20b)][_0x12d482(0x219)],this[_0x12d482(0x1af)]*0.02))+0.1;this[_0x12d482(0x20b)]['diffHeight']&&delete this[_0x12d482(0x20b)][_0x12d482(0x219)];var _0x3949e5=Cesium[_0x12d482(0x233)](this[_0x12d482(0x20b)][_0x12d482(0x20c)],0x64),_0x45783e=Math[_0x12d482(0x1e4)](this[_0x12d482(0x205)][_0x12d482(0x220)],this[_0x12d482(0x205)][_0x12d482(0x1ed)]);this[_0x12d482(0x20b)][_0x12d482(0x1ef)]=_0x45783e/=_0x3949e5,this['_graphic']=new mars3d__namespace[(_0x12d482(0x1f4))][(_0x12d482(0x1e2))](_objectSpread2(_objectSpread2({},this[_0x12d482(0x1b8)]),{},{'rectangle':this[_0x12d482(0x205)],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'aboveGround':!![],'renderState':_0x354806,'material':new Cesium[(_0x12d482(0x22a))]({'fabric':{'uniforms':{'image':_0x55ab6d,'repeat':new Cesium['Cartesian2'](0x1,0x1),'color':new Cesium['Color'](0x1,0x1,0x1,0.01),'bumpMap':_0x1b5bde},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':'attribute\x20vec3\x20position3DHigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec3\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20batchId;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bumpMap_3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionMC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionEC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_st;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20p\x20=\x20czm_computePosition();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionMC\x20=\x20position3DHigh\x20+\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionEC\x20=\x20(czm_modelViewRelativeToEye\x20*\x20p).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_st\x20=\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(bumpMap_3,\x20v_st);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBump\x20=\x20distance(vec3(0.0),color.rgb);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20upDir\x20=\x20normalize(v_positionMC.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20disPos\x20=\x20upDir\x20*\x20centerBump\x20*\x20'[_0x12d482(0x1e8)](_0x4a175c,_0x12d482(0x1c5)),'flat':!![]})})),this[_0x12d482(0x208)][_0x12d482(0x22d)](this[_0x12d482(0x1b3)]);}},{'key':_0xa34f3d(0x1a4),'value':function _0x5c4885(_0x107cd6){var _0x21b840=_0xa34f3d;return _0x107cd6!==null&&_0x107cd6!==void 0x0&&_0x107cd6['isFormat']&&this[_0x21b840(0x205)]?mars3d__namespace[_0x21b840(0x1d2)][_0x21b840(0x22b)](this[_0x21b840(0x205)]):this['_rectangle'];}}]),_0x2e3fcd;}(BaseLayer);mars3d__namespace['layer'][_0x3fce42(0x1bb)]=HeatLayer,mars3d__namespace['LayerUtil'][_0x3fce42(0x1ca)](_0x3fce42(0x225),HeatLayer);function getMercatorBounds(_0x1f2c78){var _0x1e10d7=_0x3fce42,_0xa21b29=mars3d__namespace[_0x1e10d7(0x21e)][_0x1e10d7(0x1dd)]([_0x1f2c78[_0x1e10d7(0x1b7)],_0x1f2c78[_0x1e10d7(0x1ae)]]),_0x3d88ca=mars3d__namespace[_0x1e10d7(0x21e)][_0x1e10d7(0x1dd)]([_0x1f2c78[_0x1e10d7(0x1be)],_0x1f2c78[_0x1e10d7(0x1cb)]]);return{'xmin':_0xa21b29[0x0],'ymin':_0xa21b29[0x1],'xmax':_0x3d88ca[0x0],'ymax':_0x3d88ca[0x1]};}function _0x538f(_0x4cc4c9,_0x1b67ad){var _0x934740=_0x9347();return _0x538f=function(_0x538fd3,_0x23b80c){_0x538fd3=_0x538fd3-0x1a2;var _0xf5dfa9=_0x934740[_0x538fd3];if(_0x538f['mhcHlW']===undefined){var _0x151097=function(_0x50765a){var _0x42264f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x10eeb0='',_0x42faa6='';for(var _0x572248=0x0,_0x34f7c7,_0xe1758,_0x599e69=0x0;_0xe1758=_0x50765a['charAt'](_0x599e69++);~_0xe1758&&(_0x34f7c7=_0x572248%0x4?_0x34f7c7*0x40+_0xe1758:_0xe1758,_0x572248++%0x4)?_0x10eeb0+=String['fromCharCode'](0xff&_0x34f7c7>>(-0x2*_0x572248&0x6)):0x0){_0xe1758=_0x42264f['indexOf'](_0xe1758);}for(var _0x25cd5d=0x0,_0x13e3a1=_0x10eeb0['length'];_0x25cd5d<_0x13e3a1;_0x25cd5d++){_0x42faa6+='%'+('00'+_0x10eeb0['charCodeAt'](_0x25cd5d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x42faa6);};_0x538f['edbyMN']=_0x151097,_0x4cc4c9=arguments,_0x538f['mhcHlW']=!![];}var _0x339a79=_0x934740[0x0],_0x6bf018=_0x538fd3+_0x339a79,_0x5b6582=_0x4cc4c9[_0x6bf018];return!_0x5b6582?(_0xf5dfa9=_0x538f['edbyMN'](_0xf5dfa9),_0x4cc4c9[_0x6bf018]=_0xf5dfa9):_0xf5dfa9=_0x5b6582,_0xf5dfa9;},_0x538f(_0x4cc4c9,_0x1b67ad);}function geLatLngBounds(_0x152638){var _0x4be18e=_0x3fce42,_0x64f7a1=mars3d__namespace[_0x4be18e(0x21e)][_0x4be18e(0x232)]([_0x152638[_0x4be18e(0x1b7)],_0x152638[_0x4be18e(0x1ae)]]),_0x14c66f=mars3d__namespace[_0x4be18e(0x21e)][_0x4be18e(0x232)]([_0x152638['xmax'],_0x152638[_0x4be18e(0x1cb)]]);return{'xmin':_0x64f7a1[0x0],'ymin':_0x64f7a1[0x1],'xmax':_0x14c66f[0x0],'ymax':_0x14c66f[0x1]};}exports[_0x3fce42(0x1bb)]=HeatLayer,Object[_0x3fce42(0x1ba)](exports,_0x3fce42(0x1fa),{'value':!![]});
}));
