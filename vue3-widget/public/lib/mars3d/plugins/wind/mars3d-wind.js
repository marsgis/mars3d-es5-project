function a0_0x503c(_0x57771f,_0x2acfa3){var _0x160b19=a0_0x160b();return a0_0x503c=function(_0x503ceb,_0x25adc8){_0x503ceb=_0x503ceb-0x11c;var _0x4037ce=_0x160b19[_0x503ceb];return _0x4037ce;},a0_0x503c(_0x57771f,_0x2acfa3);}(function(_0x33bce3,_0x1cb2a9){var _0x595d86=a0_0x503c,_0x20ddd3=_0x33bce3();while(!![]){try{var _0x562495=-parseInt(_0x595d86(0x1ab))/0x1*(parseInt(_0x595d86(0x1d5))/0x2)+-parseInt(_0x595d86(0x253))/0x3*(-parseInt(_0x595d86(0x153))/0x4)+parseInt(_0x595d86(0x1ec))/0x5*(-parseInt(_0x595d86(0x26a))/0x6)+parseInt(_0x595d86(0x26c))/0x7*(parseInt(_0x595d86(0x257))/0x8)+-parseInt(_0x595d86(0x214))/0x9*(parseInt(_0x595d86(0x156))/0xa)+parseInt(_0x595d86(0x21f))/0xb+parseInt(_0x595d86(0x1f5))/0xc;if(_0x562495===_0x1cb2a9)break;else _0x20ddd3['push'](_0x20ddd3['shift']());}catch(_0x54b048){_0x20ddd3['push'](_0x20ddd3['shift']());}}}(a0_0x160b,0xa745f),!function(_0x3a1b8f,_0x28be5d){var _0x33deca=a0_0x503c;_0x33deca(0x203)==typeof exports&&_0x33deca(0x203)==typeof module?module[_0x33deca(0x1d4)]=_0x28be5d(require(_0x33deca(0x276)),require(_0x33deca(0x213))):_0x33deca(0x202)==typeof define&&define['amd']?define(_0x33deca(0x172),['mars3d-cesium',_0x33deca(0x213)],_0x28be5d):'object'==typeof exports?exports['mars3dWind']=_0x28be5d(require(_0x33deca(0x276)),require(_0x33deca(0x213))):_0x3a1b8f[_0x33deca(0x172)]=_0x28be5d(_0x3a1b8f[_0x33deca(0x211)],_0x3a1b8f[_0x33deca(0x213)]);}(window,function(_0x34b6ee,_0x438890){return function(_0x8ad109){var _0x42ac50={};function _0x4b4f7b(_0x1dc7ad){var _0x3d66a0=a0_0x503c;if(_0x42ac50[_0x1dc7ad])return _0x42ac50[_0x1dc7ad]['exports'];var _0x35d24c=_0x42ac50[_0x1dc7ad]={'i':_0x1dc7ad,'l':!0x1,'exports':{}};return _0x8ad109[_0x1dc7ad][_0x3d66a0(0x19d)](_0x35d24c[_0x3d66a0(0x1d4)],_0x35d24c,_0x35d24c['exports'],_0x4b4f7b),_0x35d24c['l']=!0x0,_0x35d24c[_0x3d66a0(0x1d4)];}return _0x4b4f7b['m']=_0x8ad109,_0x4b4f7b['c']=_0x42ac50,_0x4b4f7b['d']=function(_0x17cb80,_0x1a50e3,_0x3308da){var _0x10dd80=a0_0x503c;_0x4b4f7b['o'](_0x17cb80,_0x1a50e3)||Object[_0x10dd80(0x197)](_0x17cb80,_0x1a50e3,{'enumerable':!0x0,'get':_0x3308da});},_0x4b4f7b['r']=function(_0x3b837b){var _0x4a30b7=a0_0x503c;'undefined'!=typeof Symbol&&Symbol[_0x4a30b7(0x273)]&&Object['defineProperty'](_0x3b837b,Symbol[_0x4a30b7(0x273)],{'value':_0x4a30b7(0x27d)}),Object[_0x4a30b7(0x197)](_0x3b837b,_0x4a30b7(0x245),{'value':!0x0});},_0x4b4f7b['t']=function(_0xf94815,_0x56e475){var _0x528d44=a0_0x503c;if(0x1&_0x56e475&&(_0xf94815=_0x4b4f7b(_0xf94815)),0x8&_0x56e475)return _0xf94815;if(0x4&_0x56e475&&_0x528d44(0x203)==typeof _0xf94815&&_0xf94815&&_0xf94815[_0x528d44(0x245)])return _0xf94815;var _0x581d44=Object['create'](null);if(_0x4b4f7b['r'](_0x581d44),Object[_0x528d44(0x197)](_0x581d44,_0x528d44(0x1ae),{'enumerable':!0x0,'value':_0xf94815}),0x2&_0x56e475&&'string'!=typeof _0xf94815){for(var _0x1b0ff4 in _0xf94815)_0x4b4f7b['d'](_0x581d44,_0x1b0ff4,function(_0x314a66){return _0xf94815[_0x314a66];}[_0x528d44(0x14b)](null,_0x1b0ff4));}return _0x581d44;},_0x4b4f7b['n']=function(_0x58cfcd){var _0x4e7d90=a0_0x503c,_0x5a91a4=_0x58cfcd&&_0x58cfcd[_0x4e7d90(0x245)]?function(){var _0x2ca875=_0x4e7d90;return _0x58cfcd[_0x2ca875(0x1ae)];}:function(){return _0x58cfcd;};return _0x4b4f7b['d'](_0x5a91a4,'a',_0x5a91a4),_0x5a91a4;},_0x4b4f7b['o']=function(_0xdc9021,_0x46165c){var _0x6cb5db=a0_0x503c;return Object[_0x6cb5db(0x1e5)]['hasOwnProperty'][_0x6cb5db(0x19d)](_0xdc9021,_0x46165c);},_0x4b4f7b['p']='',_0x4b4f7b(_0x4b4f7b['s']=0x14);}([function(_0x2e1db1,_0x30fa1c){var _0x58011b=a0_0x503c;_0x2e1db1[_0x58011b(0x1d4)]=_0x34b6ee;},function(_0x3c297c,_0x2a6d77){var _0x4da71d=a0_0x503c;_0x3c297c[_0x4da71d(0x1d4)]=_0x438890;},function(_0x41da4f,_0x3ed966){var _0x58c834=a0_0x503c;_0x41da4f[_0x58c834(0x1d4)]=function(_0x4710b9,_0x5d485c){if(!(_0x4710b9 instanceof _0x5d485c))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');},_0x41da4f[_0x58c834(0x1d4)][_0x58c834(0x1ae)]=_0x41da4f[_0x58c834(0x1d4)],_0x41da4f[_0x58c834(0x1d4)]['__esModule']=!0x0;},function(_0x265133,_0x1789b8){var _0x589eeb=a0_0x503c;function _0x31a672(_0x5b31b3,_0x4dafca){var _0x4dcca6=a0_0x503c;for(var _0x562b25=0x0;_0x562b25<_0x4dafca[_0x4dcca6(0x199)];_0x562b25++){var _0x555b50=_0x4dafca[_0x562b25];_0x555b50[_0x4dcca6(0x11f)]=_0x555b50[_0x4dcca6(0x11f)]||!0x1,_0x555b50[_0x4dcca6(0x234)]=!0x0,_0x4dcca6(0x279)in _0x555b50&&(_0x555b50[_0x4dcca6(0x173)]=!0x0),Object['defineProperty'](_0x5b31b3,_0x555b50['key'],_0x555b50);}}_0x265133['exports']=function(_0x6a30fa,_0x39f1f0,_0x4491b8){var _0x2fe2ca=a0_0x503c;return _0x39f1f0&&_0x31a672(_0x6a30fa[_0x2fe2ca(0x1e5)],_0x39f1f0),_0x4491b8&&_0x31a672(_0x6a30fa,_0x4491b8),_0x6a30fa;},_0x265133[_0x589eeb(0x1d4)][_0x589eeb(0x1ae)]=_0x265133['exports'],_0x265133['exports']['__esModule']=!0x0;},function(_0x252581,_0x110d18){var _0x14f341=a0_0x503c;function _0x391927(_0x554a46){var _0x35066a=a0_0x503c;return _0x252581[_0x35066a(0x1d4)]=_0x391927=Object['setPrototypeOf']?Object[_0x35066a(0x1f1)]:function(_0x3dc3f3){var _0x572054=_0x35066a;return _0x3dc3f3[_0x572054(0x26d)]||Object[_0x572054(0x1f1)](_0x3dc3f3);},_0x252581[_0x35066a(0x1d4)][_0x35066a(0x1ae)]=_0x252581[_0x35066a(0x1d4)],_0x252581[_0x35066a(0x1d4)][_0x35066a(0x245)]=!0x0,_0x391927(_0x554a46);}_0x252581[_0x14f341(0x1d4)]=_0x391927,_0x252581['exports'][_0x14f341(0x1ae)]=_0x252581[_0x14f341(0x1d4)],_0x252581[_0x14f341(0x1d4)]['__esModule']=!0x0;},function(_0x1c2571,_0x52f2e6,_0x7d7fc7){var _0x4ef988=a0_0x503c,_0x19bd8e=_0x7d7fc7(0x11);_0x1c2571[_0x4ef988(0x1d4)]=function(_0x3f7f77,_0x57adbf){var _0x5f2793=_0x4ef988;if(_0x5f2793(0x202)!=typeof _0x57adbf&&null!==_0x57adbf)throw new TypeError(_0x5f2793(0x1ef));_0x3f7f77['prototype']=Object[_0x5f2793(0x1a7)](_0x57adbf&&_0x57adbf['prototype'],{'constructor':{'value':_0x3f7f77,'writable':!0x0,'configurable':!0x0}}),_0x57adbf&&_0x19bd8e(_0x3f7f77,_0x57adbf);},_0x1c2571[_0x4ef988(0x1d4)]['default']=_0x1c2571[_0x4ef988(0x1d4)],_0x1c2571[_0x4ef988(0x1d4)][_0x4ef988(0x245)]=!0x0;},function(_0x195367,_0x1f762b,_0x31a842){var _0x410621=a0_0x503c,_0x1b1c0e=_0x31a842(0x12)[_0x410621(0x1ae)],_0x4396db=_0x31a842(0x13);_0x195367[_0x410621(0x1d4)]=function(_0x2ab5db,_0x20c263){var _0x310fee=_0x410621;if(_0x20c263&&('object'===_0x1b1c0e(_0x20c263)||_0x310fee(0x202)==typeof _0x20c263))return _0x20c263;if(void 0x0!==_0x20c263)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');return _0x4396db(_0x2ab5db);},_0x195367[_0x410621(0x1d4)][_0x410621(0x1ae)]=_0x195367['exports'],_0x195367[_0x410621(0x1d4)][_0x410621(0x245)]=!0x0;},function(_0x2f6049,_0x31ac34){var _0x54d424=a0_0x503c;_0x2f6049[_0x54d424(0x1d4)]=_0x54d424(0x14f);},function(_0x1360fb,_0x5409a9){var _0x3382a5=a0_0x503c;_0x1360fb[_0x3382a5(0x1d4)]=_0x3382a5(0x190);},function(_0x1e9e74,_0xcbb6f3){_0x1e9e74['exports']='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}';},function(_0x2ff20e,_0x524afd){var _0x4cf5b4=a0_0x503c;_0x2ff20e[_0x4cf5b4(0x1d4)]='uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}';},function(_0x35617e,_0x2a6e3c){var _0x26b8ce=a0_0x503c;_0x35617e[_0x26b8ce(0x1d4)]='uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}';},function(_0xd23523,_0x2f3684){var _0x37aea3=a0_0x503c;_0xd23523[_0x37aea3(0x1d4)]=_0x37aea3(0x17f);},function(_0x171e88,_0x2b5f71){_0x171e88['exports']='uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}';},function(_0x3ea4cd,_0x28a384){var _0x3ebba1=a0_0x503c;_0x3ea4cd[_0x3ebba1(0x1d4)]=_0x3ebba1(0x183);},function(_0x196d4f,_0x4e7f78){var _0x561aa0=a0_0x503c;_0x196d4f[_0x561aa0(0x1d4)]=_0x561aa0(0x238);},function(_0x17b8dd,_0x5a3f30){_0x17b8dd['exports']='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}';},function(_0x5730f5,_0x4c7902){var _0x18f16e=a0_0x503c;function _0x1a9de0(_0x160b01,_0x3059fe){var _0x38de85=a0_0x503c;return _0x5730f5[_0x38de85(0x1d4)]=_0x1a9de0=Object[_0x38de85(0x27a)]||function(_0x2f790c,_0x4a5114){var _0x1430df=_0x38de85;return _0x2f790c[_0x1430df(0x26d)]=_0x4a5114,_0x2f790c;},_0x5730f5[_0x38de85(0x1d4)]['default']=_0x5730f5[_0x38de85(0x1d4)],_0x5730f5['exports'][_0x38de85(0x245)]=!0x0,_0x1a9de0(_0x160b01,_0x3059fe);}_0x5730f5[_0x18f16e(0x1d4)]=_0x1a9de0,_0x5730f5[_0x18f16e(0x1d4)][_0x18f16e(0x1ae)]=_0x5730f5[_0x18f16e(0x1d4)],_0x5730f5[_0x18f16e(0x1d4)]['__esModule']=!0x0;},function(_0x20c13b,_0x154b1b){var _0x36bd66=a0_0x503c;function _0xf80d68(_0x59b7dc){var _0x2a2ac5=a0_0x503c;return'function'==typeof Symbol&&'symbol'==typeof Symbol[_0x2a2ac5(0x251)]?(_0x20c13b[_0x2a2ac5(0x1d4)]=_0xf80d68=function(_0x5d4604){return typeof _0x5d4604;},_0x20c13b[_0x2a2ac5(0x1d4)][_0x2a2ac5(0x1ae)]=_0x20c13b['exports'],_0x20c13b[_0x2a2ac5(0x1d4)][_0x2a2ac5(0x245)]=!0x0):(_0x20c13b[_0x2a2ac5(0x1d4)]=_0xf80d68=function(_0x3ab4ee){var _0x131adc=_0x2a2ac5;return _0x3ab4ee&&'function'==typeof Symbol&&_0x3ab4ee[_0x131adc(0x174)]===Symbol&&_0x3ab4ee!==Symbol[_0x131adc(0x1e5)]?_0x131adc(0x126):typeof _0x3ab4ee;},_0x20c13b[_0x2a2ac5(0x1d4)][_0x2a2ac5(0x1ae)]=_0x20c13b['exports'],_0x20c13b[_0x2a2ac5(0x1d4)]['__esModule']=!0x0),_0xf80d68(_0x59b7dc);}_0x20c13b['exports']=_0xf80d68,_0x20c13b[_0x36bd66(0x1d4)]['default']=_0x20c13b[_0x36bd66(0x1d4)],_0x20c13b[_0x36bd66(0x1d4)][_0x36bd66(0x245)]=!0x0;},function(_0x1e475e,_0x47c001){var _0x3d69ef=a0_0x503c;_0x1e475e['exports']=function(_0x2af3ab){var _0x3627ba=a0_0x503c;if(void 0x0===_0x2af3ab)throw new ReferenceError(_0x3627ba(0x24a));return _0x2af3ab;},_0x1e475e[_0x3d69ef(0x1d4)][_0x3d69ef(0x1ae)]=_0x1e475e[_0x3d69ef(0x1d4)],_0x1e475e[_0x3d69ef(0x1d4)][_0x3d69ef(0x245)]=!0x0;},function(_0x26d9af,_0x4a6553,_0x4b5af7){'use strict';var _0xca6184=a0_0x503c;_0x4b5af7['r'](_0x4a6553),_0x4b5af7['d'](_0x4a6553,'WindLayer',function(){return _0x3f26a6;}),_0x4b5af7['d'](_0x4a6553,_0xca6184(0x1d3),function(){return _0x3e047c;}),_0x4b5af7['d'](_0x4a6553,_0xca6184(0x1d8),function(){return _0x3aca08;});var _0x3aca08={};_0x4b5af7['r'](_0x3aca08),_0x4b5af7['d'](_0x3aca08,_0xca6184(0x1be),function(){return _0x46cd46;}),_0x4b5af7['d'](_0x3aca08,'getV',function(){return _0x5ab890;}),_0x4b5af7['d'](_0x3aca08,_0xca6184(0x15a),function(){return _0x583b2f;}),_0x4b5af7['d'](_0x3aca08,'getDirection',function(){return _0x23d678;});var _0x3a24a0=_0x4b5af7(0x1),_0x313a0e=_0x4b5af7(0x2),_0x5f5455=_0x4b5af7['n'](_0x313a0e),_0xde727=_0x4b5af7(0x3),_0x192622=_0x4b5af7['n'](_0xde727),_0xb5ac38=_0x4b5af7(0x5),_0x1ccbfb=_0x4b5af7['n'](_0xb5ac38),_0x4a18f4=_0x4b5af7(0x6),_0x540653=_0x4b5af7['n'](_0x4a18f4),_0x282e29=_0x4b5af7(0x4),_0x287fc3=_0x4b5af7['n'](_0x282e29),_0x57ffbf=_0x4b5af7(0x0),_0x57b0ad=function(){var _0x5db1b1=_0xca6184;function _0x41e120(_0x1ecc79){var _0x2e9126=a0_0x503c;_0x5f5455()(this,_0x41e120),this[_0x2e9126(0x283)]=_0x1ecc79[_0x2e9126(0x283)],this[_0x2e9126(0x212)]=_0x1ecc79[_0x2e9126(0x212)],this[_0x2e9126(0x185)]=_0x1ecc79[_0x2e9126(0x185)],this[_0x2e9126(0x224)]=_0x1ecc79[_0x2e9126(0x224)],this[_0x2e9126(0x17b)]=_0x1ecc79[_0x2e9126(0x17b)],this[_0x2e9126(0x14e)]=_0x1ecc79[_0x2e9126(0x14e)],this[_0x2e9126(0x25e)]=_0x1ecc79[_0x2e9126(0x25e)],this[_0x2e9126(0x274)]=_0x1ecc79[_0x2e9126(0x274)],this['framebuffer']=_0x1ecc79['framebuffer'],this[_0x2e9126(0x1d1)]=_0x1ecc79['outputTexture'],this[_0x2e9126(0x284)]=_0x57ffbf[_0x2e9126(0x271)](_0x1ecc79[_0x2e9126(0x284)],!0x1),this['preExecute']=_0x1ecc79[_0x2e9126(0x123)],this['show']=!0x0,this[_0x2e9126(0x124)]=void 0x0,this[_0x2e9126(0x1c9)]=void 0x0,this[_0x2e9126(0x284)]&&(this['clearCommand']=new _0x57ffbf['ClearCommand']({'color':new _0x57ffbf[(_0x2e9126(0x270))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this['framebuffer'],'pass':_0x57ffbf[_0x2e9126(0x195)]['OPAQUE']}));}return _0x192622()(_0x41e120,[{'key':_0x5db1b1(0x1cb),'value':function(_0x1f2adf){var _0x4625a5=_0x5db1b1;switch(this[_0x4625a5(0x283)]){case _0x4625a5(0x1d7):var _0x20739f=_0x57ffbf[_0x4625a5(0x1fc)][_0x4625a5(0x1b6)]({'context':_0x1f2adf,'geometry':this[_0x4625a5(0x212)],'attributeLocations':this[_0x4625a5(0x185)],'bufferUsage':_0x57ffbf[_0x4625a5(0x19c)][_0x4625a5(0x17e)]}),_0x2f2517=_0x57ffbf[_0x4625a5(0x12d)][_0x4625a5(0x120)]({'context':_0x1f2adf,'attributeLocations':this[_0x4625a5(0x185)],'vertexShaderSource':this[_0x4625a5(0x14e)],'fragmentShaderSource':this[_0x4625a5(0x25e)]}),_0x113245=_0x57ffbf[_0x4625a5(0x281)][_0x4625a5(0x120)](this['rawRenderState']);return new _0x57ffbf[(_0x4625a5(0x1ea))]({'owner':this,'vertexArray':_0x20739f,'primitiveType':this[_0x4625a5(0x224)],'uniformMap':this[_0x4625a5(0x17b)],'modelMatrix':_0x57ffbf['Matrix4'][_0x4625a5(0x1aa)],'shaderProgram':_0x2f2517,'framebuffer':this[_0x4625a5(0x252)],'renderState':_0x113245,'pass':_0x57ffbf[_0x4625a5(0x195)][_0x4625a5(0x140)]});case _0x4625a5(0x275):return new _0x57ffbf[(_0x4625a5(0x289))]({'owner':this,'fragmentShaderSource':this[_0x4625a5(0x25e)],'uniformMap':this[_0x4625a5(0x17b)],'outputTexture':this['outputTexture'],'persists':!0x0});}}},{'key':_0x5db1b1(0x178),'value':function(_0x553cb8,_0x243db2){var _0x2cb1a4=_0x5db1b1;this[_0x2cb1a4(0x212)]=_0x243db2;var _0x1e9e0e=_0x57ffbf['VertexArray']['fromGeometry']({'context':_0x553cb8,'geometry':this[_0x2cb1a4(0x212)],'attributeLocations':this[_0x2cb1a4(0x185)],'bufferUsage':_0x57ffbf[_0x2cb1a4(0x19c)]['STATIC_DRAW']});this[_0x2cb1a4(0x124)][_0x2cb1a4(0x23b)]=_0x1e9e0e;}},{'key':_0x5db1b1(0x204),'value':function(_0x32ee59){var _0x13f5ad=_0x5db1b1;this[_0x13f5ad(0x1a3)]&&_0x32ee59[_0x13f5ad(0x180)]==_0x57ffbf[_0x13f5ad(0x217)]['SCENE3D']&&(_0x57ffbf['defined'](this[_0x13f5ad(0x124)])||(this['commandToExecute']=this['createCommand'](_0x32ee59['context'])),_0x57ffbf[_0x13f5ad(0x23a)](this['preExecute'])&&this[_0x13f5ad(0x123)](),_0x57ffbf['defined'](this[_0x13f5ad(0x1c9)])&&_0x32ee59[_0x13f5ad(0x1e6)][_0x13f5ad(0x194)](this[_0x13f5ad(0x1c9)]),_0x32ee59[_0x13f5ad(0x1e6)][_0x13f5ad(0x194)](this[_0x13f5ad(0x124)]));}},{'key':_0x5db1b1(0x146),'value':function(){return!0x1;}},{'key':_0x5db1b1(0x1dd),'value':function(){var _0x131f0f=_0x5db1b1;return _0x57ffbf[_0x131f0f(0x23a)](this[_0x131f0f(0x124)])&&(this[_0x131f0f(0x124)][_0x131f0f(0x15f)]=this[_0x131f0f(0x124)][_0x131f0f(0x15f)]&&this[_0x131f0f(0x124)][_0x131f0f(0x15f)]['destroy']()),_0x57ffbf[_0x131f0f(0x25c)](this);}}]),_0x41e120;}(),_0x3e61c5={'getFullscreenQuad':function(){var _0x49871b=_0xca6184;return new _0x57ffbf[(_0x49871b(0x129))]({'attributes':new _0x57ffbf[(_0x49871b(0x18d))]({'position':new _0x57ffbf[(_0x49871b(0x198))]({'componentDatatype':_0x57ffbf[_0x49871b(0x240)][_0x49871b(0x1e4)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x57ffbf[(_0x49871b(0x198))]({'componentDatatype':_0x57ffbf['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x2f83fe,_0x218bf1){var _0x5dc44c=_0xca6184;if(_0x57ffbf['defined'](_0x218bf1)){var _0x138f34={};_0x138f34[_0x5dc44c(0x23e)]=_0x218bf1,_0x2f83fe['source']=_0x138f34;}return new _0x57ffbf['Texture'](_0x2f83fe);},'createFramebuffer':function(_0x5a69e2,_0x2a501d,_0x1c534e){return new _0x57ffbf['Framebuffer']({'context':_0x5a69e2,'colorTextures':[_0x2a501d],'depthTexture':_0x1c534e});},'createRawRenderState':function(_0x367112){var _0x71732=_0xca6184,_0x2983a9={'viewport':_0x367112[_0x71732(0x232)],'depthTest':_0x367112[_0x71732(0x21c)],'depthMask':_0x367112[_0x71732(0x264)],'blending':_0x367112[_0x71732(0x208)]};return _0x57ffbf[_0x71732(0x16a)][_0x71732(0x1ac)](!0x0,!0x1,_0x2983a9);},'viewRectangleToLonLatRange':function(_0x3ac2fc){var _0x23dcc0=_0xca6184,_0x591d17,_0xd78962,_0x3fc7d1={},_0x1dcadf=_0x57ffbf['Math'][_0x23dcc0(0x136)](_0x3ac2fc[_0x23dcc0(0x1dc)],_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x286)]),_0x4767bb=_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x136)](_0x3ac2fc[_0x23dcc0(0x16f)],_0x57ffbf[_0x23dcc0(0x1a2)]['TWO_PI']),_0x346ab8=_0x3ac2fc['width'];_0x346ab8>_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x227)]?(_0x591d17=0x0,_0xd78962=_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x286)]):_0x4767bb-_0x1dcadf<_0x346ab8?(_0x591d17=_0x1dcadf,_0xd78962=_0x1dcadf+_0x346ab8):(_0x591d17=_0x1dcadf,_0xd78962=_0x4767bb),_0x3fc7d1[_0x23dcc0(0x1d0)]={'min':_0x57ffbf[_0x23dcc0(0x1a2)]['toDegrees'](_0x591d17),'max':_0x57ffbf['Math'][_0x23dcc0(0x27b)](_0xd78962)};var _0x569ee0=_0x3ac2fc[_0x23dcc0(0x151)],_0x315df1=_0x3ac2fc[_0x23dcc0(0x122)],_0x39c2ec=_0x3ac2fc[_0x23dcc0(0x12c)],_0x3a8f26=_0x39c2ec>_0x57ffbf[_0x23dcc0(0x1a2)]['PI']/0xc?_0x39c2ec/0x2:0x0,_0x2b3604=_0x57ffbf[_0x23dcc0(0x1a2)]['clampToLatitudeRange'](_0x569ee0-_0x3a8f26),_0x35363d=_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x144)](_0x315df1+_0x3a8f26);return _0x2b3604<-_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x13a)]&&(_0x2b3604=-_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x21b)]),_0x35363d>_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x13a)]&&(_0x35363d=_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x21b)]),_0x3fc7d1[_0x23dcc0(0x1ca)]={'min':_0x57ffbf[_0x23dcc0(0x1a2)][_0x23dcc0(0x27b)](_0x2b3604),'max':_0x57ffbf['Math'][_0x23dcc0(0x27b)](_0x35363d)},_0x3fc7d1;}},_0x1dafaf=_0x4b5af7(0x8),_0x5c4ecf=_0x4b5af7['n'](_0x1dafaf),_0x486072=_0x4b5af7(0x9),_0x271bff=_0x4b5af7['n'](_0x486072),_0x448cd6=_0x4b5af7(0x7),_0x3e58a1=_0x4b5af7['n'](_0x448cd6),_0x26da1e=_0x4b5af7(0xa),_0x2374e4=_0x4b5af7['n'](_0x26da1e),_0x287305=_0x4b5af7(0xb),_0x269d74=_0x4b5af7['n'](_0x287305),_0x59d2ca=function(){var _0x1fa08c=_0xca6184;function _0x1d6b6a(_0x27e6fd,_0x3535b6,_0x4c5362,_0x33f009,_0xac2ace){var _0x40dad3=a0_0x503c;_0x5f5455()(this,_0x1d6b6a),this[_0x40dad3(0x247)](_0x27e6fd,_0x3535b6),this['createRenderingFramebuffers'](_0x27e6fd),this[_0x40dad3(0x210)](_0x27e6fd,_0x4c5362,_0x33f009,_0xac2ace);}return _0x192622()(_0x1d6b6a,[{'key':_0x1fa08c(0x247),'value':function(_0x4adde5,_0x5d76e9){var _0x21f7e4=_0x1fa08c,_0x31bd3e={'context':_0x4adde5,'width':_0x4adde5[_0x21f7e4(0x131)],'height':_0x4adde5['drawingBufferHeight'],'pixelFormat':_0x57ffbf['PixelFormat'][_0x21f7e4(0x25b)],'pixelDatatype':_0x57ffbf[_0x21f7e4(0x260)]['UNSIGNED_BYTE']},_0x38198c={'context':_0x4adde5,'width':_0x4adde5[_0x21f7e4(0x131)],'height':_0x4adde5[_0x21f7e4(0x13d)],'pixelFormat':_0x57ffbf[_0x21f7e4(0x237)][_0x21f7e4(0x16e)],'pixelDatatype':_0x57ffbf[_0x21f7e4(0x260)]['UNSIGNED_INT']},_0x2b1087={'context':_0x4adde5,'width':_0x5d76e9[_0x21f7e4(0x1c6)][_0x21f7e4(0x155)],'height':0x1,'pixelFormat':_0x57ffbf['PixelFormat'][_0x21f7e4(0x171)],'pixelDatatype':_0x57ffbf[_0x21f7e4(0x260)][_0x21f7e4(0x1e4)],'sampler':new _0x57ffbf[(_0x21f7e4(0x1eb))]({'minificationFilter':_0x57ffbf[_0x21f7e4(0x246)][_0x21f7e4(0x282)],'magnificationFilter':_0x57ffbf[_0x21f7e4(0x13e)][_0x21f7e4(0x282)]})};this['textures']={'segmentsColor':_0x3e61c5[_0x21f7e4(0x27e)](_0x31bd3e),'segmentsDepth':_0x3e61c5['createTexture'](_0x38198c),'currentTrailsColor':_0x3e61c5[_0x21f7e4(0x27e)](_0x31bd3e),'currentTrailsDepth':_0x3e61c5[_0x21f7e4(0x27e)](_0x38198c),'nextTrailsColor':_0x3e61c5[_0x21f7e4(0x27e)](_0x31bd3e),'nextTrailsDepth':_0x3e61c5[_0x21f7e4(0x27e)](_0x38198c),'colorTable':_0x3e61c5[_0x21f7e4(0x27e)](_0x2b1087,_0x5d76e9['colorTable'][_0x21f7e4(0x121)])};}},{'key':_0x1fa08c(0x1e8),'value':function(_0x48b8b9){var _0x103214=_0x1fa08c;this[_0x103214(0x1d9)]={'segments':_0x3e61c5[_0x103214(0x1ff)](_0x48b8b9,this[_0x103214(0x228)][_0x103214(0x130)],this[_0x103214(0x228)][_0x103214(0x1f7)]),'currentTrails':_0x3e61c5['createFramebuffer'](_0x48b8b9,this[_0x103214(0x228)][_0x103214(0x21a)],this[_0x103214(0x228)][_0x103214(0x1ad)]),'nextTrails':_0x3e61c5[_0x103214(0x1ff)](_0x48b8b9,this['textures'][_0x103214(0x176)],this[_0x103214(0x228)][_0x103214(0x1f0)])};}},{'key':_0x1fa08c(0x12a),'value':function(_0x113dc3){var _0x90cfa7=_0x1fa08c;for(var _0x3affe2=[],_0xc4475b=0x0;_0xc4475b<_0x113dc3[_0x90cfa7(0x1de)];_0xc4475b++)for(var _0x5a1135=0x0;_0x5a1135<_0x113dc3[_0x90cfa7(0x1de)];_0x5a1135++)for(var _0xc25ded=0x0;_0xc25ded<0x4;_0xc25ded++)_0x3affe2[_0x90cfa7(0x194)](_0xc4475b/_0x113dc3[_0x90cfa7(0x1de)]),_0x3affe2[_0x90cfa7(0x194)](_0x5a1135/_0x113dc3[_0x90cfa7(0x1de)]);_0x3affe2=new Float32Array(_0x3affe2);for(var _0x5506b9=[],_0x2e7458=[-0x1,0x1],_0x294e2f=[-0x1,0x1],_0x2090bf=0x0;_0x2090bf<_0x113dc3[_0x90cfa7(0x18c)];_0x2090bf++)for(var _0x18fb4a=0x0;_0x18fb4a<0x2;_0x18fb4a++)for(var _0x37a799=0x0;_0x37a799<0x2;_0x37a799++)_0x5506b9[_0x90cfa7(0x194)](_0x2e7458[_0x18fb4a]),_0x5506b9['push'](_0x294e2f[_0x37a799]),_0x5506b9[_0x90cfa7(0x194)](0x0);_0x5506b9=new Float32Array(_0x5506b9);for(var _0x185174=0x6*_0x113dc3[_0x90cfa7(0x18c)],_0x5a0b56=new Uint32Array(_0x185174),_0x45126d=0x0,_0x3c75c7=0x0,_0x270b2f=0x0;_0x45126d<_0x113dc3[_0x90cfa7(0x18c)];_0x45126d++)_0x5a0b56[_0x3c75c7++]=_0x270b2f+0x0,_0x5a0b56[_0x3c75c7++]=_0x270b2f+0x1,_0x5a0b56[_0x3c75c7++]=_0x270b2f+0x2,_0x5a0b56[_0x3c75c7++]=_0x270b2f+0x2,_0x5a0b56[_0x3c75c7++]=_0x270b2f+0x1,_0x5a0b56[_0x3c75c7++]=_0x270b2f+0x3,_0x270b2f+=0x4;return new _0x57ffbf[(_0x90cfa7(0x129))]({'attributes':new _0x57ffbf[(_0x90cfa7(0x18d))]({'st':new _0x57ffbf[(_0x90cfa7(0x198))]({'componentDatatype':_0x57ffbf[_0x90cfa7(0x240)]['FLOAT'],'componentsPerAttribute':0x2,'values':_0x3affe2}),'normal':new _0x57ffbf[(_0x90cfa7(0x198))]({'componentDatatype':_0x57ffbf[_0x90cfa7(0x240)][_0x90cfa7(0x1e4)],'componentsPerAttribute':0x3,'values':_0x5506b9})}),'indices':_0x5a0b56});}},{'key':'createRenderingPrimitives','value':function(_0x522354,_0x58ae63,_0x4ab275,_0x494cfb){var _0x4cdb51=_0x1fa08c,_0x60ee8=this;this[_0x4cdb51(0x1bf)]={'segments':new _0x57b0ad({'commandType':_0x4cdb51(0x1d7),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x4cdb51(0x12a)](_0x58ae63),'primitiveType':_0x57ffbf[_0x4cdb51(0x1b8)]['TRIANGLES'],'uniformMap':{'currentParticlesPosition':function(){var _0xfcd2f0=_0x4cdb51;return _0x494cfb['particlesTextures'][_0xfcd2f0(0x261)];},'postProcessingPosition':function(){var _0x142d3b=_0x4cdb51;return _0x494cfb[_0x142d3b(0x17d)]['postProcessingPosition'];},'postProcessingSpeed':function(){var _0x5b2b98=_0x4cdb51;return _0x494cfb['particlesTextures'][_0x5b2b98(0x255)];},'colorTable':function(){var _0x9385b=_0x4cdb51;return _0x60ee8['textures'][_0x9385b(0x1c6)];},'aspect':function(){var _0x440732=_0x4cdb51;return _0x522354[_0x440732(0x131)]/_0x522354['drawingBufferHeight'];},'pixelSize':function(){var _0x4ff60e=_0x4cdb51;return _0x4ab275[_0x4ff60e(0x142)];},'lineWidth':function(){var _0x595bbb=_0x4cdb51;return _0x58ae63[_0x595bbb(0x24d)];},'particleHeight':function(){var _0x15934d=_0x4cdb51;return _0x58ae63[_0x15934d(0x230)];}},'vertexShaderSource':new _0x57ffbf['ShaderSource']({'sources':[_0x5c4ecf['a']]}),'fragmentShaderSource':new _0x57ffbf[(_0x4cdb51(0x1fe))]({'sources':[_0x271bff['a']]}),'rawRenderState':_0x3e61c5[_0x4cdb51(0x226)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this['framebuffers'][_0x4cdb51(0x20d)],'autoClear':!0x0}),'trails':new _0x57b0ad({'commandType':_0x4cdb51(0x1d7),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x3e61c5[_0x4cdb51(0x236)](),'primitiveType':_0x57ffbf['PrimitiveType'][_0x4cdb51(0x128)],'uniformMap':{'segmentsColorTexture':function(){var _0x4446fd=_0x4cdb51;return _0x60ee8[_0x4446fd(0x228)][_0x4446fd(0x130)];},'segmentsDepthTexture':function(){var _0x23a7f0=_0x4cdb51;return _0x60ee8[_0x23a7f0(0x228)]['segmentsDepth'];},'currentTrailsColor':function(){var _0x1e1c0a=_0x4cdb51;return _0x60ee8[_0x1e1c0a(0x1d9)]['currentTrails'][_0x1e1c0a(0x1c4)](0x0);},'trailsDepthTexture':function(){var _0x4fc302=_0x4cdb51;return _0x60ee8[_0x4fc302(0x1d9)][_0x4fc302(0x17c)][_0x4fc302(0x231)];},'fadeOpacity':function(){var _0x49202f=_0x4cdb51;return _0x58ae63[_0x49202f(0x278)];}},'vertexShaderSource':new _0x57ffbf[(_0x4cdb51(0x1fe))]({'defines':[_0x4cdb51(0x1fd)],'sources':[_0x3e58a1['a']]}),'fragmentShaderSource':new _0x57ffbf[(_0x4cdb51(0x1fe))]({'defines':[_0x4cdb51(0x1b5)],'sources':[_0x2374e4['a']]}),'rawRenderState':_0x3e61c5[_0x4cdb51(0x226)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x57ffbf[_0x4cdb51(0x143)][_0x4cdb51(0x24f)]},'depthMask':!0x0}),'framebuffer':this[_0x4cdb51(0x1d9)][_0x4cdb51(0x277)],'autoClear':!0x0,'preExecute':function(){var _0x663e04=_0x4cdb51,_0x270058;_0x270058=_0x60ee8[_0x663e04(0x1d9)][_0x663e04(0x17c)],_0x60ee8[_0x663e04(0x1d9)][_0x663e04(0x17c)]=_0x60ee8[_0x663e04(0x1d9)][_0x663e04(0x277)],_0x60ee8[_0x663e04(0x1d9)][_0x663e04(0x277)]=_0x270058,_0x60ee8[_0x663e04(0x1bf)]['trails'][_0x663e04(0x124)][_0x663e04(0x252)]=_0x60ee8[_0x663e04(0x1d9)]['nextTrails'],_0x60ee8[_0x663e04(0x1bf)][_0x663e04(0x1a9)]['clearCommand'][_0x663e04(0x252)]=_0x60ee8[_0x663e04(0x1d9)][_0x663e04(0x277)];}}),'screen':new _0x57b0ad({'commandType':_0x4cdb51(0x1d7),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x3e61c5['getFullscreenQuad'](),'primitiveType':_0x57ffbf[_0x4cdb51(0x1b8)][_0x4cdb51(0x128)],'uniformMap':{'trailsColorTexture':function(){var _0x35ef12=_0x4cdb51;return _0x60ee8['framebuffers'][_0x35ef12(0x277)][_0x35ef12(0x1c4)](0x0);},'trailsDepthTexture':function(){var _0x37b969=_0x4cdb51;return _0x60ee8[_0x37b969(0x1d9)][_0x37b969(0x277)]['depthTexture'];}},'vertexShaderSource':new _0x57ffbf['ShaderSource']({'defines':[_0x4cdb51(0x1fd)],'sources':[_0x3e58a1['a']]}),'fragmentShaderSource':new _0x57ffbf[(_0x4cdb51(0x1fe))]({'defines':[_0x4cdb51(0x1b5)],'sources':[_0x269d74['a']]}),'rawRenderState':_0x3e61c5['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x1d6b6a;}(),_0x285c3f=_0x4b5af7(0xc),_0x2e8545=_0x4b5af7['n'](_0x285c3f),_0x439cb3=_0x4b5af7(0xd),_0x56f845=_0x4b5af7['n'](_0x439cb3),_0x39f618=_0x4b5af7(0xe),_0x443152=_0x4b5af7['n'](_0x39f618),_0x47d4d9=_0x4b5af7(0xf),_0x343653=_0x4b5af7['n'](_0x47d4d9),_0x486e31=_0x4b5af7(0x10),_0x13d0a5=_0x4b5af7['n'](_0x486e31),_0x28e220=function(){var _0x4f58cf=_0xca6184;function _0x56b982(_0x1b3701,_0x5a7b5d,_0x126547,_0x52bdaf){var _0x2cfe5f=a0_0x503c;_0x5f5455()(this,_0x56b982),this[_0x2cfe5f(0x160)]=_0x5a7b5d,this[_0x2cfe5f(0x1a4)](_0x1b3701,_0x5a7b5d),this[_0x2cfe5f(0x1b0)](_0x1b3701,_0x126547,_0x52bdaf),this[_0x2cfe5f(0x18a)](_0x5a7b5d,_0x126547,_0x52bdaf);}return _0x192622()(_0x56b982,[{'key':_0x4f58cf(0x1a4),'value':function(_0x3ccf24,_0x35c100){var _0x35c387=_0x4f58cf,_0x2884a0={'context':_0x3ccf24,'width':_0x35c100[_0x35c387(0x233)][_0x35c387(0x1d0)],'height':_0x35c100[_0x35c387(0x233)]['lat']*_0x35c100[_0x35c387(0x233)][_0x35c387(0x169)],'pixelFormat':_0x57ffbf['PixelFormat'][_0x35c387(0x26b)],'pixelDatatype':_0x57ffbf['PixelDatatype'][_0x35c387(0x1e4)],'flipY':!0x1,'sampler':new _0x57ffbf[(_0x35c387(0x1eb))]({'minificationFilter':_0x57ffbf['TextureMinificationFilter'][_0x35c387(0x157)],'magnificationFilter':_0x57ffbf[_0x35c387(0x13e)][_0x35c387(0x157)]})};this[_0x35c387(0x1b2)]={'U':_0x3e61c5[_0x35c387(0x27e)](_0x2884a0,_0x35c100['U'][_0x35c387(0x121)]),'V':_0x3e61c5[_0x35c387(0x27e)](_0x2884a0,_0x35c100['V'][_0x35c387(0x121)])};}},{'key':_0x4f58cf(0x1b0),'value':function(_0x4ac666,_0x570b89,_0x2298e7){var _0x19d30d=_0x4f58cf,_0x5c0930={'context':_0x4ac666,'width':_0x570b89['particlesTextureSize'],'height':_0x570b89[_0x19d30d(0x1de)],'pixelFormat':_0x57ffbf[_0x19d30d(0x237)][_0x19d30d(0x25b)],'pixelDatatype':_0x57ffbf[_0x19d30d(0x260)]['FLOAT'],'flipY':!0x1,'sampler':new _0x57ffbf['Sampler']({'minificationFilter':_0x57ffbf['TextureMinificationFilter'][_0x19d30d(0x157)],'magnificationFilter':_0x57ffbf[_0x19d30d(0x13e)][_0x19d30d(0x157)]})},_0x2c9bdb=this['randomizeParticles'](_0x570b89[_0x19d30d(0x18c)],_0x2298e7),_0x5a634c=new Float32Array(0x4*_0x570b89['maxParticles'])['fill'](0x0);this[_0x19d30d(0x17d)]={'particlesWind':_0x3e61c5['createTexture'](_0x5c0930),'currentParticlesPosition':_0x3e61c5[_0x19d30d(0x27e)](_0x5c0930,_0x2c9bdb),'nextParticlesPosition':_0x3e61c5[_0x19d30d(0x27e)](_0x5c0930,_0x2c9bdb),'currentParticlesSpeed':_0x3e61c5[_0x19d30d(0x27e)](_0x5c0930,_0x5a634c),'nextParticlesSpeed':_0x3e61c5[_0x19d30d(0x27e)](_0x5c0930,_0x5a634c),'postProcessingPosition':_0x3e61c5['createTexture'](_0x5c0930,_0x2c9bdb),'postProcessingSpeed':_0x3e61c5[_0x19d30d(0x27e)](_0x5c0930,_0x5a634c)};}},{'key':_0x4f58cf(0x138),'value':function(_0x4cd9b4,_0x3df979){var _0x4a3bbd=_0x4f58cf;for(var _0x7f8f06=new Float32Array(0x4*_0x4cd9b4),_0x247e6d=0x0;_0x247e6d<_0x4cd9b4;_0x247e6d++)_0x7f8f06[0x4*_0x247e6d]=_0x57ffbf['Math']['randomBetween'](_0x3df979['lonRange']['x'],_0x3df979[_0x4a3bbd(0x1f8)]['y']),_0x7f8f06[0x4*_0x247e6d+0x1]=_0x57ffbf[_0x4a3bbd(0x1a2)]['randomBetween'](_0x3df979[_0x4a3bbd(0x1fa)]['x'],_0x3df979['latRange']['y']),_0x7f8f06[0x4*_0x247e6d+0x2]=_0x57ffbf[_0x4a3bbd(0x1a2)][_0x4a3bbd(0x13b)](this['data']['lev'][_0x4a3bbd(0x22b)],this[_0x4a3bbd(0x160)][_0x4a3bbd(0x169)]['max']),_0x7f8f06[0x4*_0x247e6d+0x3]=0x0;return _0x7f8f06;}},{'key':'destroyParticlesTextures','value':function(){var _0x22cff1=_0x4f58cf,_0x3d45a3=this;Object[_0x22cff1(0x22d)](this[_0x22cff1(0x17d)])[_0x22cff1(0x19b)](function(_0x14e150){var _0x2d5687=_0x22cff1;_0x3d45a3[_0x2d5687(0x17d)][_0x14e150][_0x2d5687(0x1dd)]();});}},{'key':_0x4f58cf(0x18a),'value':function(_0x50b4be,_0x83ae81,_0x4b54be){var _0x34e917=_0x4f58cf,_0x4c1015=new _0x57ffbf['Cartesian3'](_0x50b4be[_0x34e917(0x233)][_0x34e917(0x1d0)],_0x50b4be['dimensions']['lat'],_0x50b4be[_0x34e917(0x233)][_0x34e917(0x169)]),_0x48a8b2=new _0x57ffbf[(_0x34e917(0x24b))](_0x50b4be[_0x34e917(0x1d0)][_0x34e917(0x22b)],_0x50b4be[_0x34e917(0x1ca)][_0x34e917(0x22b)],_0x50b4be[_0x34e917(0x169)]['min']),_0xa8b2ee=new _0x57ffbf[(_0x34e917(0x24b))](_0x50b4be['lon'][_0x34e917(0x1a6)],_0x50b4be[_0x34e917(0x1ca)][_0x34e917(0x1a6)],_0x50b4be['lev'][_0x34e917(0x1a6)]),_0x3ab39c=new _0x57ffbf[(_0x34e917(0x24b))]((_0xa8b2ee['x']-_0x48a8b2['x'])/(_0x4c1015['x']-0x1),(_0xa8b2ee['y']-_0x48a8b2['y'])/(_0x4c1015['y']-0x1),_0x4c1015['z']>0x1?(_0xa8b2ee['z']-_0x48a8b2['z'])/(_0x4c1015['z']-0x1):0x1),_0x54c3df=new _0x57ffbf[(_0x34e917(0x1c8))](_0x50b4be['U'][_0x34e917(0x22b)],_0x50b4be['U']['max']),_0x44ba92=new _0x57ffbf[(_0x34e917(0x1c8))](_0x50b4be['V']['min'],_0x50b4be['V']['max']),_0x1ff91b=this;this[_0x34e917(0x1bf)]={'getWind':new _0x57b0ad({'commandType':'Compute','uniformMap':{'U':function(){var _0x3ff607=_0x34e917;return _0x1ff91b[_0x3ff607(0x1b2)]['U'];},'V':function(){var _0x917897=_0x34e917;return _0x1ff91b[_0x917897(0x1b2)]['V'];},'currentParticlesPosition':function(){var _0x59fd02=_0x34e917;return _0x1ff91b[_0x59fd02(0x17d)]['currentParticlesPosition'];},'dimension':function(){return _0x4c1015;},'minimum':function(){return _0x48a8b2;},'maximum':function(){return _0xa8b2ee;},'interval':function(){return _0x3ab39c;}},'fragmentShaderSource':new _0x57ffbf['ShaderSource']({'sources':[_0x2e8545['a']]}),'outputTexture':this['particlesTextures'][_0x34e917(0x132)],'preExecute':function(){var _0x4a8c65=_0x34e917;_0x1ff91b[_0x4a8c65(0x1bf)]['getWind']['commandToExecute'][_0x4a8c65(0x1d1)]=_0x1ff91b[_0x4a8c65(0x17d)][_0x4a8c65(0x132)];}}),'updateSpeed':new _0x57b0ad({'commandType':_0x34e917(0x275),'uniformMap':{'currentParticlesSpeed':function(){var _0x56dd23=_0x34e917;return _0x1ff91b[_0x56dd23(0x17d)][_0x56dd23(0x12e)];},'particlesWind':function(){var _0x1e19ff=_0x34e917;return _0x1ff91b[_0x1e19ff(0x17d)][_0x1e19ff(0x132)];},'uSpeedRange':function(){return _0x54c3df;},'vSpeedRange':function(){return _0x44ba92;},'pixelSize':function(){var _0x198904=_0x34e917;return _0x4b54be[_0x198904(0x142)];},'speedFactor':function(){var _0x458603=_0x34e917;return _0x83ae81[_0x458603(0x1df)];}},'fragmentShaderSource':new _0x57ffbf['ShaderSource']({'sources':[_0x56f845['a']]}),'outputTexture':this[_0x34e917(0x17d)][_0x34e917(0x20a)],'preExecute':function(){var _0xf15c30=_0x34e917,_0x5f1497;_0x5f1497=_0x1ff91b['particlesTextures'][_0xf15c30(0x12e)],_0x1ff91b[_0xf15c30(0x17d)][_0xf15c30(0x12e)]=_0x1ff91b['particlesTextures'][_0xf15c30(0x255)],_0x1ff91b[_0xf15c30(0x17d)]['postProcessingSpeed']=_0x5f1497,_0x1ff91b[_0xf15c30(0x1bf)][_0xf15c30(0x269)]['commandToExecute']['outputTexture']=_0x1ff91b[_0xf15c30(0x17d)][_0xf15c30(0x20a)];}}),'updatePosition':new _0x57b0ad({'commandType':_0x34e917(0x275),'uniformMap':{'currentParticlesPosition':function(){var _0x41f82e=_0x34e917;return _0x1ff91b[_0x41f82e(0x17d)]['currentParticlesPosition'];},'currentParticlesSpeed':function(){var _0x10098c=_0x34e917;return _0x1ff91b[_0x10098c(0x17d)][_0x10098c(0x12e)];}},'fragmentShaderSource':new _0x57ffbf[(_0x34e917(0x1fe))]({'sources':[_0x443152['a']]}),'outputTexture':this[_0x34e917(0x17d)]['nextParticlesPosition'],'preExecute':function(){var _0x24f233=_0x34e917,_0x2c12a2;_0x2c12a2=_0x1ff91b[_0x24f233(0x17d)][_0x24f233(0x261)],_0x1ff91b['particlesTextures'][_0x24f233(0x261)]=_0x1ff91b[_0x24f233(0x17d)][_0x24f233(0x1fb)],_0x1ff91b[_0x24f233(0x17d)]['postProcessingPosition']=_0x2c12a2,_0x1ff91b[_0x24f233(0x1bf)][_0x24f233(0x26f)][_0x24f233(0x124)]['outputTexture']=_0x1ff91b[_0x24f233(0x17d)][_0x24f233(0x287)];}}),'postProcessingPosition':new _0x57b0ad({'commandType':_0x34e917(0x275),'uniformMap':{'nextParticlesPosition':function(){return _0x1ff91b['particlesTextures']['nextParticlesPosition'];},'nextParticlesSpeed':function(){var _0x3463fa=_0x34e917;return _0x1ff91b[_0x3463fa(0x17d)][_0x3463fa(0x20a)];},'lonRange':function(){var _0x219bd2=_0x34e917;return _0x4b54be[_0x219bd2(0x1f8)];},'latRange':function(){var _0xdf3543=_0x34e917;return _0x4b54be[_0xdf3543(0x1fa)];},'randomCoefficient':function(){var _0x35c53d=_0x34e917,_0x48b5d4=Math[_0x35c53d(0x20c)]();return _0x48b5d4;},'dropRate':function(){var _0x7f6b9e=_0x34e917;return _0x83ae81[_0x7f6b9e(0x186)];},'dropRateBump':function(){var _0x3fad49=_0x34e917;return _0x83ae81[_0x3fad49(0x1f2)];}},'fragmentShaderSource':new _0x57ffbf['ShaderSource']({'sources':[_0x343653['a']]}),'outputTexture':this[_0x34e917(0x17d)][_0x34e917(0x1fb)],'preExecute':function(){var _0x54ed74=_0x34e917;_0x1ff91b[_0x54ed74(0x1bf)][_0x54ed74(0x1fb)][_0x54ed74(0x124)][_0x54ed74(0x1d1)]=_0x1ff91b[_0x54ed74(0x17d)][_0x54ed74(0x1fb)];}}),'postProcessingSpeed':new _0x57b0ad({'commandType':_0x34e917(0x275),'uniformMap':{'postProcessingPosition':function(){var _0x453950=_0x34e917;return _0x1ff91b['particlesTextures'][_0x453950(0x1fb)];},'nextParticlesSpeed':function(){var _0x148eb4=_0x34e917;return _0x1ff91b[_0x148eb4(0x17d)][_0x148eb4(0x20a)];}},'fragmentShaderSource':new _0x57ffbf[(_0x34e917(0x1fe))]({'sources':[_0x13d0a5['a']]}),'outputTexture':this[_0x34e917(0x17d)]['postProcessingSpeed'],'preExecute':function(){var _0xd85aac=_0x34e917;_0x1ff91b[_0xd85aac(0x1bf)][_0xd85aac(0x255)][_0xd85aac(0x124)][_0xd85aac(0x1d1)]=_0x1ff91b['particlesTextures'][_0xd85aac(0x255)];}})};}}]),_0x56b982;}(),_0x504536=function(){var _0x15b89c=_0xca6184;function _0x55f87b(_0xcc9e28,_0x1907a4,_0xe041e,_0x1f34da){var _0x22fb45=a0_0x503c;_0x5f5455()(this,_0x55f87b),this[_0x22fb45(0x14d)]=_0xcc9e28,this[_0x22fb45(0x160)]=_0x1907a4,this[_0x22fb45(0x1cf)]=_0xe041e,this['viewerParameters']=_0x1f34da,this[_0x22fb45(0x1a8)]=new _0x28e220(this[_0x22fb45(0x14d)],this[_0x22fb45(0x160)],this[_0x22fb45(0x1cf)],this[_0x22fb45(0x18f)]),this[_0x22fb45(0x1c2)]=new _0x59d2ca(this[_0x22fb45(0x14d)],this[_0x22fb45(0x160)],this[_0x22fb45(0x1cf)],this['viewerParameters'],this[_0x22fb45(0x1a8)]);}return _0x192622()(_0x55f87b,[{'key':'canvasResize','value':function(_0x58deb6){var _0x513581=a0_0x503c,_0x48ed2e=this;this[_0x513581(0x1a8)][_0x513581(0x239)](),Object[_0x513581(0x22d)](this[_0x513581(0x1a8)][_0x513581(0x1b2)])[_0x513581(0x19b)](function(_0x399671){var _0x19762f=_0x513581;_0x48ed2e['particlesComputing'][_0x19762f(0x1b2)][_0x399671][_0x19762f(0x1dd)]();}),this[_0x513581(0x1c2)]['textures']['colorTable']['destroy'](),Object['keys'](this[_0x513581(0x1c2)]['framebuffers'])[_0x513581(0x19b)](function(_0x3434b0){var _0x5cddaf=_0x513581;_0x48ed2e['particlesRendering'][_0x5cddaf(0x1d9)][_0x3434b0][_0x5cddaf(0x1dd)]();}),this[_0x513581(0x14d)]=_0x58deb6,this[_0x513581(0x1a8)]=new _0x28e220(this[_0x513581(0x14d)],this[_0x513581(0x160)],this[_0x513581(0x1cf)],this[_0x513581(0x18f)]),this[_0x513581(0x1c2)]=new _0x59d2ca(this[_0x513581(0x14d)],this[_0x513581(0x160)],this[_0x513581(0x1cf)],this[_0x513581(0x18f)],this[_0x513581(0x1a8)]);}},{'key':_0x15b89c(0x200),'value':function(){var _0x3a64be=_0x15b89c,_0x3ab577=this,_0x22b30b=new _0x57ffbf[(_0x3a64be(0x21d))]({'color':new _0x57ffbf[(_0x3a64be(0x270))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x57ffbf[_0x3a64be(0x195)][_0x3a64be(0x140)]});Object['keys'](this[_0x3a64be(0x1c2)][_0x3a64be(0x1d9)])[_0x3a64be(0x19b)](function(_0x3973ad){var _0x2d3736=_0x3a64be;_0x22b30b[_0x2d3736(0x252)]=_0x3ab577[_0x2d3736(0x1c2)][_0x2d3736(0x1d9)][_0x3973ad],_0x22b30b[_0x2d3736(0x265)](_0x3ab577[_0x2d3736(0x14d)]);});}},{'key':_0x15b89c(0x150),'value':function(_0x2619f6){var _0x403437=_0x15b89c;if(this['clearFramebuffers'](),this['particlesComputing'][_0x403437(0x239)](),this[_0x403437(0x1a8)][_0x403437(0x1b0)](this[_0x403437(0x14d)],this['userInput'],this['viewerParameters']),_0x2619f6){var _0x2b1a56=this['particlesRendering']['createSegmentsGeometry'](this[_0x403437(0x1cf)]);this[_0x403437(0x1c2)]['primitives'][_0x403437(0x20d)][_0x403437(0x212)]=_0x2b1a56;var _0x142612=_0x57ffbf['VertexArray'][_0x403437(0x1b6)]({'context':this[_0x403437(0x14d)],'geometry':_0x2b1a56,'attributeLocations':this['particlesRendering'][_0x403437(0x1bf)][_0x403437(0x20d)][_0x403437(0x185)],'bufferUsage':_0x57ffbf['BufferUsage'][_0x403437(0x17e)]});this[_0x403437(0x1c2)][_0x403437(0x1bf)]['segments']['commandToExecute'][_0x403437(0x23b)]=_0x142612;}}},{'key':'applyUserInput','value':function(_0x2930e6){var _0x3e278f=_0x15b89c,_0x1d8874=this,_0x3e7909=!0x1;this['userInput'][_0x3e278f(0x18c)]!=_0x2930e6[_0x3e278f(0x18c)]&&(_0x3e7909=!0x0),Object[_0x3e278f(0x22d)](_0x2930e6)[_0x3e278f(0x19b)](function(_0x5c4041){_0x1d8874['userInput'][_0x5c4041]=_0x2930e6[_0x5c4041];}),this['refreshParticles'](_0x3e7909);}},{'key':_0x15b89c(0x17a),'value':function(_0x23cea0){var _0x110028=_0x15b89c,_0x39fcc5=this;Object[_0x110028(0x22d)](_0x23cea0)[_0x110028(0x19b)](function(_0x55fb11){var _0x47cab9=_0x110028;_0x39fcc5[_0x47cab9(0x18f)][_0x55fb11]=_0x23cea0[_0x55fb11];}),this['refreshParticles'](!0x1);}}]),_0x55f87b;}();function _0x45341a(_0x5de6c4){var _0x137011=function(){var _0x8e33d4=a0_0x503c;if('undefined'==typeof Reflect||!Reflect[_0x8e33d4(0x1a5)])return!0x1;if(Reflect['construct'][_0x8e33d4(0x20e)])return!0x1;if(_0x8e33d4(0x202)==typeof Proxy)return!0x0;try{return Boolean[_0x8e33d4(0x1e5)]['valueOf'][_0x8e33d4(0x19d)](Reflect[_0x8e33d4(0x1a5)](Boolean,[],function(){})),!0x0;}catch(_0x43dc4b){return!0x1;}}();return function(){var _0x3e2489=a0_0x503c,_0x2d47ad,_0x157445=_0x287fc3()(_0x5de6c4);if(_0x137011){var _0x445430=_0x287fc3()(this)[_0x3e2489(0x174)];_0x2d47ad=Reflect['construct'](_0x157445,arguments,_0x445430);}else _0x2d47ad=_0x157445['apply'](this,arguments);return _0x540653()(this,_0x2d47ad);};}var _0x4290c8=_0x3a24a0['layer'][_0xca6184(0x1f9)],_0x18b8d7=0x1000,_0x285929=0x64,_0x3f993a=0.996,_0x316777=0.003,_0x51bb3d=0.01,_0x138442=0.5,_0x1fbec2=0x2,_0x3f26a6=function(_0x128d58){var _0x3dd6bf=_0xca6184;_0x1ccbfb()(_0x4ca56b,_0x128d58);var _0x97c04e=_0x45341a(_0x4ca56b);function _0x4ca56b(){var _0x10f614=a0_0x503c,_0xbfe820,_0x446586=arguments[_0x10f614(0x199)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x5f5455()(this,_0x4ca56b),(_0xbfe820=_0x97c04e[_0x10f614(0x19d)](this,_0x446586))['maxParticles']=_0x18b8d7,_0xbfe820['particleHeight']=_0x285929,_0xbfe820[_0x10f614(0x278)]=_0x3f993a,_0xbfe820['dropRate']=_0x316777,_0xbfe820[_0x10f614(0x1f2)]=_0x51bb3d,_0xbfe820[_0x10f614(0x1df)]=_0x138442,_0xbfe820[_0x10f614(0x24d)]=_0x1fbec2,_0x446586){for(var _0x65bfc7 in _0x446586)_0xbfe820[_0x65bfc7]=_0x446586[_0x65bfc7];}return _0xbfe820;}return _0x192622()(_0x4ca56b,[{'key':_0x3dd6bf(0x177),'get':function(){var _0x5b553a=_0x3dd6bf;return this[_0x5b553a(0x1bf)];}},{'key':_0x3dd6bf(0x1b4),'value':function(){}},{'key':_0x3dd6bf(0x22a),'value':function(){var _0x73c7e3=_0x3dd6bf;this['scene']=this[_0x73c7e3(0x22e)][_0x73c7e3(0x1c7)],this['camera']=this[_0x73c7e3(0x22e)][_0x73c7e3(0x243)],this[_0x73c7e3(0x1bf)]=new _0x57ffbf[(_0x73c7e3(0x26e))](),this['_map'][_0x73c7e3(0x1c7)][_0x73c7e3(0x1bf)][_0x73c7e3(0x1ee)](this[_0x73c7e3(0x1bf)]),this[_0x73c7e3(0x18f)]={'lonRange':new _0x57ffbf[(_0x73c7e3(0x1c8))](),'latRange':new _0x57ffbf['Cartesian2'](),'pixelSize':0x0},this[_0x73c7e3(0x1f3)]=new _0x57ffbf[(_0x73c7e3(0x25d))](_0x57ffbf['Cartesian3'][_0x73c7e3(0x125)],6314355.63),this[_0x73c7e3(0x23f)](),window[_0x73c7e3(0x22f)](_0x73c7e3(0x1f6),this[_0x73c7e3(0x1f6)]['bind'](this),!0x1),this[_0x73c7e3(0x137)]=!0x1,this[_0x73c7e3(0x164)]=!0x1,this[_0x73c7e3(0x22e)]['on'](_0x3a24a0['EventType'][_0x73c7e3(0x1e9)],this[_0x73c7e3(0x158)],this),this[_0x73c7e3(0x22e)]['on'](_0x3a24a0[_0x73c7e3(0x250)][_0x73c7e3(0x147)],this[_0x73c7e3(0x11e)],this),this['_map']['on'](_0x3a24a0[_0x73c7e3(0x250)][_0x73c7e3(0x201)],this[_0x73c7e3(0x184)],this),this[_0x73c7e3(0x22e)]['on'](_0x3a24a0[_0x73c7e3(0x250)][_0x73c7e3(0x1e0)],this[_0x73c7e3(0x1c3)],this);}},{'key':_0x3dd6bf(0x15e),'value':function(){var _0x25a673=_0x3dd6bf;window[_0x25a673(0x127)](_0x25a673(0x1f6),this[_0x25a673(0x1f6)]),this[_0x25a673(0x22e)][_0x25a673(0x16d)](_0x3a24a0[_0x25a673(0x250)][_0x25a673(0x27f)],this[_0x25a673(0x1e7)],this),this[_0x25a673(0x22e)][_0x25a673(0x16d)](_0x3a24a0[_0x25a673(0x250)][_0x25a673(0x1e9)],this[_0x25a673(0x158)],this),this[_0x25a673(0x22e)][_0x25a673(0x16d)](_0x3a24a0[_0x25a673(0x250)][_0x25a673(0x147)],this[_0x25a673(0x11e)],this),this['_map']['off'](_0x3a24a0['EventType']['mouseUp'],this[_0x25a673(0x184)],this),this[_0x25a673(0x22e)][_0x25a673(0x16d)](_0x3a24a0[_0x25a673(0x250)][_0x25a673(0x1e0)],this[_0x25a673(0x1c3)],this),this[_0x25a673(0x1bf)][_0x25a673(0x244)](),this[_0x25a673(0x22e)][_0x25a673(0x1c7)]['primitives']['remove'](this[_0x25a673(0x1bf)]);}},{'key':_0x3dd6bf(0x1f6),'value':function(){var _0x1ac4d8=_0x3dd6bf;this[_0x1ac4d8(0x1a3)]&&this[_0x1ac4d8(0x20f)]&&(this[_0x1ac4d8(0x1bf)]['show']=!0x1,this[_0x1ac4d8(0x1bf)]['removeAll'](),this[_0x1ac4d8(0x22e)][_0x1ac4d8(0x23d)](_0x3a24a0[_0x1ac4d8(0x250)][_0x1ac4d8(0x27f)],this[_0x1ac4d8(0x1e7)],this));}},{'key':'_onMap_preRenderEvent','value':function(_0x33f662){var _0x57a272=_0x3dd6bf;this[_0x57a272(0x20f)][_0x57a272(0x139)](this[_0x57a272(0x1c7)][_0x57a272(0x14d)]),this['addPrimitives'](),this[_0x57a272(0x1bf)]['show']=!0x0;}},{'key':'_onMapWhellEvent','value':function(_0x5e21f9){var _0xb1e873=_0x3dd6bf,_0x3b38eb=this;clearTimeout(this[_0xb1e873(0x182)]),this[_0xb1e873(0x1a3)]&&this[_0xb1e873(0x20f)]&&(this['primitives'][_0xb1e873(0x1a3)]=!0x1,this[_0xb1e873(0x182)]=setTimeout(function(){var _0x436e2a=_0xb1e873;_0x3b38eb[_0x436e2a(0x1a3)]&&_0x3b38eb[_0x436e2a(0x187)]();},0xc8));}},{'key':_0x3dd6bf(0x11e),'value':function(_0x57943f){var _0x33b581=_0x3dd6bf;this[_0x33b581(0x137)]=!0x0;}},{'key':_0x3dd6bf(0x1c3),'value':function(_0x20c0fd){var _0xc0419c=_0x3dd6bf;this[_0xc0419c(0x1a3)]&&this[_0xc0419c(0x20f)]&&this[_0xc0419c(0x137)]&&(this['primitives'][_0xc0419c(0x1a3)]=!0x1,this[_0xc0419c(0x164)]=!0x0);}},{'key':_0x3dd6bf(0x184),'value':function(_0x567d52){var _0x4dee9a=_0x3dd6bf;this['show']&&this[_0x4dee9a(0x20f)]&&(this[_0x4dee9a(0x137)]&&this[_0x4dee9a(0x164)]&&this[_0x4dee9a(0x187)](),this[_0x4dee9a(0x1bf)]['show']=!0x0,this[_0x4dee9a(0x137)]=!0x1,this[_0x4dee9a(0x164)]=!0x1);}},{'key':'redraw','value':function(){var _0x5b9daf=_0x3dd6bf;this[_0x5b9daf(0x22e)]&&this[_0x5b9daf(0x1a3)]&&(this['updateViewerParameters'](),this[_0x5b9daf(0x20f)][_0x5b9daf(0x17a)](this[_0x5b9daf(0x18f)]),this['primitives'][_0x5b9daf(0x1a3)]=!0x0);}},{'key':'setData','value':function(_0x422471){var _0x5b87ec=_0x3dd6bf;this[_0x5b87ec(0x20f)]=new _0x504536(this[_0x5b87ec(0x1c7)]['context'],_0x422471,this[_0x5b87ec(0x1b3)](),this[_0x5b87ec(0x18f)]),this[_0x5b87ec(0x1c5)]();}},{'key':_0x3dd6bf(0x25a),'value':function(_0x5687c0){var _0x22fd31=_0x3dd6bf;if(_0x5687c0){for(var _0x40d94a in _0x5687c0)this[_0x40d94a]=_0x5687c0[_0x40d94a];}return this['particleSystem']&&this[_0x22fd31(0x20f)][_0x22fd31(0x165)](this['getUserInput']()),this;}},{'key':_0x3dd6bf(0x1b3),'value':function(){var _0x135888=_0x3dd6bf,_0x109817=Math[_0x135888(0x1a1)](Math[_0x135888(0x149)](this[_0x135888(0x18c)]));return this[_0x135888(0x18c)]=_0x109817*_0x109817,{'particlesTextureSize':_0x109817,'maxParticles':this['maxParticles'],'particleHeight':this[_0x135888(0x230)],'fadeOpacity':this[_0x135888(0x278)],'dropRate':this[_0x135888(0x186)],'dropRateBump':this['dropRateBump'],'speedFactor':this[_0x135888(0x1df)],'lineWidth':this[_0x135888(0x24d)],'globeLayer':this[_0x135888(0x11d)],'WMS_URL':this[_0x135888(0x19f)]};}},{'key':_0x3dd6bf(0x1c5),'value':function(){var _0x1534aa=_0x3dd6bf;this[_0x1534aa(0x1bf)]['add'](this['particleSystem'][_0x1534aa(0x1a8)][_0x1534aa(0x1bf)][_0x1534aa(0x191)]),this[_0x1534aa(0x1bf)][_0x1534aa(0x1ee)](this[_0x1534aa(0x20f)][_0x1534aa(0x1a8)][_0x1534aa(0x1bf)]['updateSpeed']),this['primitives']['add'](this[_0x1534aa(0x20f)][_0x1534aa(0x1a8)]['primitives'][_0x1534aa(0x26f)]),this['primitives']['add'](this[_0x1534aa(0x20f)]['particlesComputing'][_0x1534aa(0x1bf)][_0x1534aa(0x1fb)]),this[_0x1534aa(0x1bf)][_0x1534aa(0x1ee)](this[_0x1534aa(0x20f)][_0x1534aa(0x1a8)][_0x1534aa(0x1bf)][_0x1534aa(0x255)]),this[_0x1534aa(0x1bf)]['add'](this[_0x1534aa(0x20f)]['particlesRendering'][_0x1534aa(0x1bf)][_0x1534aa(0x20d)]),this['primitives'][_0x1534aa(0x1ee)](this[_0x1534aa(0x20f)][_0x1534aa(0x1c2)][_0x1534aa(0x1bf)][_0x1534aa(0x1a9)]),this['primitives']['add'](this[_0x1534aa(0x20f)][_0x1534aa(0x1c2)][_0x1534aa(0x1bf)]['screen']);}},{'key':_0x3dd6bf(0x23f),'value':function(){var _0x3b958b=_0x3dd6bf,_0xb2eae9=this[_0x3b958b(0x243)]['computeViewRectangle'](this[_0x3b958b(0x1c7)][_0x3b958b(0x15d)][_0x3b958b(0x193)]);if(!_0xb2eae9){var _0x13be49=this[_0x3b958b(0x22e)]['getExtent']();_0xb2eae9=_0x57ffbf['Rectangle'][_0x3b958b(0x161)](_0x13be49['xmin'],_0x13be49[_0x3b958b(0x12f)],_0x13be49[_0x3b958b(0x24c)],_0x13be49['ymax']);}var _0x5eedb1=_0x3e61c5[_0x3b958b(0x262)](_0xb2eae9);this['viewerParameters'][_0x3b958b(0x1f8)]['x']=_0x5eedb1['lon']['min'],this[_0x3b958b(0x18f)]['lonRange']['y']=_0x5eedb1[_0x3b958b(0x1d0)][_0x3b958b(0x1a6)],this[_0x3b958b(0x18f)][_0x3b958b(0x1fa)]['x']=_0x5eedb1['lat'][_0x3b958b(0x22b)],this[_0x3b958b(0x18f)]['latRange']['y']=_0x5eedb1['lat'][_0x3b958b(0x1a6)];var _0x2b6f3c=this[_0x3b958b(0x243)][_0x3b958b(0x256)](this[_0x3b958b(0x1f3)],this['scene'][_0x3b958b(0x131)],this['scene']['drawingBufferHeight']);_0x2b6f3c>0x0&&(this[_0x3b958b(0x18f)][_0x3b958b(0x142)]=_0x2b6f3c);}}]),_0x4ca56b;}(_0x4290c8);_0x3a24a0[_0xca6184(0x188)][_0xca6184(0x1ed)]('wind',_0x3f26a6),_0x3a24a0[_0xca6184(0x177)]['WindLayer']=_0x3f26a6;var _0x155824=function _0x5b63e4(){var _0x134f59=_0xca6184;_0x5f5455()(this,_0x5b63e4),this['lng']=null,this[_0x134f59(0x1ca)]=null,this[_0x134f59(0x154)]=null,this['tlat']=null,this[_0x134f59(0x134)]=null;},_0x3302b1=function(){var _0x2cda1f=_0xca6184;function _0x234195(_0x353fd9,_0x2ca10c){var _0x1d7da4=a0_0x503c;_0x5f5455()(this,_0x234195),this[_0x1d7da4(0x133)]=_0x353fd9[_0x1d7da4(0x133)],this[_0x1d7da4(0x170)]=_0x353fd9[_0x1d7da4(0x170)],this['xmin']=_0x353fd9[_0x1d7da4(0x162)],this[_0x1d7da4(0x24c)]=_0x353fd9[_0x1d7da4(0x24c)],this['ymin']=_0x353fd9[_0x1d7da4(0x12f)],this['ymax']=_0x353fd9['ymax'],this['grid']=[];var _0x4512b5=_0x353fd9[_0x1d7da4(0x207)],_0x34d391=_0x353fd9[_0x1d7da4(0x206)],_0x45b196=!0x1;_0x4512b5[_0x1d7da4(0x199)]===this['rows']&&_0x4512b5[0x0]['length']===this[_0x1d7da4(0x170)]&&(_0x45b196=!0x0);for(var _0x47ed14=0x0,_0x5d1104=null,_0x363aaa=null,_0x99904f=0x0;_0x99904f<this['rows'];_0x99904f++){_0x5d1104=[];for(var _0x3c315c=0x0;_0x3c315c<this[_0x1d7da4(0x170)];_0x3c315c++,_0x47ed14++)_0x363aaa=_0x45b196?this['_calcUV'](_0x4512b5[_0x99904f][_0x3c315c],_0x34d391[_0x99904f][_0x3c315c]):this['_calcUV'](_0x4512b5[_0x47ed14],_0x34d391[_0x47ed14]),_0x5d1104[_0x1d7da4(0x194)](_0x363aaa);this[_0x1d7da4(0x192)]['push'](_0x5d1104);}_0x2ca10c&&this[_0x1d7da4(0x192)]['reverse']();}return _0x192622()(_0x234195,[{'key':'toGridXY','value':function(_0x46b91d,_0x2a1583){var _0x2bb0f6=a0_0x503c;return{'x':(_0x46b91d-this[_0x2bb0f6(0x162)])/(this[_0x2bb0f6(0x24c)]-this['xmin'])*(this['cols']-0x1),'y':(this['ymax']-_0x2a1583)/(this[_0x2bb0f6(0x249)]-this['ymin'])*(this[_0x2bb0f6(0x133)]-0x1)};}},{'key':_0x2cda1f(0x23c),'value':function(_0xfc9c53,_0x191f8c){var _0x5488e1=_0x2cda1f;if(_0xfc9c53<0x0||_0xfc9c53>=this[_0x5488e1(0x170)]||_0x191f8c>=this[_0x5488e1(0x133)])return[0x0,0x0,0x0];var _0xfb1590,_0x6da0da,_0x5a3af0=Math[_0x5488e1(0x205)](_0xfc9c53),_0x16b5be=Math[_0x5488e1(0x205)](_0x191f8c);if(_0x5a3af0===_0xfc9c53&&_0x16b5be===_0x191f8c)return this[_0x5488e1(0x192)][_0x191f8c][_0xfc9c53];_0xfb1590=_0x5a3af0+0x1,_0x6da0da=_0x16b5be+0x1;var _0x30abe4=this[_0x5488e1(0x23c)](_0x5a3af0,_0x16b5be),_0x367769=this['getUVByXY'](_0xfb1590,_0x16b5be),_0x2ebe0b=this[_0x5488e1(0x23c)](_0x5a3af0,_0x6da0da),_0x393760=this[_0x5488e1(0x23c)](_0xfb1590,_0x6da0da),_0x216736=null;try{_0x216736=this[_0x5488e1(0x266)](_0xfc9c53-_0x5a3af0,_0x191f8c-_0x16b5be,_0x30abe4,_0x367769,_0x2ebe0b,_0x393760);}catch(_0x5a15fb){console[_0x5488e1(0x18e)](_0xfc9c53,_0x191f8c);}return _0x216736;}},{'key':_0x2cda1f(0x266),'value':function(_0x59f733,_0x31ae2a,_0x203d68,_0x16d978,_0x123f86,_0x3bae81){var _0x23ca17=0x1-_0x59f733,_0x20bbb4=0x1-_0x31ae2a,_0x1d39bf=_0x23ca17*_0x20bbb4,_0x4cc793=_0x59f733*_0x20bbb4,_0xee7c45=_0x23ca17*_0x31ae2a,_0x3ccf6a=_0x59f733*_0x31ae2a,_0x327588=_0x203d68[0x0]*_0x1d39bf+_0x16d978[0x0]*_0x4cc793+_0x123f86[0x0]*_0xee7c45+_0x3bae81[0x0]*_0x3ccf6a,_0x24d2ed=_0x203d68[0x1]*_0x1d39bf+_0x16d978[0x1]*_0x4cc793+_0x123f86[0x1]*_0xee7c45+_0x3bae81[0x1]*_0x3ccf6a;return this['_calcUV'](_0x327588,_0x24d2ed);}},{'key':'_calcUV','value':function(_0x49c6ab,_0x5029f0){return[+_0x49c6ab,+_0x5029f0,Math['sqrt'](_0x49c6ab*_0x49c6ab+_0x5029f0*_0x5029f0)];}},{'key':_0x2cda1f(0x18b),'value':function(_0x264b19,_0x2b4d57){var _0x246735=_0x2cda1f;if(!this['isInExtent'](_0x264b19,_0x2b4d57))return null;var _0x477864=this[_0x246735(0x209)](_0x264b19,_0x2b4d57);return this[_0x246735(0x23c)](_0x477864['x'],_0x477864['y']);}},{'key':_0x2cda1f(0x223),'value':function(_0x2337d8,_0x3ee3f7){var _0x4cbcb8=_0x2cda1f;return _0x2337d8>=this[_0x4cbcb8(0x162)]&&_0x2337d8<=this[_0x4cbcb8(0x24c)]&&_0x3ee3f7>=this[_0x4cbcb8(0x12f)]&&_0x3ee3f7<=this[_0x4cbcb8(0x249)];}},{'key':_0x2cda1f(0x14c),'value':function(){var _0x4cd80e=_0x2cda1f,_0x3088aa=_0x4fbfc6(this[_0x4cd80e(0x162)],this[_0x4cd80e(0x24c)]);return{'lat':_0x4fbfc6(this[_0x4cd80e(0x12f)],this[_0x4cd80e(0x249)]),'lng':_0x3088aa};}}]),_0x234195;}();function _0x4fbfc6(_0x1d655d,_0x31fb2c){var _0xc8dcaa=_0xca6184;return _0x1d655d+Math[_0xc8dcaa(0x20c)]()*(_0x31fb2c-_0x1d655d);}function _0x54c753(_0x36c6cd){var _0x5c9197=function(){var _0x3a5d3f=a0_0x503c;if(_0x3a5d3f(0x267)==typeof Reflect||!Reflect[_0x3a5d3f(0x1a5)])return!0x1;if(Reflect[_0x3a5d3f(0x1a5)]['sham'])return!0x1;if(_0x3a5d3f(0x202)==typeof Proxy)return!0x0;try{return Boolean[_0x3a5d3f(0x1e5)][_0x3a5d3f(0x221)]['call'](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x29e3b6){return!0x1;}}();return function(){var _0xb0f19b=a0_0x503c,_0x173b5b,_0x4317eb=_0x287fc3()(_0x36c6cd);if(_0x5c9197){var _0x453d42=_0x287fc3()(this)[_0xb0f19b(0x174)];_0x173b5b=Reflect[_0xb0f19b(0x1a5)](_0x4317eb,arguments,_0x453d42);}else _0x173b5b=_0x4317eb['apply'](this,arguments);return _0x540653()(this,_0x173b5b);};}var _0x3e047c=function(_0x5ea4b0){var _0x102d36=_0xca6184;_0x1ccbfb()(_0x1c4b22,_0x5ea4b0);var _0x51e02e=_0x54c753(_0x1c4b22);function _0x1c4b22(){var _0x484799=a0_0x503c,_0x3550be,_0x49c668=arguments[_0x484799(0x199)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x5f5455()(this,_0x1c4b22),(_0x3550be=_0x51e02e[_0x484799(0x19d)](this,_0x49c668))[_0x484799(0x11c)]=[0x0,0x0],_0x3550be[_0x484799(0x166)]=[],_0x3550be['speedRate']=_0x49c668[_0x484799(0x175)]||0x32,_0x3550be[_0x484799(0x14a)]=_0x49c668['particlesNumber']||0x4e20,_0x3550be['_maxAge']=_0x49c668['maxAge']||0x78,_0x3550be[_0x484799(0x1d2)]=0x3e8/(_0x49c668[_0x484799(0x1e1)]||0xa),_0x3550be[_0x484799(0x235)]=_0x57ffbf[_0x484799(0x271)](_0x3550be['options'][_0x484799(0x1b9)],!0x1),_0x3550be[_0x484799(0x216)]=_0x49c668['color']||'#ffffff',_0x3550be['lineWidth']=_0x49c668[_0x484799(0x24d)]||0x1,_0x3550be[_0x484799(0x280)]=_0x57ffbf['defaultValue'](_0x49c668['fixedHeight'],0x0),_0x3550be[_0x484799(0x24e)]=_0x57ffbf[_0x484799(0x271)](_0x49c668['reverseY'],!0x1),_0x3550be[_0x484799(0x135)]=null,_0x3550be;}return _0x192622()(_0x1c4b22,[{'key':_0x102d36(0x177),'get':function(){var _0x45d48e=_0x102d36;return this[_0x45d48e(0x135)];}},{'key':'canvasWidth','get':function(){var _0x45daaf=_0x102d36;return this['_map'][_0x45daaf(0x1c7)]['canvas'][_0x45daaf(0x22c)];}},{'key':_0x102d36(0x1a0),'get':function(){var _0x10c0da=_0x102d36;return this[_0x10c0da(0x22e)][_0x10c0da(0x1c7)]['canvas'][_0x10c0da(0x21e)];}},{'key':_0x102d36(0x1b9),'get':function(){var _0x36c5e4=_0x102d36;return this[_0x36c5e4(0x235)];},'set':function(_0x60e3dc){var _0x482357=_0x102d36;this['_pointerEvents']=_0x60e3dc,this[_0x482357(0x135)]&&(this[_0x482357(0x135)][_0x482357(0x1cc)]['pointer-events']=_0x60e3dc?'all':_0x482357(0x259));}},{'key':'speedRate','get':function(){var _0x16acce=_0x102d36;return this[_0x16acce(0x1ce)];},'set':function(_0x5cade){var _0xd141f7=_0x102d36;this['_speedRate']=0x64*(0x64-(_0x5cade>0x63?0x63:_0x5cade)),this[_0xd141f7(0x189)]();}},{'key':'particlesNumber','get':function(){return this['_particlesNumber'];},'set':function(_0x4f63c0){var _0x35dcaf=_0x102d36,_0x2c85a1=this;this[_0x35dcaf(0x14a)]=_0x4f63c0,clearTimeout(this[_0x35dcaf(0x145)]),this[_0x35dcaf(0x145)]=setTimeout(function(){var _0x1e43fd=_0x35dcaf;_0x2c85a1[_0x1e43fd(0x187)]();},0x1f4);}},{'key':_0x102d36(0x1d6),'get':function(){return this['_maxAge'];},'set':function(_0x484fe9){var _0x1ca695=_0x102d36,_0x163403=this;this[_0x1ca695(0x1b1)]=_0x484fe9,clearTimeout(this['canrefresh']),this[_0x1ca695(0x145)]=setTimeout(function(){var _0x22b0cf=_0x1ca695;_0x163403[_0x22b0cf(0x187)]();},0x1f4);}},{'key':_0x102d36(0x160),'get':function(){var _0x3cbf13=_0x102d36;return this[_0x3cbf13(0x248)];},'set':function(_0xb854d7){var _0x55d62a=_0x102d36;this[_0x55d62a(0x220)](_0xb854d7);}},{'key':_0x102d36(0x1cd),'value':function(_0x165d72){var _0x1adfeb=_0x102d36;_0x165d72?this[_0x1adfeb(0x22a)]():(this[_0x1adfeb(0x248)]&&(this[_0x1adfeb(0x285)]['data']=this[_0x1adfeb(0x248)]),this['_removedHook']());}},{'key':_0x102d36(0x1b4),'value':function(){}},{'key':_0x102d36(0x22a),'value':function(){var _0x47e489=_0x102d36;this['canvas']=this[_0x47e489(0x163)](),this[_0x47e489(0x215)]=this[_0x47e489(0x135)]['getContext']('2d'),this['bindEvent'](),this['options'][_0x47e489(0x160)]&&this[_0x47e489(0x220)](this[_0x47e489(0x285)]['data']);}},{'key':_0x102d36(0x15e),'value':function(){var _0x31e2b6=_0x102d36;this['clear'](),this[_0x31e2b6(0x15c)](),this[_0x31e2b6(0x135)]&&(this[_0x31e2b6(0x22e)][_0x31e2b6(0x25f)]['removeChild'](this['canvas']),delete this[_0x31e2b6(0x135)]);}},{'key':_0x102d36(0x163),'value':function(){var _0x402ce9=_0x102d36,_0x172603=document[_0x402ce9(0x168)]('canvas');_0x172603[_0x402ce9(0x1cc)]['position']=_0x402ce9(0x1db),_0x172603['style']['top']=_0x402ce9(0x1bc),_0x172603[_0x402ce9(0x1cc)]['left']='0px',_0x172603[_0x402ce9(0x1cc)][_0x402ce9(0x167)]=_0x402ce9(0x263),_0x172603[_0x402ce9(0x1cc)][_0x402ce9(0x12c)]=_0x402ce9(0x263),_0x172603['style'][_0x402ce9(0x1b9)]=this['_pointerEvents']?_0x402ce9(0x1e2):_0x402ce9(0x259),_0x172603['style'][_0x402ce9(0x152)]=0xa,_0x172603[_0x402ce9(0x268)]('id',_0x402ce9(0x1f4)),_0x172603[_0x402ce9(0x268)](_0x402ce9(0x28a),_0x402ce9(0x1f4)),this[_0x402ce9(0x22e)][_0x402ce9(0x25f)]['appendChild'](_0x172603);var _0x4e6992=this[_0x402ce9(0x22e)][_0x402ce9(0x1c7)];return _0x172603[_0x402ce9(0x167)]=_0x4e6992[_0x402ce9(0x135)][_0x402ce9(0x22c)],_0x172603['height']=_0x4e6992['canvas'][_0x402ce9(0x21e)],_0x172603;}},{'key':_0x102d36(0x1f6),'value':function(){var _0x42aad6=_0x102d36;this[_0x42aad6(0x135)]&&(this['canvas'][_0x42aad6(0x167)]=this[_0x42aad6(0x181)],this[_0x42aad6(0x135)][_0x42aad6(0x12c)]=this[_0x42aad6(0x1a0)]);}},{'key':_0x102d36(0x288),'value':function(){var _0x2be869=_0x102d36,_0x55b973=this,_0x19f0be=Date[_0x2be869(0x241)]();!function _0x164960(){var _0x2779c9=_0x2be869;_0x55b973[_0x2779c9(0x1b7)]=window[_0x2779c9(0x1bb)](_0x164960);var _0x3f6a84=Date[_0x2779c9(0x241)](),_0xe46d42=_0x3f6a84-_0x19f0be;_0xe46d42>_0x55b973[_0x2779c9(0x1d2)]&&(_0x19f0be=_0x3f6a84-_0xe46d42%_0x55b973[_0x2779c9(0x1d2)],_0x55b973['update']());}(),window[_0x2be869(0x22f)](_0x2be869(0x1f6),this['resize'][_0x2be869(0x14b)](this),!0x1),this['mouse_down']=!0x1,this[_0x2be869(0x164)]=!0x1,this[_0x2be869(0x22e)]['on'](_0x3a24a0['EventType'][_0x2be869(0x1e9)],this[_0x2be869(0x158)],this),this[_0x2be869(0x22e)]['on'](_0x3a24a0[_0x2be869(0x250)][_0x2be869(0x147)],this[_0x2be869(0x11e)],this),this[_0x2be869(0x22e)]['on'](_0x3a24a0['EventType'][_0x2be869(0x201)],this[_0x2be869(0x184)],this),this[_0x2be869(0x22e)]['on'](_0x3a24a0['EventType'][_0x2be869(0x1e0)],this[_0x2be869(0x1c3)],this);}},{'key':'unbindEvent','value':function(){var _0x1c0584=_0x102d36;window['cancelAnimationFrame'](this['animateFrame']),delete this[_0x1c0584(0x1b7)],window[_0x1c0584(0x127)](_0x1c0584(0x1f6),this[_0x1c0584(0x1f6)]),this[_0x1c0584(0x22e)][_0x1c0584(0x16d)](_0x3a24a0[_0x1c0584(0x250)][_0x1c0584(0x1e9)],this[_0x1c0584(0x158)],this),this[_0x1c0584(0x22e)][_0x1c0584(0x16d)](_0x3a24a0[_0x1c0584(0x250)][_0x1c0584(0x147)],this[_0x1c0584(0x11e)],this),this[_0x1c0584(0x22e)][_0x1c0584(0x16d)](_0x3a24a0[_0x1c0584(0x250)][_0x1c0584(0x201)],this[_0x1c0584(0x184)],this),this[_0x1c0584(0x22e)][_0x1c0584(0x16d)](_0x3a24a0[_0x1c0584(0x250)][_0x1c0584(0x1e0)],this['_onMouseMoveEvent'],this);}},{'key':_0x102d36(0x158),'value':function(_0x559563){var _0x4b4def=_0x102d36,_0x4dc5d9=this;clearTimeout(this[_0x4b4def(0x182)]),this['show']&&this[_0x4b4def(0x135)]&&(this[_0x4b4def(0x135)][_0x4b4def(0x1cc)][_0x4b4def(0x13c)]=_0x4b4def(0x1c0),this[_0x4b4def(0x182)]=setTimeout(function(){var _0x49c7f0=_0x4b4def;_0x4dc5d9[_0x49c7f0(0x1a3)]&&(_0x4dc5d9[_0x49c7f0(0x187)](),_0x4dc5d9['canvas']['style'][_0x49c7f0(0x13c)]='visible');},0xc8));}},{'key':_0x102d36(0x11e),'value':function(_0x17ace7){this['mouse_down']=!0x0;}},{'key':_0x102d36(0x1c3),'value':function(_0x18d9a3){var _0x3692c5=_0x102d36;this[_0x3692c5(0x1a3)]&&this['canvas']&&this[_0x3692c5(0x137)]&&(this['canvas']['style']['visibility']=_0x3692c5(0x1c0),this[_0x3692c5(0x164)]=!0x0);}},{'key':_0x102d36(0x184),'value':function(_0x238828){var _0x236c18=_0x102d36;this[_0x236c18(0x1a3)]&&this[_0x236c18(0x135)]&&(this[_0x236c18(0x137)]&&this[_0x236c18(0x164)]&&this[_0x236c18(0x187)](),this[_0x236c18(0x135)][_0x236c18(0x1cc)]['visibility']='visible',this[_0x236c18(0x137)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0x102d36(0x187),'value':function(){var _0x3b9971=_0x102d36;this['show']&&this[_0x3b9971(0x222)]&&(this[_0x3b9971(0x166)]=[],this['drawWind']());}},{'key':_0x102d36(0x220),'value':function(_0x5f0930){var _0x19f7ce=_0x102d36;this[_0x19f7ce(0x218)](),this['windData']=_0x5f0930,this[_0x19f7ce(0x222)]=new _0x3302b1(this['windData'],this[_0x19f7ce(0x24e)]),this[_0x19f7ce(0x272)]();}},{'key':_0x102d36(0x272),'value':function(){var _0xe3d117=_0x102d36;this[_0xe3d117(0x189)]();for(var _0x483322=0x0;_0x483322<this[_0xe3d117(0x13f)];_0x483322++){var _0x4dc725=this[_0xe3d117(0x1da)](new _0x155824());this[_0xe3d117(0x166)][_0xe3d117(0x194)](_0x4dc725);}this[_0xe3d117(0x215)]['fillStyle']=_0xe3d117(0x141),this[_0xe3d117(0x215)][_0xe3d117(0x1c1)]=0.6,this['update']();}},{'key':_0x102d36(0x189),'value':function(){var _0x47b7f5=_0x102d36;this[_0x47b7f5(0x222)]&&(this[_0x47b7f5(0x11c)]=[(this[_0x47b7f5(0x222)][_0x47b7f5(0x24c)]-this[_0x47b7f5(0x222)][_0x47b7f5(0x162)])/this[_0x47b7f5(0x175)],(this['windField'][_0x47b7f5(0x249)]-this['windField'][_0x47b7f5(0x12f)])/this[_0x47b7f5(0x175)]]);}},{'key':'update','value':function(){var _0x561cc3=_0x102d36,_0x5eaecd=this;if(this[_0x561cc3(0x1a3)]&&!(this[_0x561cc3(0x166)][_0x561cc3(0x199)]<=0x0)){var _0xd10cb4=null,_0x4bb337=null,_0x53eaf1=null;this[_0x561cc3(0x166)][_0x561cc3(0x19b)](function(_0x5b59cf){var _0x2929bb=_0x561cc3;if(_0x5b59cf[_0x2929bb(0x134)]<=0x0&&_0x5eaecd[_0x2929bb(0x1da)](_0x5b59cf),_0x5b59cf['age']>0x0){var _0x213bc5=_0x5b59cf[_0x2929bb(0x154)],_0x2ef620=_0x5b59cf[_0x2929bb(0x19e)];(_0x53eaf1=_0x5eaecd['windField'][_0x2929bb(0x18b)](_0x213bc5,_0x2ef620))?(_0xd10cb4=_0x213bc5+_0x5eaecd['calc_speedRate'][0x0]*_0x53eaf1[0x0],_0x4bb337=_0x2ef620+_0x5eaecd['calc_speedRate'][0x1]*_0x53eaf1[0x1],_0x5b59cf[_0x2929bb(0x219)]=_0x213bc5,_0x5b59cf[_0x2929bb(0x1ca)]=_0x2ef620,_0x5b59cf['tlng']=_0xd10cb4,_0x5b59cf[_0x2929bb(0x19e)]=_0x4bb337,_0x5b59cf[_0x2929bb(0x134)]--):_0x5b59cf[_0x2929bb(0x134)]=0x0;}}),this['_drawLines']();}}},{'key':_0x102d36(0x1af),'value':function(_0x1e8980,_0x2b32f4,_0x4d4ccc){var _0x1b2634=_0x102d36,_0x2bcf61=_0x57ffbf[_0x1b2634(0x24b)]['fromDegrees'](_0x1e8980,_0x2b32f4,this[_0x1b2634(0x280)]),_0x50fb60=this[_0x1b2634(0x22e)][_0x1b2634(0x1c7)];if(_0x50fb60['mode']===_0x57ffbf['SceneMode'][_0x1b2634(0x16b)]&&!new _0x57ffbf[(_0x1b2634(0x159))](_0x50fb60[_0x1b2634(0x15d)]['ellipsoid'],_0x50fb60['camera'][_0x1b2634(0x1bd)])[_0x1b2634(0x20b)](_0x2bcf61))return _0x4d4ccc[_0x1b2634(0x134)]=0x0,null;var _0x472d41=_0x57ffbf['SceneTransforms']['wgs84ToWindowCoordinates'](this['_map'][_0x1b2634(0x1c7)],_0x2bcf61);return _0x472d41?[_0x472d41['x'],_0x472d41['y']]:null;}},{'key':_0x102d36(0x148),'value':function(){var _0x59c626=_0x102d36,_0x4ce2ca=this,_0x2e8127=this[_0x59c626(0x166)];this['canvasContext']['lineWidth']=_0x4ce2ca[_0x59c626(0x24d)],this[_0x59c626(0x215)]['globalCompositeOperation']=_0x59c626(0x229),this[_0x59c626(0x215)]['fillRect'](0x0,0x0,this[_0x59c626(0x181)],this[_0x59c626(0x1a0)]),this[_0x59c626(0x215)][_0x59c626(0x1ba)]=_0x59c626(0x196),this['canvasContext'][_0x59c626(0x1c1)]=0.9,this['canvasContext'][_0x59c626(0x225)](),this[_0x59c626(0x215)][_0x59c626(0x242)]=this[_0x59c626(0x216)];var _0x361262=this[_0x59c626(0x22e)][_0x59c626(0x1c7)][_0x59c626(0x180)]!==_0x57ffbf[_0x59c626(0x217)]['SCENE3D'];_0x2e8127[_0x59c626(0x19b)](function(_0xeba0c9){var _0x5a9ed7=_0x59c626,_0x51ad2c=_0x4ce2ca[_0x5a9ed7(0x1af)](_0xeba0c9[_0x5a9ed7(0x219)],_0xeba0c9['lat'],_0xeba0c9),_0x5f49cb=_0x4ce2ca[_0x5a9ed7(0x1af)](_0xeba0c9[_0x5a9ed7(0x154)],_0xeba0c9[_0x5a9ed7(0x19e)],_0xeba0c9);if(null!=_0x51ad2c&&null!=_0x5f49cb){var _0x4ba898=Math[_0x5a9ed7(0x19a)](_0x51ad2c[0x0]-_0x5f49cb[0x0]);_0x361262&&_0x4ba898>=_0x4ce2ca[_0x5a9ed7(0x181)]||(_0x4ce2ca[_0x5a9ed7(0x215)][_0x5a9ed7(0x254)](_0x51ad2c[0x0],_0x51ad2c[0x1]),_0x4ce2ca[_0x5a9ed7(0x215)][_0x5a9ed7(0x258)](_0x5f49cb[0x0],_0x5f49cb[0x1]));}}),this[_0x59c626(0x215)][_0x59c626(0x27c)]();}},{'key':_0x102d36(0x1da),'value':function(_0x350dc7){var _0x329d46=_0x102d36;for(var _0x31c2fc,_0x20143a,_0x3e8430=0x0;_0x3e8430<0x1e&&(_0x31c2fc=this['windField'][_0x329d46(0x14c)](),!((_0x20143a=this[_0x329d46(0x222)][_0x329d46(0x18b)](_0x31c2fc[_0x329d46(0x219)],_0x31c2fc[_0x329d46(0x1ca)]))&&_0x20143a[0x2]>0x0));_0x3e8430++);if(!_0x20143a)return _0x350dc7;var _0x35e5d9=_0x31c2fc[_0x329d46(0x219)]+this[_0x329d46(0x11c)][0x0]*_0x20143a[0x0],_0x2153fd=_0x31c2fc[_0x329d46(0x1ca)]+this[_0x329d46(0x11c)][0x1]*_0x20143a[0x1];return _0x350dc7[_0x329d46(0x219)]=_0x31c2fc[_0x329d46(0x219)],_0x350dc7[_0x329d46(0x1ca)]=_0x31c2fc[_0x329d46(0x1ca)],_0x350dc7[_0x329d46(0x154)]=_0x35e5d9,_0x350dc7[_0x329d46(0x19e)]=_0x2153fd,_0x350dc7[_0x329d46(0x134)]=Math[_0x329d46(0x179)](Math[_0x329d46(0x20c)]()*this['maxAge']),_0x350dc7;}},{'key':_0x102d36(0x218),'value':function(){var _0x40fd55=_0x102d36;this['particles']=[],delete this['windField'],delete this[_0x40fd55(0x248)];}}]),_0x1c4b22;}(_0x3a24a0['layer'][_0xca6184(0x1f9)]);function _0x46cd46(_0x328ef,_0x422cb6){return _0x328ef*Math['cos'](_0x57ffbf['Math']['toRadians'](_0x422cb6));}function _0x5ab890(_0x14c7be,_0x489ccb){var _0x100fc1=_0xca6184;return _0x14c7be*Math[_0x100fc1(0x1e3)](_0x57ffbf[_0x100fc1(0x1a2)][_0x100fc1(0x12b)](_0x489ccb));}function _0x583b2f(_0x4cd9f2,_0x321886){var _0x35fd3d=_0xca6184;return Math[_0x35fd3d(0x149)](Math[_0x35fd3d(0x15b)](_0x4cd9f2,0x2)+Math[_0x35fd3d(0x15b)](_0x321886,0x2));}function _0x23d678(_0x1293ea,_0x43d939){var _0xb6b3fd=_0xca6184,_0x1855c0=_0x57ffbf[_0xb6b3fd(0x1a2)][_0xb6b3fd(0x27b)](Math['atan2'](_0x43d939,_0x1293ea));return _0x1855c0+=_0x1855c0<0x0?0x168:0x0;}_0x3a24a0[_0xca6184(0x188)][_0xca6184(0x1ed)](_0xca6184(0x16c),_0x3e047c),_0x3a24a0[_0xca6184(0x177)][_0xca6184(0x1d3)]=_0x3e047c,_0x3a24a0[_0xca6184(0x1d8)]=_0x3aca08;}]);}));function a0_0x160b(){var _0x22762c=['globe','_removedHook','shaderProgram','data','fromDegrees','xmin','_createCanvas','mouse_move','applyUserInput','particles','width','createElement','lev','Appearance','SCENE3D','canvasWind','off','DEPTH_COMPONENT','east','cols','RGB','mars3dWind','writable','constructor','speedRate','nextTrailsColor','layer','setGeometry','round','applyViewerParameters','uniformMap','currentTrails','particlesTextures','STATIC_DRAW','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','mode','canvasWidth','refreshTimer','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','_onMouseUpEvent','attributeLocations','dropRate','redraw','LayerUtil','_calcStep','createComputingPrimitives','getUVByPoint','maxParticles','GeometryAttributes','log','viewerParameters','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','getWind','grid','ellipsoid','push','Pass','lighter','defineProperty','GeometryAttribute','length','abs','forEach','BufferUsage','call','tlat','WMS_URL','canvasHeight','ceil','Math','show','createWindTextures','construct','max','create','particlesComputing','trails','IDENTITY','1114886CciTqi','getDefaultRenderState','currentTrailsDepth','default','_tomap','createParticlesTextures','_maxAge','windTextures','getUserInput','_mountedHook','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','fromGeometry','animateFrame','PrimitiveType','pointerEvents','globalCompositeOperation','requestAnimationFrame','0px','positionWC','getU','primitives','hidden','globalAlpha','particlesRendering','_onMouseMoveEvent','getColorTexture','addPrimitives','colorTable','scene','Cartesian2','clearCommand','lat','createCommand','style','_showHook','_speedRate','userInput','lon','outputTexture','frameTime','CanvasWindLayer','exports','2HgDbCU','maxAge','Draw','WindUtil','framebuffers','randomParticle','absolute','west','destroy','particlesTextureSize','speedFactor','mouseMove','frameRate','auto','sin','FLOAT','prototype','commandList','_onMap_preRenderEvent','createRenderingFramebuffers','wheel','DrawCommand','Sampler','5gMoamK','register','add','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','nextTrailsDepth','getPrototypeOf','dropRateBump','globeBoundingSphere','canvasWindy','22820076zGcGDe','resize','segmentsDepth','lonRange','BaseLayer','latRange','postProcessingPosition','VertexArray','DISABLE_GL_POSITION_LOG_DEPTH','ShaderSource','createFramebuffer','clearFramebuffers','mouseUp','function','object','update','floor','vdata','udata','blending','toGridXY','nextParticlesSpeed','isPointVisible','random','segments','sham','particleSystem','createRenderingPrimitives','Cesium','geometry','mars3d','2763tgKaSq','canvasContext','color','SceneMode','clear','lng','currentTrailsColor','PI_OVER_TWO','depthTest','ClearCommand','clientHeight','4367286PHzGms','updateDate','valueOf','windField','isInExtent','primitiveType','beginPath','createRawRenderState','THREE_PI_OVER_TWO','textures','destination-in','_addedHook','min','clientWidth','keys','_map','addEventListener','particleHeight','depthTexture','viewport','dimensions','configurable','_pointerEvents','getFullscreenQuad','PixelFormat','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','destroyParticlesTextures','defined','vertexArray','getUVByXY','once','arrayBufferView','updateViewerParameters','ComponentDatatype','now','strokeStyle','camera','removeAll','__esModule','TextureMinificationFilter','createRenderingTextures','windData','ymax','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Cartesian3','xmax','lineWidth','reverseY','ALWAYS','EventType','iterator','framebuffer','15piEkOt','moveTo','postProcessingSpeed','getPixelSize','136GFAoQM','lineTo','none','setOptions','RGBA','destroyObject','BoundingSphere','fragmentShaderSource','container','PixelDatatype','currentParticlesPosition','viewRectangleToLonLatRange','100%','depthMask','execute','_bilinearInterpolation','undefined','setAttribute','updateSpeed','3691770ouzOWJ','LUMINANCE','289142pmSUjC','__proto__','PrimitiveCollection','updatePosition','Color','defaultValue','drawWind','toStringTag','rawRenderState','Compute','mars3d-cesium','nextTrails','fadeOpacity','value','setPrototypeOf','toDegrees','stroke','Module','createTexture','preRender','fixedHeight','RenderState','LINEAR','commandType','autoClear','options','TWO_PI','nextParticlesPosition','bindEvent','ComputeCommand','class','calc_speedRate','globeLayer','_onMouseDownEvent','enumerable','fromCache','array','north','preExecute','commandToExecute','ZERO','symbol','removeEventListener','TRIANGLES','Geometry','createSegmentsGeometry','toRadians','height','ShaderProgram','currentParticlesSpeed','ymin','segmentsColor','drawingBufferWidth','particlesWind','rows','age','canvas','mod','mouse_down','randomizeParticles','canvasResize','PI_OVER_THREE','randomBetween','visibility','drawingBufferHeight','TextureMagnificationFilter','particlesNumber','OPAQUE','rgba(0,\x200,\x200,\x200.97)','pixelSize','DepthFunction','clampToLatitudeRange','canrefresh','isDestroyed','mouseDown','_drawLines','sqrt','_particlesNumber','bind','getRandomLatLng','context','vertexShaderSource','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','refreshParticles','south','zIndex','467772bMolrj','tlng','colorNum','38120WGKirj','NEAREST','_onMapWhellEvent','EllipsoidalOccluder','getSpeed','pow','unbindEvent'];a0_0x160b=function(){return _0x22762c;};return a0_0x160b();}