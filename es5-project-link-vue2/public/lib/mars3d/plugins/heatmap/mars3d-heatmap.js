/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.8
 * 编译日期：2022-05-09 21:19:57
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x1f3a37=_0x130c;(function(_0x118c38,_0x4132d5){var _0x309e1b=_0x130c,_0x2f8f2e=_0x118c38();while(!![]){try{var _0x103b7d=-parseInt(_0x309e1b(0x10d))/0x1+-parseInt(_0x309e1b(0x13b))/0x2+parseInt(_0x309e1b(0x126))/0x3+-parseInt(_0x309e1b(0x14b))/0x4+-parseInt(_0x309e1b(0x11b))/0x5*(-parseInt(_0x309e1b(0xfe))/0x6)+parseInt(_0x309e1b(0xbf))/0x7*(-parseInt(_0x309e1b(0x151))/0x8)+parseInt(_0x309e1b(0x13c))/0x9;if(_0x103b7d===_0x4132d5)break;else _0x2f8f2e['push'](_0x2f8f2e['shift']());}catch(_0x128833){_0x2f8f2e['push'](_0x2f8f2e['shift']());}}}(_0x37ae,0xf3cc5));function _0x37ae(){var _0xcb583d=['y29UzMLNDxjHyMXL','Eg1PBG','AxngB3jTyxq','zNjVBunHy2HL','zMX5vg8','ywrKr3jHCgHPyW','zgLMzKHLAwDODa','Bwf4','twf0zxjPywW','Dg9bCNjHEq','z3jHCgHPyW','BwLU','CMvJDgfUz2XL','z3jLzw4','yM9KEq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','y2XPzw50v2LKDgG','BwfYCZnKlwHLyxrTyxa','zgvMAw5LuhjVCgvYDhK','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','mteXnJaYneP6yLffwa','AgvHDfn0EwXL','B3b0Aw9UCW','x3jLBMrLCMvY','y2XLyxi','z2v0','zNjVBurLz3jLzxm','z2v0uMvJDgfUz2XL','CMvTB3zLq2HPBgq','D2LKDgG','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','zNvUy3rPB24','CMvNAxn0zxi','u3rLBMnPBe9WzxjHDgLVBG','mtmYndi0nfLRuw9eEq','uMvJDgfUz2XLuhjPBwL0AxzL','zw51BwvYywjSzq','x2DYyxbOAwm','BgvUz3rO','y2XPzw50sgvPz2H0','x3bVC2L0Aw9UCW','zgvMyxvSDa','zgvMyxvSDfzHBhvL','r3jHCgHPy0XHEwvY','x19LC01VzhvSzq','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','C3bSAxroDw0','Aw1Hz2uVCg5N','ndbHqxzlvuK','yxjJ','x2XHC3rFAgvHDerHDge','Cg9ZAxrPB25Z','y3nZvgv4Da','yxjJqMX1CLnJywXL','Bwf4q2fUDMfZu2L6zq','y29VCMrPBMf0zxm','y2fSBa','Bgf0','CMDIkdaSmcWWkq','mZe1nJyZtuXNrK1U','x3nLDe9WDgLVBNniB29R','s0vfua','x21cB3vUzhnnyxG','ywjZ','z3jHBNvSyxjPDhK','x2nYzwf0zuDYyxbOAwm','x2HLyxq','x2DLDeHLyxrdyw52yxnjBwC','qMXLBMrPBMDtDgf0zq','q29SB3i','BwLUq2fUDMfZu2L6zq','zgvMAw5LuhjVCgvYDgLLCW','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','Bgf5zxi','CMDIkdiXnIWYmtySmJe2kq','ywrKug9ZAxrPB24','CMfKAxvZ','Bg5N','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','mJyZnJiXog5SAerfyq','mJG5nJm2mZHHr3H6BhG','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','C2HVDW','tgf5zxjvDgLS','y29UzMLNDxjL','yxbWBhK','x21HCNmZzf9WCML2yxrL','uMvJDgfUz2XL','vxrPBa','x2XHEwvY','x2nYzwf0zufYy0DYyxbOAwm','x19WCM90B19F','ywrKtgf5zxi','qMfZzuXHEwvY','z3jHzgLLBNrbCMm','mJiWnJG5nKzSt3zlvG','zMX5vg9cEufUAw1HDgLVBKvUza','zMXVB3i','y29UC3rYDwn0B3i','ChvZAa','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','mZq2mtzhs3ffue8','y3jLyxrL','y29UC3rYDwn0','sgvHDeXHEwvY','tg5Ntgf0ug9PBNq','zM9YrwfJAa','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','yMX1zq','CM91BMq','y29UDgfPBMvY','x21HCa','B2jQzwn0','uMvUzgvYu3rHDgu','mtaWmwD1A2LyyW','Cg9PBNrZ','Dg9eyxrHvvjm','ChG7','CMvTB3zLtgf5zxi','Ew1HEa','Bg9UBgf0mM1LCMnHDg9Y','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','DMfSDwu','CMvK','ug9SEvv0AwW','y29Uy2f0','z2v0uhjVDg90ExbLt2y','ChjVDg90ExbL','quXxqvLt','AgvHDa','Ew1PBG','C2v0rgf0yq','zgL2','quXqsefFqKXftKq','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','Dw5KzwzPBMvK','DMfSDwvpzG','x3jLy3rHBMDSzq','ug9PBNruCMfUCW','CMvTB3zLr3jHCgHPyW','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','BwvYy2f0B3iYBg9UBgf0','x2XHC3rFBujVDw5KCW','y2fUDMfZ','BwvYz2u','C3r5Bgu','Eg1HEa','u3rLBMnPBez1BMn0Aw9U','C2HHBq','x3jLBw92zwriB29R','CgfYC2u','uKvqtefdrq','C2v0uhjVDg90ExbLt2y','q2fYDgvZAwfUmG','rg9TvxrPBa','A2v5CW','EwvSBg93'];_0x37ae=function(){return _0xcb583d;};return _0x37ae();}function _interopNamespace(_0x1c3d57){var _0x22d81e=_0x130c;if(_0x1c3d57&&_0x1c3d57['__esModule'])return _0x1c3d57;var _0x2b74a9=Object[_0x22d81e(0x152)](null);return _0x1c3d57&&Object[_0x22d81e(0xe8)](_0x1c3d57)['forEach'](function(_0x38db39){var _0xd92bb1=_0x22d81e;if(_0x38db39!==_0xd92bb1(0x114)){var _0x44cf21=Object['getOwnPropertyDescriptor'](_0x1c3d57,_0x38db39);Object[_0xd92bb1(0xfc)](_0x2b74a9,_0x38db39,_0x44cf21[_0xd92bb1(0x103)]?_0x44cf21:{'enumerable':!![],'get':function(){return _0x1c3d57[_0x38db39];}});}}),_0x2b74a9[_0x22d81e(0x114)]=_0x1c3d57,_0x2b74a9;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x524c13,_0x1a421b){var _0x3bf994=_0x130c,_0x3dd43c=Object[_0x3bf994(0xe8)](_0x524c13);if(Object[_0x3bf994(0xc6)]){var _0x215489=Object[_0x3bf994(0xc6)](_0x524c13);_0x1a421b&&(_0x215489=_0x215489['filter'](function(_0x27df55){var _0x53e83e=_0x3bf994;return Object[_0x53e83e(0x13d)](_0x524c13,_0x27df55)[_0x53e83e(0x10f)];})),_0x3dd43c[_0x3bf994(0x14f)][_0x3bf994(0x141)](_0x3dd43c,_0x215489);}return _0x3dd43c;}function _objectSpread2(_0x56ed59){var _0x433f14=_0x130c;for(var _0xb0549d=0x1;_0xb0549d<arguments[_0x433f14(0x111)];_0xb0549d++){var _0x4ed02b=null!=arguments[_0xb0549d]?arguments[_0xb0549d]:{};_0xb0549d%0x2?ownKeys(Object(_0x4ed02b),!0x0)[_0x433f14(0x156)](function(_0x1185ee){_defineProperty(_0x56ed59,_0x1185ee,_0x4ed02b[_0x1185ee]);}):Object['getOwnPropertyDescriptors']?Object[_0x433f14(0x132)](_0x56ed59,Object[_0x433f14(0x108)](_0x4ed02b)):ownKeys(Object(_0x4ed02b))[_0x433f14(0x156)](function(_0x8c0904){var _0x531e35=_0x433f14;Object[_0x531e35(0xfc)](_0x56ed59,_0x8c0904,Object['getOwnPropertyDescriptor'](_0x4ed02b,_0x8c0904));});}return _0x56ed59;}function _classCallCheck(_0x3d9351,_0x321618){var _0x1d420d=_0x130c;if(!(_0x3d9351 instanceof _0x321618))throw new TypeError(_0x1d420d(0x13a));}function _defineProperties(_0x244876,_0x5f20be){var _0x23c5ef=_0x130c;for(var _0x217b3e=0x0;_0x217b3e<_0x5f20be[_0x23c5ef(0x111)];_0x217b3e++){var _0x2f4cab=_0x5f20be[_0x217b3e];_0x2f4cab[_0x23c5ef(0x10f)]=_0x2f4cab[_0x23c5ef(0x10f)]||![],_0x2f4cab[_0x23c5ef(0xea)]=!![];if(_0x23c5ef(0xc7)in _0x2f4cab)_0x2f4cab['writable']=!![];Object[_0x23c5ef(0xfc)](_0x244876,_0x2f4cab['key'],_0x2f4cab);}}function _createClass(_0x3fb1bc,_0x3accae,_0x3b4dd5){var _0x3e1cd8=_0x130c;if(_0x3accae)_defineProperties(_0x3fb1bc['prototype'],_0x3accae);if(_0x3b4dd5)_defineProperties(_0x3fb1bc,_0x3b4dd5);return Object[_0x3e1cd8(0xfc)](_0x3fb1bc,_0x3e1cd8(0xcc),{'writable':![]}),_0x3fb1bc;}function _defineProperty(_0x1d034f,_0x4251fd,_0xcec2a9){var _0x3989b6=_0x130c;return _0x4251fd in _0x1d034f?Object[_0x3989b6(0xfc)](_0x1d034f,_0x4251fd,{'value':_0xcec2a9,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x1d034f[_0x4251fd]=_0xcec2a9,_0x1d034f;}function _inherits(_0x2fd59f,_0x153586){var _0x20e548=_0x130c;if(typeof _0x153586!==_0x20e548(0x10a)&&_0x153586!==null)throw new TypeError(_0x20e548(0xd9));_0x2fd59f[_0x20e548(0xcc)]=Object[_0x20e548(0x152)](_0x153586&&_0x153586[_0x20e548(0xcc)],{'constructor':{'value':_0x2fd59f,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x2fd59f,_0x20e548(0xcc),{'writable':![]});if(_0x153586)_setPrototypeOf(_0x2fd59f,_0x153586);}function _0x130c(_0x31e1b1,_0xddb19d){var _0x37ae24=_0x37ae();return _0x130c=function(_0x130c14,_0x2c9162){_0x130c14=_0x130c14-0xbf;var _0x809f12=_0x37ae24[_0x130c14];if(_0x130c['PzMRmx']===undefined){var _0x24b113=function(_0x1c3d57){var _0x2b74a9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x38db39='',_0x44cf21='';for(var _0x524c13=0x0,_0x1a421b,_0x3dd43c,_0x215489=0x0;_0x3dd43c=_0x1c3d57['charAt'](_0x215489++);~_0x3dd43c&&(_0x1a421b=_0x524c13%0x4?_0x1a421b*0x40+_0x3dd43c:_0x3dd43c,_0x524c13++%0x4)?_0x38db39+=String['fromCharCode'](0xff&_0x1a421b>>(-0x2*_0x524c13&0x6)):0x0){_0x3dd43c=_0x2b74a9['indexOf'](_0x3dd43c);}for(var _0x27df55=0x0,_0x56ed59=_0x38db39['length'];_0x27df55<_0x56ed59;_0x27df55++){_0x44cf21+='%'+('00'+_0x38db39['charCodeAt'](_0x27df55)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x44cf21);};_0x130c['zaGwyI']=_0x24b113,_0x31e1b1=arguments,_0x130c['PzMRmx']=!![];}var _0x485ef5=_0x37ae24[0x0],_0x24b955=_0x130c14+_0x485ef5,_0x12bc8f=_0x31e1b1[_0x24b955];return!_0x12bc8f?(_0x809f12=_0x130c['zaGwyI'](_0x809f12),_0x31e1b1[_0x24b955]=_0x809f12):_0x809f12=_0x12bc8f,_0x809f12;},_0x130c(_0x31e1b1,_0xddb19d);}function _getPrototypeOf(_0x38128e){var _0x43f506=_0x130c;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x43f506(0xcb)]:function _0x1634cb(_0x24c1e3){var _0x256332=_0x43f506;return _0x24c1e3[_0x256332(0x147)]||Object['getPrototypeOf'](_0x24c1e3);},_getPrototypeOf(_0x38128e);}function _setPrototypeOf(_0x290778,_0x1595d1){var _0x19ecdd=_0x130c;return _setPrototypeOf=Object[_0x19ecdd(0xe5)]||function _0x496787(_0x33497c,_0x555daa){var _0x212ffd=_0x19ecdd;return _0x33497c[_0x212ffd(0x147)]=_0x555daa,_0x33497c;},_setPrototypeOf(_0x290778,_0x1595d1);}function _isNativeReflectConstruct(){var _0x5a4cd6=_0x130c;if(typeof Reflect===_0x5a4cd6(0xd4)||!Reflect['construct'])return![];if(Reflect['construct'][_0x5a4cd6(0xe1)])return![];if(typeof Proxy===_0x5a4cd6(0x10a))return!![];try{return Boolean[_0x5a4cd6(0xcc)][_0x5a4cd6(0xd5)][_0x5a4cd6(0x123)](Reflect[_0x5a4cd6(0x153)](Boolean,[],function(){})),!![];}catch(_0x2f66ed){return![];}}function _assertThisInitialized(_0x4b7983){var _0x48e5a9=_0x130c;if(_0x4b7983===void 0x0)throw new ReferenceError(_0x48e5a9(0x109));return _0x4b7983;}function _possibleConstructorReturn(_0x4d627d,_0x4ec751){var _0x510077=_0x130c;if(_0x4ec751&&(typeof _0x4ec751===_0x510077(0x15c)||typeof _0x4ec751===_0x510077(0x10a)))return _0x4ec751;else{if(_0x4ec751!==void 0x0)throw new TypeError(_0x510077(0x157));}return _assertThisInitialized(_0x4d627d);}function _createSuper(_0x1b1838){var _0x4350b7=_isNativeReflectConstruct();return function _0x3e4cd9(){var _0x21c267=_0x130c,_0x2e6e74=_getPrototypeOf(_0x1b1838),_0x35b1ce;if(_0x4350b7){var _0x241598=_getPrototypeOf(this)[_0x21c267(0x14e)];_0x35b1ce=Reflect[_0x21c267(0x153)](_0x2e6e74,arguments,_0x241598);}else _0x35b1ce=_0x2e6e74[_0x21c267(0x141)](this,arguments);return _possibleConstructorReturn(this,_0x35b1ce);};}var HeatMaterial=_0x1f3a37(0xf9);if(!h337__namespace[_0x1f3a37(0x152)])throw new Error(_0x1f3a37(0x134));var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x1f3a37(0x135)][_0x1f3a37(0x149)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x1f3a37(0x158),0.6:_0x1f3a37(0xf7),0.8:_0x1f3a37(0xe9),0.9:_0x1f3a37(0xc8)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance']['VERTEX_FORMAT']},HeatLayer=function(_0x4350c4){var _0x4f583d=_0x1f3a37;_inherits(_0x57ec53,_0x4350c4);var _0x58e360=_createSuper(_0x57ec53);function _0x57ec53(){var _0x5adc12=_0x130c,_0x3283b5,_0x4d1a4e=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x57ec53),_0x3283b5=_0x58e360['call'](this,_0x4d1a4e),_0x3283b5[_0x5adc12(0x100)][_0x5adc12(0x121)]=Cesium[_0x5adc12(0x115)](_0x3283b5[_0x5adc12(0x100)][_0x5adc12(0x121)],document[_0x5adc12(0xf8)][_0x5adc12(0xfa)]),_0x3283b5[_0x5adc12(0x100)][_0x5adc12(0x121)]=Math['min'](_0x3283b5[_0x5adc12(0x100)]['maxCanvasSize'],0x1388),_0x3283b5[_0x5adc12(0x100)][_0x5adc12(0x131)]=Cesium[_0x5adc12(0x115)](_0x3283b5['options']['minCanvasSize'],document[_0x5adc12(0xf8)][_0x5adc12(0x112)]),_0x3283b5['options'][_0x5adc12(0x131)]=Math[_0x5adc12(0xf1)](_0x3283b5[_0x5adc12(0x100)][_0x5adc12(0x131)],0x2bc),_0x3283b5['options'][_0x5adc12(0xff)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x3283b5[_0x5adc12(0x100)][_0x5adc12(0xff)]||{}),_0x3283b5[_0x5adc12(0x100)][_0x5adc12(0xde)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x3283b5['options']['style']||{}),_0x3283b5;}return _createClass(_0x57ec53,[{'key':'layer','get':function _0x3902fc(){var _0x575b88=_0x130c;return this[_0x575b88(0x145)];}},{'key':_0x4f583d(0xff),'get':function _0x17c4e9(){var _0x5823c4=_0x4f583d;return this[_0x5823c4(0x100)][_0x5823c4(0xff)];},'set':function _0x17de3a(_0x165294){var _0x24f1fb=_0x4f583d;this[_0x24f1fb(0x100)][_0x24f1fb(0xff)]=mars3d__namespace[_0x24f1fb(0x144)][_0x24f1fb(0xdd)](this[_0x24f1fb(0x100)][_0x24f1fb(0xff)],_0x165294),this[_0x24f1fb(0x12d)]&&this['_heat'][_0x24f1fb(0x140)](this['options'][_0x24f1fb(0xff)]);}},{'key':_0x4f583d(0xde),'get':function _0x5e6298(){var _0x355399=_0x4f583d;return this[_0x355399(0x100)][_0x355399(0xde)];},'set':function _0x95509d(_0x43dcd7){var _0x67c707=_0x4f583d;this[_0x67c707(0x100)][_0x67c707(0xde)]=mars3d__namespace[_0x67c707(0x144)]['merge'](this[_0x67c707(0x100)][_0x67c707(0xde)],_0x43dcd7);}},{'key':_0x4f583d(0x11e),'get':function _0x4e489f(){var _0x4a4a4a=_0x4f583d;return this[_0x4a4a4a(0x113)];},'set':function _0x56003e(_0x483d47){var _0x2e1090=_0x4f583d;this[_0x2e1090(0x113)]=_0x483d47,this[_0x2e1090(0x133)]();}},{'key':_0x4f583d(0x122),'get':function _0x20bfc6(){var _0x27de93=_0x4f583d,_0x4cc622=[];return this[_0x27de93(0xc0)][_0x27de93(0x156)](function(_0x25ff2d){var _0x359661=_0x27de93;_0x4cc622[_0x359661(0x14f)](_0x25ff2d[_0x359661(0xf3)]());}),_0x4cc622;}},{'key':_0x4f583d(0xf6),'get':function _0x3965e3(){var _0x4e1fb7=_0x4f583d;return this[_0x4e1fb7(0xd6)];}},{'key':_0x4f583d(0x127),'value':function _0x11493d(_0x280fe3){var _0x42fbde=_0x4f583d;_0x280fe3['positions']&&(this['positions']=_0x280fe3[_0x42fbde(0x11e)]);}},{'key':'_mountedHook','value':function _0x29ff00(){var _0x5a57b9=_0x4f583d;this[_0x5a57b9(0x145)]=new mars3d__namespace['layer'][(_0x5a57b9(0x116))]({'noLayerManage':!![]}),this[_0x5a57b9(0x145)][_0x5a57b9(0x142)]=!![];}},{'key':'_addedHook','value':function _0x520da7(){var _0x56c769=_0x4f583d;this[_0x56c769(0x15b)][_0x56c769(0x148)](this['_layer']),this[_0x56c769(0x100)][_0x56c769(0x11e)]&&(this[_0x56c769(0x11e)]=this[_0x56c769(0x100)]['positions']),this[_0x56c769(0x100)][_0x56c769(0xee)]&&this[_0x56c769(0x14c)]();}},{'key':_0x4f583d(0xe2),'value':function _0x2ab870(){var _0x49b6fa=_0x4f583d;this[_0x49b6fa(0xff)][_0x49b6fa(0x15a)]&&(this[_0x49b6fa(0x15b)]['container'][_0x49b6fa(0x106)](this[_0x49b6fa(0xff)][_0x49b6fa(0x15a)]),delete this['heatStyle'][_0x49b6fa(0x15a)]),this['clear'](),this[_0x49b6fa(0x15b)][_0x49b6fa(0xc3)](this[_0x49b6fa(0x145)]);}},{'key':_0x4f583d(0x137),'value':function _0x335039(_0x38304f){var _0xddec1d=_0x4f583d;this['_positions']=this['_positions']||[],this[_0xddec1d(0x113)][_0xddec1d(0x14f)](_0x38304f),this[_0xddec1d(0x133)]();}},{'key':'clear','value':function _0xcf407f(){var _0x3a6044=_0x4f583d;this[_0x3a6044(0x110)]&&(this['_layer'][_0x3a6044(0xd8)](this['_graphic'],!![]),delete this[_0x3a6044(0x110)]);}},{'key':_0x4f583d(0x133),'value':function _0x1d6173(){var _0x1ab27a=_0x4f583d;if(!this[_0x1ab27a(0x13e)]||!this[_0x1ab27a(0x15b)]||!this['positions']||this['positions'][_0x1ab27a(0x111)]===0x0)return this;var _0x6d6952=this[_0x1ab27a(0x12e)]();return this[_0x1ab27a(0xde)][_0x1ab27a(0x11c)]?this['_createArcGraphic'](_0x6d6952):this['_createGraphic'](_0x6d6952),this;}},{'key':_0x4f583d(0x12e),'value':function _0x22faa4(){var _0x4a170e=_0x4f583d,_0x1fb19e,_0x5f394b,_0xa01456=this['_positions'],_0x140f40=[],_0x3e1a34,_0x38170f,_0x25d832,_0xab85d0;_0xa01456[_0x4a170e(0x156)](function(_0x49f02e){var _0x599ec4=_0x4a170e,_0x1f7f1d=mars3d__namespace[_0x599ec4(0x155)][_0x599ec4(0xe3)](_0x49f02e);if(!_0x1f7f1d)return;_0x1f7f1d[_0x599ec4(0xc7)]=_0x49f02e[_0x599ec4(0xc7)]||0x1,_0x3e1a34===undefined?(_0x3e1a34=_0x1f7f1d[_0x599ec4(0x139)],_0x38170f=_0x1f7f1d[_0x599ec4(0x139)],_0x25d832=_0x1f7f1d[_0x599ec4(0x124)],_0xab85d0=_0x1f7f1d[_0x599ec4(0x124)]):(_0x3e1a34=Math[_0x599ec4(0xf5)](_0x3e1a34,_0x1f7f1d[_0x599ec4(0x139)]),_0x38170f=Math['max'](_0x38170f,_0x1f7f1d[_0x599ec4(0x139)]),_0x25d832=Math['min'](_0x25d832,_0x1f7f1d['lat']),_0xab85d0=Math['max'](_0xab85d0,_0x1f7f1d[_0x599ec4(0x124)])),_0x140f40[_0x599ec4(0x14f)](_0x1f7f1d);});var _0x2a2173=this['heatStyle']['radius']*1.5,_0x1225ae={'xmin':_0x3e1a34,'xmax':_0x38170f,'ymin':_0x25d832,'ymax':_0xab85d0},_0x440da1=getMercatorBounds(_0x1225ae),_0x2947f2=Math[_0x4a170e(0x12a)](_0x440da1[_0x4a170e(0xdf)]-_0x440da1[_0x4a170e(0xeb)]),_0x34f557=Math[_0x4a170e(0x12a)](_0x440da1['ymax']-_0x440da1[_0x4a170e(0xcf)]),_0x5e739d=Math['max'](_0x2947f2,_0x34f557),_0x146d47=Math[_0x4a170e(0xf5)](_0x2947f2,_0x34f557);this[_0x4a170e(0x129)]=_0x5e739d;var _0xfee71b=0x1;if(_0x5e739d>this['options']['maxCanvasSize'])_0xfee71b=_0x5e739d/this[_0x4a170e(0x100)][_0x4a170e(0x121)],_0x146d47/_0xfee71b<this[_0x4a170e(0x100)][_0x4a170e(0x131)]&&(_0xfee71b=_0x146d47/this[_0x4a170e(0x100)]['minCanvasSize']);else _0x146d47<this[_0x4a170e(0x100)][_0x4a170e(0x131)]&&(_0xfee71b=_0x146d47/this[_0x4a170e(0x100)][_0x4a170e(0x131)],_0x5e739d/_0xfee71b>this[_0x4a170e(0x100)][_0x4a170e(0x121)]&&(_0xfee71b=_0x5e739d/this[_0x4a170e(0x100)][_0x4a170e(0x121)]));var _0x4d5b72=_0x2947f2/_0xfee71b+_0x2a2173*0x2,_0x4e1c0c=_0x34f557/_0xfee71b+_0x2a2173*0x2,_0x2c5604=_0x2a2173*_0xfee71b;_0x440da1[_0x4a170e(0xeb)]-=_0x2c5604,_0x440da1[_0x4a170e(0xcf)]-=_0x2c5604,_0x440da1['xmax']+=_0x2c5604,_0x440da1[_0x4a170e(0xc4)]+=_0x2c5604,_0x1225ae=geLatLngBounds(_0x440da1),this[_0x4a170e(0xd6)]=Cesium[_0x4a170e(0x143)][_0x4a170e(0x104)](_0x1225ae[_0x4a170e(0xeb)],_0x1225ae[_0x4a170e(0xcf)],_0x1225ae[_0x4a170e(0xdf)],_0x1225ae['ymax']);var _0x3e54ff=(_0x1fb19e=_0x140f40[0x0][_0x4a170e(0xc7)])!==null&&_0x1fb19e!==void 0x0?_0x1fb19e:0x1,_0x1b1866=(_0x5f394b=_0x140f40[0x0][_0x4a170e(0xc7)])!==null&&_0x5f394b!==void 0x0?_0x5f394b:0x0,_0x44d86e=[];_0x140f40['forEach'](function(_0x3a807c){var _0x2be01a=_0x4a170e,_0x1134da=mars3d__namespace[_0x2be01a(0xd7)][_0x2be01a(0xc5)]([_0x3a807c['lng'],_0x3a807c[_0x2be01a(0x124)]]),_0x542528=_0x3a807c[_0x2be01a(0xc7)]||0x1,_0x4c2f37=Math[_0x2be01a(0x159)]((_0x1134da[0x0]-_0x440da1[_0x2be01a(0xeb)])/_0xfee71b),_0x1c8e32=Math['round']((_0x440da1['ymax']-_0x1134da[0x1])/_0xfee71b);_0x3e54ff=Math['max'](_0x3e54ff,_0x542528),_0x1b1866=Math[_0x2be01a(0xf5)](_0x1b1866,_0x542528),_0x44d86e[_0x2be01a(0x14f)]({'x':_0x4c2f37,'y':_0x1c8e32,'value':_0x542528});});var _0xb8ee0d={'min':_0x1b1866,'max':_0x3e54ff,'data':_0x44d86e};this[_0x4a170e(0x11d)]=_0xb8ee0d;(!this[_0x4a170e(0xdb)]||_0x440da1[_0x4a170e(0xeb)]!==this[_0x4a170e(0xdb)]['xmin']||_0x440da1[_0x4a170e(0xcf)]!==this[_0x4a170e(0xdb)][_0x4a170e(0xcf)]||_0x440da1[_0x4a170e(0xdf)]!==this[_0x4a170e(0xdb)][_0x4a170e(0xdf)]||_0x440da1[_0x4a170e(0xc4)]!==this[_0x4a170e(0xdb)][_0x4a170e(0xc4)])&&(this[_0x4a170e(0xdb)]=_0x440da1,!this[_0x4a170e(0xff)][_0x4a170e(0x15a)]&&(this['heatStyle'][_0x4a170e(0x15a)]=mars3d__namespace[_0x4a170e(0xe7)][_0x4a170e(0x152)](_0x4a170e(0xd1),_0x4a170e(0xfb),this['_map']['container'])),this[_0x4a170e(0xff)][_0x4a170e(0x15a)]['style'][_0x4a170e(0x11f)]=_0x4a170e(0x118)[_0x4a170e(0xca)](_0x4d5b72,'px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:')[_0x4a170e(0xca)](_0x4e1c0c,_0x4a170e(0xc2)),!this[_0x4a170e(0x12d)]?this[_0x4a170e(0x12d)]=h337__namespace['create'](this[_0x4a170e(0xff)]):this['_heat']['configure'](this[_0x4a170e(0xff)]));this['_heat'][_0x4a170e(0xd0)](_0xb8ee0d);var _0x136b03=this[_0x4a170e(0x12d)][_0x4a170e(0x101)][_0x4a170e(0xdc)][_0x4a170e(0xc1)](_0x4a170e(0x11a));return this[_0x4a170e(0xff)]['container']&&(this[_0x4a170e(0x15b)][_0x4a170e(0x15a)]['removeChild'](this['heatStyle']['container']),delete this['heatStyle'][_0x4a170e(0x15a)]),_0x136b03;}},{'key':_0x4f583d(0x12c),'value':function _0x5e1216(_0x5bcf85){var _0x16462f=_0x4f583d;this[_0x16462f(0x102)](),this[_0x16462f(0x110)]=new mars3d__namespace[(_0x16462f(0xf4))][(_0x16462f(0x10e))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x16462f(0xd6)],'appearance':new Cesium[(_0x16462f(0xd3))]({'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x5bcf85},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer']['addGraphic'](this[_0x16462f(0x110)]);}},{'key':_0x4f583d(0x146),'value':function _0x90b3e5(_0x49eea3){var _0x1b9d3f=_0x4f583d;this[_0x1b9d3f(0x102)](),this[_0x1b9d3f(0x12d)][_0x1b9d3f(0x140)](_objectSpread2(_objectSpread2({},this['heatStyle']),{},{'radius':this[_0x1b9d3f(0xff)][_0x1b9d3f(0x138)]*this[_0x1b9d3f(0xde)]['arcRadiusScale'],'blur':this[_0x1b9d3f(0xff)]['blur']*this[_0x1b9d3f(0xde)][_0x1b9d3f(0x120)],'gradient':this['heatStyle'][_0x1b9d3f(0x14a)]||{0.25:_0x1b9d3f(0x125),0.55:'rgb(140,140,140)',0.85:_0x1b9d3f(0x136),0x1:'rgb(255,255,255)'}}));var _0x123042=this[_0x1b9d3f(0x12d)][_0x1b9d3f(0x101)][_0x1b9d3f(0xdc)][_0x1b9d3f(0xc1)]('image/png'),_0x1c3bba=Cesium[_0x1b9d3f(0x15d)][_0x1b9d3f(0xed)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x1b9d3f(0xe0)]['ALWAYS'],'frontOperation':{'fail':Cesium['StencilOperation'][_0x1b9d3f(0x128)],'zFail':Cesium[_0x1b9d3f(0x10c)][_0x1b9d3f(0x128)],'zPass':Cesium[_0x1b9d3f(0x10c)][_0x1b9d3f(0xe4)]},'backFunction':Cesium[_0x1b9d3f(0xe0)][_0x1b9d3f(0xcd)],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0x1b9d3f(0x10c)][_0x1b9d3f(0x128)],'zPass':Cesium[_0x1b9d3f(0x10c)][_0x1b9d3f(0xe4)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x1b9d3f(0x12f)][_0x1b9d3f(0xd2)]}),_0x43d02d=Math[_0x1b9d3f(0x14d)](Cesium[_0x1b9d3f(0x115)](this[_0x1b9d3f(0xde)][_0x1b9d3f(0xf0)],this[_0x1b9d3f(0x129)]*0.02))+0.1;this['style'][_0x1b9d3f(0xf0)]&&delete this[_0x1b9d3f(0xde)][_0x1b9d3f(0xf0)];var _0x1c7bbc=Cesium[_0x1b9d3f(0x115)](this[_0x1b9d3f(0xde)][_0x1b9d3f(0x119)],0x64),_0x445aec=Math[_0x1b9d3f(0xf1)](this['_rectangle']['height'],this[_0x1b9d3f(0xd6)][_0x1b9d3f(0x107)]);this[_0x1b9d3f(0xde)][_0x1b9d3f(0x12b)]=_0x445aec/=_0x1c7bbc,this[_0x1b9d3f(0x110)]=new mars3d__namespace['graphic'][(_0x1b9d3f(0x10e))](_objectSpread2(_objectSpread2({},this[_0x1b9d3f(0x100)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x1b9d3f(0xd3))]({'aboveGround':!![],'renderState':_0x1c3bba,'material':new Cesium[(_0x1b9d3f(0xf2))]({'fabric':{'uniforms':{'image':_0x49eea3,'repeat':new Cesium[(_0x1b9d3f(0xe6))](0x1,0x1),'color':new Cesium[(_0x1b9d3f(0x130))](0x1,0x1,0x1,0.01),'bumpMap':_0x123042},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x1b9d3f(0x150)['concat'](_0x43d02d,_0x1b9d3f(0xfd)),'flat':!![]})})),this['_layer'][_0x1b9d3f(0xef)](this['_graphic']);}},{'key':_0x4f583d(0x105),'value':function _0x1347cb(_0x1b930e){var _0x1931b3=_0x4f583d;return _0x1b930e!==null&&_0x1b930e!==void 0x0&&_0x1b930e[_0x1931b3(0xec)]&&this[_0x1931b3(0xd6)]?mars3d__namespace[_0x1931b3(0xc9)]['formatRectangle'](this[_0x1931b3(0xd6)]):this['_rectangle'];}}]),_0x57ec53;}(BaseLayer);mars3d__namespace[_0x1f3a37(0x135)][_0x1f3a37(0x154)]=HeatLayer,mars3d__namespace[_0x1f3a37(0x13f)][_0x1f3a37(0x10b)](_0x1f3a37(0xce),HeatLayer);function getMercatorBounds(_0x329018){var _0x391599=_0x1f3a37,_0x17edc6=mars3d__namespace[_0x391599(0xd7)][_0x391599(0xc5)]([_0x329018[_0x391599(0xeb)],_0x329018[_0x391599(0xcf)]]),_0x22d144=mars3d__namespace[_0x391599(0xd7)][_0x391599(0xc5)]([_0x329018[_0x391599(0xdf)],_0x329018['ymax']]);return{'xmin':_0x17edc6[0x0],'ymin':_0x17edc6[0x1],'xmax':_0x22d144[0x0],'ymax':_0x22d144[0x1]};}function geLatLngBounds(_0x130fb2){var _0x296856=_0x1f3a37,_0x55b27f=mars3d__namespace[_0x296856(0xd7)][_0x296856(0xda)]([_0x130fb2[_0x296856(0xeb)],_0x130fb2[_0x296856(0xcf)]]),_0x12cf37=mars3d__namespace[_0x296856(0xd7)]['mercator2lonlat']([_0x130fb2[_0x296856(0xdf)],_0x130fb2[_0x296856(0xc4)]]);return{'xmin':_0x55b27f[0x0],'ymin':_0x55b27f[0x1],'xmax':_0x12cf37[0x0],'ymax':_0x12cf37[0x1]};}exports['HeatLayer']=HeatLayer,Object['defineProperty'](exports,_0x1f3a37(0x117),{'value':!![]});
}));
