define(["exports","./Matrix2-09da682a","./when-229515d6","./RuntimeError-ffe03243","./Transforms-037fb660","./ComponentDatatype-17b06483"],(function(t,n,a,r,e,o){"use strict";var s=Math.cos,i=Math.sin,g=Math.sqrt,u={computePosition:function(t,n,r,e,o,u,h){var C=n.radiiSquared,c=t.nwCorner,l=t.boundingRectangle,S=c.latitude-t.granYCos*e+o*t.granXSin,d=s(S),w=i(S),M=C.z*w,m=c.longitude+e*t.granYSin+o*t.granXCos,X=d*s(m),Y=d*i(m),f=C.x*X,p=C.y*Y,v=g(f*X+p*Y+M*w);if(u.x=f/v,u.y=p/v,u.z=M/v,r){var x=t.stNwCorner;a.defined(x)?(S=x.latitude-t.stGranYCos*e+o*t.stGranXSin,m=x.longitude+e*t.stGranYSin+o*t.stGranXCos,h.x=(m-t.stWest)*t.lonScalar,h.y=(S-t.stSouth)*t.latScalar):(h.x=(m-l.west)*t.lonScalar,h.y=(S-l.south)*t.latScalar)}}},h=new n.Matrix2,C=new n.Cartesian3,c=new n.Cartographic,l=new n.Cartesian3,S=new e.GeographicProjection;function d(t,a,r,e,o,s,i){var g=Math.cos(a),u=e*g,c=r*g,d=Math.sin(a),w=e*d,M=r*d;C=S.project(t,C),C=n.Cartesian3.subtract(C,l,C);var m=n.Matrix2.fromRotation(a,h);C=n.Matrix2.multiplyByVector(m,C,C),C=n.Cartesian3.add(C,l,C),s-=1,i-=1;var X=(t=S.unproject(C,t)).latitude,Y=X+s*M,f=X-u*i,p=X-u*i+s*M,v=Math.max(X,Y,f,p),x=Math.min(X,Y,f,p),R=t.longitude,G=R+s*c,y=R+i*w,O=R+i*w+s*c;return{north:v,south:x,east:Math.max(R,G,y,O),west:Math.min(R,G,y,O),granYCos:u,granYSin:w,granXCos:c,granXSin:M,nwCorner:t}}u.computeOptions=function(t,a,r,e,s,i,g){var u,h,C,w,M,m=t.east,X=t.west,Y=t.north,f=t.south,p=!1,v=!1;Y===o.CesiumMath.PI_OVER_TWO&&(p=!0),f===-o.CesiumMath.PI_OVER_TWO&&(v=!0);var x=Y-f;C=(M=X>m?o.CesiumMath.TWO_PI-X+m:m-X)/((u=Math.ceil(M/a)+1)-1),w=x/((h=Math.ceil(x/a)+1)-1);var R=n.Rectangle.northwest(t,i),G=n.Rectangle.center(t,c);0===r&&0===e||(G.longitude<R.longitude&&(G.longitude+=o.CesiumMath.TWO_PI),l=S.project(G,l));var y=w,O=C,b=n.Rectangle.clone(t,s),P={granYCos:y,granYSin:0,granXCos:O,granXSin:0,nwCorner:R,boundingRectangle:b,width:u,height:h,northCap:p,southCap:v};if(0!==r){var W=d(R,r,C,w,0,u,h);Y=W.north,f=W.south,m=W.east,X=W.west,P.granYCos=W.granYCos,P.granYSin=W.granYSin,P.granXCos=W.granXCos,P.granXSin=W.granXSin,b.north=Y,b.south=f,b.east=m,b.west=X}if(0!==e){r-=e;var _=n.Rectangle.northwest(b,g),T=d(_,r,C,w,0,u,h);P.stGranYCos=T.granYCos,P.stGranXCos=T.granXCos,P.stGranYSin=T.granYSin,P.stGranXSin=T.granXSin,P.stNwCorner=_,P.stWest=T.west,P.stSouth=T.south}return P},t.RectangleGeometryLibrary=u}));
