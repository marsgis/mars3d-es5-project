/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.2
 * 编译日期：2022-03-26 12:51:54
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x3ae92f=_0x4cc6;(function(_0x5b4dc0,_0x3e057b){var _0x24ed67=_0x4cc6,_0x3091ac=_0x5b4dc0();while(!![]){try{var _0x16a06c=parseInt(_0x24ed67(0x124))/0x1+parseInt(_0x24ed67(0x123))/0x2*(parseInt(_0x24ed67(0x10f))/0x3)+parseInt(_0x24ed67(0xfa))/0x4+parseInt(_0x24ed67(0x133))/0x5+-parseInt(_0x24ed67(0xe9))/0x6+parseInt(_0x24ed67(0x12b))/0x7*(parseInt(_0x24ed67(0xed))/0x8)+parseInt(_0x24ed67(0xe2))/0x9*(-parseInt(_0x24ed67(0xf0))/0xa);if(_0x16a06c===_0x3e057b)break;else _0x3091ac['push'](_0x3091ac['shift']());}catch(_0x57c0c3){_0x3091ac['push'](_0x3091ac['shift']());}}}(_0x4670,0x3e08d));function _interopNamespace(_0x1c45c8){var _0x44fc57=_0x4cc6;if(_0x1c45c8&&_0x1c45c8[_0x44fc57(0x143)])return _0x1c45c8;var _0x5cf431=Object[_0x44fc57(0xc6)](null);return _0x1c45c8&&Object['keys'](_0x1c45c8)[_0x44fc57(0xdf)](function(_0x4cc76e){var _0xe4d2b0=_0x44fc57;if(_0x4cc76e!==_0xe4d2b0(0xd4)){var _0x393e3f=Object[_0xe4d2b0(0xeb)](_0x1c45c8,_0x4cc76e);Object['defineProperty'](_0x5cf431,_0x4cc76e,_0x393e3f[_0xe4d2b0(0x134)]?_0x393e3f:{'enumerable':!![],'get':function(){return _0x1c45c8[_0x4cc76e];}});}}),_0x5cf431[_0x44fc57(0xd4)]=_0x1c45c8,_0x5cf431;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x3e986d,_0x488c3a){var _0x50fac3=_0x4cc6,_0x5d552c=Object[_0x50fac3(0x126)](_0x3e986d);if(Object[_0x50fac3(0x100)]){var _0x4f4d90=Object['getOwnPropertySymbols'](_0x3e986d);_0x488c3a&&(_0x4f4d90=_0x4f4d90['filter'](function(_0x50f2fc){var _0x5b98cb=_0x50fac3;return Object[_0x5b98cb(0xeb)](_0x3e986d,_0x50f2fc)[_0x5b98cb(0xc5)];})),_0x5d552c[_0x50fac3(0x11e)][_0x50fac3(0xc3)](_0x5d552c,_0x4f4d90);}return _0x5d552c;}function _objectSpread2(_0x59b2ef){var _0x54f41d=_0x4cc6;for(var _0x2a2e39=0x1;_0x2a2e39<arguments[_0x54f41d(0x13f)];_0x2a2e39++){var _0x4caf76=null!=arguments[_0x2a2e39]?arguments[_0x2a2e39]:{};_0x2a2e39%0x2?ownKeys(Object(_0x4caf76),!0x0)[_0x54f41d(0xdf)](function(_0x1b4951){_defineProperty(_0x59b2ef,_0x1b4951,_0x4caf76[_0x1b4951]);}):Object[_0x54f41d(0x11b)]?Object[_0x54f41d(0x148)](_0x59b2ef,Object[_0x54f41d(0x11b)](_0x4caf76)):ownKeys(Object(_0x4caf76))['forEach'](function(_0x52a524){var _0x2986f2=_0x54f41d;Object[_0x2986f2(0x10d)](_0x59b2ef,_0x52a524,Object[_0x2986f2(0xeb)](_0x4caf76,_0x52a524));});}return _0x59b2ef;}function _classCallCheck(_0x352635,_0x5da76f){var _0x2810bc=_0x4cc6;if(!(_0x352635 instanceof _0x5da76f))throw new TypeError(_0x2810bc(0x112));}function _defineProperties(_0xac278e,_0xc8ee4a){var _0xaf2c10=_0x4cc6;for(var _0xd9c208=0x0;_0xd9c208<_0xc8ee4a['length'];_0xd9c208++){var _0x5d586a=_0xc8ee4a[_0xd9c208];_0x5d586a[_0xaf2c10(0xc5)]=_0x5d586a[_0xaf2c10(0xc5)]||![],_0x5d586a[_0xaf2c10(0xf1)]=!![];if(_0xaf2c10(0x136)in _0x5d586a)_0x5d586a['writable']=!![];Object['defineProperty'](_0xac278e,_0x5d586a[_0xaf2c10(0xd1)],_0x5d586a);}}function _createClass(_0x4e2622,_0x157e33,_0xd0f2b5){var _0x3f7094=_0x4cc6;if(_0x157e33)_defineProperties(_0x4e2622[_0x3f7094(0x10e)],_0x157e33);if(_0xd0f2b5)_defineProperties(_0x4e2622,_0xd0f2b5);return Object[_0x3f7094(0x10d)](_0x4e2622,_0x3f7094(0x10e),{'writable':![]}),_0x4e2622;}function _defineProperty(_0x323721,_0x284aa4,_0x3f614d){return _0x284aa4 in _0x323721?Object['defineProperty'](_0x323721,_0x284aa4,{'value':_0x3f614d,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x323721[_0x284aa4]=_0x3f614d,_0x323721;}function _inherits(_0x291d83,_0x22ed37){var _0x36b0cf=_0x4cc6;if(typeof _0x22ed37!=='function'&&_0x22ed37!==null)throw new TypeError(_0x36b0cf(0xe1));_0x291d83[_0x36b0cf(0x10e)]=Object[_0x36b0cf(0xc6)](_0x22ed37&&_0x22ed37[_0x36b0cf(0x10e)],{'constructor':{'value':_0x291d83,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x291d83,_0x36b0cf(0x10e),{'writable':![]});if(_0x22ed37)_setPrototypeOf(_0x291d83,_0x22ed37);}function _getPrototypeOf(_0x4c83e4){var _0x5a8302=_0x4cc6;return _getPrototypeOf=Object[_0x5a8302(0xc0)]?Object['getPrototypeOf']:function _0x364c79(_0x123e6a){var _0x301fcb=_0x5a8302;return _0x123e6a[_0x301fcb(0x12c)]||Object[_0x301fcb(0x149)](_0x123e6a);},_getPrototypeOf(_0x4c83e4);}function _setPrototypeOf(_0x392eb6,_0x3a2fce){return _setPrototypeOf=Object['setPrototypeOf']||function _0xc2fc75(_0x410627,_0xcda731){return _0x410627['__proto__']=_0xcda731,_0x410627;},_setPrototypeOf(_0x392eb6,_0x3a2fce);}function _isNativeReflectConstruct(){var _0x38c2b9=_0x4cc6;if(typeof Reflect===_0x38c2b9(0x119)||!Reflect[_0x38c2b9(0x145)])return![];if(Reflect['construct'][_0x38c2b9(0x13a)])return![];if(typeof Proxy===_0x38c2b9(0xcf))return!![];try{return Boolean[_0x38c2b9(0x10e)]['valueOf'][_0x38c2b9(0x113)](Reflect[_0x38c2b9(0x145)](Boolean,[],function(){})),!![];}catch(_0x1de0b3){return![];}}function _0x4670(){var _0x45d943=['mta4mtqWngHju1jQqW','x3jLy3rHBMDSzq','CMvTB3zLtgf5zxi','Bg5N','z3jLzw4','y29UzMLNDxjL','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','CMvNAxn0zxi','zgLMzKHLAwDODa','Bwf4','C3r5Bgu','zgvMyxvSDfzHBhvL','CgfYC2u','twf0zxjPywW','vKvsvevyx0zpuK1bva','BwLU','y2XLyxi','Cg9ZAxrPB25Z','yxjJqMX1CLnJywXL','zgvMAw5LuhjVCgvYDhK','ChjVDg90ExbL','mtqXotK2BujHtfLW','ChG7','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','y2fSBa','z3jHCgHPyW','r3jHCgHPy0XHEwvY','x2DYyxbOAwm','rg9TvxrPBa','ChG7cIaGicaGicaGAgvPz2H0oG','Dw5KzwzPBMvK','x3jLBMrLCMvY','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','CMvTB3zLq2HPBgq','Bgf0','ChvZAa','C3bSAxroDw0','ug9PBNruCMfUCW','BwvYy2f0B3iYBg9UBgf0','x2fKzgvKsg9VAW','ng5syMT3DG','ndqYmJqXvffSAMzN','uMvUzgvYu3rHDgu','A2v5CW','s0vfua','ug9SEvv0AwW','BwvYz2u','Ew1HEa','nda2AujJvhnr','x19WCM90B19F','tgf5zxjvDgLS','zNjVBurLz3jLzxm','zMXVB3i','Dg9bCNjHEq','AgvPz2H0','x21HCNmZzf9WCML2yxrL','mJCXnZC1v2fWsMjH','z2v0','AgvHDa','DMfSDwu','qMXLBMrPBMDtDgf0zq','yxjJuMfKAxvZu2nHBgu','BwLUq2fUDMfZu2L6zq','C2HHBq','x3nLDe9WDgLVBNniB29R','zgL2','CMDIkdiXnIWYmtySmJe2kq','y29UDgfPBMvY','BgvUz3rO','Eg1HEa','y2fUDMfZ','CM91BMq','x19LC01VzhvSzq','uMvJDgfUz2XLuhjPBwL0AxzL','y29UC3rYDwn0','zMX5vg8','yMX1zq','zgvMAw5LuhjVCgvYDgLLCW','z2v0uhjVDg90ExbLt2y','y29Uy2f0','EwvSBg93','x2HLyxq','y2XPzw50sgvPz2H0','Eg1PBG','quXxqvLt','sgvHDeXHEwvY','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','CMDIkdaSmcWWkq','u3rLBMnPBe9WzxjHDgLVBG','C2v0uhjVDg90ExbLt2y','D2LKDgG','ywrKr3jHCgHPyW','yxbWBhK','x2XHC3rFBujVDw5KCW','zw51BwvYywjSzq','y3jLyxrL','Bgf5zxi','quXqsefFqKXftKq','Bg9UBgf0mM1LCMnHDg9Y','CMvJDgfUz2XL','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','CMDIkdi1nsWYntuSmJu1kq','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','BwfYCZnKlwHLyxrTyxa','zNvUy3rPB24','x3jLBw92zwriB29R','A2v5','yxjJ','C2HVDW','zgvMyxvSDa','Bwf4q2fUDMfZu2L6zq','uKvqtefdrq','x21cB3vUzhnnyxG','x2nYzwf0zuDYyxbOAwm','q29SB3i','Aw1Hz2uVCg5N','y29VCMrPBMf0zxm','ywrKug9ZAxrPB24','uMvJDgfUz2XL','z2v0uMvJDgfUz2XL','zM9YrwfJAa','CMvTB3zLr3jHCgHPyW','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','ndm0nJyXm3LvDxzXsG','CMvK','x3bVC2L0Aw9UCW','x2XHEwvY','u3rLBMnPBez1BMn0Aw9U','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','x2nYzwf0zufYy0DYyxbOAwm','mJy5nteYmMvqBxzoDW','AgvHDfn0EwXL','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','ywjZ','ndq3nZzKDKLAA2C','q2fYDgvZAwfUmG','zM9YBwf0uMvJDgfUz2XL','mtbSqLnPtum','y29UzMLNDxjHyMXL','CMfKAxvZ','B3b0Aw9UCW','x21HCa','Ew1PBG','tg5Ntgf0ug9PBNq','yM9KEq','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia'];_0x4670=function(){return _0x45d943;};return _0x4670();}function _assertThisInitialized(_0x158789){var _0x3b36ed=_0x4cc6;if(_0x158789===void 0x0)throw new ReferenceError(_0x3b36ed(0xcb));return _0x158789;}function _possibleConstructorReturn(_0x25945b,_0x163f46){var _0x28addb=_0x4cc6;if(_0x163f46&&(typeof _0x163f46==='object'||typeof _0x163f46===_0x28addb(0xcf)))return _0x163f46;else{if(_0x163f46!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x25945b);}function _createSuper(_0x4268e3){var _0xd3b3e1=_isNativeReflectConstruct();return function _0x3cf965(){var _0x20e67c=_0x4cc6,_0x614b73=_getPrototypeOf(_0x4268e3),_0xec20cb;if(_0xd3b3e1){var _0x439655=_getPrototypeOf(this)['constructor'];_0xec20cb=Reflect[_0x20e67c(0x145)](_0x614b73,arguments,_0x439655);}else _0xec20cb=_0x614b73[_0x20e67c(0xc3)](this,arguments);return _possibleConstructorReturn(this,_0xec20cb);};}var HeatMaterial=_0x3ae92f(0xe7),Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x3ae92f(0xc7)]['BaseLayer'],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x3ae92f(0x147),0.6:_0x3ae92f(0xfe),0.8:_0x3ae92f(0x14b),0.9:_0x3ae92f(0xe3)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x3ae92f(0x108)]},HeatLayer=function(_0x1fa7cb){var _0x4caf59=_0x3ae92f;_inherits(_0x4b6646,_0x1fa7cb);var _0x106be9=_createSuper(_0x4b6646);function _0x4b6646(){var _0x3f9625=_0x4cc6,_0x36f3b0,_0x86d314=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x4b6646),_0x36f3b0=_0x106be9[_0x3f9625(0x113)](this,_0x86d314),_0x36f3b0[_0x3f9625(0xf3)][_0x3f9625(0xd5)]=Cesium[_0x3f9625(0x105)](_0x36f3b0[_0x3f9625(0xf3)][_0x3f9625(0xd5)],document[_0x3f9625(0xf7)]['clientWidth']),_0x36f3b0[_0x3f9625(0xf3)]['maxCanvasSize']=Math['min'](_0x36f3b0[_0x3f9625(0xf3)][_0x3f9625(0xd5)],0x1388),_0x36f3b0[_0x3f9625(0xf3)][_0x3f9625(0x139)]=Cesium['defaultValue'](_0x36f3b0['options'][_0x3f9625(0x139)],document['body'][_0x3f9625(0x14d)]),_0x36f3b0[_0x3f9625(0xf3)]['minCanvasSize']=Math['max'](_0x36f3b0['options'][_0x3f9625(0x139)],0x2bc),_0x36f3b0[_0x3f9625(0xf3)]['heatStyle']=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x36f3b0['options'][_0x3f9625(0xea)]||{}),_0x36f3b0['options']['style']=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x36f3b0[_0x3f9625(0xf3)][_0x3f9625(0x104)]||{}),_0x36f3b0;}return _createClass(_0x4b6646,[{'key':_0x4caf59(0xc7),'get':function _0x479c4f(){var _0x5be342=_0x4caf59;return this[_0x5be342(0xe5)];}},{'key':'heatStyle','get':function _0x2f4d00(){var _0x5c62e1=_0x4caf59;return this['options'][_0x5c62e1(0xea)];},'set':function _0x6f8f8b(_0xa5645){var _0x250d31=_0x4caf59;this['options'][_0x250d31(0xea)]=mars3d__namespace['Util'][_0x250d31(0x129)](this['options'][_0x250d31(0xea)],_0xa5645),this[_0x250d31(0x14c)]&&this[_0x250d31(0x14c)]['configure'](this[_0x250d31(0xf3)]['heatStyle']);}},{'key':_0x4caf59(0x104),'get':function _0x6587b6(){var _0xb04da2=_0x4caf59;return this[_0xb04da2(0xf3)][_0xb04da2(0x104)];},'set':function _0x43d746(_0x17549b){var _0x21c108=_0x4caf59;this[_0x21c108(0xf3)][_0x21c108(0x104)]=mars3d__namespace['Util'][_0x21c108(0x129)](this['options'][_0x21c108(0x104)],_0x17549b);}},{'key':'positions','get':function _0x3aa9c6(){var _0x3b4603=_0x4caf59;return this[_0x3b4603(0xe4)];},'set':function _0x44a3c2(_0x1d9ee7){var _0x3346db=_0x4caf59;this[_0x3346db(0xe4)]=_0x1d9ee7,this[_0x3346db(0xbd)]();}},{'key':_0x4caf59(0xdb),'get':function _0x3181bc(){var _0x6c86b0=_0x4caf59,_0x353ded=[];return this['points'][_0x6c86b0(0xdf)](function(_0x26999d){var _0x3b824a=_0x6c86b0;_0x353ded[_0x3b824a(0x11e)](_0x26999d[_0x3b824a(0x130)]());}),_0x353ded;}},{'key':_0x4caf59(0xca),'get':function _0x5969f2(){var _0x10be6a=_0x4caf59;return this[_0x10be6a(0xfb)];}},{'key':_0x4caf59(0x13b),'value':function _0x18216a(_0x5e2fd7){var _0x23ee5f=_0x4caf59;_0x5e2fd7[_0x23ee5f(0x10b)]&&(this[_0x23ee5f(0x10b)]=_0x5e2fd7[_0x23ee5f(0x10b)]);}},{'key':'_mountedHook','value':function _0x52216c(){var _0x4e8c00=_0x4caf59;this[_0x4e8c00(0xe5)]=new mars3d__namespace['layer'][(_0x4e8c00(0x115))]({'noLayerManage':!![]}),this[_0x4e8c00(0xe5)][_0x4e8c00(0x132)]=!![];}},{'key':_0x4caf59(0x122),'value':function _0x37198c(){var _0x17471b=_0x4caf59;this[_0x17471b(0xf4)]['addLayer'](this[_0x17471b(0xe5)]),this[_0x17471b(0xf3)]['positions']&&(this[_0x17471b(0x10b)]=this[_0x17471b(0xf3)]['positions']),this[_0x17471b(0xf3)][_0x17471b(0x146)]&&this['flyToByAnimationEnd']();}},{'key':_0x4caf59(0xd0),'value':function _0x59457e(){var _0xa54d17=_0x4caf59;this['heatStyle'][_0xa54d17(0x13e)]&&(this[_0xa54d17(0xf4)][_0xa54d17(0x13e)][_0xa54d17(0x11c)](this['heatStyle'][_0xa54d17(0x13e)]),delete this['heatStyle']['container']),this[_0xa54d17(0x10a)](),this[_0xa54d17(0xf4)][_0xa54d17(0xfc)](this['_layer']);}},{'key':_0x4caf59(0xdc),'value':function _0x4790fd(_0x51d072){var _0xeb0eae=_0x4caf59;this[_0xeb0eae(0xe4)]=this['_positions']||[],this[_0xeb0eae(0xe4)][_0xeb0eae(0x11e)](_0x51d072),this['_updatePositionsHook']();}},{'key':_0x4caf59(0x10a),'value':function _0x309702(){var _0x47b3c4=_0x4caf59;this[_0x47b3c4(0x116)]&&(this[_0x47b3c4(0xe5)][_0x47b3c4(0xe0)](this['_graphic'],!![]),delete this[_0x47b3c4(0x116)]);}},{'key':_0x4caf59(0xbd),'value':function _0x5f5912(){var _0x2398a6=_0x4caf59;if(!this[_0x2398a6(0xd3)]||!this[_0x2398a6(0xf4)]||!this['positions']||this[_0x2398a6(0x10b)][_0x2398a6(0x13f)]===0x0)return this;var _0x34ce14=this['_getHeatCanvasImg']();return this['style'][_0x2398a6(0xd2)]?this[_0x2398a6(0xe8)](_0x34ce14):this[_0x2398a6(0xd8)](_0x34ce14),this;}},{'key':'_getHeatCanvasImg','value':function _0x21c631(){var _0x3441b1=_0x4caf59,_0x1dc76f,_0x1bce18,_0x1c7f21=this['_positions'],_0x2da644=[],_0xaf8c96,_0x4530cb,_0x170587,_0x185c86;_0x1c7f21[_0x3441b1(0xdf)](function(_0x1826b2){var _0x1066d2=_0x3441b1,_0x5a78c2=mars3d__namespace[_0x1066d2(0xf6)][_0x1066d2(0x106)](_0x1826b2);if(!_0x5a78c2)return;_0x5a78c2[_0x1066d2(0x136)]=_0x1826b2[_0x1066d2(0x136)]||0x1,_0xaf8c96===undefined?(_0xaf8c96=_0x5a78c2[_0x1066d2(0xfd)],_0x4530cb=_0x5a78c2['lng'],_0x170587=_0x5a78c2[_0x1066d2(0x11d)],_0x185c86=_0x5a78c2['lat']):(_0xaf8c96=Math[_0x1066d2(0x109)](_0xaf8c96,_0x5a78c2[_0x1066d2(0xfd)]),_0x4530cb=Math[_0x1066d2(0x103)](_0x4530cb,_0x5a78c2[_0x1066d2(0xfd)]),_0x170587=Math['min'](_0x170587,_0x5a78c2['lat']),_0x185c86=Math[_0x1066d2(0x103)](_0x185c86,_0x5a78c2[_0x1066d2(0x11d)])),_0x2da644['push'](_0x5a78c2);});var _0x34cbe9=this['heatStyle']['radius']*1.5,_0x9f55dc={'xmin':_0xaf8c96,'xmax':_0x4530cb,'ymin':_0x170587,'ymax':_0x185c86},_0xdfd0a=getMercatorBounds(_0x9f55dc),_0x104307=Math[_0x3441b1(0xec)](_0xdfd0a['xmax']-_0xdfd0a[_0x3441b1(0x14e)]),_0x185215=Math[_0x3441b1(0xec)](_0xdfd0a[_0x3441b1(0x12a)]-_0xdfd0a[_0x3441b1(0xf5)]),_0xd11dbb=Math[_0x3441b1(0x103)](_0x104307,_0x185215),_0x4faf91=Math['min'](_0x104307,_0x185215);this['_mBoundsMax']=_0xd11dbb;var _0x25fac9=0x1;if(_0xd11dbb>this['options']['maxCanvasSize'])_0x25fac9=_0xd11dbb/this['options']['maxCanvasSize'],_0x4faf91/_0x25fac9<this[_0x3441b1(0xf3)][_0x3441b1(0x139)]&&(_0x25fac9=_0x4faf91/this[_0x3441b1(0xf3)][_0x3441b1(0x139)]);else _0x4faf91<this[_0x3441b1(0xf3)]['minCanvasSize']&&(_0x25fac9=_0x4faf91/this['options']['minCanvasSize'],_0xd11dbb/_0x25fac9>this[_0x3441b1(0xf3)][_0x3441b1(0xd5)]&&(_0x25fac9=_0xd11dbb/this[_0x3441b1(0xf3)]['maxCanvasSize']));var _0x1af914=_0x104307/_0x25fac9+_0x34cbe9*0x2,_0x1c9f8d=_0x185215/_0x25fac9+_0x34cbe9*0x2,_0x2552dd=_0x34cbe9*_0x25fac9;_0xdfd0a[_0x3441b1(0x14e)]-=_0x2552dd,_0xdfd0a['ymin']-=_0x2552dd,_0xdfd0a[_0x3441b1(0x140)]+=_0x2552dd,_0xdfd0a[_0x3441b1(0x12a)]+=_0x2552dd,_0x9f55dc=geLatLngBounds(_0xdfd0a),this[_0x3441b1(0xfb)]=Cesium[_0x3441b1(0xdd)][_0x3441b1(0x12e)](_0x9f55dc[_0x3441b1(0x14e)],_0x9f55dc['ymin'],_0x9f55dc[_0x3441b1(0x140)],_0x9f55dc[_0x3441b1(0x12a)]);var _0x1642a8=(_0x1dc76f=_0x2da644[0x0][_0x3441b1(0x136)])!==null&&_0x1dc76f!==void 0x0?_0x1dc76f:0x1,_0x37a755=(_0x1bce18=_0x2da644[0x0][_0x3441b1(0x136)])!==null&&_0x1bce18!==void 0x0?_0x1bce18:0x0,_0x4c2198=[];_0x2da644[_0x3441b1(0xdf)](function(_0x34be62){var _0x2c6b51=_0x3441b1,_0x20a90d=mars3d__namespace[_0x2c6b51(0x120)][_0x2c6b51(0xc9)]([_0x34be62[_0x2c6b51(0xfd)],_0x34be62['lat']]),_0x466e25=_0x34be62['value']||0x1,_0x31f242=Math[_0x2c6b51(0x142)]((_0x20a90d[0x0]-_0xdfd0a[_0x2c6b51(0x14e)])/_0x25fac9),_0x38a66f=Math[_0x2c6b51(0x142)]((_0xdfd0a[_0x2c6b51(0x12a)]-_0x20a90d[0x1])/_0x25fac9);_0x1642a8=Math[_0x2c6b51(0x103)](_0x1642a8,_0x466e25),_0x37a755=Math[_0x2c6b51(0x109)](_0x37a755,_0x466e25),_0x4c2198[_0x2c6b51(0x11e)]({'x':_0x31f242,'y':_0x38a66f,'value':_0x466e25});});var _0x773e47={'min':_0x37a755,'max':_0x1642a8,'data':_0x4c2198};this['_last_heatData']=_0x773e47;(!this['_last_mBounds']||_0xdfd0a[_0x3441b1(0x14e)]!==this[_0x3441b1(0xc4)][_0x3441b1(0x14e)]||_0xdfd0a['ymin']!==this[_0x3441b1(0xc4)]['ymin']||_0xdfd0a['xmax']!==this['_last_mBounds'][_0x3441b1(0x140)]||_0xdfd0a[_0x3441b1(0x12a)]!==this['_last_mBounds']['ymax'])&&(this[_0x3441b1(0xc4)]=_0xdfd0a,!this[_0x3441b1(0xea)]['container']&&(this[_0x3441b1(0xea)][_0x3441b1(0x13e)]=mars3d__namespace[_0x3441b1(0x117)]['create'](_0x3441b1(0x13c),_0x3441b1(0xce),this[_0x3441b1(0xf4)]['container'])),this['heatStyle'][_0x3441b1(0x13e)][_0x3441b1(0x104)]['cssText']=_0x3441b1(0xcd)[_0x3441b1(0x14a)](_0x1af914,_0x3441b1(0x118))[_0x3441b1(0x14a)](_0x1c9f8d,_0x3441b1(0x110)),!this[_0x3441b1(0x14c)]?this[_0x3441b1(0x14c)]=h337__namespace[_0x3441b1(0xc6)](this[_0x3441b1(0xea)]):this[_0x3441b1(0x14c)][_0x3441b1(0xff)](this[_0x3441b1(0xea)]));this['_heat']['setData'](_0x773e47);var _0x46c486=this['_heat'][_0x3441b1(0x11a)][_0x3441b1(0x141)]['toDataURL'](_0x3441b1(0xda));return this[_0x3441b1(0xea)][_0x3441b1(0x13e)]&&(this[_0x3441b1(0xf4)][_0x3441b1(0x13e)][_0x3441b1(0x11c)](this[_0x3441b1(0xea)][_0x3441b1(0x13e)]),delete this[_0x3441b1(0xea)][_0x3441b1(0x13e)]),_0x46c486;}},{'key':_0x4caf59(0xd8),'value':function _0x29f2b0(_0x3d8578){var _0xe8975f=_0x4caf59;this['clear'](),this['_graphic']=new mars3d__namespace['graphic'][(_0xe8975f(0x144))](_objectSpread2(_objectSpread2({},this[_0xe8975f(0xf3)]),{},{'rectangle':this[_0xe8975f(0xfb)],'appearance':new Cesium[(_0xe8975f(0xf8))]({'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x3d8578},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer']['addGraphic'](this[_0xe8975f(0x116)]);}},{'key':_0x4caf59(0xe8),'value':function _0x1a13dc(_0x257aa9){var _0x84beee=_0x4caf59;this[_0x84beee(0x10a)](),this[_0x84beee(0x14c)][_0x84beee(0xff)](_objectSpread2(_objectSpread2({},this[_0x84beee(0xea)]),{},{'radius':this['heatStyle'][_0x84beee(0xf2)]*this[_0x84beee(0x104)][_0x84beee(0x138)],'blur':this['heatStyle']['blur']*this[_0x84beee(0x104)][_0x84beee(0x10c)],'gradient':this['heatStyle']['gradientArc']||{0.25:_0x84beee(0xbe),0.55:'rgb(140,140,140)',0.85:_0x84beee(0x13d),0x1:_0x84beee(0xcc)}}));var _0x39dfb1=this['_heat']['_renderer'][_0x84beee(0x141)]['toDataURL']('image/png'),_0x50a81b=Cesium[_0x84beee(0x125)]['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x84beee(0xe6)][_0x84beee(0xbb)],'frontOperation':{'fail':Cesium[_0x84beee(0xbf)]['KEEP'],'zFail':Cesium[_0x84beee(0xbf)][_0x84beee(0x127)],'zPass':Cesium[_0x84beee(0xbf)]['REPLACE']},'backFunction':Cesium['StencilFunction'][_0x84beee(0xbb)],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0x84beee(0xbf)][_0x84beee(0x127)],'zPass':Cesium['StencilOperation'][_0x84beee(0xd6)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x84beee(0x137)][_0x84beee(0xc8)]}),_0x4badcf=Math[_0x84beee(0x12f)](Cesium[_0x84beee(0x105)](this[_0x84beee(0x104)][_0x84beee(0x102)],this[_0x84beee(0xd7)]*0.02))+0.1;this[_0x84beee(0x104)]['diffHeight']&&delete this[_0x84beee(0x104)]['diffHeight'];var _0x294c38=Cesium['defaultValue'](this[_0x84beee(0x104)][_0x84beee(0x11f)],0x64),_0xb006b9=Math[_0x84beee(0x103)](this[_0x84beee(0xfb)][_0x84beee(0x131)],this[_0x84beee(0xfb)][_0x84beee(0xc1)]);this[_0x84beee(0x104)]['granularity']=_0xb006b9/=_0x294c38,this[_0x84beee(0x116)]=new mars3d__namespace[(_0x84beee(0x114))][(_0x84beee(0x144))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this['_rectangle'],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'aboveGround':!![],'renderState':_0x50a81b,'material':new Cesium[(_0x84beee(0x107))]({'fabric':{'uniforms':{'image':_0x257aa9,'repeat':new Cesium[(_0x84beee(0xee))](0x1,0x1),'color':new Cesium[(_0x84beee(0xd9))](0x1,0x1,0x1,0.01),'bumpMap':_0x39dfb1},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x84beee(0x111)[_0x84beee(0x14a)](_0x4badcf,_0x84beee(0xf9)),'flat':!![]})})),this[_0x84beee(0xe5)][_0x84beee(0xc2)](this[_0x84beee(0x116)]);}},{'key':_0x4caf59(0xde),'value':function _0x37b212(_0x4350be){var _0x1bfb07=_0x4caf59;return _0x4350be!==null&&_0x4350be!==void 0x0&&_0x4350be['isFormat']&&this[_0x1bfb07(0xfb)]?mars3d__namespace[_0x1bfb07(0x128)][_0x1bfb07(0xef)](this[_0x1bfb07(0xfb)]):this['_rectangle'];}}]),_0x4b6646;}(BaseLayer);mars3d__namespace[_0x3ae92f(0xc7)][_0x3ae92f(0xbc)]=HeatLayer,mars3d__namespace[_0x3ae92f(0x12d)][_0x3ae92f(0x101)](_0x3ae92f(0x135),HeatLayer);function getMercatorBounds(_0x59c626){var _0x2bcd84=_0x3ae92f,_0x490003=mars3d__namespace['PointTrans'][_0x2bcd84(0xc9)]([_0x59c626['xmin'],_0x59c626[_0x2bcd84(0xf5)]]),_0xd9d647=mars3d__namespace[_0x2bcd84(0x120)][_0x2bcd84(0xc9)]([_0x59c626[_0x2bcd84(0x140)],_0x59c626[_0x2bcd84(0x12a)]]);return{'xmin':_0x490003[0x0],'ymin':_0x490003[0x1],'xmax':_0xd9d647[0x0],'ymax':_0xd9d647[0x1]};}function _0x4cc6(_0x483717,_0x1b403b){var _0x4670c4=_0x4670();return _0x4cc6=function(_0x4cc620,_0x52911f){_0x4cc620=_0x4cc620-0xbb;var _0x5ee691=_0x4670c4[_0x4cc620];if(_0x4cc6['yYisJM']===undefined){var _0x50e9ce=function(_0x1c45c8){var _0x5cf431='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x4cc76e='',_0x393e3f='';for(var _0x3e986d=0x0,_0x488c3a,_0x5d552c,_0x4f4d90=0x0;_0x5d552c=_0x1c45c8['charAt'](_0x4f4d90++);~_0x5d552c&&(_0x488c3a=_0x3e986d%0x4?_0x488c3a*0x40+_0x5d552c:_0x5d552c,_0x3e986d++%0x4)?_0x4cc76e+=String['fromCharCode'](0xff&_0x488c3a>>(-0x2*_0x3e986d&0x6)):0x0){_0x5d552c=_0x5cf431['indexOf'](_0x5d552c);}for(var _0x50f2fc=0x0,_0x59b2ef=_0x4cc76e['length'];_0x50f2fc<_0x59b2ef;_0x50f2fc++){_0x393e3f+='%'+('00'+_0x4cc76e['charCodeAt'](_0x50f2fc)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x393e3f);};_0x4cc6['VQOxTA']=_0x50e9ce,_0x483717=arguments,_0x4cc6['yYisJM']=!![];}var _0x4c2525=_0x4670c4[0x0],_0x2cb4ae=_0x4cc620+_0x4c2525,_0x11e781=_0x483717[_0x2cb4ae];return!_0x11e781?(_0x5ee691=_0x4cc6['VQOxTA'](_0x5ee691),_0x483717[_0x2cb4ae]=_0x5ee691):_0x5ee691=_0x11e781,_0x5ee691;},_0x4cc6(_0x483717,_0x1b403b);}function geLatLngBounds(_0x17cb6a){var _0x37e64a=_0x3ae92f,_0x3dc2ce=mars3d__namespace['PointTrans'][_0x37e64a(0x121)]([_0x17cb6a[_0x37e64a(0x14e)],_0x17cb6a['ymin']]),_0x26305b=mars3d__namespace[_0x37e64a(0x120)]['mercator2lonlat']([_0x17cb6a[_0x37e64a(0x140)],_0x17cb6a[_0x37e64a(0x12a)]]);return{'xmin':_0x3dc2ce[0x0],'ymin':_0x3dc2ce[0x1],'xmax':_0x26305b[0x0],'ymax':_0x26305b[0x1]};}exports[_0x3ae92f(0xbc)]=HeatLayer,Object[_0x3ae92f(0x10d)](exports,'__esModule',{'value':!![]});
}));
