/**
 * Mars3D三维可视化平台  mars3d-sdk
 *
 * 版本信息：v3.3.0
 * 编译日期：2022-03-18 17:22:01
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 'use strict';var _0x5bc2ef=_0x1bb0;function _0x4fd7(){var _0x29eafe=['y2fUDMfZ','x3nLDe9WDgLVBNniB29R','q29SB3i','ndG3otGWAvHWBLfg','y29UC3rYDwn0','C3r5Bgu','yxjJuMfKAxvZu2nHBgu','y2fSBa','ChvZAa','ug9PBNruCMfUCW','uMvUzgvYu3rHDgu','Dg9bCNjHEq','ChjVDg90ExbL','yM9KEq','zNvUy3rPB24','CMDIkde0mcWXndaSmtqWkq','CM91BMq','x21cB3vUzhnnyxG','z3jHCgHPyW','Aw1Hz2uVCg5N','Bgf5zxi','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','x2DLDeHLyxrdyw52yxnjBwC','quXxqvLt','BwLUq2fUDMfZu2L6zq','AgvHDfn0EwXL','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','zgvMAw5LuhjVCgvYDgLLCW','mJjjvevKAhu','s0vfua','Cg9ZAxrPB25Z','ywrKug9ZAxrPB24','x2DYyxbOAwm','mtjmvhjUsLi','y29UDgfPBMvY','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','y29UzMLNDxjHyMXL','uKvqtefdrq','x3jLBMrLCMvY','tg5Ntgf0ug9PBNq','Bgf0','mJrLzurTsfi','x2fKzgvKsg9VAW','zgvMyxvSDa','D3jPDgfIBgu','zNjVBurLz3jLzxm','Bg9UBgf0mM1LCMnHDg9Y','x2XHEwvY','AgvHDa','D2LKDgG','Bwf4q2fUDMfZu2L6zq','x19LC01VzhvSzq','BwLU','mtu0mdi3ogHiz1zIqG','y3nZvgv4Da','y29Uy2f0','x2XHC3rFBujVDw5KCW','C2HVDW','yMX1CG','CMDIkdaSmcWWkq','mtK2nJrZru1bqLq','C3bSAxroDw0','yxjJ','Bg5N','q2fYDgvZAwfUmG','mJiWndCWDLPOyKzq','mZy2nJC3me9Ou0vYCW','zM9YrwfJAa','BwvYy2f0B3iYBg9UBgf0','x19WCM90B19F','zMX5vg8','x2nYzwf0zufYy0DYyxbOAwm','BgvUz3rO','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','x2HLyxq','CgfYC2u','Dg9eyxrHvvjm','CMDIkdiXnIWYmtySmJe2kq','BwvYz2u','A2v5CW','vxrPBa','CMvTB3zLq2HPBgq','y29VCMrPBMf0zxm','x21VDw50zwriB29R','zMLSDgvY','Ew1PBG','DMfSDwvpzG','B2jQzwn0','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','x2XHC3rFAgvHDerHDge','zgvMAw5LuhjVCgvYDhK','CMvTB3zLtgf5zxi','x2nYzwf0zuDYyxbOAwm','zNjVBunHy2HL','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','ndi0mtjKu29dt24','y2XPzw50v2LKDgG','Bwf4','B3b0Aw9UCW','ywjZ','AgvPz2H0','zgvMyxvSDfzHBhvL','ywrKr3jHCgHPyW','z2v0uMvJDgfUz2XL','Eg1HEa','zgLMzKHLAwDODa','zMXVB3i','u3rLBMnPBe9WzxjHDgLVBG','CMvK','quXqsefFqKXftKq','x3bVC2L0Aw9UCW','Eg1PBG','sgvHDeXHEwvY','yxjJqMX1CLnJywXL','CMDIkdi1nsWYntuSmJu1kq','Ew1HEa','x21HCa','mZq0n1vjuxLpua','qMfZzuXHEwvY','z3jLzw4','y3jLyxrL','tgf5zxjvDgLS','zM9YBwf0uMvJDgfUz2XL','vKvsvevyx0zpuK1bva','y29UC3rYDwn0B3i','y2XLyxi','yxbWBhK','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','BwfYCZnKlwHLyxrTyxa','C2v0rgf0yq','y2XPzw50sgvPz2H0','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','twf0zxjPywW','mZiXodi4nxbUr3LPAq','q2vZAxvT','zw51BwvYywjSzq','z3jHBNvSyxjPDhK','ywrKtgf5zxi','nZz4tgTyCxC','DMfSDwu','y29UzMLNDxjL','x3jLy3rHBMDSzq','ChG7','z2v0','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','z3jHzgLLBNrbCMm','CMfKAxvZ','rg9TvxrPBa','x21HCNmZzf9WCML2yxrL'];_0x4fd7=function(){return _0x29eafe;};return _0x4fd7();}(function(_0x3da200,_0xe0f7c1){var _0xb38654=_0x1bb0,_0xbcd360=_0x3da200();while(!![]){try{var _0x4c25d0=-parseInt(_0xb38654(0x153))/0x1*(-parseInt(_0xb38654(0xfc))/0x2)+-parseInt(_0xb38654(0xd1))/0x3+parseInt(_0xb38654(0x127))/0x4*(-parseInt(_0xb38654(0xdd))/0x5)+-parseInt(_0xb38654(0x15b))/0x6*(-parseInt(_0xb38654(0x122))/0x7)+parseInt(_0xb38654(0xd8))/0x8*(parseInt(_0xb38654(0x112))/0x9)+-parseInt(_0xb38654(0xde))/0xa*(parseInt(_0xb38654(0x14e))/0xb)+parseInt(_0xb38654(0x135))/0xc;if(_0x4c25d0===_0xe0f7c1)break;else _0xbcd360['push'](_0xbcd360['shift']());}catch(_0x5bbcaf){_0xbcd360['push'](_0xbcd360['shift']());}}}(_0x4fd7,0xf1f1d));function _interopNamespace(_0x1ade0b){var _0x387505=_0x1bb0;if(_0x1ade0b&&_0x1ade0b[_0x387505(0x165)])return _0x1ade0b;var _0x2e49b8=Object[_0x387505(0x115)](null);return _0x1ade0b&&Object['keys'](_0x1ade0b)['forEach'](function(_0xcf43a5){var _0x10e00c=_0x387505;if(_0xcf43a5!==_0x10e00c(0x15d)){var _0x1384f0=Object[_0x10e00c(0xfb)](_0x1ade0b,_0xcf43a5);Object[_0x10e00c(0xf7)](_0x2e49b8,_0xcf43a5,_0x1384f0[_0x10e00c(0x12c)]?_0x1384f0:{'enumerable':!![],'get':function(){return _0x1ade0b[_0xcf43a5];}});}}),_0x2e49b8[_0x387505(0x15d)]=_0x1ade0b,_0x2e49b8;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function _0x1bb0(_0x40b246,_0x41ccdf){var _0x4fd7ee=_0x4fd7();return _0x1bb0=function(_0x1bb0df,_0x266fca){_0x1bb0df=_0x1bb0df-0xd1;var _0x313dd9=_0x4fd7ee[_0x1bb0df];if(_0x1bb0['cHJEJH']===undefined){var _0x46729d=function(_0x1ade0b){var _0x2e49b8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0xcf43a5='',_0x1384f0='';for(var _0x4becd3=0x0,_0x25085a,_0x36a0f1,_0x5d05f2=0x0;_0x36a0f1=_0x1ade0b['charAt'](_0x5d05f2++);~_0x36a0f1&&(_0x25085a=_0x4becd3%0x4?_0x25085a*0x40+_0x36a0f1:_0x36a0f1,_0x4becd3++%0x4)?_0xcf43a5+=String['fromCharCode'](0xff&_0x25085a>>(-0x2*_0x4becd3&0x6)):0x0){_0x36a0f1=_0x2e49b8['indexOf'](_0x36a0f1);}for(var _0x38af45=0x0,_0x41a964=_0xcf43a5['length'];_0x38af45<_0x41a964;_0x38af45++){_0x1384f0+='%'+('00'+_0xcf43a5['charCodeAt'](_0x38af45)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1384f0);};_0x1bb0['fvWzjD']=_0x46729d,_0x40b246=arguments,_0x1bb0['cHJEJH']=!![];}var _0x3fcaa0=_0x4fd7ee[0x0],_0x1d5b59=_0x1bb0df+_0x3fcaa0,_0x9c9cc9=_0x40b246[_0x1d5b59];return!_0x9c9cc9?(_0x313dd9=_0x1bb0['fvWzjD'](_0x313dd9),_0x40b246[_0x1d5b59]=_0x313dd9):_0x313dd9=_0x9c9cc9,_0x313dd9;},_0x1bb0(_0x40b246,_0x41ccdf);}function ownKeys(_0x4becd3,_0x25085a){var _0x2d1070=_0x1bb0,_0x36a0f1=Object[_0x2d1070(0xec)](_0x4becd3);if(Object[_0x2d1070(0x11c)]){var _0x5d05f2=Object[_0x2d1070(0x11c)](_0x4becd3);_0x25085a&&(_0x5d05f2=_0x5d05f2[_0x2d1070(0xf1)](function(_0x38af45){var _0x10b7ad=_0x2d1070;return Object[_0x10b7ad(0xfb)](_0x4becd3,_0x38af45)[_0x10b7ad(0x124)];})),_0x36a0f1[_0x2d1070(0x13a)][_0x2d1070(0x11b)](_0x36a0f1,_0x5d05f2);}return _0x36a0f1;}function _objectSpread2(_0x41a964){var _0x514127=_0x1bb0;for(var _0x2a3f37=0x1;_0x2a3f37<arguments['length'];_0x2a3f37++){var _0x3e5392=null!=arguments[_0x2a3f37]?arguments[_0x2a3f37]:{};_0x2a3f37%0x2?ownKeys(Object(_0x3e5392),!0x0)['forEach'](function(_0x514264){_defineProperty(_0x41a964,_0x514264,_0x3e5392[_0x514264]);}):Object[_0x514127(0xe5)]?Object[_0x514127(0x14d)](_0x41a964,Object[_0x514127(0xe5)](_0x3e5392)):ownKeys(Object(_0x3e5392))[_0x514127(0xdf)](function(_0x55d124){var _0x2fdf5e=_0x514127;Object[_0x2fdf5e(0xf7)](_0x41a964,_0x55d124,Object['getOwnPropertyDescriptor'](_0x3e5392,_0x55d124));});}return _0x41a964;}function _classCallCheck(_0x51cdbe,_0x222a2d){if(!(_0x51cdbe instanceof _0x222a2d))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x41cbde,_0xa88634){var _0x5d1397=_0x1bb0;for(var _0x5598be=0x0;_0x5598be<_0xa88634['length'];_0x5598be++){var _0x5da07d=_0xa88634[_0x5598be];_0x5da07d[_0x5d1397(0x124)]=_0x5da07d['enumerable']||![],_0x5da07d[_0x5d1397(0x156)]=!![];if(_0x5d1397(0x128)in _0x5da07d)_0x5da07d[_0x5d1397(0x15e)]=!![];Object[_0x5d1397(0xf7)](_0x41cbde,_0x5da07d['key'],_0x5da07d);}}function _createClass(_0x377b8e,_0x45286b,_0xb7ca8a){if(_0x45286b)_defineProperties(_0x377b8e['prototype'],_0x45286b);if(_0xb7ca8a)_defineProperties(_0x377b8e,_0xb7ca8a);return Object['defineProperty'](_0x377b8e,'prototype',{'writable':![]}),_0x377b8e;}function _defineProperty(_0x38f377,_0x4ad7ab,_0x36c3c9){var _0x45977e=_0x1bb0;return _0x4ad7ab in _0x38f377?Object[_0x45977e(0xf7)](_0x38f377,_0x4ad7ab,{'value':_0x36c3c9,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x38f377[_0x4ad7ab]=_0x36c3c9,_0x38f377;}function _inherits(_0x30f257,_0x38aa1c){var _0x31d36e=_0x1bb0;if(typeof _0x38aa1c!==_0x31d36e(0x140)&&_0x38aa1c!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x30f257[_0x31d36e(0x13e)]=Object[_0x31d36e(0x115)](_0x38aa1c&&_0x38aa1c[_0x31d36e(0x13e)],{'constructor':{'value':_0x30f257,'writable':!![],'configurable':!![]}}),Object[_0x31d36e(0xf7)](_0x30f257,'prototype',{'writable':![]});if(_0x38aa1c)_setPrototypeOf(_0x30f257,_0x38aa1c);}function _getPrototypeOf(_0x552f99){return _getPrototypeOf=Object['setPrototypeOf']?Object['getPrototypeOf']:function _0x2f630f(_0x54a8e0){var _0x10111f=_0x1bb0;return _0x54a8e0[_0x10111f(0xe1)]||Object['getPrototypeOf'](_0x54a8e0);},_getPrototypeOf(_0x552f99);}function _setPrototypeOf(_0x354740,_0x20962a){return _setPrototypeOf=Object['setPrototypeOf']||function _0x4a0547(_0x483699,_0x566dbd){var _0x6a5c2d=_0x1bb0;return _0x483699[_0x6a5c2d(0xe1)]=_0x566dbd,_0x483699;},_setPrototypeOf(_0x354740,_0x20962a);}function _isNativeReflectConstruct(){var _0x253642=_0x1bb0;if(typeof Reflect==='undefined'||!Reflect[_0x253642(0x136)])return![];if(Reflect['construct']['sham'])return![];if(typeof Proxy===_0x253642(0x140))return!![];try{return Boolean[_0x253642(0x13e)][_0x253642(0xf3)][_0x253642(0x139)](Reflect[_0x253642(0x136)](Boolean,[],function(){})),!![];}catch(_0x298b04){return![];}}function _assertThisInitialized(_0x56a576){var _0x26d8be=_0x1bb0;if(_0x56a576===void 0x0)throw new ReferenceError(_0x26d8be(0x12d));return _0x56a576;}function _possibleConstructorReturn(_0x84ada9,_0x36abbe){var _0x5a36af=_0x1bb0;if(_0x36abbe&&(typeof _0x36abbe===_0x5a36af(0xf4)||typeof _0x36abbe===_0x5a36af(0x140)))return _0x36abbe;else{if(_0x36abbe!==void 0x0)throw new TypeError(_0x5a36af(0x147));}return _assertThisInitialized(_0x84ada9);}function _createSuper(_0x227da1){var _0x32fa5b=_isNativeReflectConstruct();return function _0x4e3538(){var _0x596a72=_0x1bb0,_0x228b4c=_getPrototypeOf(_0x227da1),_0x426d39;if(_0x32fa5b){var _0x541eda=_getPrototypeOf(this)[_0x596a72(0x119)];_0x426d39=Reflect['construct'](_0x228b4c,arguments,_0x541eda);}else _0x426d39=_0x228b4c[_0x596a72(0x11b)](this,arguments);return _possibleConstructorReturn(this,_0x426d39);};}var HeatMaterial=_0x5bc2ef(0x120),Cesium=mars3d__namespace[_0x5bc2ef(0x123)],BaseLayer=mars3d__namespace['layer'][_0x5bc2ef(0x113)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:'blue',0.6:_0x5bc2ef(0x114),0.8:'yellow',0.9:_0x5bc2ef(0x109)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x5bc2ef(0x118)]},HeatLayer=function(_0x229ccb){var _0x549ff1=_0x5bc2ef;_inherits(_0x4630a2,_0x229ccb);var _0x23964b=_createSuper(_0x4630a2);function _0x4630a2(){var _0x5312a4=_0x1bb0,_0x5b686b,_0x48e635=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x4630a2),_0x5b686b=_0x23964b[_0x5312a4(0x139)](this,_0x48e635),_0x5b686b['options'][_0x5312a4(0x164)]=Cesium[_0x5312a4(0x102)](_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x164)],document[_0x5312a4(0x13f)][_0x5312a4(0xfd)]),_0x5b686b[_0x5312a4(0xff)]['maxCanvasSize']=Math['min'](_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x164)],0x1388),_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x14a)]=Cesium[_0x5312a4(0x102)](_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x14a)],document[_0x5312a4(0x13f)][_0x5312a4(0x11f)]),_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x14a)]=Math[_0x5312a4(0xfe)](_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x14a)],0x2bc),_0x5b686b['options'][_0x5312a4(0x14b)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x14b)]||{}),_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x137)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x5b686b[_0x5312a4(0xff)][_0x5312a4(0x137)]||{}),_0x5b686b;}return _createClass(_0x4630a2,[{'key':_0x549ff1(0x146),'get':function _0xf15ff0(){var _0x419bb4=_0x549ff1;return this[_0x419bb4(0x161)];}},{'key':_0x549ff1(0x14b),'get':function _0x178cd0(){var _0x356a44=_0x549ff1;return this[_0x356a44(0xff)][_0x356a44(0x14b)];},'set':function _0x15e3c4(_0x38673b){var _0x31f4ec=_0x549ff1;this[_0x31f4ec(0xff)][_0x31f4ec(0x14b)]=mars3d__namespace['Util']['merge'](this['options'][_0x31f4ec(0x14b)],_0x38673b),this['_heat']&&this[_0x31f4ec(0xe7)][_0x31f4ec(0x129)](this[_0x31f4ec(0xff)][_0x31f4ec(0x14b)]);}},{'key':_0x549ff1(0x137),'get':function _0xbf35a6(){var _0x3438fd=_0x549ff1;return this['options'][_0x3438fd(0x137)];},'set':function _0x37932d(_0x5c5fca){var _0x34ab97=_0x549ff1;this[_0x34ab97(0xff)][_0x34ab97(0x137)]=mars3d__namespace[_0x34ab97(0xed)][_0x34ab97(0xeb)](this[_0x34ab97(0xff)]['style'],_0x5c5fca);}},{'key':'positions','get':function _0x1ab74a(){return this['_positions'];},'set':function _0x57be55(_0x1db4a6){var _0x168a96=_0x549ff1;this[_0x168a96(0x10b)]=_0x1db4a6,this[_0x168a96(0x14c)]();}},{'key':_0x549ff1(0xef),'get':function _0x1b7804(){var _0x8804c3=_0x549ff1,_0x45f870=[];return this['points'][_0x8804c3(0xdf)](function(_0x41350f){var _0x11be17=_0x8804c3;_0x45f870[_0x11be17(0x13a)](_0x41350f[_0x11be17(0x13d)]());}),_0x45f870;}},{'key':'rectangle','get':function _0x34a4da(){var _0x2f6c5d=_0x549ff1;return this[_0x2f6c5d(0x12a)];}},{'key':_0x549ff1(0x133),'value':function _0x37097c(_0x41a37e){var _0xca0cf8=_0x549ff1;_0x41a37e[_0xca0cf8(0x150)]&&(this['positions']=_0x41a37e[_0xca0cf8(0x150)]);}},{'key':_0x549ff1(0xf0),'value':function _0x58199f(){var _0x3891ef=_0x549ff1;this[_0x3891ef(0x161)]=new mars3d__namespace[(_0x3891ef(0x146))]['GraphicLayer']({'noLayerManage':!![]}),this[_0x3891ef(0x161)][_0x3891ef(0x131)]=!![];}},{'key':_0x549ff1(0x15c),'value':function _0x4e49cf(){var _0x4c45f7=_0x549ff1;this[_0x4c45f7(0x111)][_0x4c45f7(0x126)](this[_0x4c45f7(0x161)]),this[_0x4c45f7(0xff)][_0x4c45f7(0x150)]&&(this[_0x4c45f7(0x150)]=this[_0x4c45f7(0xff)][_0x4c45f7(0x150)]),this[_0x4c45f7(0xff)][_0x4c45f7(0xe2)]&&this['flyToByAnimationEnd']();}},{'key':'_removedHook','value':function _0x3b6785(){var _0x4c547c=_0x549ff1;this[_0x4c547c(0x14b)]['container']&&(this[_0x4c547c(0x111)][_0x4c547c(0x154)]['removeChild'](this[_0x4c547c(0x14b)][_0x4c547c(0x154)]),delete this['heatStyle'][_0x4c547c(0x154)]),this[_0x4c547c(0x11a)](),this['_map'][_0x4c547c(0xf8)](this[_0x4c547c(0x161)]);}},{'key':_0x549ff1(0x151),'value':function _0x3e2b61(_0x5ab37f){var _0x349fa8=_0x549ff1;this[_0x349fa8(0x10b)]=this['_positions']||[],this[_0x349fa8(0x10b)][_0x349fa8(0x13a)](_0x5ab37f),this[_0x349fa8(0x14c)]();}},{'key':_0x549ff1(0x11a),'value':function _0x4daf50(){var _0x17aa3b=_0x549ff1;this[_0x17aa3b(0x152)]&&(this['_layer']['removeGraphic'](this[_0x17aa3b(0x152)],!![]),delete this[_0x17aa3b(0x152)]);}},{'key':'_updatePositionsHook','value':function _0x4851d8(){var _0x193543=_0x549ff1;if(!this[_0x193543(0xd5)]||!this['_map']||!this[_0x193543(0x150)]||this['positions'][_0x193543(0xe4)]===0x0)return this;var _0x42b349=this[_0x193543(0x148)]();return this[_0x193543(0x137)][_0x193543(0xda)]?this[_0x193543(0xe3)](_0x42b349):this['_createGraphic'](_0x42b349),this;}},{'key':_0x549ff1(0x148),'value':function _0x2f4e05(){var _0x2aba69=_0x549ff1,_0x234854,_0x3fffaf,_0xcf7437=this[_0x2aba69(0x10b)],_0x506f77=[],_0x5a6449,_0x43dfbb,_0x4860e5,_0x3b905d;_0xcf7437['forEach'](function(_0x435dd5){var _0x4f667c=_0x2aba69,_0x50d21d=mars3d__namespace[_0x4f667c(0x159)][_0x4f667c(0xe8)](_0x435dd5);if(!_0x50d21d)return;_0x50d21d[_0x4f667c(0x128)]=_0x435dd5[_0x4f667c(0x128)]||0x1,_0x5a6449===undefined?(_0x5a6449=_0x50d21d[_0x4f667c(0xdb)],_0x43dfbb=_0x50d21d[_0x4f667c(0xdb)],_0x4860e5=_0x50d21d['lat'],_0x3b905d=_0x50d21d[_0x4f667c(0x15a)]):(_0x5a6449=Math[_0x4f667c(0x166)](_0x5a6449,_0x50d21d[_0x4f667c(0xdb)]),_0x43dfbb=Math[_0x4f667c(0xfe)](_0x43dfbb,_0x50d21d[_0x4f667c(0xdb)]),_0x4860e5=Math[_0x4f667c(0x166)](_0x4860e5,_0x50d21d[_0x4f667c(0x15a)]),_0x3b905d=Math[_0x4f667c(0xfe)](_0x3b905d,_0x50d21d['lat'])),_0x506f77[_0x4f667c(0x13a)](_0x50d21d);});var _0x3e3e20=this['heatStyle'][_0x2aba69(0x12f)]*1.5,_0xef0e31={'xmin':_0x5a6449,'xmax':_0x43dfbb,'ymin':_0x4860e5,'ymax':_0x3b905d},_0x4204c9=getMercatorBounds(_0xef0e31),_0x26c500=Math[_0x2aba69(0x100)](_0x4204c9[_0x2aba69(0x105)]-_0x4204c9['xmin']),_0x574ffd=Math[_0x2aba69(0x100)](_0x4204c9[_0x2aba69(0x110)]-_0x4204c9[_0x2aba69(0xf2)]),_0x1eec49=Math[_0x2aba69(0xfe)](_0x26c500,_0x574ffd),_0x5c869c=Math[_0x2aba69(0x166)](_0x26c500,_0x574ffd);this['_mBoundsMax']=_0x1eec49;var _0x212570=0x1;if(_0x1eec49>this[_0x2aba69(0xff)][_0x2aba69(0x164)])_0x212570=_0x1eec49/this[_0x2aba69(0xff)]['maxCanvasSize'],_0x5c869c/_0x212570<this[_0x2aba69(0xff)][_0x2aba69(0x14a)]&&(_0x212570=_0x5c869c/this['options']['minCanvasSize']);else _0x5c869c<this[_0x2aba69(0xff)][_0x2aba69(0x14a)]&&(_0x212570=_0x5c869c/this[_0x2aba69(0xff)]['minCanvasSize'],_0x1eec49/_0x212570>this['options'][_0x2aba69(0x164)]&&(_0x212570=_0x1eec49/this[_0x2aba69(0xff)][_0x2aba69(0x164)]));var _0x559e07=_0x26c500/_0x212570+_0x3e3e20*0x2,_0x8b9f5d=_0x574ffd/_0x212570+_0x3e3e20*0x2,_0x2b8a44=_0x3e3e20*_0x212570;_0x4204c9[_0x2aba69(0x10c)]-=_0x2b8a44,_0x4204c9[_0x2aba69(0xf2)]-=_0x2b8a44,_0x4204c9['xmax']+=_0x2b8a44,_0x4204c9[_0x2aba69(0x110)]+=_0x2b8a44,_0xef0e31=geLatLngBounds(_0x4204c9),this[_0x2aba69(0x12a)]=Cesium['Rectangle'][_0x2aba69(0x15f)](_0xef0e31[_0x2aba69(0x10c)],_0xef0e31[_0x2aba69(0xf2)],_0xef0e31[_0x2aba69(0x105)],_0xef0e31[_0x2aba69(0x110)]);var _0x515698=(_0x234854=_0x506f77[0x0]['value'])!==null&&_0x234854!==void 0x0?_0x234854:0x1,_0x8d9709=(_0x3fffaf=_0x506f77[0x0][_0x2aba69(0x128)])!==null&&_0x3fffaf!==void 0x0?_0x3fffaf:0x0,_0x18a8da=[];_0x506f77[_0x2aba69(0xdf)](function(_0x1133de){var _0x5273c5=_0x2aba69,_0x2e29c8=mars3d__namespace[_0x5273c5(0x13b)][_0x5273c5(0x160)]([_0x1133de[_0x5273c5(0xdb)],_0x1133de[_0x5273c5(0x15a)]]),_0x54ff21=_0x1133de['value']||0x1,_0x13d4fd=Math[_0x5273c5(0x142)]((_0x2e29c8[0x0]-_0x4204c9[_0x5273c5(0x10c)])/_0x212570),_0x5cbfea=Math[_0x5273c5(0x142)]((_0x4204c9[_0x5273c5(0x110)]-_0x2e29c8[0x1])/_0x212570);_0x515698=Math[_0x5273c5(0xfe)](_0x515698,_0x54ff21),_0x8d9709=Math[_0x5273c5(0x166)](_0x8d9709,_0x54ff21),_0x18a8da[_0x5273c5(0x13a)]({'x':_0x13d4fd,'y':_0x5cbfea,'value':_0x54ff21});});var _0x5c9b27={'min':_0x8d9709,'max':_0x515698,'data':_0x18a8da};this[_0x2aba69(0xf6)]=_0x5c9b27;(!this['_last_mBounds']||_0x4204c9[_0x2aba69(0x10c)]!==this[_0x2aba69(0xd4)][_0x2aba69(0x10c)]||_0x4204c9[_0x2aba69(0xf2)]!==this[_0x2aba69(0xd4)][_0x2aba69(0xf2)]||_0x4204c9[_0x2aba69(0x105)]!==this['_last_mBounds'][_0x2aba69(0x105)]||_0x4204c9[_0x2aba69(0x110)]!==this[_0x2aba69(0xd4)][_0x2aba69(0x110)])&&(this[_0x2aba69(0xd4)]=_0x4204c9,!this['heatStyle'][_0x2aba69(0x154)]&&(this[_0x2aba69(0x14b)]['container']=mars3d__namespace[_0x2aba69(0x130)][_0x2aba69(0x115)]('div',_0x2aba69(0x11d),this['_map'][_0x2aba69(0x154)])),this[_0x2aba69(0x14b)][_0x2aba69(0x154)][_0x2aba69(0x137)][_0x2aba69(0xd2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:'['concat'](_0x559e07,'px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:')[_0x2aba69(0xd3)](_0x8b9f5d,_0x2aba69(0x12b)),!this['_heat']?this[_0x2aba69(0xe7)]=h337__namespace[_0x2aba69(0x115)](this[_0x2aba69(0x14b)]):this[_0x2aba69(0xe7)]['configure'](this[_0x2aba69(0x14b)]));this['_heat'][_0x2aba69(0x11e)](_0x5c9b27);var _0x10159a=this['_heat']['_renderer'][_0x2aba69(0x132)]['toDataURL'](_0x2aba69(0x145));return this['heatStyle'][_0x2aba69(0x154)]&&(this[_0x2aba69(0x111)][_0x2aba69(0x154)][_0x2aba69(0xee)](this[_0x2aba69(0x14b)][_0x2aba69(0x154)]),delete this['heatStyle'][_0x2aba69(0x154)]),_0x10159a;}},{'key':_0x549ff1(0xf9),'value':function _0x316a84(_0x5f3c17){var _0x2e2040=_0x549ff1;this[_0x2e2040(0x11a)](),this['_graphic']=new mars3d__namespace[(_0x2e2040(0x144))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x2e2040(0x12a)],'appearance':new Cesium[(_0x2e2040(0xe6))]({'material':new Cesium[(_0x2e2040(0x121))]({'fabric':{'uniforms':{'image':_0x5f3c17},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x2e2040(0x161)][_0x2e2040(0x103)](this['_graphic']);}},{'key':'_createArcGraphic','value':function _0x13543f(_0x2ceda9){var _0x42efa5=_0x549ff1;this[_0x42efa5(0x11a)](),this[_0x42efa5(0xe7)][_0x42efa5(0x129)](_objectSpread2(_objectSpread2({},this['heatStyle']),{},{'radius':this[_0x42efa5(0x14b)][_0x42efa5(0x12f)]*this[_0x42efa5(0x137)][_0x42efa5(0x138)],'blur':this[_0x42efa5(0x14b)][_0x42efa5(0xd6)]*this[_0x42efa5(0x137)][_0x42efa5(0x10e)],'gradient':this[_0x42efa5(0x14b)][_0x42efa5(0x12e)]||{0.25:_0x42efa5(0xd7),0.55:_0x42efa5(0x141),0.85:_0x42efa5(0xea),0x1:_0x42efa5(0x10f)}}));var _0xd4dece=this[_0x42efa5(0xe7)][_0x42efa5(0x158)][_0x42efa5(0x132)][_0x42efa5(0xe9)](_0x42efa5(0x145)),_0x25c875=Cesium[_0x42efa5(0x13c)][_0x42efa5(0xfa)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x42efa5(0x149)],'frontOperation':{'fail':Cesium[_0x42efa5(0x108)][_0x42efa5(0x14f)],'zFail':Cesium[_0x42efa5(0x108)][_0x42efa5(0x14f)],'zPass':Cesium[_0x42efa5(0x108)][_0x42efa5(0x157)]},'backFunction':Cesium['StencilFunction'][_0x42efa5(0x149)],'backOperation':{'fail':Cesium[_0x42efa5(0x108)][_0x42efa5(0x14f)],'zFail':Cesium['StencilOperation'][_0x42efa5(0x14f)],'zPass':Cesium['StencilOperation']['REPLACE']},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0x42efa5(0x10a)]}),_0x55d9f0=Math[_0x42efa5(0x107)](Cesium[_0x42efa5(0x102)](this['style'][_0x42efa5(0x106)],this[_0x42efa5(0x143)]*0.02))+0.1,_0x5678fb=Cesium['defaultValue'](this[_0x42efa5(0x137)][_0x42efa5(0xd9)],0x64),_0x56ea49=Math['max'](this[_0x42efa5(0x12a)][_0x42efa5(0x101)],this[_0x42efa5(0x12a)][_0x42efa5(0x163)]);this[_0x42efa5(0x137)][_0x42efa5(0x125)]=_0x56ea49/=_0x5678fb,this[_0x42efa5(0x152)]=new mars3d__namespace[(_0x42efa5(0x144))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x42efa5(0xff)]),{},{'rectangle':this[_0x42efa5(0x12a)],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'aboveGround':!![],'renderState':_0x25c875,'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x2ceda9,'repeat':new Cesium[(_0x42efa5(0xdc))](0x1,0x1),'color':new Cesium[(_0x42efa5(0x134))](0x1,0x1,0x1,0.01),'bumpMap':_0xd4dece},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x42efa5(0xf5)['concat'](_0x55d9f0,_0x42efa5(0x155)),'flat':!![]})})),this[_0x42efa5(0x161)][_0x42efa5(0x103)](this['_graphic']);}},{'key':_0x549ff1(0x104),'value':function _0x37163e(_0x234558){var _0x32f43f=_0x549ff1;return _0x234558!==null&&_0x234558!==void 0x0&&_0x234558['isFormat']&&this['_rectangle']?mars3d__namespace['PolyUtil'][_0x32f43f(0x117)](this[_0x32f43f(0x12a)]):this[_0x32f43f(0x12a)];}}]),_0x4630a2;}(BaseLayer);mars3d__namespace[_0x5bc2ef(0x146)]['HeatLayer']=HeatLayer,mars3d__namespace[_0x5bc2ef(0x116)]['register'](_0x5bc2ef(0x162),HeatLayer);function getMercatorBounds(_0x172558){var _0x8df20a=_0x5bc2ef,_0xef0e0d=mars3d__namespace[_0x8df20a(0x13b)][_0x8df20a(0x160)]([_0x172558[_0x8df20a(0x10c)],_0x172558['ymin']]),_0x336de0=mars3d__namespace[_0x8df20a(0x13b)][_0x8df20a(0x160)]([_0x172558[_0x8df20a(0x105)],_0x172558['ymax']]);return{'xmin':_0xef0e0d[0x0],'ymin':_0xef0e0d[0x1],'xmax':_0x336de0[0x0],'ymax':_0x336de0[0x1]};}function geLatLngBounds(_0x3a1c46){var _0x4b6a87=_0x5bc2ef,_0x1fb753=mars3d__namespace['PointTrans'][_0x4b6a87(0xe0)]([_0x3a1c46['xmin'],_0x3a1c46[_0x4b6a87(0xf2)]]),_0x2c5476=mars3d__namespace[_0x4b6a87(0x13b)][_0x4b6a87(0xe0)]([_0x3a1c46[_0x4b6a87(0x105)],_0x3a1c46['ymax']]);return{'xmin':_0x1fb753[0x0],'ymin':_0x1fb753[0x1],'xmax':_0x2c5476[0x0],'ymax':_0x2c5476[0x1]};}exports[_0x5bc2ef(0x10d)]=HeatLayer,Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
