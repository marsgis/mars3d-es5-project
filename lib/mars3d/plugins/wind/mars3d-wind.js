/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.4.16
 * 编译日期：2022-12-05 21:58:11
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';var _0x2f96a8=_0xc543;(function(_0x113e46,_0x2b5910){var _0x49f69a=_0xc543,_0x3a110a=_0x113e46();while(!![]){try{var _0x24c5c0=parseInt(_0x49f69a(0x1ad))/0x1*(parseInt(_0x49f69a(0x131))/0x2)+parseInt(_0x49f69a(0x186))/0x3*(parseInt(_0x49f69a(0x20f))/0x4)+-parseInt(_0x49f69a(0x142))/0x5*(-parseInt(_0x49f69a(0xbc))/0x6)+-parseInt(_0x49f69a(0x1f6))/0x7*(-parseInt(_0x49f69a(0x112))/0x8)+parseInt(_0x49f69a(0x1a2))/0x9+parseInt(_0x49f69a(0x229))/0xa+parseInt(_0x49f69a(0x1b9))/0xb*(-parseInt(_0x49f69a(0x220))/0xc);if(_0x24c5c0===_0x2b5910)break;else _0x3a110a['push'](_0x3a110a['shift']());}catch(_0x4b1712){_0x3a110a['push'](_0x3a110a['shift']());}}}(_0x1d22,0x8bbf5));function _interopNamespace(_0x328722){var _0x54f64d=_0xc543;if(_0x328722&&_0x328722[_0x54f64d(0x169)])return _0x328722;var _0xbf51b4=Object[_0x54f64d(0x1d2)](null);return _0x328722&&Object[_0x54f64d(0x1bb)](_0x328722)[_0x54f64d(0x1be)](function(_0x478ee7){var _0x30e377=_0x54f64d;if(_0x478ee7!==_0x30e377(0x1de)){var _0x3e531d=Object[_0x30e377(0x239)](_0x328722,_0x478ee7);Object[_0x30e377(0x12a)](_0xbf51b4,_0x478ee7,_0x3e531d[_0x30e377(0x101)]?_0x3e531d:{'enumerable':!![],'get':function(){return _0x328722[_0x478ee7];}});}}),_0xbf51b4['default']=_0x328722,_0xbf51b4;}var mars3d__namespace=_interopNamespace(mars3d),Cesium$7=mars3d__namespace[_0x2f96a8(0x105)];function getU(_0x2328bf,_0x4d797d){var _0x24ac1f=_0x2f96a8,_0x518a95=_0x2328bf*Math[_0x24ac1f(0x147)](Cesium$7[_0x24ac1f(0x1ba)][_0x24ac1f(0x136)](_0x4d797d));return _0x518a95;}function getV(_0x133348,_0x18366a){var _0x13c3b2=_0x2f96a8,_0x390ef5=_0x133348*Math[_0x13c3b2(0x1fc)](Cesium$7[_0x13c3b2(0x1ba)]['toRadians'](_0x18366a));return _0x390ef5;}function getSpeed(_0x495d27,_0x4820e5){var _0x1ede9b=_0x2f96a8,_0x37d0f4=Math[_0x1ede9b(0x18a)](Math[_0x1ede9b(0x20c)](_0x495d27,0x2)+Math[_0x1ede9b(0x20c)](_0x4820e5,0x2));return _0x37d0f4;}function getDirection(_0x458193,_0x5a7569){var _0x1e7b02=_0x2f96a8,_0x1cdc05=Cesium$7['Math'][_0x1e7b02(0x1e5)](Math[_0x1e7b02(0x227)](_0x5a7569,_0x458193));return _0x1cdc05+=_0x1cdc05<0x0?0x168:0x0,_0x1cdc05;}var WindUtil={'__proto__':null,'getU':getU,'getV':getV,'getSpeed':getSpeed,'getDirection':getDirection};function ownKeys(_0x13c3fd,_0x306064){var _0x2f4802=_0x2f96a8,_0x5c0e65=Object['keys'](_0x13c3fd);if(Object[_0x2f4802(0xdc)]){var _0x3be75e=Object[_0x2f4802(0xdc)](_0x13c3fd);_0x306064&&(_0x3be75e=_0x3be75e['filter'](function(_0x3dd7a7){var _0x9dd3cb=_0x2f4802;return Object[_0x9dd3cb(0x239)](_0x13c3fd,_0x3dd7a7)[_0x9dd3cb(0x1a8)];})),_0x5c0e65[_0x2f4802(0xda)][_0x2f4802(0x203)](_0x5c0e65,_0x3be75e);}return _0x5c0e65;}function _objectSpread2(_0x479f75){var _0x9ce90e=_0x2f96a8;for(var _0x55ecd8=0x1;_0x55ecd8<arguments['length'];_0x55ecd8++){var _0x2144d3=null!=arguments[_0x55ecd8]?arguments[_0x55ecd8]:{};_0x55ecd8%0x2?ownKeys(Object(_0x2144d3),!0x0)['forEach'](function(_0x49d599){_defineProperty(_0x479f75,_0x49d599,_0x2144d3[_0x49d599]);}):Object[_0x9ce90e(0x11c)]?Object[_0x9ce90e(0x222)](_0x479f75,Object[_0x9ce90e(0x11c)](_0x2144d3)):ownKeys(Object(_0x2144d3))[_0x9ce90e(0x1be)](function(_0x47f4a3){var _0x2047a2=_0x9ce90e;Object['defineProperty'](_0x479f75,_0x47f4a3,Object[_0x2047a2(0x239)](_0x2144d3,_0x47f4a3));});}return _0x479f75;}function _classCallCheck(_0x6f2970,_0x48270c){if(!(_0x6f2970 instanceof _0x48270c))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x2f579e,_0x222b4c){var _0x216865=_0x2f96a8;for(var _0x3108be=0x0;_0x3108be<_0x222b4c['length'];_0x3108be++){var _0x502d35=_0x222b4c[_0x3108be];_0x502d35[_0x216865(0x1a8)]=_0x502d35[_0x216865(0x1a8)]||![],_0x502d35[_0x216865(0xdf)]=!![];if(_0x216865(0x1d0)in _0x502d35)_0x502d35[_0x216865(0x180)]=!![];Object[_0x216865(0x12a)](_0x2f579e,_0x502d35[_0x216865(0x211)],_0x502d35);}}function _0xc543(_0x4fafd8,_0x3ad5ea){var _0x1d22ff=_0x1d22();return _0xc543=function(_0xc54322,_0x223571){_0xc54322=_0xc54322-0xb3;var _0x51d404=_0x1d22ff[_0xc54322];return _0x51d404;},_0xc543(_0x4fafd8,_0x3ad5ea);}function _createClass(_0x463b2a,_0x3ad674,_0x226319){var _0xd85b19=_0x2f96a8;if(_0x3ad674)_defineProperties(_0x463b2a[_0xd85b19(0x12b)],_0x3ad674);if(_0x226319)_defineProperties(_0x463b2a,_0x226319);return Object[_0xd85b19(0x12a)](_0x463b2a,_0xd85b19(0x12b),{'writable':![]}),_0x463b2a;}function _defineProperty(_0x4d324e,_0x27a4be,_0x35a9ad){var _0x228cdf=_0x2f96a8;return _0x27a4be in _0x4d324e?Object[_0x228cdf(0x12a)](_0x4d324e,_0x27a4be,{'value':_0x35a9ad,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x4d324e[_0x27a4be]=_0x35a9ad,_0x4d324e;}function _inherits(_0x4f714e,_0x22baab){var _0x14f160=_0x2f96a8;if(typeof _0x22baab!=='function'&&_0x22baab!==null)throw new TypeError(_0x14f160(0x16f));_0x4f714e[_0x14f160(0x12b)]=Object[_0x14f160(0x1d2)](_0x22baab&&_0x22baab['prototype'],{'constructor':{'value':_0x4f714e,'writable':!![],'configurable':!![]}}),Object[_0x14f160(0x12a)](_0x4f714e,'prototype',{'writable':![]});if(_0x22baab)_setPrototypeOf(_0x4f714e,_0x22baab);}function _getPrototypeOf(_0x215727){var _0x451e12=_0x2f96a8;return _getPrototypeOf=Object[_0x451e12(0x125)]?Object[_0x451e12(0x1ff)][_0x451e12(0xe7)]():function _0x4cb68d(_0x32fb8e){var _0xa58219=_0x451e12;return _0x32fb8e[_0xa58219(0x1c9)]||Object['getPrototypeOf'](_0x32fb8e);},_getPrototypeOf(_0x215727);}function _setPrototypeOf(_0x8df36,_0x102ca2){var _0x2e3930=_0x2f96a8;return _setPrototypeOf=Object[_0x2e3930(0x125)]?Object[_0x2e3930(0x125)][_0x2e3930(0xe7)]():function _0x245a58(_0xba0e66,_0x6bbaee){return _0xba0e66['__proto__']=_0x6bbaee,_0xba0e66;},_setPrototypeOf(_0x8df36,_0x102ca2);}function _isNativeReflectConstruct(){var _0x4c28f8=_0x2f96a8;if(typeof Reflect==='undefined'||!Reflect['construct'])return![];if(Reflect[_0x4c28f8(0x224)][_0x4c28f8(0x114)])return![];if(typeof Proxy==='function')return!![];try{return Boolean[_0x4c28f8(0x12b)]['valueOf'][_0x4c28f8(0x195)](Reflect[_0x4c28f8(0x224)](Boolean,[],function(){})),!![];}catch(_0x3bb806){return![];}}function _0x1d22(){var _0x5d6449=['once','constructor','toDegrees','PrimitiveType','canvasContext','globe','particlesRendering','lev','fragmentShaderSource','LINEAR','createTexture','_drawLines','textures','postMessage','context','getDefaultRenderState','shaderProgram','ALWAYS','TextureMinificationFilter','1994181uYfoNl','round','destroy','lonRange','from','IDENTITY','sin','destination-in','windData','getPrototypeOf','_createCanvas','ymin','speedRate','apply','viewRectangleToLonLatRange','particles','UNSIGNED_BYTE','createRenderingFramebuffers','CanvasWindLayer','clampToLatitudeRange','unbindEvent','appendChild','pow','wheel','addEventListener','44tZuwHC','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','key','uniformMap','levmax','_maxAge','mod','umin','ComponentDatatype','register','_onMouseDownEvent','RGB','mouseMove','DrawCommand','geometry','createElement','EventType','60LYOUwP','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','defineProperties','applyViewerParameters','construct','canvasWidth','_addedHook','atan2','xmax','7021940buBIKh','randomBetween','SceneMode','PI_OVER_TWO','STATIC_DRAW','framebuffer','primitives','fadeOpacity','globalCompositeOperation','toGridXY','maxParticles','wgs84ToWindowCoordinates','preRender','green','commandToExecute','ShaderProgram','getOwnPropertyDescriptor','Geometry','@@iterator','Compute','_speedRate','onmessage','ellipsoid','PixelFormat','getFullscreenQuad','currentTrails','fromCache','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','width','fromGeometry','arrayBufferView','cols','destroyObject','preExecute','CanvasWindField','remove','removeAll','6kFwYvp','Cartesian2','updatePosition','vmin','_onMap_preRenderEvent','globeBoundingSphere','levmin','getExtent','Pass','requestAnimationFrame','ClearCommand','Framebuffer','outputTexture','top','setData','blue','rgb(206,255,255)','_updateIng2','now','_onMouseUpEvent','lng','clearCommand','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','container','vdata','reverseY','_onMouseMoveEvent','_mountedHook','north','all','push','_setOptionsHook','getOwnPropertySymbols','windTextures','screen','configurable','clientHeight','removeChild','colors','BufferUsage','canrefresh','rows','getOptions','bind','canvasWind','ShaderSource','GeometryAttribute','Object','isInExtent','colorTable','nextParticlesSpeed','particlesTextures','west','getContext','windField','viewerParameters','data','canvasWindy','test','Sampler','fill','dropRateBump','refreshTimer','_tomap','randomizeParticles','lineWidth','setAttribute','tlat','removeEventListener','get','drawingBufferWidth','lon','ComputeCommand','Cesium','nextTrails','createFramebuffer','updateSpeed','RGBA','redraw','Arguments','Rectangle','WindUtil','_pointerEvents','WindLayer','Cartesian3','particleHeight','8XsORtT','createComputingPrimitives','sham','particlesNumber','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','drawingBufferHeight','_calc_speedRate','depthTexture','_onMapWhellEvent','bindEvent','getOwnPropertyDescriptors','autoClear','floor','primitiveType','off','PixelDatatype','mouseUp','visible','TextureMagnificationFilter','setPrototypeOf','Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.','xmin','source','SCENE3D','defineProperty','prototype','createRawRenderState','lat','EllipsoidalOccluder','log','framebuffers','1184254IPORiH','style','cancelAnimationFrame','update','maxAge','toRadians','destroyParticlesTextures','lineTo','dropRate','color','100%','globalAlpha','rawRenderState','particlesTextureSize','viewport','createParticlesTextures','worker','349810SxjaLf','particlesWind','Color','_canrefresh','isDestroyed','cos','trails','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','zIndex','postProcessingSpeed','OPAQUE','hidden','getColorTexture','DEPTH_COMPONENT','resize','_data','show','moveTo','frameRate','getWind','GeometryAttributes','speedFactor','fromDegrees','nextTrailsDepth','east','fixedHeight','canvasResize','visibility','strokeStyle','Texture','_removedHook','setGeometry','PI_OVER_THREE','TWO_PI','toString','stroke','BoundingSphere','ymax','_bilinearInterpolation','__esModule','age','mode','setDate','NEAREST','getPixelSize','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','depthTest','TRIANGLES','_updateIng','segmentsColor','Appearance','array','mouse_down','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','LayerUtil','DISABLE_GL_POSITION_LOG_DEPTH','Draw','initWorker','createRenderingPrimitives','THREE_PI_OVER_TWO','LUMINANCE','animateFrame','writable','tlng','segmentsDepth','RenderState','beginPath','blending','27435vWqhAR','particlesComputing','latRange','none','sqrt','fillRect','red','updateViewerParameters','_map','abs','0px','canvas','Map','pixelSize','south','call','object','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','name','iterator','currentTrailsDepth','init','attributeLocations','currentParticlesPosition','getUVByXY','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','segments','lighter','7270461qTyGBi','clear','postProcessingPosition','defined','length','createWindTextures','enumerable','nextTrailsColor','vertexArray','currentTrailsColor','nextParticlesPosition','1pxKCTg','udata','function','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','mouseDown','BaseLayer','grid','wind','layer','addPrimitives','getParticles','clearFramebuffers','4367407SnOACy','Math','keys','currentParticlesSpeed','computeViewRectangle','forEach','max','min','depthMask','fromCssColorString','createCommand','FLOAT','height','setOptions','getUVByPoint','DepthFunction','__proto__','add','SceneTransforms','particleSystem','VertexArray','position','vertexShaderSource','value','refreshParticles','create','createRenderingTextures','clientWidth','pointerEvents','_randomParticle','createSegmentsGeometry','scene','canvasHeight','_calcUV','mouse_move','commandType','camera','default','dimensions','options','frameTime','getRandomLatLng'];_0x1d22=function(){return _0x5d6449;};return _0x1d22();}function _assertThisInitialized(_0x1303a5){var _0x2009f1=_0x2f96a8;if(_0x1303a5===void 0x0)throw new ReferenceError(_0x2009f1(0x221));return _0x1303a5;}function _possibleConstructorReturn(_0x857a4c,_0x1c9003){var _0x3f85c0=_0x2f96a8;if(_0x1c9003&&(typeof _0x1c9003===_0x3f85c0(0x196)||typeof _0x1c9003===_0x3f85c0(0x1af)))return _0x1c9003;else{if(_0x1c9003!==void 0x0)throw new TypeError(_0x3f85c0(0x177));}return _assertThisInitialized(_0x857a4c);}function _createSuper(_0x1ac627){var _0x239b62=_isNativeReflectConstruct();return function _0x174d9a(){var _0x507590=_0xc543,_0x60779b=_getPrototypeOf(_0x1ac627),_0x1e3399;if(_0x239b62){var _0x250d69=_getPrototypeOf(this)[_0x507590(0x1e4)];_0x1e3399=Reflect['construct'](_0x60779b,arguments,_0x250d69);}else _0x1e3399=_0x60779b[_0x507590(0x203)](this,arguments);return _possibleConstructorReturn(this,_0x1e3399);};}function _toConsumableArray(_0x117d20){return _arrayWithoutHoles(_0x117d20)||_iterableToArray(_0x117d20)||_unsupportedIterableToArray(_0x117d20)||_nonIterableSpread();}function _arrayWithoutHoles(_0x4ab03b){if(Array['isArray'](_0x4ab03b))return _arrayLikeToArray(_0x4ab03b);}function _iterableToArray(_0x52a4c8){var _0x470362=_0x2f96a8;if(typeof Symbol!=='undefined'&&_0x52a4c8[Symbol[_0x470362(0x199)]]!=null||_0x52a4c8[_0x470362(0x23b)]!=null)return Array[_0x470362(0x1fa)](_0x52a4c8);}function _unsupportedIterableToArray(_0x2f2281,_0x565224){var _0x370622=_0x2f96a8;if(!_0x2f2281)return;if(typeof _0x2f2281==='string')return _arrayLikeToArray(_0x2f2281,_0x565224);var _0x3cd2a2=Object[_0x370622(0x12b)][_0x370622(0x164)][_0x370622(0x195)](_0x2f2281)['slice'](0x8,-0x1);if(_0x3cd2a2===_0x370622(0xeb)&&_0x2f2281[_0x370622(0x1e4)])_0x3cd2a2=_0x2f2281['constructor'][_0x370622(0x198)];if(_0x3cd2a2===_0x370622(0x192)||_0x3cd2a2==='Set')return Array[_0x370622(0x1fa)](_0x2f2281);if(_0x3cd2a2===_0x370622(0x10b)||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[_0x370622(0xf6)](_0x3cd2a2))return _arrayLikeToArray(_0x2f2281,_0x565224);}function _arrayLikeToArray(_0x1e935e,_0x24c03c){var _0x2222ae=_0x2f96a8;if(_0x24c03c==null||_0x24c03c>_0x1e935e['length'])_0x24c03c=_0x1e935e[_0x2222ae(0x1a6)];for(var _0x1e3309=0x0,_0x227b4c=new Array(_0x24c03c);_0x1e3309<_0x24c03c;_0x1e3309++)_0x227b4c[_0x1e3309]=_0x1e935e[_0x1e3309];return _0x227b4c;}function _nonIterableSpread(){var _0x26c3db=_0x2f96a8;throw new TypeError(_0x26c3db(0x126));}var Cesium$6=mars3d__namespace[_0x2f96a8(0x105)],CustomPrimitive=(function(){var _0x47e7c9=_0x2f96a8;function _0x332b88(_0x43f094){var _0x509639=_0xc543,_0x4de1fe;_classCallCheck(this,_0x332b88),this[_0x509639(0x1dc)]=_0x43f094[_0x509639(0x1dc)],this['geometry']=_0x43f094[_0x509639(0x21d)],this[_0x509639(0x19c)]=_0x43f094['attributeLocations'],this['primitiveType']=_0x43f094['primitiveType'],this[_0x509639(0x212)]=_0x43f094['uniformMap'],this['vertexShaderSource']=_0x43f094[_0x509639(0x1cf)],this['fragmentShaderSource']=_0x43f094[_0x509639(0x1eb)],this[_0x509639(0x13d)]=_0x43f094[_0x509639(0x13d)],this[_0x509639(0x22e)]=_0x43f094[_0x509639(0x22e)],this['outputTexture']=_0x43f094[_0x509639(0xc8)],this[_0x509639(0x11d)]=(_0x4de1fe=_0x43f094[_0x509639(0x11d)])!==null&&_0x4de1fe!==void 0x0?_0x4de1fe:![],this[_0x509639(0xb8)]=_0x43f094[_0x509639(0xb8)],this[_0x509639(0x152)]=!![],this[_0x509639(0x237)]=undefined,this[_0x509639(0xd1)]=undefined,this[_0x509639(0x11d)]&&(this[_0x509639(0xd1)]=new Cesium$6[(_0x509639(0xc6))]({'color':new Cesium$6[(_0x509639(0x144))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x509639(0x22e)],'pass':Cesium$6[_0x509639(0xc4)]['OPAQUE']}));}return _createClass(_0x332b88,[{'key':_0x47e7c9(0x1c3),'value':function _0x23d3af(_0x2ad092){var _0x25a898=_0x47e7c9;switch(this[_0x25a898(0x1dc)]){case _0x25a898(0x17a):{var _0x4f1faa=Cesium$6[_0x25a898(0x1cd)][_0x25a898(0xb4)]({'context':_0x2ad092,'geometry':this[_0x25a898(0x21d)],'attributeLocations':this[_0x25a898(0x19c)],'bufferUsage':Cesium$6[_0x25a898(0xe3)]['STATIC_DRAW']}),_0x421b43=Cesium$6[_0x25a898(0x238)][_0x25a898(0x243)]({'context':_0x2ad092,'attributeLocations':this[_0x25a898(0x19c)],'vertexShaderSource':this[_0x25a898(0x1cf)],'fragmentShaderSource':this[_0x25a898(0x1eb)]}),_0x1691e3=Cesium$6[_0x25a898(0x183)][_0x25a898(0x243)](this[_0x25a898(0x13d)]);return new Cesium$6[(_0x25a898(0x21c))]({'primitiveType':this[_0x25a898(0x11f)],'shaderProgram':_0x421b43,'vertexArray':_0x4f1faa,'modelMatrix':Cesium$6['Matrix4'][_0x25a898(0x1fb)],'renderState':_0x1691e3,'uniformMap':this[_0x25a898(0x212)],'castShadows':![],'receiveShadows':![],'framebuffer':this[_0x25a898(0x22e)],'pass':Cesium$6[_0x25a898(0xc4)][_0x25a898(0x14c)],'pickOnly':!![],'owner':this});}case _0x25a898(0x23c):{return new Cesium$6[(_0x25a898(0x104))]({'owner':this,'fragmentShaderSource':this[_0x25a898(0x1eb)],'uniformMap':this[_0x25a898(0x212)],'outputTexture':this[_0x25a898(0xc8)],'persists':!![]});}}}},{'key':_0x47e7c9(0x161),'value':function _0xb63a8a(_0x434ece,_0x7713e5){var _0x1dbe56=_0x47e7c9;this[_0x1dbe56(0x21d)]=_0x7713e5;var _0xa638e9=Cesium$6[_0x1dbe56(0x1cd)][_0x1dbe56(0xb4)]({'context':_0x434ece,'geometry':this[_0x1dbe56(0x21d)],'attributeLocations':this[_0x1dbe56(0x19c)],'bufferUsage':Cesium$6[_0x1dbe56(0xe3)][_0x1dbe56(0x22d)]});this['commandToExecute'][_0x1dbe56(0x1aa)]=_0xa638e9;}},{'key':_0x47e7c9(0x134),'value':function _0x1d665e(_0x52917a){var _0x54faec=_0x47e7c9;if(!this['show'])return;if(_0x52917a[_0x54faec(0x16b)]!==Cesium$6[_0x54faec(0x22b)][_0x54faec(0x129)])return;!Cesium$6['defined'](this['commandToExecute'])&&(this['commandToExecute']=this[_0x54faec(0x1c3)](_0x52917a['context'])),Cesium$6[_0x54faec(0x1a5)](this['preExecute'])&&this[_0x54faec(0xb8)](),Cesium$6[_0x54faec(0x1a5)](this['clearCommand'])&&_0x52917a['commandList'][_0x54faec(0xda)](this['clearCommand']),_0x52917a['commandList'][_0x54faec(0xda)](this[_0x54faec(0x237)]);}},{'key':_0x47e7c9(0x146),'value':function _0x5f0c56(){return![];}},{'key':_0x47e7c9(0x1f8),'value':function _0x46d60e(){var _0x1f8037=_0x47e7c9;if(this[_0x1f8037(0xd1)]){var _0x589768,_0x58c192;(_0x589768=this[_0x1f8037(0xd1)])!==null&&_0x589768!==void 0x0&&_0x589768[_0x1f8037(0x1aa)]&&this[_0x1f8037(0xd1)][_0x1f8037(0x1aa)][_0x1f8037(0x1f8)](),(_0x58c192=this['clearCommand'])!==null&&_0x58c192!==void 0x0&&_0x58c192[_0x1f8037(0x1f3)]&&this[_0x1f8037(0xd1)][_0x1f8037(0x1f3)][_0x1f8037(0x1f8)](),delete this['clearCommand'];}return this[_0x1f8037(0x237)]&&(this[_0x1f8037(0x237)]['vertexArray']&&this['commandToExecute']['vertexArray'][_0x1f8037(0x1f8)](),this[_0x1f8037(0x237)][_0x1f8037(0x1f3)]&&this[_0x1f8037(0x237)][_0x1f8037(0x1f3)][_0x1f8037(0x1f8)](),delete this['commandToExecute']),Cesium$6[_0x1f8037(0xb7)](this);}}]),_0x332b88;}()),Cesium$5=mars3d__namespace[_0x2f96a8(0x105)],Util=(function(){var _0x76b2ea=function _0x18d49c(){var _0x48ccfd=_0xc543,_0x19ddab=new Cesium$5[(_0x48ccfd(0x23a))]({'attributes':new Cesium$5[(_0x48ccfd(0x156))]({'position':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x48ccfd(0x217)][_0x48ccfd(0x1c4)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5[(_0x48ccfd(0xea))]({'componentDatatype':Cesium$5[_0x48ccfd(0x217)][_0x48ccfd(0x1c4)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});return _0x19ddab;},_0x382480=function _0x255694(_0x16aaf9,_0x430066){var _0x2ee261=_0xc543;if(Cesium$5[_0x2ee261(0x1a5)](_0x430066)){var _0x59e7d4={};_0x59e7d4[_0x2ee261(0xb5)]=_0x430066,_0x16aaf9[_0x2ee261(0x128)]=_0x59e7d4;}var _0x9e1ef8=new Cesium$5[(_0x2ee261(0x15f))](_0x16aaf9);return _0x9e1ef8;},_0x3aadfb=function _0x1aa11f(_0x2971ec,_0x219573,_0x1b8a66){var _0x3bb8d1=_0xc543,_0x2653c2=new Cesium$5[(_0x3bb8d1(0xc7))]({'context':_0x2971ec,'colorTextures':[_0x219573],'depthTexture':_0x1b8a66});return _0x2653c2;},_0x4261dd=function _0xb90824(_0x171fdf){var _0x1dedca=_0xc543,_0x23a37f=!![],_0x2fa029=![],_0x588c22={'viewport':_0x171fdf[_0x1dedca(0x13f)],'depthTest':_0x171fdf[_0x1dedca(0x170)],'depthMask':_0x171fdf[_0x1dedca(0x1c1)],'blending':_0x171fdf[_0x1dedca(0x185)]},_0x1423fe=Cesium$5[_0x1dedca(0x174)][_0x1dedca(0x1f2)](_0x23a37f,_0x2fa029,_0x588c22);return _0x1423fe;},_0x579745=function _0x59c0f5(_0x180579){var _0x44db97=_0xc543,_0x3c8ff5={},_0x136d8f=Cesium$5['Math'][_0x44db97(0x215)](_0x180579[_0x44db97(0xf0)],Cesium$5[_0x44db97(0x1ba)]['TWO_PI']),_0x5f2a94=Cesium$5['Math']['mod'](_0x180579[_0x44db97(0x15a)],Cesium$5['Math'][_0x44db97(0x163)]),_0x5b9cb0=_0x180579['width'],_0x5c4903,_0x2ea151;_0x5b9cb0>Cesium$5[_0x44db97(0x1ba)][_0x44db97(0x17d)]?(_0x5c4903=0x0,_0x2ea151=Cesium$5[_0x44db97(0x1ba)]['TWO_PI']):_0x5f2a94-_0x136d8f<_0x5b9cb0?(_0x5c4903=_0x136d8f,_0x2ea151=_0x136d8f+_0x5b9cb0):(_0x5c4903=_0x136d8f,_0x2ea151=_0x5f2a94);_0x3c8ff5[_0x44db97(0x103)]={'min':Cesium$5[_0x44db97(0x1ba)][_0x44db97(0x1e5)](_0x5c4903),'max':Cesium$5['Math']['toDegrees'](_0x2ea151)};var _0x4db47c=_0x180579[_0x44db97(0x194)],_0x2a0f77=_0x180579[_0x44db97(0xd8)],_0x35b9cd=_0x180579[_0x44db97(0x1c5)],_0x3a6a9d=_0x35b9cd>Cesium$5['Math']['PI']/0xc?_0x35b9cd/0x2:0x0,_0x3f2cad=Cesium$5[_0x44db97(0x1ba)][_0x44db97(0x209)](_0x4db47c-_0x3a6a9d),_0x5b0765=Cesium$5['Math']['clampToLatitudeRange'](_0x2a0f77+_0x3a6a9d);return _0x3f2cad<-Cesium$5[_0x44db97(0x1ba)]['PI_OVER_THREE']&&(_0x3f2cad=-Cesium$5[_0x44db97(0x1ba)]['PI_OVER_TWO']),_0x5b0765>Cesium$5['Math'][_0x44db97(0x162)]&&(_0x5b0765=Cesium$5[_0x44db97(0x1ba)][_0x44db97(0x22c)]),_0x3c8ff5[_0x44db97(0x12d)]={'min':Cesium$5['Math'][_0x44db97(0x1e5)](_0x3f2cad),'max':Cesium$5[_0x44db97(0x1ba)][_0x44db97(0x1e5)](_0x5b0765)},_0x3c8ff5;};return{'getFullscreenQuad':_0x76b2ea,'createTexture':_0x382480,'createFramebuffer':_0x3aadfb,'createRawRenderState':_0x4261dd,'viewRectangleToLonLatRange':_0x579745};}()),segmentDraw_vert=_0x2f96a8(0xd2),segmentDraw_frag='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}',fullscreen_vert=_0x2f96a8(0x210),trailDraw_frag=_0x2f96a8(0x1b0),screenDraw_frag=_0x2f96a8(0x244),Cesium$4=mars3d__namespace[_0x2f96a8(0x105)],ParticlesRendering=(function(){var _0x1c4be5=_0x2f96a8;function _0xbcb879(_0x5ad8e3,_0x12d033,_0x1a5ffc,_0x3727b5,_0x5dbc5e){var _0x1224d2=_0xc543;_classCallCheck(this,_0xbcb879),this[_0x1224d2(0x1d3)](_0x5ad8e3,_0x12d033,_0x1a5ffc[_0x1224d2(0xe2)]),this[_0x1224d2(0x207)](_0x5ad8e3),this[_0x1224d2(0x17c)](_0x5ad8e3,_0x1a5ffc,_0x3727b5,_0x5dbc5e);}return _createClass(_0xbcb879,[{'key':_0x1c4be5(0x1d3),'value':function _0xc2809(_0x176137,_0x1c082d,_0x36756d){var _0x307065=_0x1c4be5,_0x2878ce={'context':_0x176137,'width':_0x176137[_0x307065(0x102)],'height':_0x176137[_0x307065(0x117)],'pixelFormat':Cesium$4[_0x307065(0x240)][_0x307065(0x109)],'pixelDatatype':Cesium$4[_0x307065(0x121)][_0x307065(0x206)]},_0x5dbdf={'context':_0x176137,'width':_0x176137[_0x307065(0x102)],'height':_0x176137[_0x307065(0x117)],'pixelFormat':Cesium$4[_0x307065(0x240)][_0x307065(0x14f)],'pixelDatatype':Cesium$4[_0x307065(0x121)]['UNSIGNED_INT']},_0x4bbc21=_0x36756d[_0x307065(0x1a6)],_0x39f24b=new Float32Array(_0x4bbc21*0x3);for(var _0x109929=0x0;_0x109929<_0x4bbc21;_0x109929++){var _0x3b7400=Cesium$4[_0x307065(0x144)][_0x307065(0x1c2)](_0x36756d[_0x109929]);_0x39f24b[0x3*_0x109929]=_0x3b7400[_0x307065(0x18c)],_0x39f24b[0x3*_0x109929+0x1]=_0x3b7400[_0x307065(0x236)],_0x39f24b[0x3*_0x109929+0x2]=_0x3b7400[_0x307065(0xcb)];}var _0xbc01da={'context':_0x176137,'width':_0x4bbc21,'height':0x1,'pixelFormat':Cesium$4[_0x307065(0x240)][_0x307065(0x21a)],'pixelDatatype':Cesium$4[_0x307065(0x121)][_0x307065(0x1c4)],'sampler':new Cesium$4[(_0x307065(0xf7))]({'minificationFilter':Cesium$4[_0x307065(0x1f5)][_0x307065(0x1ec)],'magnificationFilter':Cesium$4['TextureMagnificationFilter']['LINEAR']})};this[_0x307065(0x1ef)]={'segmentsColor':Util[_0x307065(0x1ed)](_0x2878ce),'segmentsDepth':Util[_0x307065(0x1ed)](_0x5dbdf),'currentTrailsColor':Util[_0x307065(0x1ed)](_0x2878ce),'currentTrailsDepth':Util[_0x307065(0x1ed)](_0x5dbdf),'nextTrailsColor':Util['createTexture'](_0x2878ce),'nextTrailsDepth':Util['createTexture'](_0x5dbdf),'colorTable':Util[_0x307065(0x1ed)](_0xbc01da,_0x39f24b)};}},{'key':'createRenderingFramebuffers','value':function _0x8686ca(_0x4e1bd6){var _0x4afdbf=_0x1c4be5;this[_0x4afdbf(0x130)]={'segments':Util['createFramebuffer'](_0x4e1bd6,this[_0x4afdbf(0x1ef)][_0x4afdbf(0x173)],this[_0x4afdbf(0x1ef)][_0x4afdbf(0x182)]),'currentTrails':Util[_0x4afdbf(0x107)](_0x4e1bd6,this['textures'][_0x4afdbf(0x1ab)],this['textures'][_0x4afdbf(0x19a)]),'nextTrails':Util[_0x4afdbf(0x107)](_0x4e1bd6,this[_0x4afdbf(0x1ef)][_0x4afdbf(0x1a9)],this[_0x4afdbf(0x1ef)][_0x4afdbf(0x159)])};}},{'key':_0x1c4be5(0x1d7),'value':function _0x7d9c4b(_0xf546e4){var _0x2ea583=_0x1c4be5,_0x280b99=0x4,_0x53095b=[];for(var _0x49e03a=0x0;_0x49e03a<_0xf546e4[_0x2ea583(0x13e)];_0x49e03a++){for(var _0x4f8f26=0x0;_0x4f8f26<_0xf546e4[_0x2ea583(0x13e)];_0x4f8f26++){for(var _0x56f55f=0x0;_0x56f55f<_0x280b99;_0x56f55f++){_0x53095b[_0x2ea583(0xda)](_0x49e03a/_0xf546e4['particlesTextureSize']),_0x53095b[_0x2ea583(0xda)](_0x4f8f26/_0xf546e4[_0x2ea583(0x13e)]);}}}_0x53095b=new Float32Array(_0x53095b);var _0x16f8d3=[],_0x2089e5=[-0x1,0x1],_0x485a98=[-0x1,0x1];for(var _0xcc5392=0x0;_0xcc5392<_0xf546e4[_0x2ea583(0x233)];_0xcc5392++){for(var _0x2664fb=0x0;_0x2664fb<_0x280b99/0x2;_0x2664fb++){for(var _0x376993=0x0;_0x376993<_0x280b99/0x2;_0x376993++){_0x16f8d3[_0x2ea583(0xda)](_0x2089e5[_0x2664fb]),_0x16f8d3[_0x2ea583(0xda)](_0x485a98[_0x376993]),_0x16f8d3['push'](0x0);}}}_0x16f8d3=new Float32Array(_0x16f8d3);var _0x568043=0x6*_0xf546e4[_0x2ea583(0x233)],_0x4c4691=new Uint32Array(_0x568043);for(var _0x97cea8=0x0,_0x2b8ef5=0x0,_0x19b455=0x0;_0x97cea8<_0xf546e4[_0x2ea583(0x233)];_0x97cea8++){_0x4c4691[_0x2b8ef5++]=_0x19b455+0x0,_0x4c4691[_0x2b8ef5++]=_0x19b455+0x1,_0x4c4691[_0x2b8ef5++]=_0x19b455+0x2,_0x4c4691[_0x2b8ef5++]=_0x19b455+0x2,_0x4c4691[_0x2b8ef5++]=_0x19b455+0x1,_0x4c4691[_0x2b8ef5++]=_0x19b455+0x3,_0x19b455+=0x4;}var _0x345e64=new Cesium$4[(_0x2ea583(0x23a))]({'attributes':new Cesium$4[(_0x2ea583(0x156))]({'st':new Cesium$4[(_0x2ea583(0xea))]({'componentDatatype':Cesium$4[_0x2ea583(0x217)][_0x2ea583(0x1c4)],'componentsPerAttribute':0x2,'values':_0x53095b}),'normal':new Cesium$4[(_0x2ea583(0xea))]({'componentDatatype':Cesium$4[_0x2ea583(0x217)][_0x2ea583(0x1c4)],'componentsPerAttribute':0x3,'values':_0x16f8d3})}),'indices':_0x4c4691});return _0x345e64;}},{'key':_0x1c4be5(0x17c),'value':function _0x451612(_0x1814ec,_0x85b508,_0x582e68,_0x1c02ab){var _0x28c854=_0x1c4be5,_0x233b0f=this;this[_0x28c854(0x22f)]={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x28c854(0x1d7)](_0x85b508),'primitiveType':Cesium$4[_0x28c854(0x1e6)][_0x28c854(0x171)],'uniformMap':{'currentParticlesPosition':function _0x22375c(){var _0x2f6e35=_0x28c854;return _0x1c02ab['particlesTextures'][_0x2f6e35(0x19d)];},'postProcessingPosition':function _0x7983e4(){var _0x2c7820=_0x28c854;return _0x1c02ab[_0x2c7820(0xef)][_0x2c7820(0x1a4)];},'postProcessingSpeed':function _0x21f231(){var _0x34949c=_0x28c854;return _0x1c02ab[_0x34949c(0xef)]['postProcessingSpeed'];},'colorTable':function _0x47a981(){var _0x3261a1=_0x28c854;return _0x233b0f[_0x3261a1(0x1ef)][_0x3261a1(0xed)];},'aspect':function _0x50bacf(){var _0x5a6354=_0x28c854;return _0x1814ec[_0x5a6354(0x102)]/_0x1814ec['drawingBufferHeight'];},'pixelSize':function _0x35bcd6(){return _0x582e68['pixelSize'];},'lineWidth':function _0x3b5a70(){return _0x85b508['lineWidth'];},'particleHeight':function _0x3b6610(){var _0x42b67c=_0x28c854;return _0x85b508[_0x42b67c(0x111)];}},'vertexShaderSource':new Cesium$4[(_0x28c854(0xe9))]({'sources':[segmentDraw_vert]}),'fragmentShaderSource':new Cesium$4[(_0x28c854(0xe9))]({'sources':[segmentDraw_frag]}),'rawRenderState':Util[_0x28c854(0x12c)]({'viewport':undefined,'depthTest':{'enabled':!![]},'depthMask':!![]}),'framebuffer':this[_0x28c854(0x130)][_0x28c854(0x1a0)],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':_0x28c854(0x17a),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util[_0x28c854(0x241)](),'primitiveType':Cesium$4[_0x28c854(0x1e6)][_0x28c854(0x171)],'uniformMap':{'segmentsColorTexture':function _0x39141f(){var _0x57d85d=_0x28c854;return _0x233b0f[_0x57d85d(0x1ef)]['segmentsColor'];},'segmentsDepthTexture':function _0x12ca52(){var _0x347678=_0x28c854;return _0x233b0f[_0x347678(0x1ef)]['segmentsDepth'];},'currentTrailsColor':function _0x5aa84b(){var _0x22f08c=_0x28c854;return _0x233b0f[_0x22f08c(0x130)]['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function _0x3614b3(){var _0x25d38f=_0x28c854;return _0x233b0f[_0x25d38f(0x130)][_0x25d38f(0x242)][_0x25d38f(0x119)];},'fadeOpacity':function _0x3d22a6(){var _0x27dda5=_0x28c854;return _0x85b508[_0x27dda5(0x230)];}},'vertexShaderSource':new Cesium$4['ShaderSource']({'defines':[_0x28c854(0x179)],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4[(_0x28c854(0xe9))]({'defines':[_0x28c854(0x197)],'sources':[trailDraw_frag]}),'rawRenderState':Util[_0x28c854(0x12c)]({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4[_0x28c854(0x1c8)][_0x28c854(0x1f4)]},'depthMask':!![]}),'framebuffer':this['framebuffers'][_0x28c854(0x106)],'autoClear':!![],'preExecute':function _0x4ce9a2(){var _0xea1937=_0x28c854,_0x156941=_0x233b0f[_0xea1937(0x130)][_0xea1937(0x242)];_0x233b0f[_0xea1937(0x130)][_0xea1937(0x242)]=_0x233b0f[_0xea1937(0x130)][_0xea1937(0x106)],_0x233b0f[_0xea1937(0x130)][_0xea1937(0x106)]=_0x156941,_0x233b0f[_0xea1937(0x22f)]['trails']['commandToExecute'][_0xea1937(0x22e)]=_0x233b0f[_0xea1937(0x130)][_0xea1937(0x106)],_0x233b0f['primitives'][_0xea1937(0x148)]['clearCommand'][_0xea1937(0x22e)]=_0x233b0f['framebuffers'][_0xea1937(0x106)];}}),'screen':new CustomPrimitive({'commandType':_0x28c854(0x17a),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util[_0x28c854(0x241)](),'primitiveType':Cesium$4[_0x28c854(0x1e6)][_0x28c854(0x171)],'uniformMap':{'trailsColorTexture':function _0x139024(){var _0x4cfdf8=_0x28c854;return _0x233b0f['framebuffers']['nextTrails'][_0x4cfdf8(0x14e)](0x0);},'trailsDepthTexture':function _0x5be4c8(){var _0x3a6bfc=_0x28c854;return _0x233b0f['framebuffers'][_0x3a6bfc(0x106)][_0x3a6bfc(0x119)];}},'vertexShaderSource':new Cesium$4['ShaderSource']({'defines':[_0x28c854(0x179)],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4[(_0x28c854(0xe9))]({'defines':[_0x28c854(0x197)],'sources':[screenDraw_frag]}),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':![]},'depthMask':!![],'blending':{'enabled':!![]}}),'framebuffer':undefined})};}}]),_0xbcb879;}()),getWind_frag=_0x2f96a8(0x19f),updateSpeed_frag='uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20//\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}',updatePosition_frag=_0x2f96a8(0x149),postProcessingPosition_frag=_0x2f96a8(0x116),postProcessingSpeed_frag='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}',Cesium$3=mars3d__namespace[_0x2f96a8(0x105)],ParticlesComputing=(function(){var _0x4cd806=_0x2f96a8;function _0x51ac4c(_0x354cf8,_0x15502f,_0x4bfbc6,_0x432e43){var _0x4a83aa=_0xc543;_classCallCheck(this,_0x51ac4c),this[_0x4a83aa(0xf4)]=_0x15502f,this[_0x4a83aa(0x1a7)](_0x354cf8,_0x15502f),this[_0x4a83aa(0x140)](_0x354cf8,_0x4bfbc6,_0x432e43),this[_0x4a83aa(0x113)](_0x15502f,_0x4bfbc6,_0x432e43);}return _createClass(_0x51ac4c,[{'key':_0x4cd806(0x1a7),'value':function _0x35ac89(_0x2f7318,_0x57c2ce){var _0x256243=_0x4cd806,_0x4b2440={'context':_0x2f7318,'width':_0x57c2ce[_0x256243(0x1df)][_0x256243(0x103)],'height':_0x57c2ce[_0x256243(0x1df)][_0x256243(0x12d)]*(_0x57c2ce[_0x256243(0x1df)][_0x256243(0x1ea)]||0x1),'pixelFormat':Cesium$3[_0x256243(0x240)][_0x256243(0x17e)],'pixelDatatype':Cesium$3[_0x256243(0x121)][_0x256243(0x1c4)],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x256243(0x16d)],'magnificationFilter':Cesium$3[_0x256243(0x124)][_0x256243(0x16d)]})};this['windTextures']={'U':Util[_0x256243(0x1ed)](_0x4b2440,_0x57c2ce['U'][_0x256243(0x175)]),'V':Util[_0x256243(0x1ed)](_0x4b2440,_0x57c2ce['V'][_0x256243(0x175)])};}},{'key':_0x4cd806(0x140),'value':function _0x5dd206(_0x455fc8,_0x59b4b5,_0x555e68){var _0x3771c8=_0x4cd806,_0x500b7e={'context':_0x455fc8,'width':_0x59b4b5[_0x3771c8(0x13e)],'height':_0x59b4b5[_0x3771c8(0x13e)],'pixelFormat':Cesium$3['PixelFormat'][_0x3771c8(0x109)],'pixelDatatype':Cesium$3[_0x3771c8(0x121)]['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0x3771c8(0xf7))]({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x3771c8(0x16d)],'magnificationFilter':Cesium$3['TextureMagnificationFilter'][_0x3771c8(0x16d)]})},_0x3f2227=this[_0x3771c8(0xfc)](_0x59b4b5['maxParticles'],_0x555e68),_0x38188f=new Float32Array(0x4*_0x59b4b5[_0x3771c8(0x233)])[_0x3771c8(0xf8)](0x0);this[_0x3771c8(0xef)]={'particlesWind':Util['createTexture'](_0x500b7e),'currentParticlesPosition':Util['createTexture'](_0x500b7e,_0x3f2227),'nextParticlesPosition':Util[_0x3771c8(0x1ed)](_0x500b7e,_0x3f2227),'currentParticlesSpeed':Util['createTexture'](_0x500b7e,_0x38188f),'nextParticlesSpeed':Util[_0x3771c8(0x1ed)](_0x500b7e,_0x38188f),'postProcessingPosition':Util['createTexture'](_0x500b7e,_0x3f2227),'postProcessingSpeed':Util['createTexture'](_0x500b7e,_0x38188f)};}},{'key':_0x4cd806(0xfc),'value':function _0x407f72(_0x327dd9,_0x24b55a){var _0x5b73ed=_0x4cd806,_0x23b4af=new Float32Array(0x4*_0x327dd9);for(var _0x4cf0bd=0x0;_0x4cf0bd<_0x327dd9;_0x4cf0bd++){_0x23b4af[0x4*_0x4cf0bd]=Cesium$3[_0x5b73ed(0x1ba)][_0x5b73ed(0x22a)](_0x24b55a[_0x5b73ed(0x1f9)]['x'],_0x24b55a[_0x5b73ed(0x1f9)]['y']),_0x23b4af[0x4*_0x4cf0bd+0x1]=Cesium$3[_0x5b73ed(0x1ba)]['randomBetween'](_0x24b55a[_0x5b73ed(0x188)]['x'],_0x24b55a[_0x5b73ed(0x188)]['y']),_0x23b4af[0x4*_0x4cf0bd+0x2]=Cesium$3['Math'][_0x5b73ed(0x22a)](this['data'][_0x5b73ed(0x1ea)][_0x5b73ed(0x1c0)],this[_0x5b73ed(0xf4)]['lev'][_0x5b73ed(0x1bf)]),_0x23b4af[0x4*_0x4cf0bd+0x3]=0x0;}return _0x23b4af;}},{'key':_0x4cd806(0x137),'value':function _0x52cd5d(){var _0x12a189=_0x4cd806,_0x14cc54=this;Object[_0x12a189(0x1bb)](this[_0x12a189(0xef)])[_0x12a189(0x1be)](function(_0x518874){var _0x2a8a04=_0x12a189;_0x14cc54[_0x2a8a04(0xef)][_0x518874][_0x2a8a04(0x1f8)]();});}},{'key':_0x4cd806(0x113),'value':function _0x41bfdf(_0x5065e9,_0x535b63,_0xfa048e){var _0x4f0bc5=_0x4cd806,_0x45882a=new Cesium$3[(_0x4f0bc5(0x110))](_0x5065e9[_0x4f0bc5(0x1df)][_0x4f0bc5(0x103)],_0x5065e9[_0x4f0bc5(0x1df)][_0x4f0bc5(0x12d)],_0x5065e9[_0x4f0bc5(0x1df)][_0x4f0bc5(0x1ea)]),_0x573dc6=new Cesium$3[(_0x4f0bc5(0x110))](_0x5065e9[_0x4f0bc5(0x103)][_0x4f0bc5(0x1c0)],_0x5065e9[_0x4f0bc5(0x12d)][_0x4f0bc5(0x1c0)],_0x5065e9[_0x4f0bc5(0x1ea)][_0x4f0bc5(0x1c0)]),_0x9e6b9c=new Cesium$3[(_0x4f0bc5(0x110))](_0x5065e9[_0x4f0bc5(0x103)][_0x4f0bc5(0x1bf)],_0x5065e9['lat']['max'],_0x5065e9[_0x4f0bc5(0x1ea)][_0x4f0bc5(0x1bf)]),_0x55ecaf=new Cesium$3[(_0x4f0bc5(0x110))]((_0x9e6b9c['x']-_0x573dc6['x'])/(_0x45882a['x']-0x1),(_0x9e6b9c['y']-_0x573dc6['y'])/(_0x45882a['y']-0x1),_0x45882a['z']>0x1?(_0x9e6b9c['z']-_0x573dc6['z'])/(_0x45882a['z']-0x1):0x1),_0x3f364c=new Cesium$3[(_0x4f0bc5(0xbd))](_0x5065e9['U'][_0x4f0bc5(0x1c0)],_0x5065e9['U'][_0x4f0bc5(0x1bf)]),_0x299b7c=new Cesium$3['Cartesian2'](_0x5065e9['V']['min'],_0x5065e9['V'][_0x4f0bc5(0x1bf)]),_0x2bbfa5=this;this['primitives']={'getWind':new CustomPrimitive({'commandType':_0x4f0bc5(0x23c),'uniformMap':{'U':function _0x259677(){var _0x241870=_0x4f0bc5;return _0x2bbfa5[_0x241870(0xdd)]['U'];},'V':function _0x3c5102(){return _0x2bbfa5['windTextures']['V'];},'currentParticlesPosition':function _0x4f0110(){var _0x4a6d36=_0x4f0bc5;return _0x2bbfa5[_0x4a6d36(0xef)][_0x4a6d36(0x19d)];},'dimension':function _0x5588ff(){return _0x45882a;},'minimum':function _0x4f8e93(){return _0x573dc6;},'maximum':function _0x1375d8(){return _0x9e6b9c;},'interval':function _0xfd3e48(){return _0x55ecaf;}},'fragmentShaderSource':new Cesium$3[(_0x4f0bc5(0xe9))]({'sources':[getWind_frag]}),'outputTexture':this[_0x4f0bc5(0xef)]['particlesWind'],'preExecute':function _0x2e8f16(){var _0x2a566a=_0x4f0bc5;_0x2bbfa5[_0x2a566a(0x22f)][_0x2a566a(0x155)][_0x2a566a(0x237)][_0x2a566a(0xc8)]=_0x2bbfa5['particlesTextures']['particlesWind'];}}),'updateSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':{'currentParticlesSpeed':function _0x3165dd(){var _0x499369=_0x4f0bc5;return _0x2bbfa5[_0x499369(0xef)][_0x499369(0x1bc)];},'particlesWind':function _0x439a9f(){var _0x311353=_0x4f0bc5;return _0x2bbfa5[_0x311353(0xef)][_0x311353(0x143)];},'uSpeedRange':function _0x4893ec(){return _0x3f364c;},'vSpeedRange':function _0x10f4a3(){return _0x299b7c;},'pixelSize':function _0x125b50(){var _0x7dd1ff=_0x4f0bc5;return _0xfa048e[_0x7dd1ff(0x193)];},'speedFactor':function _0x5b5f77(){var _0xce005c=_0x4f0bc5;return _0x535b63[_0xce005c(0x157)];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[updateSpeed_frag]}),'outputTexture':this[_0x4f0bc5(0xef)][_0x4f0bc5(0xee)],'preExecute':function _0x35e642(){var _0x3bc6c6=_0x4f0bc5,_0x3e5a2e=_0x2bbfa5['particlesTextures'][_0x3bc6c6(0x1bc)];_0x2bbfa5['particlesTextures'][_0x3bc6c6(0x1bc)]=_0x2bbfa5[_0x3bc6c6(0xef)]['postProcessingSpeed'],_0x2bbfa5['particlesTextures'][_0x3bc6c6(0x14b)]=_0x3e5a2e,_0x2bbfa5['primitives'][_0x3bc6c6(0x108)][_0x3bc6c6(0x237)][_0x3bc6c6(0xc8)]=_0x2bbfa5[_0x3bc6c6(0xef)][_0x3bc6c6(0xee)];}}),'updatePosition':new CustomPrimitive({'commandType':_0x4f0bc5(0x23c),'uniformMap':{'currentParticlesPosition':function _0x56e283(){var _0x5135ec=_0x4f0bc5;return _0x2bbfa5[_0x5135ec(0xef)][_0x5135ec(0x19d)];},'currentParticlesSpeed':function _0x2d5ad1(){var _0x3216f0=_0x4f0bc5;return _0x2bbfa5['particlesTextures'][_0x3216f0(0x1bc)];}},'fragmentShaderSource':new Cesium$3[(_0x4f0bc5(0xe9))]({'sources':[updatePosition_frag]}),'outputTexture':this['particlesTextures'][_0x4f0bc5(0x1ac)],'preExecute':function _0x53ed17(){var _0x2be1d0=_0x4f0bc5,_0x39f0c0=_0x2bbfa5[_0x2be1d0(0xef)]['currentParticlesPosition'];_0x2bbfa5[_0x2be1d0(0xef)][_0x2be1d0(0x19d)]=_0x2bbfa5[_0x2be1d0(0xef)]['postProcessingPosition'],_0x2bbfa5[_0x2be1d0(0xef)]['postProcessingPosition']=_0x39f0c0,_0x2bbfa5[_0x2be1d0(0x22f)][_0x2be1d0(0xbe)]['commandToExecute']['outputTexture']=_0x2bbfa5[_0x2be1d0(0xef)]['nextParticlesPosition'];}}),'postProcessingPosition':new CustomPrimitive({'commandType':_0x4f0bc5(0x23c),'uniformMap':{'nextParticlesPosition':function _0x1555d4(){var _0x59881a=_0x4f0bc5;return _0x2bbfa5[_0x59881a(0xef)][_0x59881a(0x1ac)];},'nextParticlesSpeed':function _0x2c9dde(){var _0x50b059=_0x4f0bc5;return _0x2bbfa5[_0x50b059(0xef)][_0x50b059(0xee)];},'lonRange':function _0x1e3b47(){var _0x204dc1=_0x4f0bc5;return _0xfa048e[_0x204dc1(0x1f9)];},'latRange':function _0x3739c6(){var _0x428235=_0x4f0bc5;return _0xfa048e[_0x428235(0x188)];},'randomCoefficient':function _0x285b7f(){var _0x48ae1d=Math['random']();return _0x48ae1d;},'dropRate':function _0x1f619f(){var _0x486faa=_0x4f0bc5;return _0x535b63[_0x486faa(0x139)];},'dropRateBump':function _0x563e31(){var _0x33e0af=_0x4f0bc5;return _0x535b63[_0x33e0af(0xf9)];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[postProcessingPosition_frag]}),'outputTexture':this[_0x4f0bc5(0xef)][_0x4f0bc5(0x1a4)],'preExecute':function _0x15959b(){var _0x49bc67=_0x4f0bc5;_0x2bbfa5[_0x49bc67(0x22f)][_0x49bc67(0x1a4)][_0x49bc67(0x237)]['outputTexture']=_0x2bbfa5['particlesTextures'][_0x49bc67(0x1a4)];}}),'postProcessingSpeed':new CustomPrimitive({'commandType':_0x4f0bc5(0x23c),'uniformMap':{'postProcessingPosition':function _0x249980(){var _0x3e2a05=_0x4f0bc5;return _0x2bbfa5[_0x3e2a05(0xef)]['postProcessingPosition'];},'nextParticlesSpeed':function _0x411b10(){var _0xd8b3ae=_0x4f0bc5;return _0x2bbfa5[_0xd8b3ae(0xef)]['nextParticlesSpeed'];}},'fragmentShaderSource':new Cesium$3[(_0x4f0bc5(0xe9))]({'sources':[postProcessingSpeed_frag]}),'outputTexture':this['particlesTextures'][_0x4f0bc5(0x14b)],'preExecute':function _0x466dc5(){var _0x48c68a=_0x4f0bc5;_0x2bbfa5[_0x48c68a(0x22f)][_0x48c68a(0x14b)][_0x48c68a(0x237)]['outputTexture']=_0x2bbfa5['particlesTextures'][_0x48c68a(0x14b)];}})};}}]),_0x51ac4c;}()),Cesium$2=mars3d__namespace[_0x2f96a8(0x105)],ParticleSystem=(function(){var _0x54d863=_0x2f96a8;function _0x6fac6c(_0x123a63,_0x156d0d,_0x25b28d,_0xcc2ca5){var _0x553801=_0xc543;_classCallCheck(this,_0x6fac6c),this[_0x553801(0x1f1)]=_0x123a63,_0x156d0d=_objectSpread2({},_0x156d0d);if(_0x156d0d[_0x553801(0x1ae)]&&_0x156d0d[_0x553801(0xd4)]){var _0x43e927,_0x3ce8c6,_0x41aa96,_0x435588,_0x63336,_0x5273ba;_0x156d0d[_0x553801(0x1df)]={},_0x156d0d[_0x553801(0x1df)]['lon']=_0x156d0d[_0x553801(0xb6)],_0x156d0d[_0x553801(0x1df)]['lat']=_0x156d0d[_0x553801(0xe5)],_0x156d0d[_0x553801(0x1df)][_0x553801(0x1ea)]=_0x156d0d['lev']||0x1,_0x156d0d[_0x553801(0x103)]={},_0x156d0d[_0x553801(0x103)][_0x553801(0x1c0)]=_0x156d0d[_0x553801(0x127)],_0x156d0d[_0x553801(0x103)][_0x553801(0x1bf)]=_0x156d0d[_0x553801(0x228)],_0x156d0d[_0x553801(0x12d)]={},_0x156d0d[_0x553801(0x12d)][_0x553801(0x1c0)]=_0x156d0d['ymin'],_0x156d0d[_0x553801(0x12d)][_0x553801(0x1bf)]=_0x156d0d[_0x553801(0x167)],_0x156d0d['lev']={},_0x156d0d[_0x553801(0x1ea)][_0x553801(0x1c0)]=(_0x43e927=_0x156d0d[_0x553801(0xc2)])!==null&&_0x43e927!==void 0x0?_0x43e927:0x1,_0x156d0d['lev'][_0x553801(0x1bf)]=(_0x3ce8c6=_0x156d0d[_0x553801(0x213)])!==null&&_0x3ce8c6!==void 0x0?_0x3ce8c6:0x1,_0x156d0d['U']={},_0x156d0d['U'][_0x553801(0x175)]=new Float32Array(_0x156d0d[_0x553801(0x1ae)]),_0x156d0d['U'][_0x553801(0x1c0)]=(_0x41aa96=_0x156d0d[_0x553801(0x216)])!==null&&_0x41aa96!==void 0x0?_0x41aa96:Math[_0x553801(0x1c0)][_0x553801(0x203)](Math,_toConsumableArray(_0x156d0d[_0x553801(0x1ae)])),_0x156d0d['U'][_0x553801(0x1bf)]=(_0x435588=_0x156d0d['umax'])!==null&&_0x435588!==void 0x0?_0x435588:Math[_0x553801(0x1bf)][_0x553801(0x203)](Math,_toConsumableArray(_0x156d0d['udata'])),_0x156d0d['V']={},_0x156d0d['V'][_0x553801(0x175)]=new Float32Array(_0x156d0d['vdata']),_0x156d0d['V']['min']=(_0x63336=_0x156d0d[_0x553801(0xbf)])!==null&&_0x63336!==void 0x0?_0x63336:Math['min'][_0x553801(0x203)](Math,_toConsumableArray(_0x156d0d[_0x553801(0xd4)])),_0x156d0d['V']['max']=(_0x5273ba=_0x156d0d['vmax'])!==null&&_0x5273ba!==void 0x0?_0x5273ba:Math[_0x553801(0x1bf)]['apply'](Math,_toConsumableArray(_0x156d0d[_0x553801(0xd4)]));}this['data']=_0x156d0d,this[_0x553801(0x1e0)]=_0x25b28d,this[_0x553801(0xf3)]=_0xcc2ca5,this['particlesComputing']=new ParticlesComputing(this[_0x553801(0x1f1)],this[_0x553801(0xf4)],this['options'],this[_0x553801(0xf3)]),this['particlesRendering']=new ParticlesRendering(this[_0x553801(0x1f1)],this['data'],this[_0x553801(0x1e0)],this['viewerParameters'],this['particlesComputing']);}return _createClass(_0x6fac6c,[{'key':'canvasResize','value':function _0x43091b(_0x4c233f){var _0x209973=_0xc543,_0x29dfd1=this;this[_0x209973(0x187)]['destroyParticlesTextures'](),Object[_0x209973(0x1bb)](this[_0x209973(0x187)]['windTextures'])['forEach'](function(_0x15821c){var _0x27fde9=_0x209973;_0x29dfd1['particlesComputing'][_0x27fde9(0xdd)][_0x15821c]['destroy']();}),this[_0x209973(0x1e9)][_0x209973(0x1ef)][_0x209973(0xed)][_0x209973(0x1f8)](),Object[_0x209973(0x1bb)](this[_0x209973(0x1e9)]['framebuffers'])['forEach'](function(_0x13ef78){var _0x8fd207=_0x209973;_0x29dfd1['particlesRendering'][_0x8fd207(0x130)][_0x13ef78][_0x8fd207(0x1f8)]();}),this[_0x209973(0x1f1)]=_0x4c233f,this[_0x209973(0x187)]=new ParticlesComputing(this[_0x209973(0x1f1)],this[_0x209973(0xf4)],this['options'],this[_0x209973(0xf3)]),this['particlesRendering']=new ParticlesRendering(this[_0x209973(0x1f1)],this[_0x209973(0xf4)],this[_0x209973(0x1e0)],this[_0x209973(0xf3)],this[_0x209973(0x187)]);}},{'key':_0x54d863(0x1b8),'value':function _0xd89601(){var _0x3f335f=_0x54d863,_0x5eeb45=this,_0x1b1e35=new Cesium$2[(_0x3f335f(0xc6))]({'color':new Cesium$2['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2[_0x3f335f(0xc4)]['OPAQUE']});Object['keys'](this['particlesRendering']['framebuffers'])['forEach'](function(_0x9f09b0){var _0x378add=_0x3f335f;_0x1b1e35[_0x378add(0x22e)]=_0x5eeb45[_0x378add(0x1e9)]['framebuffers'][_0x9f09b0],_0x1b1e35['execute'](_0x5eeb45[_0x378add(0x1f1)]);});}},{'key':'refreshParticles','value':function _0x4a3bae(_0x57cb7f){var _0x55d104=_0x54d863;this[_0x55d104(0x1b8)](),this[_0x55d104(0x187)]['destroyParticlesTextures'](),this[_0x55d104(0x187)][_0x55d104(0x140)](this['context'],this[_0x55d104(0x1e0)],this[_0x55d104(0xf3)]);if(_0x57cb7f){var _0x2c2121=this[_0x55d104(0x1e9)][_0x55d104(0x1d7)](this['options']);this[_0x55d104(0x1e9)][_0x55d104(0x22f)][_0x55d104(0x1a0)]['geometry']=_0x2c2121;var _0x103617=Cesium$2[_0x55d104(0x1cd)][_0x55d104(0xb4)]({'context':this[_0x55d104(0x1f1)],'geometry':_0x2c2121,'attributeLocations':this[_0x55d104(0x1e9)][_0x55d104(0x22f)][_0x55d104(0x1a0)][_0x55d104(0x19c)],'bufferUsage':Cesium$2['BufferUsage']['STATIC_DRAW']});this[_0x55d104(0x1e9)]['primitives'][_0x55d104(0x1a0)][_0x55d104(0x237)][_0x55d104(0x1aa)]=_0x103617;}}},{'key':_0x54d863(0x1c6),'value':function _0x3a0760(_0x3f2e0b){var _0x516dbe=_0x54d863,_0x5e6fd8=this,_0x3495be=![];this['options'][_0x516dbe(0x233)]!==_0x3f2e0b[_0x516dbe(0x233)]&&(_0x3495be=!![]),Object[_0x516dbe(0x1bb)](_0x3f2e0b)[_0x516dbe(0x1be)](function(_0x5a858f){var _0x4e1c68=_0x516dbe;_0x5e6fd8[_0x4e1c68(0x1e0)][_0x5a858f]=_0x3f2e0b[_0x5a858f];}),this[_0x516dbe(0x1d1)](_0x3495be);}},{'key':_0x54d863(0x223),'value':function _0x426b8e(_0x573d5d){var _0x2cb806=_0x54d863,_0x2c3eca=this;Object[_0x2cb806(0x1bb)](_0x573d5d)['forEach'](function(_0x40ba35){var _0x56cd11=_0x2cb806;_0x2c3eca[_0x56cd11(0xf3)][_0x40ba35]=_0x573d5d[_0x40ba35];}),this[_0x2cb806(0x1d1)](![]);}},{'key':_0x54d863(0x1f8),'value':function _0x18814b(){var _0x5c7a=_0x54d863,_0x1e7fdd=this;clearTimeout(this[_0x5c7a(0xe4)]),this[_0x5c7a(0x187)][_0x5c7a(0x137)](),Object[_0x5c7a(0x1bb)](this['particlesComputing'][_0x5c7a(0xdd)])['forEach'](function(_0x3c1784){var _0x49fb75=_0x5c7a;_0x1e7fdd[_0x49fb75(0x187)]['windTextures'][_0x3c1784][_0x49fb75(0x1f8)]();}),this[_0x5c7a(0x1e9)][_0x5c7a(0x1ef)][_0x5c7a(0xed)][_0x5c7a(0x1f8)](),Object[_0x5c7a(0x1bb)](this[_0x5c7a(0x1e9)]['framebuffers'])[_0x5c7a(0x1be)](function(_0x5cc777){var _0x399544=_0x5c7a;_0x1e7fdd[_0x399544(0x1e9)][_0x399544(0x130)][_0x5cc777][_0x399544(0x1f8)]();});for(var _0x50f3c2 in this){delete this[_0x50f3c2];}}}]),_0x6fac6c;}()),Cesium$1=mars3d__namespace['Cesium'],BaseLayer$1=mars3d__namespace[_0x2f96a8(0x1b5)]['BaseLayer'],DEF_OPTIONS={'particlesNumber':0x1000,'fixedHeight':0x0,'fadeOpacity':0.996,'dropRate':0.003,'dropRateBump':0.01,'speedFactor':0.5,'lineWidth':0x2,'colors':[_0x2f96a8(0xcc)]},WindLayer=function(_0x240f5e){var _0x3ba185=_0x2f96a8;_inherits(_0x192353,_0x240f5e);var _0x2d5a3f=_createSuper(_0x192353);function _0x192353(){var _0x7689cf=_0xc543,_0x298dee,_0x5b704c=arguments[_0x7689cf(0x1a6)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x192353),_0x5b704c=_objectSpread2(_objectSpread2({},DEF_OPTIONS),_0x5b704c),_0x298dee=_0x2d5a3f['call'](this,_0x5b704c),_0x298dee[_0x7689cf(0xdb)](_0x5b704c),_0x298dee;}return _createClass(_0x192353,[{'key':_0x3ba185(0x1b5),'get':function _0x5d495c(){var _0x10de8e=_0x3ba185;return this[_0x10de8e(0x22f)];}},{'key':_0x3ba185(0xf4),'get':function _0x4623d9(){var _0x565a2d=_0x3ba185;return this[_0x565a2d(0x151)];},'set':function _0x336d62(_0x4cb1d6){var _0x58329b=_0x3ba185;this[_0x58329b(0xca)](_0x4cb1d6);}},{'key':'colors','get':function _0x1d8624(){var _0x3ac28c=_0x3ba185;return this[_0x3ac28c(0x1e0)]['colors'];},'set':function _0x3b851a(_0x1b7b04){var _0x5eba00=_0x3ba185;this[_0x5eba00(0x1e0)][_0x5eba00(0xe2)]=_0x1b7b04,this[_0x5eba00(0x1cc)]&&this[_0x5eba00(0x1cc)][_0x5eba00(0x1c6)]({'colors':_0x1b7b04}),this[_0x5eba00(0x150)]();}},{'key':_0x3ba185(0xd7),'value':function _0x27fb42(){}},{'key':_0x3ba185(0x226),'value':function _0x15633c(){var _0x3856fc=_0x3ba185;this[_0x3856fc(0x1d8)]=this[_0x3856fc(0x18e)]['scene'],this['camera']=this[_0x3856fc(0x18e)][_0x3856fc(0x1dd)],this[_0x3856fc(0x22f)]=new Cesium$1['PrimitiveCollection'](),this[_0x3856fc(0x18e)][_0x3856fc(0x1d8)]['primitives']['add'](this['primitives']),this[_0x3856fc(0xf3)]={'lonRange':new Cesium$1[(_0x3856fc(0xbd))](),'latRange':new Cesium$1[(_0x3856fc(0xbd))](),'pixelSize':0x0},this[_0x3856fc(0xc1)]=new Cesium$1[(_0x3856fc(0x166))](Cesium$1[_0x3856fc(0x110)]['ZERO'],0.99*0x615299),this[_0x3856fc(0x18d)](),window[_0x3856fc(0x20e)](_0x3856fc(0x150),this['resize'][_0x3856fc(0xe7)](this),![]),this[_0x3856fc(0x176)]=![],this[_0x3856fc(0x1db)]=![],this[_0x3856fc(0x18e)]['on'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this[_0x3856fc(0x18e)]['on'](mars3d__namespace[_0x3856fc(0x21f)][_0x3856fc(0x1b1)],this[_0x3856fc(0x219)],this),this[_0x3856fc(0x18e)]['on'](mars3d__namespace['EventType']['mouseUp'],this[_0x3856fc(0xcf)],this),this[_0x3856fc(0x18e)]['on'](mars3d__namespace[_0x3856fc(0x21f)][_0x3856fc(0x21b)],this['_onMouseMoveEvent'],this),this[_0x3856fc(0x151)]&&this[_0x3856fc(0xca)](this[_0x3856fc(0x151)]);}},{'key':_0x3ba185(0x160),'value':function _0x3e1d57(){var _0x40fd88=_0x3ba185;window[_0x40fd88(0x100)](_0x40fd88(0x150),this[_0x40fd88(0x150)]),this[_0x40fd88(0x18e)][_0x40fd88(0x120)](mars3d__namespace[_0x40fd88(0x21f)][_0x40fd88(0x235)],this[_0x40fd88(0xc0)],this),this['_map'][_0x40fd88(0x120)](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this[_0x40fd88(0x18e)][_0x40fd88(0x120)](mars3d__namespace['EventType'][_0x40fd88(0x1b1)],this['_onMouseDownEvent'],this),this[_0x40fd88(0x18e)][_0x40fd88(0x120)](mars3d__namespace[_0x40fd88(0x21f)][_0x40fd88(0x122)],this[_0x40fd88(0xcf)],this),this['_map'][_0x40fd88(0x120)](mars3d__namespace[_0x40fd88(0x21f)][_0x40fd88(0x21b)],this[_0x40fd88(0xd6)],this),this['primitives'][_0x40fd88(0xbb)](),this[_0x40fd88(0x18e)][_0x40fd88(0x1d8)][_0x40fd88(0x22f)][_0x40fd88(0xba)](this[_0x40fd88(0x22f)]);}},{'key':_0x3ba185(0x150),'value':function _0x5f43b2(){var _0x3193f6=_0x3ba185;if(!this[_0x3193f6(0x152)]||!this[_0x3193f6(0x1cc)])return;this[_0x3193f6(0x22f)]['show']=![],this[_0x3193f6(0x22f)]['removeAll'](),this[_0x3193f6(0x18e)][_0x3193f6(0x1e3)](mars3d__namespace[_0x3193f6(0x21f)][_0x3193f6(0x235)],this[_0x3193f6(0xc0)],this);}},{'key':_0x3ba185(0xc0),'value':function _0x1278c2(_0x2e0d7c){var _0xc53a4a=_0x3ba185;this[_0xc53a4a(0x1cc)][_0xc53a4a(0x15c)](this[_0xc53a4a(0x1d8)]['context']),this[_0xc53a4a(0x1b6)](),this['primitives']['show']=!![];}},{'key':_0x3ba185(0x11a),'value':function _0x19095e(_0x1de1d1){var _0x1cec18=_0x3ba185,_0x33727e=this;clearTimeout(this[_0x1cec18(0xfa)]);if(!this[_0x1cec18(0x152)]||!this[_0x1cec18(0x1cc)])return;this[_0x1cec18(0x22f)][_0x1cec18(0x152)]=![],this[_0x1cec18(0xfa)]=setTimeout(function(){var _0x18e1cc=_0x1cec18;if(!_0x33727e[_0x18e1cc(0x152)])return;_0x33727e['redraw']();},0xc8);}},{'key':_0x3ba185(0x219),'value':function _0x32f3df(_0x256344){var _0xb20ad3=_0x3ba185;this[_0xb20ad3(0x176)]=!![];}},{'key':_0x3ba185(0xd6),'value':function _0x2e5201(_0x1f38a1){var _0x3fb8f5=_0x3ba185;if(!this[_0x3fb8f5(0x152)]||!this[_0x3fb8f5(0x1cc)])return;this['mouse_down']&&(this[_0x3fb8f5(0x22f)][_0x3fb8f5(0x152)]=![],this[_0x3fb8f5(0x1db)]=!![]);}},{'key':_0x3ba185(0xcf),'value':function _0x55f0fe(_0x519e15){var _0x5299cd=_0x3ba185;if(!this[_0x5299cd(0x152)]||!this[_0x5299cd(0x1cc)])return;this[_0x5299cd(0x176)]&&this[_0x5299cd(0x1db)]&&this['redraw'](),this['primitives']['show']=!![],this[_0x5299cd(0x176)]=![],this[_0x5299cd(0x1db)]=![];}},{'key':'redraw','value':function _0x4b282e(){var _0x477d58=_0x3ba185;if(!this[_0x477d58(0x18e)]||!this[_0x477d58(0x152)])return;this[_0x477d58(0x18d)](),this[_0x477d58(0x1cc)][_0x477d58(0x223)](this[_0x477d58(0xf3)]),this[_0x477d58(0x22f)]['show']=!![];}},{'key':_0x3ba185(0xca),'value':function _0x4a4c21(_0x2d1c40){var _0x57bfa9=_0x3ba185;this['_data']=_0x2d1c40,this[_0x57bfa9(0x1cc)]&&this[_0x57bfa9(0x1cc)][_0x57bfa9(0x1f8)](),this['particleSystem']=new ParticleSystem(this[_0x57bfa9(0x1d8)]['context'],_0x2d1c40,this[_0x57bfa9(0xe6)](),this[_0x57bfa9(0xf3)]),this[_0x57bfa9(0x1b6)]();}},{'key':_0x3ba185(0xdb),'value':function _0x47a5ee(_0x3a86c7,_0x22f702){var _0x4ad449=_0x3ba185;if(_0x3a86c7)for(var _0x359682 in _0x3a86c7){this[_0x359682]=_0x3a86c7[_0x359682];}this[_0x4ad449(0x1cc)]&&this[_0x4ad449(0x1cc)][_0x4ad449(0x1c6)](this[_0x4ad449(0xe6)]());}},{'key':'getOptions','value':function _0x1b380c(){var _0x1129eb=_0x3ba185,_0x4f0deb=Math['ceil'](Math[_0x1129eb(0x18a)](this[_0x1129eb(0x115)]));return this[_0x1129eb(0x115)]=_0x4f0deb*_0x4f0deb,{'particlesTextureSize':_0x4f0deb,'maxParticles':this['particlesNumber'],'particleHeight':this[_0x1129eb(0x15b)],'fadeOpacity':this[_0x1129eb(0x230)],'dropRate':this[_0x1129eb(0x139)],'dropRateBump':this['dropRateBump'],'speedFactor':this[_0x1129eb(0x157)],'lineWidth':this[_0x1129eb(0xfd)],'colors':this['colors']};}},{'key':_0x3ba185(0x1b6),'value':function _0x29e82a(){var _0x52f6e4=_0x3ba185;this[_0x52f6e4(0x22f)]['add'](this[_0x52f6e4(0x1cc)]['particlesComputing'][_0x52f6e4(0x22f)][_0x52f6e4(0x155)]),this[_0x52f6e4(0x22f)][_0x52f6e4(0x1ca)](this[_0x52f6e4(0x1cc)]['particlesComputing'][_0x52f6e4(0x22f)]['updateSpeed']),this['primitives'][_0x52f6e4(0x1ca)](this[_0x52f6e4(0x1cc)]['particlesComputing'][_0x52f6e4(0x22f)]['updatePosition']),this[_0x52f6e4(0x22f)]['add'](this[_0x52f6e4(0x1cc)]['particlesComputing'][_0x52f6e4(0x22f)][_0x52f6e4(0x1a4)]),this[_0x52f6e4(0x22f)]['add'](this['particleSystem'][_0x52f6e4(0x187)]['primitives'][_0x52f6e4(0x14b)]),this['primitives'][_0x52f6e4(0x1ca)](this[_0x52f6e4(0x1cc)]['particlesRendering']['primitives'][_0x52f6e4(0x1a0)]),this[_0x52f6e4(0x22f)][_0x52f6e4(0x1ca)](this[_0x52f6e4(0x1cc)][_0x52f6e4(0x1e9)][_0x52f6e4(0x22f)][_0x52f6e4(0x148)]),this[_0x52f6e4(0x22f)]['add'](this[_0x52f6e4(0x1cc)][_0x52f6e4(0x1e9)][_0x52f6e4(0x22f)][_0x52f6e4(0xde)]);}},{'key':_0x3ba185(0x18d),'value':function _0x382e01(){var _0x1694bf=_0x3ba185,_0x1b1755=this[_0x1694bf(0x1dd)][_0x1694bf(0x1bd)](this[_0x1694bf(0x1d8)][_0x1694bf(0x1e8)][_0x1694bf(0x23f)]);if(!_0x1b1755){var _0x488a52=this['_map'][_0x1694bf(0xc3)]();_0x1b1755=Cesium$1[_0x1694bf(0x10c)][_0x1694bf(0x158)](_0x488a52[_0x1694bf(0x127)],_0x488a52[_0x1694bf(0x201)],_0x488a52['xmax'],_0x488a52[_0x1694bf(0x167)]);}var _0x449d45=Util[_0x1694bf(0x204)](_0x1b1755);this[_0x1694bf(0xf3)][_0x1694bf(0x1f9)]['x']=_0x449d45[_0x1694bf(0x103)][_0x1694bf(0x1c0)],this['viewerParameters']['lonRange']['y']=_0x449d45['lon']['max'],this['viewerParameters'][_0x1694bf(0x188)]['x']=_0x449d45[_0x1694bf(0x12d)]['min'],this[_0x1694bf(0xf3)][_0x1694bf(0x188)]['y']=_0x449d45['lat'][_0x1694bf(0x1bf)];var _0x42086d=this[_0x1694bf(0x1dd)][_0x1694bf(0x16e)](this[_0x1694bf(0xc1)],this['scene'][_0x1694bf(0x102)],this[_0x1694bf(0x1d8)]['drawingBufferHeight']);_0x42086d>0x0&&(this[_0x1694bf(0xf3)][_0x1694bf(0x193)]=_0x42086d);}}]),_0x192353;}(BaseLayer$1);mars3d__namespace[_0x2f96a8(0x178)]['register'](_0x2f96a8(0x1b4),WindLayer),mars3d__namespace[_0x2f96a8(0x1b5)][_0x2f96a8(0x10f)]=WindLayer;var CanvasParticle=(function(){var _0x553acb=_0x2f96a8;function _0x5aa794(){var _0x24a35e=_0xc543;_classCallCheck(this,_0x5aa794),this[_0x24a35e(0xd0)]=null,this['lat']=null,this[_0x24a35e(0x181)]=null,this['tlat']=null,this[_0x24a35e(0x16a)]=null;}return _createClass(_0x5aa794,[{'key':_0x553acb(0x1f8),'value':function _0x2cc720(){for(var _0x40d609 in this){delete this[_0x40d609];}}}]),_0x5aa794;}()),CanvasWindField=(function(){var _0x15d1f9=_0x2f96a8;function _0x49dc4a(_0x360e36){_classCallCheck(this,_0x49dc4a),this['setOptions'](_0x360e36);}return _createClass(_0x49dc4a,[{'key':'speedRate','get':function _0x547798(){var _0x473888=_0xc543;return this[_0x473888(0x23d)];},'set':function _0x411db9(_0x433d8b){var _0x2c4bbb=_0xc543;this[_0x2c4bbb(0x23d)]=(0x64-(_0x433d8b>0x63?0x63:_0x433d8b))*0x64,this['_calc_speedRate']=[(this[_0x2c4bbb(0x228)]-this[_0x2c4bbb(0x127)])/this['_speedRate'],(this['ymax']-this[_0x2c4bbb(0x201)])/this[_0x2c4bbb(0x23d)]];}},{'key':_0x15d1f9(0x135),'get':function _0x1b9951(){var _0x19b896=_0x15d1f9;return this[_0x19b896(0x214)];},'set':function _0x2da724(_0x3ac14a){var _0x5d32c6=_0x15d1f9;this[_0x5d32c6(0x214)]=_0x3ac14a;}},{'key':_0x15d1f9(0x1c6),'value':function _0x164eaa(_0x1142d0){var _0x264bc4=_0x15d1f9;this['options']=_0x1142d0,this[_0x264bc4(0x135)]=_0x1142d0[_0x264bc4(0x135)]||0x78,this[_0x264bc4(0x202)]=_0x1142d0[_0x264bc4(0x202)]||0x32,this[_0x264bc4(0x205)]=[];var _0x5330bf=_0x1142d0[_0x264bc4(0x115)]||0x1000;for(var _0x3662b4=0x0;_0x3662b4<_0x5330bf;_0x3662b4++){var _0x13e6c1=this[_0x264bc4(0x1d6)](new CanvasParticle());this[_0x264bc4(0x205)][_0x264bc4(0xda)](_0x13e6c1);}}},{'key':'setDate','value':function _0x3959e0(_0x1521e6){var _0x31182c=_0x15d1f9;this[_0x31182c(0xe5)]=_0x1521e6[_0x31182c(0xe5)],this[_0x31182c(0xb6)]=_0x1521e6['cols'],this[_0x31182c(0x127)]=_0x1521e6[_0x31182c(0x127)],this[_0x31182c(0x228)]=_0x1521e6[_0x31182c(0x228)],this[_0x31182c(0x201)]=_0x1521e6['ymin'],this[_0x31182c(0x167)]=_0x1521e6[_0x31182c(0x167)],this['grid']=[];var _0x482c53=_0x1521e6[_0x31182c(0x1ae)],_0x45b309=_0x1521e6[_0x31182c(0xd4)],_0x26c9d2=![];_0x482c53[_0x31182c(0x1a6)]===this[_0x31182c(0xe5)]&&_0x482c53[0x0][_0x31182c(0x1a6)]===this[_0x31182c(0xb6)]&&(_0x26c9d2=!![]);var _0x3f1092=0x0,_0x417d67=null,_0x541c96=null;for(var _0x390e33=0x0;_0x390e33<this[_0x31182c(0xe5)];_0x390e33++){_0x417d67=[];for(var _0x4be4d2=0x0;_0x4be4d2<this[_0x31182c(0xb6)];_0x4be4d2++,_0x3f1092++){_0x26c9d2?_0x541c96=this[_0x31182c(0x1da)](_0x482c53[_0x390e33][_0x4be4d2],_0x45b309[_0x390e33][_0x4be4d2]):_0x541c96=this[_0x31182c(0x1da)](_0x482c53[_0x3f1092],_0x45b309[_0x3f1092]),_0x417d67[_0x31182c(0xda)](_0x541c96);}this[_0x31182c(0x1b3)]['push'](_0x417d67);}this[_0x31182c(0x1e0)]['reverseY']&&this[_0x31182c(0x1b3)]['reverse']();}},{'key':_0x15d1f9(0x1a3),'value':function _0x1329ee(){var _0x54051a=_0x15d1f9;delete this[_0x54051a(0xe5)],delete this[_0x54051a(0xb6)],delete this[_0x54051a(0x127)],delete this['xmax'],delete this[_0x54051a(0x201)],delete this[_0x54051a(0x167)],delete this[_0x54051a(0x1b3)],delete this[_0x54051a(0x205)];}},{'key':'toGridXY','value':function _0x4fdfaa(_0x963380,_0x4a2959){var _0x207c99=_0x15d1f9,_0x36cb88=(_0x963380-this['xmin'])/(this[_0x207c99(0x228)]-this[_0x207c99(0x127)])*(this[_0x207c99(0xb6)]-0x1),_0x43f3d5=(this['ymax']-_0x4a2959)/(this[_0x207c99(0x167)]-this[_0x207c99(0x201)])*(this[_0x207c99(0xe5)]-0x1);return[_0x36cb88,_0x43f3d5];}},{'key':'getUVByXY','value':function _0x5c119b(_0x1605f8,_0x50cc1e){var _0xc6857=_0x15d1f9;if(_0x1605f8<0x0||_0x1605f8>=this[_0xc6857(0xb6)]||_0x50cc1e>=this[_0xc6857(0xe5)])return[0x0,0x0,0x0];var _0x3ae57f=Math[_0xc6857(0x11e)](_0x1605f8),_0xbc2b2a=Math[_0xc6857(0x11e)](_0x50cc1e);if(_0x3ae57f===_0x1605f8&&_0xbc2b2a===_0x50cc1e)return this[_0xc6857(0x1b3)][_0x50cc1e][_0x1605f8];var _0x2b1aa0=_0x3ae57f+0x1,_0x32ff69=_0xbc2b2a+0x1,_0x2578e4=this['getUVByXY'](_0x3ae57f,_0xbc2b2a),_0x51543e=this[_0xc6857(0x19e)](_0x2b1aa0,_0xbc2b2a),_0x4ea325=this[_0xc6857(0x19e)](_0x3ae57f,_0x32ff69),_0x3f8ec9=this[_0xc6857(0x19e)](_0x2b1aa0,_0x32ff69),_0x4d6d3b=null;try{_0x4d6d3b=this[_0xc6857(0x168)](_0x1605f8-_0x3ae57f,_0x50cc1e-_0xbc2b2a,_0x2578e4,_0x51543e,_0x4ea325,_0x3f8ec9);}catch(_0x1b33a8){console[_0xc6857(0x12f)](_0x1605f8,_0x50cc1e);}return _0x4d6d3b;}},{'key':_0x15d1f9(0x168),'value':function _0x366ade(_0x4c2d6f,_0x19572d,_0x11eb5e,_0x5f039b,_0x565766,_0x1f074b){var _0x23a91d=_0x15d1f9,_0xf8fb90=0x1-_0x4c2d6f,_0x35f7bf=0x1-_0x19572d,_0x49f3d7=_0xf8fb90*_0x35f7bf,_0x22187c=_0x4c2d6f*_0x35f7bf,_0x52d272=_0xf8fb90*_0x19572d,_0xdd24=_0x4c2d6f*_0x19572d,_0xa1c680=_0x11eb5e[0x0]*_0x49f3d7+_0x5f039b[0x0]*_0x22187c+_0x565766[0x0]*_0x52d272+_0x1f074b[0x0]*_0xdd24,_0x55a0f9=_0x11eb5e[0x1]*_0x49f3d7+_0x5f039b[0x1]*_0x22187c+_0x565766[0x1]*_0x52d272+_0x1f074b[0x1]*_0xdd24;return this[_0x23a91d(0x1da)](_0xa1c680,_0x55a0f9);}},{'key':_0x15d1f9(0x1da),'value':function _0x10d2a0(_0xeff226,_0x35a98a){return[+_0xeff226,+_0x35a98a,Math['sqrt'](_0xeff226*_0xeff226+_0x35a98a*_0x35a98a)];}},{'key':_0x15d1f9(0x1c7),'value':function _0x4d1795(_0x2d98e9,_0x2b802){var _0x396718=_0x15d1f9;if(!this[_0x396718(0xec)](_0x2d98e9,_0x2b802))return null;var _0x5cec5b=this[_0x396718(0x232)](_0x2d98e9,_0x2b802),_0x3babf1=this['getUVByXY'](_0x5cec5b[0x0],_0x5cec5b[0x1]);return _0x3babf1;}},{'key':_0x15d1f9(0xec),'value':function _0x579d3(_0x3b3099,_0x1f0584){var _0x3461a8=_0x15d1f9;return _0x3b3099>=this[_0x3461a8(0x127)]&&_0x3b3099<=this['xmax']&&_0x1f0584>=this['ymin']&&_0x1f0584<=this['ymax']?!![]:![];}},{'key':_0x15d1f9(0x1e2),'value':function _0x5324a0(){var _0x4df597=_0x15d1f9,_0x105362=fRandomByfloat(this[_0x4df597(0x127)],this[_0x4df597(0x228)]),_0x564a86=fRandomByfloat(this[_0x4df597(0x201)],this[_0x4df597(0x167)]);return{'lat':_0x564a86,'lng':_0x105362};}},{'key':_0x15d1f9(0x1b7),'value':function _0x47d114(){var _0x5b9dfa=_0x15d1f9,_0x2ef116,_0x703af2,_0x5342b3;for(var _0x26aa57=0x0,_0x398bcc=this['particles'][_0x5b9dfa(0x1a6)];_0x26aa57<_0x398bcc;_0x26aa57++){var _0x51ea56=this[_0x5b9dfa(0x205)][_0x26aa57];_0x51ea56[_0x5b9dfa(0x16a)]<=0x0&&(_0x51ea56=this['_randomParticle'](_0x51ea56));if(_0x51ea56['age']>0x0){var _0x49ccd9=_0x51ea56['tlng'],_0x2fa768=_0x51ea56['tlat'];_0x5342b3=this['getUVByPoint'](_0x49ccd9,_0x2fa768),_0x5342b3?(_0x2ef116=_0x49ccd9+this[_0x5b9dfa(0x118)][0x0]*_0x5342b3[0x0],_0x703af2=_0x2fa768+this['_calc_speedRate'][0x1]*_0x5342b3[0x1],_0x51ea56['lng']=_0x49ccd9,_0x51ea56[_0x5b9dfa(0x12d)]=_0x2fa768,_0x51ea56[_0x5b9dfa(0x181)]=_0x2ef116,_0x51ea56[_0x5b9dfa(0xff)]=_0x703af2,_0x51ea56[_0x5b9dfa(0x16a)]--):_0x51ea56['age']=0x0;}}return this['particles'];}},{'key':_0x15d1f9(0x1d6),'value':function _0x33a3cf(_0x5a5b4d){var _0x274930=_0x15d1f9,_0x3c9635,_0x4a448f;for(var _0x162ee3=0x0;_0x162ee3<0x1e;_0x162ee3++){_0x3c9635=this[_0x274930(0x1e2)](),_0x4a448f=this[_0x274930(0x1c7)](_0x3c9635[_0x274930(0xd0)],_0x3c9635[_0x274930(0x12d)]);if(_0x4a448f&&_0x4a448f[0x2]>0x0)break;}if(!_0x4a448f)return _0x5a5b4d;var _0x9f36b2=_0x3c9635[_0x274930(0xd0)]+this[_0x274930(0x118)][0x0]*_0x4a448f[0x0],_0x49547a=_0x3c9635[_0x274930(0x12d)]+this[_0x274930(0x118)][0x1]*_0x4a448f[0x1];return _0x5a5b4d[_0x274930(0xd0)]=_0x3c9635[_0x274930(0xd0)],_0x5a5b4d[_0x274930(0x12d)]=_0x3c9635[_0x274930(0x12d)],_0x5a5b4d[_0x274930(0x181)]=_0x9f36b2,_0x5a5b4d[_0x274930(0xff)]=_0x49547a,_0x5a5b4d['age']=Math[_0x274930(0x1f7)](Math['random']()*this['maxAge']),_0x5a5b4d;}},{'key':_0x15d1f9(0x1f8),'value':function _0x1e5da4(){for(var _0x234a14 in this){delete this[_0x234a14];}}}]),_0x49dc4a;}());function fRandomByfloat(_0x3996b8,_0x63e40){return _0x3996b8+Math['random']()*(_0x63e40-_0x3996b8);}var Cesium=mars3d__namespace[_0x2f96a8(0x105)],BaseLayer=mars3d__namespace[_0x2f96a8(0x1b5)][_0x2f96a8(0x1b2)],CanvasWindLayer=function(_0x6f7396){var _0x4667a7=_0x2f96a8;_inherits(_0x39c43c,_0x6f7396);var _0x1cbdf9=_createSuper(_0x39c43c);function _0x39c43c(){var _0xc2640f=_0xc543,_0x180c46,_0x4f3081=arguments[_0xc2640f(0x1a6)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x39c43c),_0x180c46=_0x1cbdf9['call'](this,_0x4f3081),_0x180c46[_0xc2640f(0xdb)](_0x4f3081),_0x180c46['canvas']=null,_0x180c46;}return _createClass(_0x39c43c,[{'key':_0x4667a7(0xdb),'value':function _0x443278(_0x2d2c6d,_0x1c878c){var _0xe4d35f=_0x4667a7,_0x51adb7,_0x3b2e37,_0x479649;this['frameTime']=0x3e8/(_0x2d2c6d[_0xe4d35f(0x154)]||0xa),this['_pointerEvents']=(_0x51adb7=this[_0xe4d35f(0x1e0)][_0xe4d35f(0x1d5)])!==null&&_0x51adb7!==void 0x0?_0x51adb7:![],this['color']=_0x2d2c6d[_0xe4d35f(0x13a)]||'#ffffff',this[_0xe4d35f(0xfd)]=_0x2d2c6d[_0xe4d35f(0xfd)]||0x1,this[_0xe4d35f(0x15b)]=(_0x3b2e37=_0x2d2c6d[_0xe4d35f(0x15b)])!==null&&_0x3b2e37!==void 0x0?_0x3b2e37:0x0,this[_0xe4d35f(0xd5)]=(_0x479649=_0x2d2c6d[_0xe4d35f(0xd5)])!==null&&_0x479649!==void 0x0?_0x479649:![],this[_0xe4d35f(0xf2)]&&this[_0xe4d35f(0xf2)]['setOptions'](_0x2d2c6d);}},{'key':'layer','get':function _0x5c55bc(){var _0x23fdfe=_0x4667a7;return this[_0x23fdfe(0x191)];}},{'key':_0x4667a7(0x225),'get':function _0x34d166(){var _0x5ab493=_0x4667a7;return this[_0x5ab493(0x18e)]['scene'][_0x5ab493(0x191)][_0x5ab493(0x1d4)];}},{'key':'canvasHeight','get':function _0x322c71(){var _0x14c175=_0x4667a7;return this[_0x14c175(0x18e)][_0x14c175(0x1d8)]['canvas'][_0x14c175(0xe0)];}},{'key':_0x4667a7(0x1d5),'get':function _0x3fd873(){return this['_pointerEvents'];},'set':function _0x145b8d(_0x2524a5){var _0x4ea03b=_0x4667a7;this[_0x4ea03b(0x10e)]=_0x2524a5;if(!this[_0x4ea03b(0x191)])return;_0x2524a5?this[_0x4ea03b(0x191)][_0x4ea03b(0x132)]['pointer-events']=_0x4ea03b(0xd9):this['canvas'][_0x4ea03b(0x132)]['pointer-events']=_0x4ea03b(0x189);}},{'key':_0x4667a7(0x115),'get':function _0x2bbac1(){var _0x168d31=_0x4667a7;return this[_0x168d31(0x1e0)][_0x168d31(0x115)];},'set':function _0x276c65(_0x38383a){var _0x28292c=_0x4667a7,_0x47f9bb=this;this[_0x28292c(0x1e0)][_0x28292c(0x115)]=_0x38383a,clearTimeout(this[_0x28292c(0x145)]),this[_0x28292c(0x145)]=setTimeout(function(){var _0x1efb0b=_0x28292c;_0x47f9bb[_0x1efb0b(0x10a)]();},0x1f4);}},{'key':'speedRate','get':function _0x42f95f(){var _0x249c4d=_0x4667a7;return this[_0x249c4d(0x1e0)][_0x249c4d(0x202)];},'set':function _0x328c5e(_0x1a7d60){var _0x4b7434=_0x4667a7;this[_0x4b7434(0x1e0)][_0x4b7434(0x202)]=_0x1a7d60,this[_0x4b7434(0xf2)]&&(this['windField']['speedRate']=_0x1a7d60);}},{'key':_0x4667a7(0x135),'get':function _0x3dfe2d(){var _0x1a1ff2=_0x4667a7;return this[_0x1a1ff2(0x1e0)]['maxAge'];},'set':function _0x470957(_0x596380){var _0x322d48=_0x4667a7;this['options'][_0x322d48(0x135)]=_0x596380,this[_0x322d48(0xf2)]&&(this['windField'][_0x322d48(0x135)]=_0x596380);}},{'key':_0x4667a7(0xf4),'get':function _0x2d4c63(){var _0x4717ad=_0x4667a7;return this[_0x4717ad(0x1fe)];},'set':function _0x3b7027(_0x2dcd28){var _0x2563de=_0x4667a7;this[_0x2563de(0xca)](_0x2dcd28);}},{'key':'_showHook','value':function _0x309703(_0x3dccc5){var _0x2430d6=_0x4667a7;_0x3dccc5?this['_addedHook']():(this[_0x2430d6(0x1fe)]&&(this['options'][_0x2430d6(0xf4)]=this[_0x2430d6(0x1fe)]),this[_0x2430d6(0x160)]());}},{'key':'_mountedHook','value':function _0x28b6fb(){var _0x5c80cc=_0x4667a7;this[_0x5c80cc(0x1e0)][_0x5c80cc(0x141)]?this[_0x5c80cc(0x17b)]():this['windField']=new CanvasWindField(this['options']);}},{'key':'_addedHook','value':function _0x5a914a(){var _0x49183a=_0x4667a7;this['canvas']=this[_0x49183a(0x200)](),this[_0x49183a(0x1e7)]=this[_0x49183a(0x191)][_0x49183a(0xf1)]('2d',{'willReadFrequently':!![]}),this[_0x49183a(0x11b)](),this[_0x49183a(0x1e0)][_0x49183a(0xf4)]&&this[_0x49183a(0xca)](this['options']['data']);}},{'key':_0x4667a7(0x160),'value':function _0x3340ba(){var _0x2e82c6=_0x4667a7;this[_0x2e82c6(0x1a3)](),this[_0x2e82c6(0x20a)](),this[_0x2e82c6(0x191)]&&(this['_map']['container'][_0x2e82c6(0xe1)](this[_0x2e82c6(0x191)]),delete this['canvas']);}},{'key':'_createCanvas','value':function _0x5ebe8d(){var _0x28e66b=_0x4667a7,_0x4ba16f=document[_0x28e66b(0x21e)](_0x28e66b(0x191));_0x4ba16f[_0x28e66b(0x132)][_0x28e66b(0x1ce)]='absolute',_0x4ba16f[_0x28e66b(0x132)][_0x28e66b(0xc9)]='0px',_0x4ba16f['style']['left']=_0x28e66b(0x190),_0x4ba16f[_0x28e66b(0x132)][_0x28e66b(0xb3)]=_0x28e66b(0x13b),_0x4ba16f[_0x28e66b(0x132)]['height']=_0x28e66b(0x13b),_0x4ba16f[_0x28e66b(0x132)]['pointerEvents']=this[_0x28e66b(0x10e)]?'auto':_0x28e66b(0x189),_0x4ba16f[_0x28e66b(0x132)][_0x28e66b(0x14a)]=0xa,_0x4ba16f[_0x28e66b(0xfe)]('id',_0x28e66b(0xf5)),_0x4ba16f[_0x28e66b(0xfe)]('class',_0x28e66b(0xf5)),this[_0x28e66b(0x18e)][_0x28e66b(0xd3)][_0x28e66b(0x20b)](_0x4ba16f);var _0x25e3a2=this[_0x28e66b(0x18e)][_0x28e66b(0x1d8)];return _0x4ba16f[_0x28e66b(0xb3)]=_0x25e3a2[_0x28e66b(0x191)][_0x28e66b(0x1d4)],_0x4ba16f['height']=_0x25e3a2['canvas']['clientHeight'],_0x4ba16f;}},{'key':_0x4667a7(0x150),'value':function _0x132578(){var _0x50c815=_0x4667a7;this[_0x50c815(0x191)]&&(this[_0x50c815(0x191)][_0x50c815(0xb3)]=this[_0x50c815(0x225)],this[_0x50c815(0x191)][_0x50c815(0x1c5)]=this[_0x50c815(0x1d9)]);}},{'key':_0x4667a7(0x11b),'value':function _0x18db5a(){var _0x4491d3=_0x4667a7,_0x2dfaac=this,_0x38a6b4=Date['now']();(function _0x5b638b(){var _0x3b7c9a=_0xc543;_0x2dfaac[_0x3b7c9a(0x17f)]=window[_0x3b7c9a(0xc5)](_0x5b638b);if(_0x2dfaac[_0x3b7c9a(0x152)]&&_0x2dfaac[_0x3b7c9a(0xf2)]){var _0x5ae9f0=Date[_0x3b7c9a(0xce)](),_0xf83ac6=_0x5ae9f0-_0x38a6b4;_0xf83ac6>_0x2dfaac[_0x3b7c9a(0x1e1)]&&(_0x38a6b4=_0x5ae9f0-_0xf83ac6%_0x2dfaac['frameTime'],_0x2dfaac['update']());}}(),window[_0x4491d3(0x20e)]('resize',this[_0x4491d3(0x150)][_0x4491d3(0xe7)](this),![]),this['mouse_down']=![],this[_0x4491d3(0x1db)]=![],this[_0x4491d3(0x1e0)]['mouseHidden']&&(this[_0x4491d3(0x18e)]['on'](mars3d__namespace[_0x4491d3(0x21f)][_0x4491d3(0x20d)],this[_0x4491d3(0x11a)],this),this[_0x4491d3(0x18e)]['on'](mars3d__namespace[_0x4491d3(0x21f)]['mouseDown'],this['_onMouseDownEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x4491d3(0x122)],this[_0x4491d3(0xcf)],this)));}},{'key':_0x4667a7(0x20a),'value':function _0x4466b9(){var _0x3a8c55=_0x4667a7;window[_0x3a8c55(0x133)](this[_0x3a8c55(0x17f)]),delete this[_0x3a8c55(0x17f)],window[_0x3a8c55(0x100)](_0x3a8c55(0x150),this[_0x3a8c55(0x150)]),this['options']['mouseHidden']&&(this['_map'][_0x3a8c55(0x120)](mars3d__namespace[_0x3a8c55(0x21f)]['wheel'],this[_0x3a8c55(0x11a)],this),this['_map'][_0x3a8c55(0x120)](mars3d__namespace['EventType'][_0x3a8c55(0x1b1)],this[_0x3a8c55(0x219)],this),this[_0x3a8c55(0x18e)][_0x3a8c55(0x120)](mars3d__namespace['EventType'][_0x3a8c55(0x122)],this[_0x3a8c55(0xcf)],this),this['_map'][_0x3a8c55(0x120)](mars3d__namespace['EventType'][_0x3a8c55(0x21b)],this['_onMouseMoveEvent'],this));}},{'key':'_onMapWhellEvent','value':function _0x58de4a(_0x638a50){var _0x85db0e=_0x4667a7,_0x1faed8=this;clearTimeout(this[_0x85db0e(0xfa)]);if(!this[_0x85db0e(0x152)]||!this[_0x85db0e(0x191)])return;this[_0x85db0e(0x191)][_0x85db0e(0x132)][_0x85db0e(0x15d)]=_0x85db0e(0x14d),this[_0x85db0e(0xfa)]=setTimeout(function(){var _0x41b84f=_0x85db0e;if(!_0x1faed8['show'])return;_0x1faed8[_0x41b84f(0x10a)](),_0x1faed8[_0x41b84f(0x191)][_0x41b84f(0x132)][_0x41b84f(0x15d)]=_0x41b84f(0x123);},0xc8);}},{'key':_0x4667a7(0x219),'value':function _0x111781(_0x4d1fa3){var _0x17c9d6=_0x4667a7;this['mouse_down']=!![],this[_0x17c9d6(0x18e)][_0x17c9d6(0x120)](mars3d__namespace[_0x17c9d6(0x21f)][_0x17c9d6(0x21b)],this[_0x17c9d6(0xd6)],this),this[_0x17c9d6(0x18e)]['on'](mars3d__namespace[_0x17c9d6(0x21f)]['mouseMove'],this[_0x17c9d6(0xd6)],this);}},{'key':_0x4667a7(0xd6),'value':function _0x2b7336(_0x58e7ae){var _0x4edd6b=_0x4667a7;if(!this[_0x4edd6b(0x152)]||!this['canvas'])return;this[_0x4edd6b(0x176)]&&(this['canvas']['style']['visibility']='hidden',this[_0x4edd6b(0x1db)]=!![]);}},{'key':_0x4667a7(0xcf),'value':function _0x422be1(_0x3b7e0d){var _0x572967=_0x4667a7;if(!this['show']||!this[_0x572967(0x191)])return;this[_0x572967(0x18e)][_0x572967(0x120)](mars3d__namespace[_0x572967(0x21f)][_0x572967(0x21b)],this[_0x572967(0xd6)],this),this['mouse_down']&&this[_0x572967(0x1db)]&&this[_0x572967(0x10a)](),this['canvas'][_0x572967(0x132)][_0x572967(0x15d)]='visible',this[_0x572967(0x176)]=![],this['mouse_move']=![];}},{'key':_0x4667a7(0xca),'value':function _0xfdfbb2(_0x34defe){var _0x232058=_0x4667a7;this[_0x232058(0x1a3)](),this[_0x232058(0x1fe)]=_0x34defe,this[_0x232058(0xf2)][_0x232058(0x16c)](_0x34defe),this[_0x232058(0x10a)]();}},{'key':'redraw','value':function _0x92f63f(){var _0x6086b3=_0x4667a7;if(!this[_0x6086b3(0x152)])return;this[_0x6086b3(0xf2)][_0x6086b3(0x1c6)](this[_0x6086b3(0x1e0)]),this[_0x6086b3(0x134)]();}},{'key':'update','value':function _0x309d2a(){var _0x28c95a=_0x4667a7;if(this['_updateIng'])return;this['_updateIng']=!![];if(this[_0x28c95a(0x141)])this['windField'][_0x28c95a(0x134)]();else{var _0x46521a=this[_0x28c95a(0xf2)][_0x28c95a(0x1b7)]();this['_drawLines'](_0x46521a);}this[_0x28c95a(0x172)]=![];}},{'key':_0x4667a7(0x1ee),'value':function _0x9ea0f(_0x545025){var _0x849448=_0x4667a7;this[_0x849448(0x1e7)][_0x849448(0x231)]=_0x849448(0x1fd),this[_0x849448(0x1e7)][_0x849448(0x18b)](0x0,0x0,this[_0x849448(0x225)],this[_0x849448(0x1d9)]),this[_0x849448(0x1e7)][_0x849448(0x231)]=_0x849448(0x1a1),this['canvasContext'][_0x849448(0x13c)]=0.9,this[_0x849448(0x1e7)][_0x849448(0x184)](),this[_0x849448(0x1e7)]['lineWidth']=this['lineWidth'],this[_0x849448(0x1e7)][_0x849448(0x15e)]=this[_0x849448(0x13a)];var _0x32687f=this[_0x849448(0x18e)][_0x849448(0x1d8)][_0x849448(0x16b)]!==Cesium['SceneMode'][_0x849448(0x129)];for(var _0x482077=0x0,_0x51332c=_0x545025[_0x849448(0x1a6)];_0x482077<_0x51332c;_0x482077++){var _0x5ea4a2=_0x545025[_0x482077],_0xb0e327=this[_0x849448(0xfb)](_0x5ea4a2[_0x849448(0xd0)],_0x5ea4a2[_0x849448(0x12d)],_0x5ea4a2),_0x900285=this[_0x849448(0xfb)](_0x5ea4a2[_0x849448(0x181)],_0x5ea4a2[_0x849448(0xff)],_0x5ea4a2);if(!_0xb0e327||!_0x900285)continue;if(_0x32687f&&Math[_0x849448(0x18f)](_0xb0e327[0x0]-_0x900285[0x0])>=this[_0x849448(0x225)])continue;this[_0x849448(0x1e7)][_0x849448(0x153)](_0xb0e327[0x0],_0xb0e327[0x1]),this[_0x849448(0x1e7)][_0x849448(0x138)](_0x900285[0x0],_0x900285[0x1]);}this['canvasContext'][_0x849448(0x165)]();}},{'key':_0x4667a7(0xfb),'value':function _0x2e3bd0(_0x5ea2e3,_0x28dd6d,_0x38d3f2){var _0x5ea58c=_0x4667a7,_0x53e090=Cesium[_0x5ea58c(0x110)][_0x5ea58c(0x158)](_0x5ea2e3,_0x28dd6d,this[_0x5ea58c(0x15b)]),_0x3ca223=this[_0x5ea58c(0x18e)][_0x5ea58c(0x1d8)];if(_0x3ca223[_0x5ea58c(0x16b)]===Cesium[_0x5ea58c(0x22b)][_0x5ea58c(0x129)]){var _0x50f341=new Cesium[(_0x5ea58c(0x12e))](_0x3ca223[_0x5ea58c(0x1e8)][_0x5ea58c(0x23f)],_0x3ca223[_0x5ea58c(0x1dd)]['positionWC']),_0x40586d=_0x50f341['isPointVisible'](_0x53e090);if(!_0x40586d)return _0x38d3f2[_0x5ea58c(0x16a)]=0x0,null;}var _0x3b88c1=Cesium[_0x5ea58c(0x1cb)][_0x5ea58c(0x234)](this[_0x5ea58c(0x18e)][_0x5ea58c(0x1d8)],_0x53e090);return _0x3b88c1?[_0x3b88c1['x'],_0x3b88c1['y']]:null;}},{'key':_0x4667a7(0x1a3),'value':function _0x567f50(){var _0x49b48b=_0x4667a7;this[_0x49b48b(0xf2)][_0x49b48b(0x1a3)](),delete this[_0x49b48b(0x1fe)];}},{'key':'initWorker','value':function _0xc3743d(){var _0x372ed5=_0x4667a7,_0x5e5654=this;this[_0x372ed5(0x141)]=new Worker(this[_0x372ed5(0x1e0)][_0x372ed5(0x141)]),this['worker'][_0x372ed5(0x23e)]=function(_0x245004){var _0x3bcfcb=_0x372ed5;_0x5e5654['_drawLines'](_0x245004['data']['particles']),_0x5e5654[_0x3bcfcb(0xcd)]=![];},this[_0x372ed5(0xf2)]={'init':function _0x2406f1(_0x1fad52){var _0x5544b4=_0x372ed5;_0x5e5654[_0x5544b4(0x141)][_0x5544b4(0x1f0)]({'type':_0x5544b4(0x19b),'options':_0x1fad52});},'setOptions':function _0x35c923(_0x257f5f){var _0x465f94=_0x372ed5;_0x5e5654[_0x465f94(0x141)][_0x465f94(0x1f0)]({'type':_0x465f94(0x1c6),'options':_0x257f5f});},'setDate':function _0x28486a(_0x1287b4){var _0x3f97ad=_0x372ed5;_0x5e5654[_0x3f97ad(0x141)][_0x3f97ad(0x1f0)]({'type':_0x3f97ad(0x16c),'data':_0x1287b4});},'update':function _0x4f2a9d(){var _0x4baf4c=_0x372ed5;if(_0x5e5654[_0x4baf4c(0xcd)])return;_0x5e5654[_0x4baf4c(0xcd)]=!![],_0x5e5654[_0x4baf4c(0x141)]['postMessage']({'type':'update'});},'clear':function _0x5504dd(){var _0x22e478=_0x372ed5;_0x5e5654[_0x22e478(0x141)][_0x22e478(0x1f0)]({'type':_0x22e478(0x1a3)});}},this[_0x372ed5(0xf2)]['init'](this[_0x372ed5(0x1e0)]);}}]),_0x39c43c;}(BaseLayer);mars3d__namespace[_0x2f96a8(0x178)][_0x2f96a8(0x218)](_0x2f96a8(0xe8),CanvasWindLayer),mars3d__namespace[_0x2f96a8(0x1b5)][_0x2f96a8(0x208)]=CanvasWindLayer,mars3d__namespace[_0x2f96a8(0xb9)]=CanvasWindField,mars3d__namespace[_0x2f96a8(0x10d)]=WindUtil,exports['CanvasWindField']=CanvasWindField,exports[_0x2f96a8(0x208)]=CanvasWindLayer,exports['WindLayer']=WindLayer,exports['WindUtil']=WindUtil,Object[_0x2f96a8(0x12a)](exports,_0x2f96a8(0x169),{'value':!![]});
}));
