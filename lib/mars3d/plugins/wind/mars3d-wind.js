/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.4.17
 * 编译日期：2022-12-12 09:12:17
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';var _0x33d41b=_0x4190;(function(_0x237aa5,_0xc95727){var _0x151132=_0x4190,_0x464ec3=_0x237aa5();while(!![]){try{var _0x38fdd3=-parseInt(_0x151132(0x1b5))/0x1+-parseInt(_0x151132(0x22e))/0x2*(-parseInt(_0x151132(0x1b1))/0x3)+-parseInt(_0x151132(0x1fe))/0x4+-parseInt(_0x151132(0x1c3))/0x5+-parseInt(_0x151132(0x19c))/0x6*(-parseInt(_0x151132(0x1d1))/0x7)+parseInt(_0x151132(0xf5))/0x8+parseInt(_0x151132(0x180))/0x9*(parseInt(_0x151132(0x189))/0xa);if(_0x38fdd3===_0xc95727)break;else _0x464ec3['push'](_0x464ec3['shift']());}catch(_0x518472){_0x464ec3['push'](_0x464ec3['shift']());}}}(_0x5d07,0xc0155));function _interopNamespace(_0xba27b){var _0x4fe73a=_0x4190;if(_0xba27b&&_0xba27b[_0x4fe73a(0x240)])return _0xba27b;var _0x4b0f43=Object[_0x4fe73a(0x1f9)](null);return _0xba27b&&Object[_0x4fe73a(0x1ee)](_0xba27b)[_0x4fe73a(0x203)](function(_0x260479){var _0x21f309=_0x4fe73a;if(_0x260479!==_0x21f309(0xfe)){var _0x539a41=Object[_0x21f309(0x1eb)](_0xba27b,_0x260479);Object[_0x21f309(0x237)](_0x4b0f43,_0x260479,_0x539a41['get']?_0x539a41:{'enumerable':!![],'get':function(){return _0xba27b[_0x260479];}});}}),_0x4b0f43[_0x4fe73a(0xfe)]=_0xba27b,_0x4b0f43;}var mars3d__namespace=_interopNamespace(mars3d),Cesium$7=mars3d__namespace[_0x33d41b(0x256)];function getU(_0x710254,_0x47fedc){var _0x2dac02=_0x33d41b,_0x21e746=_0x710254*Math['cos'](Cesium$7[_0x2dac02(0x122)][_0x2dac02(0x264)](_0x47fedc));return _0x21e746;}function getV(_0x5078c9,_0x3ddb23){var _0xfde288=_0x33d41b,_0x8069ed=_0x5078c9*Math[_0xfde288(0x121)](Cesium$7[_0xfde288(0x122)][_0xfde288(0x264)](_0x3ddb23));return _0x8069ed;}function getSpeed(_0x7d08,_0x23f366){var _0x5c39ed=_0x33d41b,_0x32eba0=Math[_0x5c39ed(0x201)](Math[_0x5c39ed(0x11d)](_0x7d08,0x2)+Math['pow'](_0x23f366,0x2));return _0x32eba0;}function getDirection(_0xd7ae7d,_0x17d64c){var _0x1bc75f=_0x33d41b,_0x410a0d=Cesium$7[_0x1bc75f(0x122)][_0x1bc75f(0x13d)](Math[_0x1bc75f(0x18d)](_0x17d64c,_0xd7ae7d));return _0x410a0d+=_0x410a0d<0x0?0x168:0x0,_0x410a0d;}var WindUtil={'__proto__':null,'getU':getU,'getV':getV,'getSpeed':getSpeed,'getDirection':getDirection};function ownKeys(_0x49f0b7,_0x38049c){var _0x56d6ad=_0x33d41b,_0x5a8487=Object[_0x56d6ad(0x1ee)](_0x49f0b7);if(Object[_0x56d6ad(0x1a1)]){var _0x2a1306=Object[_0x56d6ad(0x1a1)](_0x49f0b7);_0x38049c&&(_0x2a1306=_0x2a1306['filter'](function(_0x5a7b85){var _0x23d422=_0x56d6ad;return Object[_0x23d422(0x1eb)](_0x49f0b7,_0x5a7b85)[_0x23d422(0x18f)];})),_0x5a8487['push'][_0x56d6ad(0x200)](_0x5a8487,_0x2a1306);}return _0x5a8487;}function _objectSpread2(_0x55bf56){var _0x2dcb9f=_0x33d41b;for(var _0x29631e=0x1;_0x29631e<arguments[_0x2dcb9f(0x19b)];_0x29631e++){var _0x367567=null!=arguments[_0x29631e]?arguments[_0x29631e]:{};_0x29631e%0x2?ownKeys(Object(_0x367567),!0x0)[_0x2dcb9f(0x203)](function(_0xe2f0fa){_defineProperty(_0x55bf56,_0xe2f0fa,_0x367567[_0xe2f0fa]);}):Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x55bf56,Object['getOwnPropertyDescriptors'](_0x367567)):ownKeys(Object(_0x367567))[_0x2dcb9f(0x203)](function(_0x333228){var _0x2d46c2=_0x2dcb9f;Object[_0x2d46c2(0x237)](_0x55bf56,_0x333228,Object[_0x2d46c2(0x1eb)](_0x367567,_0x333228));});}return _0x55bf56;}function _classCallCheck(_0x1e56df,_0x5c25b3){var _0x40ea1c=_0x33d41b;if(!(_0x1e56df instanceof _0x5c25b3))throw new TypeError(_0x40ea1c(0x134));}function _defineProperties(_0x2fd790,_0x2f5092){var _0x51fe34=_0x33d41b;for(var _0xcd5290=0x0;_0xcd5290<_0x2f5092[_0x51fe34(0x19b)];_0xcd5290++){var _0x4a8bc1=_0x2f5092[_0xcd5290];_0x4a8bc1['enumerable']=_0x4a8bc1[_0x51fe34(0x18f)]||![],_0x4a8bc1[_0x51fe34(0x246)]=!![];if('value'in _0x4a8bc1)_0x4a8bc1[_0x51fe34(0x10e)]=!![];Object[_0x51fe34(0x237)](_0x2fd790,_0x4a8bc1[_0x51fe34(0x1fc)],_0x4a8bc1);}}function _createClass(_0x559eb7,_0x4974e8,_0x323551){var _0x4152b1=_0x33d41b;if(_0x4974e8)_defineProperties(_0x559eb7[_0x4152b1(0x150)],_0x4974e8);if(_0x323551)_defineProperties(_0x559eb7,_0x323551);return Object[_0x4152b1(0x237)](_0x559eb7,_0x4152b1(0x150),{'writable':![]}),_0x559eb7;}function _defineProperty(_0x27b907,_0xb112dd,_0x4b0c53){var _0x4cc81e=_0x33d41b;return _0xb112dd in _0x27b907?Object[_0x4cc81e(0x237)](_0x27b907,_0xb112dd,{'value':_0x4b0c53,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x27b907[_0xb112dd]=_0x4b0c53,_0x27b907;}function _inherits(_0x25dade,_0x2b5ad0){var _0x13224d=_0x33d41b;if(typeof _0x2b5ad0!==_0x13224d(0x216)&&_0x2b5ad0!==null)throw new TypeError(_0x13224d(0x232));_0x25dade[_0x13224d(0x150)]=Object[_0x13224d(0x1f9)](_0x2b5ad0&&_0x2b5ad0[_0x13224d(0x150)],{'constructor':{'value':_0x25dade,'writable':!![],'configurable':!![]}}),Object[_0x13224d(0x237)](_0x25dade,_0x13224d(0x150),{'writable':![]});if(_0x2b5ad0)_setPrototypeOf(_0x25dade,_0x2b5ad0);}function _getPrototypeOf(_0x583c25){var _0x637193=_0x33d41b;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x637193(0x25e)]['bind']():function _0x52d3aa(_0x2fbd65){var _0x2d7d7b=_0x637193;return _0x2fbd65[_0x2d7d7b(0x1e0)]||Object[_0x2d7d7b(0x25e)](_0x2fbd65);},_getPrototypeOf(_0x583c25);}function _setPrototypeOf(_0x285f36,_0x4ea3cc){var _0x388144=_0x33d41b;return _setPrototypeOf=Object[_0x388144(0x26a)]?Object[_0x388144(0x26a)][_0x388144(0x265)]():function _0x5b4cb2(_0x9436b,_0xb62285){var _0x1fea88=_0x388144;return _0x9436b[_0x1fea88(0x1e0)]=_0xb62285,_0x9436b;},_setPrototypeOf(_0x285f36,_0x4ea3cc);}function _isNativeReflectConstruct(){var _0x253e0b=_0x33d41b;if(typeof Reflect==='undefined'||!Reflect[_0x253e0b(0x1c9)])return![];if(Reflect[_0x253e0b(0x1c9)]['sham'])return![];if(typeof Proxy===_0x253e0b(0x216))return!![];try{return Boolean[_0x253e0b(0x150)][_0x253e0b(0x255)]['call'](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x3aef83){return![];}}function _assertThisInitialized(_0x1c1ab0){var _0x163ff4=_0x33d41b;if(_0x1c1ab0===void 0x0)throw new ReferenceError(_0x163ff4(0x184));return _0x1c1ab0;}function _possibleConstructorReturn(_0x2a5be7,_0x2c0ced){var _0x3f4246=_0x33d41b;if(_0x2c0ced&&(typeof _0x2c0ced===_0x3f4246(0x191)||typeof _0x2c0ced===_0x3f4246(0x216)))return _0x2c0ced;else{if(_0x2c0ced!==void 0x0)throw new TypeError(_0x3f4246(0x16e));}return _assertThisInitialized(_0x2a5be7);}function _createSuper(_0x502019){var _0x562384=_isNativeReflectConstruct();return function _0x76f857(){var _0x354c2d=_0x4190,_0x241ca3=_getPrototypeOf(_0x502019),_0x2f463d;if(_0x562384){var _0x1394b5=_getPrototypeOf(this)[_0x354c2d(0x1d7)];_0x2f463d=Reflect[_0x354c2d(0x1c9)](_0x241ca3,arguments,_0x1394b5);}else _0x2f463d=_0x241ca3[_0x354c2d(0x200)](this,arguments);return _possibleConstructorReturn(this,_0x2f463d);};}function _toConsumableArray(_0x120591){return _arrayWithoutHoles(_0x120591)||_iterableToArray(_0x120591)||_unsupportedIterableToArray(_0x120591)||_nonIterableSpread();}function _arrayWithoutHoles(_0x5e9540){if(Array['isArray'](_0x5e9540))return _arrayLikeToArray(_0x5e9540);}function _iterableToArray(_0x14165f){var _0x594d7e=_0x33d41b;if(typeof Symbol!=='undefined'&&_0x14165f[Symbol[_0x594d7e(0x1ab)]]!=null||_0x14165f[_0x594d7e(0x1fb)]!=null)return Array['from'](_0x14165f);}function _unsupportedIterableToArray(_0x26ca35,_0xf39997){var _0x370e0a=_0x33d41b;if(!_0x26ca35)return;if(typeof _0x26ca35===_0x370e0a(0x26f))return _arrayLikeToArray(_0x26ca35,_0xf39997);var _0x4699c3=Object['prototype'][_0x370e0a(0x127)][_0x370e0a(0x257)](_0x26ca35)[_0x370e0a(0x101)](0x8,-0x1);if(_0x4699c3===_0x370e0a(0x192)&&_0x26ca35[_0x370e0a(0x1d7)])_0x4699c3=_0x26ca35[_0x370e0a(0x1d7)][_0x370e0a(0x123)];if(_0x4699c3==='Map'||_0x4699c3==='Set')return Array[_0x370e0a(0x113)](_0x26ca35);if(_0x4699c3==='Arguments'||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/['test'](_0x4699c3))return _arrayLikeToArray(_0x26ca35,_0xf39997);}function _arrayLikeToArray(_0x3b0471,_0x1f3733){var _0x4484e9=_0x33d41b;if(_0x1f3733==null||_0x1f3733>_0x3b0471[_0x4484e9(0x19b)])_0x1f3733=_0x3b0471[_0x4484e9(0x19b)];for(var _0x5a81fb=0x0,_0x2e3889=new Array(_0x1f3733);_0x5a81fb<_0x1f3733;_0x5a81fb++)_0x2e3889[_0x5a81fb]=_0x3b0471[_0x5a81fb];return _0x2e3889;}function _nonIterableSpread(){var _0x191366=_0x33d41b;throw new TypeError(_0x191366(0x1aa));}var Cesium$6=mars3d__namespace['Cesium'],CustomPrimitive=(function(){var _0x285c10=_0x33d41b;function _0x1c2397(_0x1c7a94){var _0x383358=_0x4190,_0x27f6c4;_classCallCheck(this,_0x1c2397),this[_0x383358(0x1a4)]=_0x1c7a94[_0x383358(0x1a4)],this[_0x383358(0x236)]=_0x1c7a94[_0x383358(0x236)],this[_0x383358(0x25b)]=_0x1c7a94[_0x383358(0x25b)],this[_0x383358(0xf0)]=_0x1c7a94[_0x383358(0xf0)],this['uniformMap']=_0x1c7a94[_0x383358(0x1be)],this['vertexShaderSource']=_0x1c7a94[_0x383358(0x197)],this[_0x383358(0x224)]=_0x1c7a94[_0x383358(0x224)],this[_0x383358(0x21e)]=_0x1c7a94[_0x383358(0x21e)],this[_0x383358(0x131)]=_0x1c7a94[_0x383358(0x131)],this[_0x383358(0x1c4)]=_0x1c7a94[_0x383358(0x1c4)],this[_0x383358(0x138)]=(_0x27f6c4=_0x1c7a94[_0x383358(0x138)])!==null&&_0x27f6c4!==void 0x0?_0x27f6c4:![],this[_0x383358(0x1a0)]=_0x1c7a94[_0x383358(0x1a0)],this[_0x383358(0x1b3)]=!![],this[_0x383358(0x12a)]=undefined,this[_0x383358(0x152)]=undefined,this[_0x383358(0x138)]&&(this[_0x383358(0x152)]=new Cesium$6[(_0x383358(0x1d9))]({'color':new Cesium$6[(_0x383358(0x185))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x383358(0x131)],'pass':Cesium$6[_0x383358(0x194)][_0x383358(0x115)]}));}return _createClass(_0x1c2397,[{'key':_0x285c10(0xfd),'value':function _0x27cd03(_0x19cc59){var _0x4ac54d=_0x285c10;switch(this[_0x4ac54d(0x1a4)]){case'Draw':{var _0x39f84c=Cesium$6['VertexArray'][_0x4ac54d(0xf8)]({'context':_0x19cc59,'geometry':this[_0x4ac54d(0x236)],'attributeLocations':this[_0x4ac54d(0x25b)],'bufferUsage':Cesium$6[_0x4ac54d(0x13c)][_0x4ac54d(0x20b)]}),_0x385ca0=Cesium$6['ShaderProgram']['fromCache']({'context':_0x19cc59,'attributeLocations':this[_0x4ac54d(0x25b)],'vertexShaderSource':this[_0x4ac54d(0x197)],'fragmentShaderSource':this['fragmentShaderSource']}),_0x1e2720=Cesium$6[_0x4ac54d(0x1d5)][_0x4ac54d(0x1dd)](this['rawRenderState']);return new Cesium$6[(_0x4ac54d(0x10a))]({'primitiveType':this[_0x4ac54d(0xf0)],'shaderProgram':_0x385ca0,'vertexArray':_0x39f84c,'modelMatrix':Cesium$6[_0x4ac54d(0x1da)][_0x4ac54d(0x1b4)],'renderState':_0x1e2720,'uniformMap':this[_0x4ac54d(0x1be)],'castShadows':![],'receiveShadows':![],'framebuffer':this[_0x4ac54d(0x131)],'pass':Cesium$6[_0x4ac54d(0x194)][_0x4ac54d(0x115)],'pickOnly':!![],'owner':this});}case'Compute':{return new Cesium$6[(_0x4ac54d(0x181))]({'owner':this,'fragmentShaderSource':this['fragmentShaderSource'],'uniformMap':this[_0x4ac54d(0x1be)],'outputTexture':this['outputTexture'],'persists':!![]});}}}},{'key':_0x285c10(0x1cc),'value':function _0x535591(_0x3cbc38,_0x29ed77){var _0x53b91f=_0x285c10;this[_0x53b91f(0x236)]=_0x29ed77;var _0x54b37c=Cesium$6[_0x53b91f(0x146)]['fromGeometry']({'context':_0x3cbc38,'geometry':this['geometry'],'attributeLocations':this[_0x53b91f(0x25b)],'bufferUsage':Cesium$6[_0x53b91f(0x13c)][_0x53b91f(0x20b)]});this[_0x53b91f(0x12a)][_0x53b91f(0x249)]=_0x54b37c;}},{'key':_0x285c10(0x1ea),'value':function _0x5cdfcc(_0x3139f6){var _0x3a3fbb=_0x285c10;if(!this[_0x3a3fbb(0x1b3)])return;if(_0x3139f6[_0x3a3fbb(0x1cf)]!==Cesium$6[_0x3a3fbb(0x1fd)][_0x3a3fbb(0x23f)])return;!Cesium$6[_0x3a3fbb(0x22b)](this['commandToExecute'])&&(this[_0x3a3fbb(0x12a)]=this['createCommand'](_0x3139f6[_0x3a3fbb(0x1f3)])),Cesium$6['defined'](this['preExecute'])&&this[_0x3a3fbb(0x1a0)](),Cesium$6[_0x3a3fbb(0x22b)](this[_0x3a3fbb(0x152)])&&_0x3139f6[_0x3a3fbb(0x21d)]['push'](this[_0x3a3fbb(0x152)]),_0x3139f6[_0x3a3fbb(0x21d)]['push'](this['commandToExecute']);}},{'key':_0x285c10(0x12d),'value':function _0x5b1374(){return![];}},{'key':_0x285c10(0x215),'value':function _0xec04a8(){var _0x3c3d60=_0x285c10;if(this[_0x3c3d60(0x152)]){var _0x359c97,_0x5f5165;(_0x359c97=this['clearCommand'])!==null&&_0x359c97!==void 0x0&&_0x359c97[_0x3c3d60(0x249)]&&this[_0x3c3d60(0x152)][_0x3c3d60(0x249)][_0x3c3d60(0x215)](),(_0x5f5165=this[_0x3c3d60(0x152)])!==null&&_0x5f5165!==void 0x0&&_0x5f5165['shaderProgram']&&this[_0x3c3d60(0x152)][_0x3c3d60(0x221)][_0x3c3d60(0x215)](),delete this[_0x3c3d60(0x152)];}return this['commandToExecute']&&(this[_0x3c3d60(0x12a)][_0x3c3d60(0x249)]&&this[_0x3c3d60(0x12a)][_0x3c3d60(0x249)][_0x3c3d60(0x215)](),this[_0x3c3d60(0x12a)]['shaderProgram']&&this[_0x3c3d60(0x12a)][_0x3c3d60(0x221)]['destroy'](),delete this[_0x3c3d60(0x12a)]),Cesium$6['destroyObject'](this);}}]),_0x1c2397;}()),Cesium$5=mars3d__namespace[_0x33d41b(0x256)],Util=(function(){var _0x44b631=function _0x351e56(){var _0x414c04=_0x4190,_0x4715b6=new Cesium$5['Geometry']({'attributes':new Cesium$5[(_0x414c04(0x262))]({'position':new Cesium$5[(_0x414c04(0x1d6))]({'componentDatatype':Cesium$5[_0x414c04(0x268)][_0x414c04(0x1e4)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5[(_0x414c04(0x1d6))]({'componentDatatype':Cesium$5[_0x414c04(0x268)][_0x414c04(0x1e4)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});return _0x4715b6;},_0x3fb60e=function _0x4db2cf(_0x367ff3,_0x1d4c22){var _0x4c191b=_0x4190;if(Cesium$5[_0x4c191b(0x22b)](_0x1d4c22)){var _0x5dd1b0={};_0x5dd1b0['arrayBufferView']=_0x1d4c22,_0x367ff3[_0x4c191b(0x217)]=_0x5dd1b0;}var _0x2658b1=new Cesium$5[(_0x4c191b(0x136))](_0x367ff3);return _0x2658b1;},_0x1a0aaf=function _0x36af69(_0x2d0fda,_0x55690d,_0x2d759c){var _0x467902=_0x4190,_0x179ff3=new Cesium$5[(_0x467902(0x226))]({'context':_0x2d0fda,'colorTextures':[_0x55690d],'depthTexture':_0x2d759c});return _0x179ff3;},_0x51662e=function _0x42639d(_0xcd2043){var _0x4f9f06=_0x4190,_0x1a0d39=!![],_0x500a7a=![],_0x5ca8ee={'viewport':_0xcd2043[_0x4f9f06(0x159)],'depthTest':_0xcd2043[_0x4f9f06(0x1a8)],'depthMask':_0xcd2043['depthMask'],'blending':_0xcd2043[_0x4f9f06(0x1ed)]},_0x44ec8e=Cesium$5['Appearance']['getDefaultRenderState'](_0x1a0d39,_0x500a7a,_0x5ca8ee);return _0x44ec8e;},_0x3c8578=function _0xe0eb1b(_0x26c10a){var _0x4e0ecd=_0x4190,_0x359b34={},_0x706f95=Cesium$5[_0x4e0ecd(0x122)][_0x4e0ecd(0x198)](_0x26c10a[_0x4e0ecd(0x1e1)],Cesium$5[_0x4e0ecd(0x122)][_0x4e0ecd(0x1b7)]),_0x51fd7c=Cesium$5['Math']['mod'](_0x26c10a[_0x4e0ecd(0x24a)],Cesium$5[_0x4e0ecd(0x122)]['TWO_PI']),_0x4f654f=_0x26c10a[_0x4e0ecd(0x19a)],_0x4c6cd6,_0x6114b2;_0x4f654f>Cesium$5['Math'][_0x4e0ecd(0x17d)]?(_0x4c6cd6=0x0,_0x6114b2=Cesium$5[_0x4e0ecd(0x122)][_0x4e0ecd(0x1b7)]):_0x51fd7c-_0x706f95<_0x4f654f?(_0x4c6cd6=_0x706f95,_0x6114b2=_0x706f95+_0x4f654f):(_0x4c6cd6=_0x706f95,_0x6114b2=_0x51fd7c);_0x359b34[_0x4e0ecd(0x11f)]={'min':Cesium$5[_0x4e0ecd(0x122)]['toDegrees'](_0x4c6cd6),'max':Cesium$5[_0x4e0ecd(0x122)]['toDegrees'](_0x6114b2)};var _0xeffe64=_0x26c10a['south'],_0x4ef1e6=_0x26c10a[_0x4e0ecd(0x1f6)],_0x44a33a=_0x26c10a['height'],_0x30841b=_0x44a33a>Cesium$5[_0x4e0ecd(0x122)]['PI']/0xc?_0x44a33a/0x2:0x0,_0x4322ba=Cesium$5['Math'][_0x4e0ecd(0x10b)](_0xeffe64-_0x30841b),_0x5f5a7e=Cesium$5[_0x4e0ecd(0x122)]['clampToLatitudeRange'](_0x4ef1e6+_0x30841b);return _0x4322ba<-Cesium$5[_0x4e0ecd(0x122)]['PI_OVER_THREE']&&(_0x4322ba=-Cesium$5[_0x4e0ecd(0x122)]['PI_OVER_TWO']),_0x5f5a7e>Cesium$5[_0x4e0ecd(0x122)][_0x4e0ecd(0x171)]&&(_0x5f5a7e=Cesium$5[_0x4e0ecd(0x122)]['PI_OVER_TWO']),_0x359b34[_0x4e0ecd(0x107)]={'min':Cesium$5[_0x4e0ecd(0x122)]['toDegrees'](_0x4322ba),'max':Cesium$5['Math'][_0x4e0ecd(0x13d)](_0x5f5a7e)},_0x359b34;};return{'getFullscreenQuad':_0x44b631,'createTexture':_0x3fb60e,'createFramebuffer':_0x1a0aaf,'createRawRenderState':_0x51662e,'viewRectangleToLonLatRange':_0x3c8578};}()),segmentDraw_vert='attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}',segmentDraw_frag=_0x33d41b(0x206),fullscreen_vert=_0x33d41b(0x177),trailDraw_frag=_0x33d41b(0x1bc),screenDraw_frag=_0x33d41b(0x14d),Cesium$4=mars3d__namespace['Cesium'],ParticlesRendering=(function(){var _0x3a00e3=_0x33d41b;function _0x4be3ed(_0x6490f6,_0x167cab,_0x376bb1,_0x103992,_0x2a642a){var _0x3a48e4=_0x4190;_classCallCheck(this,_0x4be3ed),this[_0x3a48e4(0x1b6)](_0x6490f6,_0x167cab,_0x376bb1[_0x3a48e4(0x11c)]),this[_0x3a48e4(0x103)](_0x6490f6),this[_0x3a48e4(0x196)](_0x6490f6,_0x376bb1,_0x103992,_0x2a642a);}return _createClass(_0x4be3ed,[{'key':_0x3a00e3(0x1b6),'value':function _0x2a4508(_0x5e4bbc,_0x3e6984,_0x2297d3){var _0x5b4b57=_0x3a00e3,_0x33a6a2={'context':_0x5e4bbc,'width':_0x5e4bbc[_0x5b4b57(0x1f7)],'height':_0x5e4bbc[_0x5b4b57(0x1f5)],'pixelFormat':Cesium$4[_0x5b4b57(0x1e2)][_0x5b4b57(0x116)],'pixelDatatype':Cesium$4[_0x5b4b57(0x24c)]['UNSIGNED_BYTE']},_0x467ea0={'context':_0x5e4bbc,'width':_0x5e4bbc[_0x5b4b57(0x1f7)],'height':_0x5e4bbc[_0x5b4b57(0x1f5)],'pixelFormat':Cesium$4[_0x5b4b57(0x1e2)][_0x5b4b57(0x1db)],'pixelDatatype':Cesium$4['PixelDatatype'][_0x5b4b57(0x248)]},_0x5dc279=_0x2297d3[_0x5b4b57(0x19b)],_0x4fa9e8=new Float32Array(_0x5dc279*0x3);for(var _0x5b6fcd=0x0;_0x5b6fcd<_0x5dc279;_0x5b6fcd++){var _0x37740a=Cesium$4[_0x5b4b57(0x185)]['fromCssColorString'](_0x2297d3[_0x5b6fcd]);_0x4fa9e8[0x3*_0x5b6fcd]=_0x37740a[_0x5b4b57(0x1a9)],_0x4fa9e8[0x3*_0x5b6fcd+0x1]=_0x37740a[_0x5b4b57(0xee)],_0x4fa9e8[0x3*_0x5b6fcd+0x2]=_0x37740a[_0x5b4b57(0x266)];}var _0x4bef15={'context':_0x5e4bbc,'width':_0x5dc279,'height':0x1,'pixelFormat':Cesium$4[_0x5b4b57(0x1e2)][_0x5b4b57(0x25d)],'pixelDatatype':Cesium$4[_0x5b4b57(0x24c)][_0x5b4b57(0x1e4)],'sampler':new Cesium$4['Sampler']({'minificationFilter':Cesium$4[_0x5b4b57(0xfb)][_0x5b4b57(0x11b)],'magnificationFilter':Cesium$4[_0x5b4b57(0x22d)][_0x5b4b57(0x11b)]})};this[_0x5b4b57(0x1c6)]={'segmentsColor':Util[_0x5b4b57(0x1f8)](_0x33a6a2),'segmentsDepth':Util[_0x5b4b57(0x1f8)](_0x467ea0),'currentTrailsColor':Util[_0x5b4b57(0x1f8)](_0x33a6a2),'currentTrailsDepth':Util[_0x5b4b57(0x1f8)](_0x467ea0),'nextTrailsColor':Util[_0x5b4b57(0x1f8)](_0x33a6a2),'nextTrailsDepth':Util['createTexture'](_0x467ea0),'colorTable':Util[_0x5b4b57(0x1f8)](_0x4bef15,_0x4fa9e8)};}},{'key':_0x3a00e3(0x103),'value':function _0x3b41a2(_0x15dde3){var _0x3196c1=_0x3a00e3;this[_0x3196c1(0x1e5)]={'segments':Util[_0x3196c1(0x139)](_0x15dde3,this[_0x3196c1(0x1c6)][_0x3196c1(0x1f2)],this[_0x3196c1(0x1c6)][_0x3196c1(0x225)]),'currentTrails':Util[_0x3196c1(0x139)](_0x15dde3,this[_0x3196c1(0x1c6)][_0x3196c1(0x17c)],this[_0x3196c1(0x1c6)][_0x3196c1(0x252)]),'nextTrails':Util['createFramebuffer'](_0x15dde3,this[_0x3196c1(0x1c6)][_0x3196c1(0x199)],this[_0x3196c1(0x1c6)][_0x3196c1(0x14b)])};}},{'key':_0x3a00e3(0x245),'value':function _0x4a9d38(_0xaba3a){var _0x1ad204=_0x3a00e3,_0x488059=0x4,_0x40b4e2=[];for(var _0x4e0219=0x0;_0x4e0219<_0xaba3a['particlesTextureSize'];_0x4e0219++){for(var _0x300d98=0x0;_0x300d98<_0xaba3a['particlesTextureSize'];_0x300d98++){for(var _0x4e063c=0x0;_0x4e063c<_0x488059;_0x4e063c++){_0x40b4e2[_0x1ad204(0x129)](_0x4e0219/_0xaba3a[_0x1ad204(0x19d)]),_0x40b4e2[_0x1ad204(0x129)](_0x300d98/_0xaba3a[_0x1ad204(0x19d)]);}}}_0x40b4e2=new Float32Array(_0x40b4e2);var _0x4fccff=[],_0x570cbb=[-0x1,0x1],_0x1a3c3b=[-0x1,0x1];for(var _0x4c441c=0x0;_0x4c441c<_0xaba3a[_0x1ad204(0x1ff)];_0x4c441c++){for(var _0x2f0aed=0x0;_0x2f0aed<_0x488059/0x2;_0x2f0aed++){for(var _0x2da9aa=0x0;_0x2da9aa<_0x488059/0x2;_0x2da9aa++){_0x4fccff['push'](_0x570cbb[_0x2f0aed]),_0x4fccff[_0x1ad204(0x129)](_0x1a3c3b[_0x2da9aa]),_0x4fccff[_0x1ad204(0x129)](0x0);}}}_0x4fccff=new Float32Array(_0x4fccff);var _0x180388=0x6*_0xaba3a[_0x1ad204(0x1ff)],_0x4d249d=new Uint32Array(_0x180388);for(var _0x408277=0x0,_0xff77c5=0x0,_0x58876e=0x0;_0x408277<_0xaba3a[_0x1ad204(0x1ff)];_0x408277++){_0x4d249d[_0xff77c5++]=_0x58876e+0x0,_0x4d249d[_0xff77c5++]=_0x58876e+0x1,_0x4d249d[_0xff77c5++]=_0x58876e+0x2,_0x4d249d[_0xff77c5++]=_0x58876e+0x2,_0x4d249d[_0xff77c5++]=_0x58876e+0x1,_0x4d249d[_0xff77c5++]=_0x58876e+0x3,_0x58876e+=0x4;}var _0x5ab8c0=new Cesium$4[(_0x1ad204(0x227))]({'attributes':new Cesium$4[(_0x1ad204(0x262))]({'st':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4[_0x1ad204(0x268)]['FLOAT'],'componentsPerAttribute':0x2,'values':_0x40b4e2}),'normal':new Cesium$4[(_0x1ad204(0x1d6))]({'componentDatatype':Cesium$4['ComponentDatatype'][_0x1ad204(0x1e4)],'componentsPerAttribute':0x3,'values':_0x4fccff})}),'indices':_0x4d249d});return _0x5ab8c0;}},{'key':_0x3a00e3(0x196),'value':function _0x1ce931(_0x272f73,_0x38df68,_0x57e3b3,_0x34e469){var _0x304f63=_0x3a00e3,_0x41aeff=this;this[_0x304f63(0x1d2)]={'segments':new CustomPrimitive({'commandType':_0x304f63(0x1c2),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x304f63(0x245)](_0x38df68),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'currentParticlesPosition':function _0x245e37(){var _0x5dfef0=_0x304f63;return _0x34e469[_0x5dfef0(0x157)][_0x5dfef0(0x11e)];},'postProcessingPosition':function _0x5123eb(){var _0x310d1d=_0x304f63;return _0x34e469[_0x310d1d(0x157)][_0x310d1d(0x205)];},'postProcessingSpeed':function _0x75b853(){var _0x22ab59=_0x304f63;return _0x34e469[_0x22ab59(0x157)][_0x22ab59(0x1e6)];},'colorTable':function _0x2b65bc(){var _0x319aae=_0x304f63;return _0x41aeff['textures'][_0x319aae(0x1a2)];},'aspect':function _0x1aee78(){var _0x14c3ec=_0x304f63;return _0x272f73['drawingBufferWidth']/_0x272f73[_0x14c3ec(0x1f5)];},'pixelSize':function _0x1df380(){var _0xb1f963=_0x304f63;return _0x57e3b3[_0xb1f963(0x1bb)];},'lineWidth':function _0x557959(){var _0xeb5f30=_0x304f63;return _0x38df68[_0xeb5f30(0x149)];},'particleHeight':function _0x2e9ba0(){var _0x3b8f4a=_0x304f63;return _0x38df68[_0x3b8f4a(0x105)];}},'vertexShaderSource':new Cesium$4[(_0x304f63(0x151))]({'sources':[segmentDraw_vert]}),'fragmentShaderSource':new Cesium$4['ShaderSource']({'sources':[segmentDraw_frag]}),'rawRenderState':Util[_0x304f63(0x1fa)]({'viewport':undefined,'depthTest':{'enabled':!![]},'depthMask':!![]}),'framebuffer':this[_0x304f63(0x1e5)]['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':_0x304f63(0x1c2),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util[_0x304f63(0x1d0)](),'primitiveType':Cesium$4[_0x304f63(0x1b0)]['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function _0x48953b(){var _0x37c3b4=_0x304f63;return _0x41aeff[_0x37c3b4(0x1c6)][_0x37c3b4(0x1f2)];},'segmentsDepthTexture':function _0x44d40d(){var _0x547b7d=_0x304f63;return _0x41aeff[_0x547b7d(0x1c6)]['segmentsDepth'];},'currentTrailsColor':function _0x5da345(){var _0x267532=_0x304f63;return _0x41aeff[_0x267532(0x1e5)][_0x267532(0x106)][_0x267532(0x1ce)](0x0);},'trailsDepthTexture':function _0x3dc66d(){var _0x5ee7ae=_0x304f63;return _0x41aeff[_0x5ee7ae(0x1e5)]['currentTrails'][_0x5ee7ae(0x241)];},'fadeOpacity':function _0x1a4906(){return _0x38df68['fadeOpacity'];}},'vertexShaderSource':new Cesium$4[(_0x304f63(0x151))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4['ShaderSource']({'defines':[_0x304f63(0x244)],'sources':[trailDraw_frag]}),'rawRenderState':Util[_0x304f63(0x1fa)]({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4[_0x304f63(0x223)][_0x304f63(0x23d)]},'depthMask':!![]}),'framebuffer':this['framebuffers'][_0x304f63(0x260)],'autoClear':!![],'preExecute':function _0x128012(){var _0x3b40ce=_0x304f63,_0x16196b=_0x41aeff[_0x3b40ce(0x1e5)][_0x3b40ce(0x106)];_0x41aeff['framebuffers'][_0x3b40ce(0x106)]=_0x41aeff[_0x3b40ce(0x1e5)][_0x3b40ce(0x260)],_0x41aeff['framebuffers'][_0x3b40ce(0x260)]=_0x16196b,_0x41aeff[_0x3b40ce(0x1d2)]['trails'][_0x3b40ce(0x12a)][_0x3b40ce(0x131)]=_0x41aeff[_0x3b40ce(0x1e5)]['nextTrails'],_0x41aeff[_0x3b40ce(0x1d2)][_0x3b40ce(0x25c)]['clearCommand'][_0x3b40ce(0x131)]=_0x41aeff[_0x3b40ce(0x1e5)][_0x3b40ce(0x260)];}}),'screen':new CustomPrimitive({'commandType':_0x304f63(0x1c2),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util[_0x304f63(0x1d0)](),'primitiveType':Cesium$4[_0x304f63(0x1b0)][_0x304f63(0x137)],'uniformMap':{'trailsColorTexture':function _0x35af56(){var _0x57ea04=_0x304f63;return _0x41aeff[_0x57ea04(0x1e5)][_0x57ea04(0x260)][_0x57ea04(0x1ce)](0x0);},'trailsDepthTexture':function _0x2be4f7(){var _0x16ae79=_0x304f63;return _0x41aeff[_0x16ae79(0x1e5)][_0x16ae79(0x260)][_0x16ae79(0x241)];}},'vertexShaderSource':new Cesium$4[(_0x304f63(0x151))]({'defines':[_0x304f63(0x16b)],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4[(_0x304f63(0x151))]({'defines':[_0x304f63(0x244)],'sources':[screenDraw_frag]}),'rawRenderState':Util[_0x304f63(0x1fa)]({'viewport':undefined,'depthTest':{'enabled':![]},'depthMask':!![],'blending':{'enabled':!![]}}),'framebuffer':undefined})};}}]),_0x4be3ed;}()),getWind_frag=_0x33d41b(0x212),updateSpeed_frag=_0x33d41b(0x247),updatePosition_frag='uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}',postProcessingPosition_frag=_0x33d41b(0xf9),postProcessingSpeed_frag=_0x33d41b(0x21f),Cesium$3=mars3d__namespace['Cesium'],ParticlesComputing=(function(){var _0x337474=_0x33d41b;function _0x1cfaa4(_0x5bc2d5,_0x42af10,_0x3c6c7d,_0x569746){var _0x2f9d69=_0x4190;_classCallCheck(this,_0x1cfaa4),this[_0x2f9d69(0x144)]=_0x42af10,this[_0x2f9d69(0x10f)](_0x5bc2d5,_0x42af10),this['createParticlesTextures'](_0x5bc2d5,_0x3c6c7d,_0x569746),this[_0x2f9d69(0x19f)](_0x42af10,_0x3c6c7d,_0x569746);}return _createClass(_0x1cfaa4,[{'key':'createWindTextures','value':function _0x37b277(_0x3c16c3,_0x1dcacb){var _0xe52b38=_0x4190,_0x320c98={'context':_0x3c16c3,'width':_0x1dcacb[_0xe52b38(0x230)][_0xe52b38(0x11f)],'height':_0x1dcacb['dimensions'][_0xe52b38(0x107)]*(_0x1dcacb[_0xe52b38(0x230)][_0xe52b38(0x15e)]||0x1),'pixelFormat':Cesium$3[_0xe52b38(0x1e2)][_0xe52b38(0x141)],'pixelDatatype':Cesium$3[_0xe52b38(0x24c)][_0xe52b38(0x1e4)],'flipY':![],'sampler':new Cesium$3[(_0xe52b38(0x218))]({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3[_0xe52b38(0x22d)][_0xe52b38(0x208)]})};this[_0xe52b38(0xf4)]={'U':Util[_0xe52b38(0x1f8)](_0x320c98,_0x1dcacb['U'][_0xe52b38(0x202)]),'V':Util[_0xe52b38(0x1f8)](_0x320c98,_0x1dcacb['V'][_0xe52b38(0x202)])};}},{'key':_0x337474(0x186),'value':function _0x5955b6(_0x2f4331,_0x1f2b18,_0x498030){var _0x17383f=_0x337474,_0x22ff2d={'context':_0x2f4331,'width':_0x1f2b18['particlesTextureSize'],'height':_0x1f2b18[_0x17383f(0x19d)],'pixelFormat':Cesium$3[_0x17383f(0x1e2)][_0x17383f(0x116)],'pixelDatatype':Cesium$3[_0x17383f(0x24c)][_0x17383f(0x1e4)],'flipY':![],'sampler':new Cesium$3[(_0x17383f(0x218))]({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x17383f(0x208)],'magnificationFilter':Cesium$3[_0x17383f(0x22d)]['NEAREST']})},_0x682a1d=this[_0x17383f(0x1bf)](_0x1f2b18['maxParticles'],_0x498030),_0x4f16b5=new Float32Array(0x4*_0x1f2b18[_0x17383f(0x1ff)])[_0x17383f(0x183)](0x0);this[_0x17383f(0x157)]={'particlesWind':Util['createTexture'](_0x22ff2d),'currentParticlesPosition':Util['createTexture'](_0x22ff2d,_0x682a1d),'nextParticlesPosition':Util['createTexture'](_0x22ff2d,_0x682a1d),'currentParticlesSpeed':Util['createTexture'](_0x22ff2d,_0x4f16b5),'nextParticlesSpeed':Util[_0x17383f(0x1f8)](_0x22ff2d,_0x4f16b5),'postProcessingPosition':Util[_0x17383f(0x1f8)](_0x22ff2d,_0x682a1d),'postProcessingSpeed':Util['createTexture'](_0x22ff2d,_0x4f16b5)};}},{'key':'randomizeParticles','value':function _0x194064(_0x327461,_0x85917c){var _0x388061=_0x337474,_0x229b64=new Float32Array(0x4*_0x327461);for(var _0x925ffc=0x0;_0x925ffc<_0x327461;_0x925ffc++){_0x229b64[0x4*_0x925ffc]=Cesium$3[_0x388061(0x122)]['randomBetween'](_0x85917c['lonRange']['x'],_0x85917c[_0x388061(0xf2)]['y']),_0x229b64[0x4*_0x925ffc+0x1]=Cesium$3[_0x388061(0x122)][_0x388061(0x176)](_0x85917c[_0x388061(0x24e)]['x'],_0x85917c[_0x388061(0x24e)]['y']),_0x229b64[0x4*_0x925ffc+0x2]=Cesium$3[_0x388061(0x122)][_0x388061(0x176)](this[_0x388061(0x144)][_0x388061(0x15e)][_0x388061(0x117)],this['data'][_0x388061(0x15e)][_0x388061(0x102)]),_0x229b64[0x4*_0x925ffc+0x3]=0x0;}return _0x229b64;}},{'key':'destroyParticlesTextures','value':function _0x349d0a(){var _0x58e8ed=_0x337474,_0x273c11=this;Object[_0x58e8ed(0x1ee)](this['particlesTextures'])[_0x58e8ed(0x203)](function(_0xc109d3){var _0x4512a1=_0x58e8ed;_0x273c11['particlesTextures'][_0xc109d3][_0x4512a1(0x215)]();});}},{'key':_0x337474(0x19f),'value':function _0x5d5a90(_0x284adf,_0x30f8c1,_0x26128e){var _0x282092=_0x337474,_0x1b84bb=new Cesium$3[(_0x282092(0x258))](_0x284adf[_0x282092(0x230)]['lon'],_0x284adf['dimensions'][_0x282092(0x107)],_0x284adf[_0x282092(0x230)][_0x282092(0x15e)]),_0x4f4849=new Cesium$3[(_0x282092(0x258))](_0x284adf[_0x282092(0x11f)][_0x282092(0x117)],_0x284adf[_0x282092(0x107)]['min'],_0x284adf['lev']['min']),_0x216ac0=new Cesium$3[(_0x282092(0x258))](_0x284adf['lon'][_0x282092(0x102)],_0x284adf[_0x282092(0x107)][_0x282092(0x102)],_0x284adf[_0x282092(0x15e)][_0x282092(0x102)]),_0x2efc10=new Cesium$3[(_0x282092(0x258))]((_0x216ac0['x']-_0x4f4849['x'])/(_0x1b84bb['x']-0x1),(_0x216ac0['y']-_0x4f4849['y'])/(_0x1b84bb['y']-0x1),_0x1b84bb['z']>0x1?(_0x216ac0['z']-_0x4f4849['z'])/(_0x1b84bb['z']-0x1):0x1),_0x2a2fd8=new Cesium$3['Cartesian2'](_0x284adf['U'][_0x282092(0x117)],_0x284adf['U'][_0x282092(0x102)]),_0x5e44b9=new Cesium$3[(_0x282092(0x1ec))](_0x284adf['V']['min'],_0x284adf['V'][_0x282092(0x102)]),_0x187b85=this;this[_0x282092(0x1d2)]={'getWind':new CustomPrimitive({'commandType':_0x282092(0x163),'uniformMap':{'U':function _0x57ee42(){var _0x2d4467=_0x282092;return _0x187b85[_0x2d4467(0xf4)]['U'];},'V':function _0x58b663(){var _0x9d98c3=_0x282092;return _0x187b85[_0x9d98c3(0xf4)]['V'];},'currentParticlesPosition':function _0x452dfb(){var _0x18fb88=_0x282092;return _0x187b85[_0x18fb88(0x157)]['currentParticlesPosition'];},'dimension':function _0x4a7ab1(){return _0x1b84bb;},'minimum':function _0x503e0e(){return _0x4f4849;},'maximum':function _0x2a89b6(){return _0x216ac0;},'interval':function _0x52fc7e(){return _0x2efc10;}},'fragmentShaderSource':new Cesium$3[(_0x282092(0x151))]({'sources':[getWind_frag]}),'outputTexture':this[_0x282092(0x157)][_0x282092(0x219)],'preExecute':function _0x57b142(){var _0x58cf88=_0x282092;_0x187b85['primitives'][_0x58cf88(0x25a)][_0x58cf88(0x12a)][_0x58cf88(0x1c4)]=_0x187b85['particlesTextures']['particlesWind'];}}),'updateSpeed':new CustomPrimitive({'commandType':_0x282092(0x163),'uniformMap':{'currentParticlesSpeed':function _0x9271f0(){return _0x187b85['particlesTextures']['currentParticlesSpeed'];},'particlesWind':function _0x2fff40(){var _0x3ae779=_0x282092;return _0x187b85[_0x3ae779(0x157)][_0x3ae779(0x219)];},'uSpeedRange':function _0x577a39(){return _0x2a2fd8;},'vSpeedRange':function _0x3c0a84(){return _0x5e44b9;},'pixelSize':function _0x102ed6(){var _0x238f0e=_0x282092;return _0x26128e[_0x238f0e(0x1bb)];},'speedFactor':function _0x2b44c5(){return _0x30f8c1['speedFactor'];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[updateSpeed_frag]}),'outputTexture':this[_0x282092(0x157)][_0x282092(0x21c)],'preExecute':function _0xe694a0(){var _0x37f785=_0x282092,_0x4090b4=_0x187b85['particlesTextures']['currentParticlesSpeed'];_0x187b85[_0x37f785(0x157)][_0x37f785(0x16d)]=_0x187b85[_0x37f785(0x157)][_0x37f785(0x1e6)],_0x187b85[_0x37f785(0x157)][_0x37f785(0x1e6)]=_0x4090b4,_0x187b85[_0x37f785(0x1d2)][_0x37f785(0x214)][_0x37f785(0x12a)][_0x37f785(0x1c4)]=_0x187b85['particlesTextures'][_0x37f785(0x21c)];}}),'updatePosition':new CustomPrimitive({'commandType':_0x282092(0x163),'uniformMap':{'currentParticlesPosition':function _0x211606(){var _0x3ed5d5=_0x282092;return _0x187b85[_0x3ed5d5(0x157)][_0x3ed5d5(0x11e)];},'currentParticlesSpeed':function _0x2a8b91(){return _0x187b85['particlesTextures']['currentParticlesSpeed'];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[updatePosition_frag]}),'outputTexture':this[_0x282092(0x157)][_0x282092(0x142)],'preExecute':function _0x76d94b(){var _0x2d9a14=_0x282092,_0x14ce82=_0x187b85[_0x2d9a14(0x157)][_0x2d9a14(0x11e)];_0x187b85['particlesTextures'][_0x2d9a14(0x11e)]=_0x187b85[_0x2d9a14(0x157)][_0x2d9a14(0x205)],_0x187b85[_0x2d9a14(0x157)][_0x2d9a14(0x205)]=_0x14ce82,_0x187b85[_0x2d9a14(0x1d2)]['updatePosition']['commandToExecute'][_0x2d9a14(0x1c4)]=_0x187b85[_0x2d9a14(0x157)][_0x2d9a14(0x142)];}}),'postProcessingPosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function _0x1feec1(){var _0x58b8b7=_0x282092;return _0x187b85[_0x58b8b7(0x157)][_0x58b8b7(0x142)];},'nextParticlesSpeed':function _0x53cd17(){var _0x285a30=_0x282092;return _0x187b85[_0x285a30(0x157)][_0x285a30(0x21c)];},'lonRange':function _0x39a583(){var _0x475f76=_0x282092;return _0x26128e[_0x475f76(0xf2)];},'latRange':function _0x440187(){var _0x4a90ba=_0x282092;return _0x26128e[_0x4a90ba(0x24e)];},'randomCoefficient':function _0x4a9ce5(){var _0x422fa7=_0x282092,_0x1bd9a2=Math[_0x422fa7(0x22c)]();return _0x1bd9a2;},'dropRate':function _0x3ae4e(){return _0x30f8c1['dropRate'];},'dropRateBump':function _0x2f8055(){var _0x42e2c5=_0x282092;return _0x30f8c1[_0x42e2c5(0x213)];}},'fragmentShaderSource':new Cesium$3[(_0x282092(0x151))]({'sources':[postProcessingPosition_frag]}),'outputTexture':this[_0x282092(0x157)][_0x282092(0x205)],'preExecute':function _0x199e47(){var _0x49b1a9=_0x282092;_0x187b85['primitives'][_0x49b1a9(0x205)][_0x49b1a9(0x12a)][_0x49b1a9(0x1c4)]=_0x187b85['particlesTextures'][_0x49b1a9(0x205)];}}),'postProcessingSpeed':new CustomPrimitive({'commandType':_0x282092(0x163),'uniformMap':{'postProcessingPosition':function _0x261d35(){var _0x240f2b=_0x282092;return _0x187b85[_0x240f2b(0x157)][_0x240f2b(0x205)];},'nextParticlesSpeed':function _0x304fdd(){var _0x4b0189=_0x282092;return _0x187b85[_0x4b0189(0x157)][_0x4b0189(0x21c)];}},'fragmentShaderSource':new Cesium$3[(_0x282092(0x151))]({'sources':[postProcessingSpeed_frag]}),'outputTexture':this[_0x282092(0x157)]['postProcessingSpeed'],'preExecute':function _0x2ecc1f(){var _0x297724=_0x282092;_0x187b85[_0x297724(0x1d2)][_0x297724(0x1e6)][_0x297724(0x12a)][_0x297724(0x1c4)]=_0x187b85[_0x297724(0x157)][_0x297724(0x1e6)];}})};}}]),_0x1cfaa4;}()),Cesium$2=mars3d__namespace[_0x33d41b(0x256)],ParticleSystem=(function(){var _0x5e120e=_0x33d41b;function _0x252633(_0x2dcad6,_0x568591,_0x29ac23,_0x5bd7a9){var _0x3dddd3=_0x4190;_classCallCheck(this,_0x252633),this[_0x3dddd3(0x1f3)]=_0x2dcad6,_0x568591=_objectSpread2({},_0x568591);if(_0x568591[_0x3dddd3(0x109)]&&_0x568591[_0x3dddd3(0x162)]){var _0x5af0a6,_0x13676d,_0x365764,_0x1383be,_0x59fc4a,_0x4af7a3;_0x568591[_0x3dddd3(0x230)]={},_0x568591[_0x3dddd3(0x230)][_0x3dddd3(0x11f)]=_0x568591['cols'],_0x568591[_0x3dddd3(0x230)]['lat']=_0x568591['rows'],_0x568591['dimensions'][_0x3dddd3(0x15e)]=_0x568591['lev']||0x1,_0x568591['lon']={},_0x568591['lon'][_0x3dddd3(0x117)]=_0x568591[_0x3dddd3(0x234)],_0x568591[_0x3dddd3(0x11f)][_0x3dddd3(0x102)]=_0x568591['xmax'],_0x568591['lat']={},_0x568591[_0x3dddd3(0x107)][_0x3dddd3(0x117)]=_0x568591[_0x3dddd3(0x1dc)],_0x568591[_0x3dddd3(0x107)][_0x3dddd3(0x102)]=_0x568591[_0x3dddd3(0x10c)],_0x568591[_0x3dddd3(0x15e)]={},_0x568591[_0x3dddd3(0x15e)][_0x3dddd3(0x117)]=(_0x5af0a6=_0x568591[_0x3dddd3(0x1f1)])!==null&&_0x5af0a6!==void 0x0?_0x5af0a6:0x1,_0x568591[_0x3dddd3(0x15e)][_0x3dddd3(0x102)]=(_0x13676d=_0x568591[_0x3dddd3(0x174)])!==null&&_0x13676d!==void 0x0?_0x13676d:0x1,_0x568591['U']={},_0x568591['U'][_0x3dddd3(0x202)]=new Float32Array(_0x568591['udata']),_0x568591['U']['min']=(_0x365764=_0x568591['umin'])!==null&&_0x365764!==void 0x0?_0x365764:Math[_0x3dddd3(0x117)][_0x3dddd3(0x200)](Math,_toConsumableArray(_0x568591['udata'])),_0x568591['U'][_0x3dddd3(0x102)]=(_0x1383be=_0x568591[_0x3dddd3(0x12b)])!==null&&_0x1383be!==void 0x0?_0x1383be:Math[_0x3dddd3(0x102)][_0x3dddd3(0x200)](Math,_toConsumableArray(_0x568591[_0x3dddd3(0x109)])),_0x568591['V']={},_0x568591['V'][_0x3dddd3(0x202)]=new Float32Array(_0x568591[_0x3dddd3(0x162)]),_0x568591['V']['min']=(_0x59fc4a=_0x568591[_0x3dddd3(0x1bd)])!==null&&_0x59fc4a!==void 0x0?_0x59fc4a:Math[_0x3dddd3(0x117)][_0x3dddd3(0x200)](Math,_toConsumableArray(_0x568591[_0x3dddd3(0x162)])),_0x568591['V'][_0x3dddd3(0x102)]=(_0x4af7a3=_0x568591['vmax'])!==null&&_0x4af7a3!==void 0x0?_0x4af7a3:Math['max'][_0x3dddd3(0x200)](Math,_toConsumableArray(_0x568591['vdata']));}this[_0x3dddd3(0x144)]=_0x568591,this[_0x3dddd3(0x190)]=_0x29ac23,this[_0x3dddd3(0x238)]=_0x5bd7a9,this['particlesComputing']=new ParticlesComputing(this[_0x3dddd3(0x1f3)],this[_0x3dddd3(0x144)],this[_0x3dddd3(0x190)],this[_0x3dddd3(0x238)]),this[_0x3dddd3(0x1d4)]=new ParticlesRendering(this[_0x3dddd3(0x1f3)],this[_0x3dddd3(0x144)],this[_0x3dddd3(0x190)],this['viewerParameters'],this[_0x3dddd3(0x1c1)]);}return _createClass(_0x252633,[{'key':_0x5e120e(0x21a),'value':function _0xd6da35(_0x599d9a){var _0x5f57e9=_0x5e120e,_0x1f98ed=this;this[_0x5f57e9(0x1c1)]['destroyParticlesTextures'](),Object[_0x5f57e9(0x1ee)](this['particlesComputing'][_0x5f57e9(0xf4)])['forEach'](function(_0x4ba054){var _0x462348=_0x5f57e9;_0x1f98ed[_0x462348(0x1c1)][_0x462348(0xf4)][_0x4ba054][_0x462348(0x215)]();}),this[_0x5f57e9(0x1d4)][_0x5f57e9(0x1c6)][_0x5f57e9(0x1a2)][_0x5f57e9(0x215)](),Object['keys'](this[_0x5f57e9(0x1d4)][_0x5f57e9(0x1e5)])[_0x5f57e9(0x203)](function(_0x303d99){var _0x338eed=_0x5f57e9;_0x1f98ed[_0x338eed(0x1d4)]['framebuffers'][_0x303d99][_0x338eed(0x215)]();}),this[_0x5f57e9(0x1f3)]=_0x599d9a,this[_0x5f57e9(0x1c1)]=new ParticlesComputing(this[_0x5f57e9(0x1f3)],this[_0x5f57e9(0x144)],this[_0x5f57e9(0x190)],this[_0x5f57e9(0x238)]),this[_0x5f57e9(0x1d4)]=new ParticlesRendering(this[_0x5f57e9(0x1f3)],this[_0x5f57e9(0x144)],this[_0x5f57e9(0x190)],this[_0x5f57e9(0x238)],this[_0x5f57e9(0x1c1)]);}},{'key':_0x5e120e(0x133),'value':function _0x27a1c6(){var _0x5d025c=_0x5e120e,_0x4e57c6=this,_0x18419b=new Cesium$2[(_0x5d025c(0x1d9))]({'color':new Cesium$2['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2[_0x5d025c(0x194)][_0x5d025c(0x115)]});Object[_0x5d025c(0x1ee)](this[_0x5d025c(0x1d4)][_0x5d025c(0x1e5)])[_0x5d025c(0x203)](function(_0xcd5ceb){var _0xd65ec0=_0x5d025c;_0x18419b[_0xd65ec0(0x131)]=_0x4e57c6[_0xd65ec0(0x1d4)][_0xd65ec0(0x1e5)][_0xcd5ceb],_0x18419b['execute'](_0x4e57c6[_0xd65ec0(0x1f3)]);});}},{'key':_0x5e120e(0x118),'value':function _0x2f24d3(_0x4c0c91){var _0x52abe4=_0x5e120e;this[_0x52abe4(0x133)](),this[_0x52abe4(0x1c1)][_0x52abe4(0x124)](),this['particlesComputing'][_0x52abe4(0x186)](this[_0x52abe4(0x1f3)],this['options'],this[_0x52abe4(0x238)]);if(_0x4c0c91){var _0x5eabcf=this[_0x52abe4(0x1d4)][_0x52abe4(0x245)](this[_0x52abe4(0x190)]);this[_0x52abe4(0x1d4)][_0x52abe4(0x1d2)]['segments']['geometry']=_0x5eabcf;var _0x39f9f7=Cesium$2[_0x52abe4(0x146)][_0x52abe4(0xf8)]({'context':this[_0x52abe4(0x1f3)],'geometry':_0x5eabcf,'attributeLocations':this[_0x52abe4(0x1d4)][_0x52abe4(0x1d2)]['segments'][_0x52abe4(0x25b)],'bufferUsage':Cesium$2[_0x52abe4(0x13c)][_0x52abe4(0x20b)]});this[_0x52abe4(0x1d4)]['primitives'][_0x52abe4(0x26c)][_0x52abe4(0x12a)][_0x52abe4(0x249)]=_0x39f9f7;}}},{'key':_0x5e120e(0x20c),'value':function _0x28029c(_0x379615){var _0x5544ef=_0x5e120e,_0x4a1cad=this,_0x1438de=![];this[_0x5544ef(0x190)][_0x5544ef(0x1ff)]!==_0x379615[_0x5544ef(0x1ff)]&&(_0x1438de=!![]),Object[_0x5544ef(0x1ee)](_0x379615)[_0x5544ef(0x203)](function(_0x335dec){var _0x13f0d1=_0x5544ef;_0x4a1cad[_0x13f0d1(0x190)][_0x335dec]=_0x379615[_0x335dec];}),this[_0x5544ef(0x118)](_0x1438de);}},{'key':_0x5e120e(0x1ad),'value':function _0x48e808(_0xefda60){var _0x3ff541=_0x5e120e,_0x489cc1=this;Object[_0x3ff541(0x1ee)](_0xefda60)['forEach'](function(_0x4865dc){var _0x398098=_0x3ff541;_0x489cc1[_0x398098(0x238)][_0x4865dc]=_0xefda60[_0x4865dc];}),this[_0x3ff541(0x118)](![]);}},{'key':_0x5e120e(0x215),'value':function _0x2561ed(){var _0x1a0516=_0x5e120e,_0xd4771d=this;clearTimeout(this[_0x1a0516(0x18a)]),this[_0x1a0516(0x1c1)][_0x1a0516(0x124)](),Object[_0x1a0516(0x1ee)](this['particlesComputing']['windTextures'])[_0x1a0516(0x203)](function(_0x30ec32){var _0x1e2da1=_0x1a0516;_0xd4771d['particlesComputing'][_0x1e2da1(0xf4)][_0x30ec32][_0x1e2da1(0x215)]();}),this['particlesRendering']['textures'][_0x1a0516(0x1a2)][_0x1a0516(0x215)](),Object[_0x1a0516(0x1ee)](this['particlesRendering'][_0x1a0516(0x1e5)])[_0x1a0516(0x203)](function(_0x57fcf6){var _0x32fb0c=_0x1a0516;_0xd4771d[_0x32fb0c(0x1d4)]['framebuffers'][_0x57fcf6]['destroy']();});for(var _0x47e41f in this){delete this[_0x47e41f];}}}]),_0x252633;}()),Cesium$1=mars3d__namespace[_0x33d41b(0x256)],BaseLayer$1=mars3d__namespace[_0x33d41b(0x173)][_0x33d41b(0x24f)],DEF_OPTIONS={'particlesNumber':0x1000,'fixedHeight':0x0,'fadeOpacity':0.996,'dropRate':0.003,'dropRateBump':0.01,'speedFactor':0.5,'lineWidth':0x2,'colors':[_0x33d41b(0xf1)]},WindLayer=function(_0x5f244b){var _0x21169a=_0x33d41b;_inherits(_0x4ee98b,_0x5f244b);var _0x4bc4c8=_createSuper(_0x4ee98b);function _0x4ee98b(){var _0x5b153e=_0x4190,_0x302b77,_0x483b2b=arguments[_0x5b153e(0x19b)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x4ee98b),_0x483b2b=_objectSpread2(_objectSpread2({},DEF_OPTIONS),_0x483b2b),_0x302b77=_0x4bc4c8[_0x5b153e(0x257)](this,_0x483b2b),_0x302b77[_0x5b153e(0x13e)](_0x483b2b),_0x302b77;}return _createClass(_0x4ee98b,[{'key':_0x21169a(0x173),'get':function _0x50ba5b(){var _0x26d8f6=_0x21169a;return this[_0x26d8f6(0x1d2)];}},{'key':'data','get':function _0x52cfe3(){var _0x407779=_0x21169a;return this[_0x407779(0x130)];},'set':function _0x53b2b0(_0x206360){var _0x4dcc01=_0x21169a;this[_0x4dcc01(0x14e)](_0x206360);}},{'key':_0x21169a(0x11c),'get':function _0x1c5f36(){var _0x245e1d=_0x21169a;return this[_0x245e1d(0x190)]['colors'];},'set':function _0x8f166f(_0x5e0bb8){var _0x7c11a0=_0x21169a;this['options'][_0x7c11a0(0x11c)]=_0x5e0bb8,this[_0x7c11a0(0x24d)]&&this[_0x7c11a0(0x24d)]['setOptions']({'colors':_0x5e0bb8}),this[_0x7c11a0(0x209)]();}},{'key':_0x21169a(0x1cd),'value':function _0x27d2cb(){}},{'key':_0x21169a(0x1ba),'value':function _0x8d58fd(){var _0x4790b6=_0x21169a;this[_0x4790b6(0x145)]=this['_map']['scene'],this[_0x4790b6(0x164)]=this[_0x4790b6(0x1a6)]['camera'],this[_0x4790b6(0x1d2)]=new Cesium$1[(_0x4790b6(0x128))](),this['_map'][_0x4790b6(0x145)][_0x4790b6(0x1d2)][_0x4790b6(0x18e)](this[_0x4790b6(0x1d2)]),this['viewerParameters']={'lonRange':new Cesium$1[(_0x4790b6(0x1ec))](),'latRange':new Cesium$1['Cartesian2'](),'pixelSize':0x0},this[_0x4790b6(0x1e7)]=new Cesium$1[(_0x4790b6(0x20f))](Cesium$1[_0x4790b6(0x258)][_0x4790b6(0x148)],0.99*0x615299),this[_0x4790b6(0x143)](),window[_0x4790b6(0x15a)](_0x4790b6(0x209),this['resize'][_0x4790b6(0x265)](this),![]),this[_0x4790b6(0x269)]=![],this['mouse_move']=![],this[_0x4790b6(0x1a6)]['on'](mars3d__namespace[_0x4790b6(0x132)]['wheel'],this[_0x4790b6(0x207)],this),this[_0x4790b6(0x1a6)]['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this[_0x4790b6(0x1a6)]['on'](mars3d__namespace[_0x4790b6(0x132)][_0x4790b6(0x1c8)],this['_onMouseUpEvent'],this),this['_map']['on'](mars3d__namespace[_0x4790b6(0x132)][_0x4790b6(0x23a)],this[_0x4790b6(0x228)],this),this[_0x4790b6(0x130)]&&this[_0x4790b6(0x14e)](this[_0x4790b6(0x130)]);}},{'key':_0x21169a(0x147),'value':function _0x32efae(){var _0x100e4f=_0x21169a;window[_0x100e4f(0x119)](_0x100e4f(0x209),this[_0x100e4f(0x209)]),this[_0x100e4f(0x1a6)][_0x100e4f(0x13a)](mars3d__namespace[_0x100e4f(0x132)][_0x100e4f(0x167)],this[_0x100e4f(0x1f0)],this),this[_0x100e4f(0x1a6)][_0x100e4f(0x13a)](mars3d__namespace[_0x100e4f(0x132)][_0x100e4f(0x211)],this[_0x100e4f(0x207)],this),this[_0x100e4f(0x1a6)][_0x100e4f(0x13a)](mars3d__namespace[_0x100e4f(0x132)][_0x100e4f(0x1d3)],this[_0x100e4f(0x251)],this),this[_0x100e4f(0x1a6)]['off'](mars3d__namespace[_0x100e4f(0x132)][_0x100e4f(0x1c8)],this[_0x100e4f(0x135)],this),this[_0x100e4f(0x1a6)][_0x100e4f(0x13a)](mars3d__namespace[_0x100e4f(0x132)]['mouseMove'],this[_0x100e4f(0x228)],this),this['primitives'][_0x100e4f(0x1f4)](),this['_map'][_0x100e4f(0x145)][_0x100e4f(0x1d2)][_0x100e4f(0x16c)](this['primitives']);}},{'key':_0x21169a(0x209),'value':function _0x3f14d6(){var _0x396b50=_0x21169a;if(!this[_0x396b50(0x1b3)]||!this[_0x396b50(0x24d)])return;this[_0x396b50(0x1d2)]['show']=![],this[_0x396b50(0x1d2)][_0x396b50(0x1f4)](),this['_map'][_0x396b50(0x1cb)](mars3d__namespace[_0x396b50(0x132)][_0x396b50(0x167)],this[_0x396b50(0x1f0)],this);}},{'key':_0x21169a(0x1f0),'value':function _0x24061a(_0x68c5b5){var _0x5db8a8=_0x21169a;this['particleSystem'][_0x5db8a8(0x21a)](this[_0x5db8a8(0x145)][_0x5db8a8(0x1f3)]),this[_0x5db8a8(0x120)](),this[_0x5db8a8(0x1d2)][_0x5db8a8(0x1b3)]=!![];}},{'key':_0x21169a(0x207),'value':function _0x388287(_0x3400ee){var _0x10d845=_0x21169a,_0x21fe49=this;clearTimeout(this[_0x10d845(0x140)]);if(!this[_0x10d845(0x1b3)]||!this['particleSystem'])return;this[_0x10d845(0x1d2)]['show']=![],this[_0x10d845(0x140)]=setTimeout(function(){var _0x3ba5d2=_0x10d845;if(!_0x21fe49[_0x3ba5d2(0x1b3)])return;_0x21fe49[_0x3ba5d2(0x1e9)]();},0xc8);}},{'key':_0x21169a(0x251),'value':function _0x5751a6(_0x2bf4e4){var _0x2e530e=_0x21169a;this[_0x2e530e(0x269)]=!![];}},{'key':'_onMouseMoveEvent','value':function _0x4188ce(_0x3fa38f){var _0x3a0888=_0x21169a;if(!this['show']||!this[_0x3a0888(0x24d)])return;this[_0x3a0888(0x269)]&&(this[_0x3a0888(0x1d2)][_0x3a0888(0x1b3)]=![],this[_0x3a0888(0x160)]=!![]);}},{'key':'_onMouseUpEvent','value':function _0x252ba6(_0x1f473f){var _0x56d796=_0x21169a;if(!this[_0x56d796(0x1b3)]||!this[_0x56d796(0x24d)])return;this[_0x56d796(0x269)]&&this['mouse_move']&&this['redraw'](),this[_0x56d796(0x1d2)][_0x56d796(0x1b3)]=!![],this[_0x56d796(0x269)]=![],this[_0x56d796(0x160)]=![];}},{'key':_0x21169a(0x1e9),'value':function _0x3c1d2e(){var _0x2cb9d4=_0x21169a;if(!this[_0x2cb9d4(0x1a6)]||!this[_0x2cb9d4(0x1b3)])return;this[_0x2cb9d4(0x143)](),this[_0x2cb9d4(0x24d)]['applyViewerParameters'](this[_0x2cb9d4(0x238)]),this[_0x2cb9d4(0x1d2)][_0x2cb9d4(0x1b3)]=!![];}},{'key':'setData','value':function _0x534ff2(_0x24183a){var _0x2cd1aa=_0x21169a;this['_data']=_0x24183a,this[_0x2cd1aa(0x24d)]&&this['particleSystem'][_0x2cd1aa(0x215)](),this[_0x2cd1aa(0x24d)]=new ParticleSystem(this[_0x2cd1aa(0x145)][_0x2cd1aa(0x1f3)],_0x24183a,this['getOptions'](),this['viewerParameters']),this[_0x2cd1aa(0x120)]();}},{'key':'_setOptionsHook','value':function _0xc71a5f(_0x1732b6,_0x2c88b8){var _0x375129=_0x21169a;if(_0x1732b6)for(var _0x14555a in _0x1732b6){this[_0x14555a]=_0x1732b6[_0x14555a];}this[_0x375129(0x24d)]&&this[_0x375129(0x24d)][_0x375129(0x20c)](this[_0x375129(0x168)]());}},{'key':'getOptions','value':function _0x53c062(){var _0x10269e=_0x21169a,_0x4be713=Math[_0x10269e(0x1a5)](Math[_0x10269e(0x201)](this[_0x10269e(0x169)]));return this[_0x10269e(0x169)]=_0x4be713*_0x4be713,{'particlesTextureSize':_0x4be713,'maxParticles':this[_0x10269e(0x169)],'particleHeight':this[_0x10269e(0x235)],'fadeOpacity':this[_0x10269e(0x22f)],'dropRate':this['dropRate'],'dropRateBump':this[_0x10269e(0x213)],'speedFactor':this[_0x10269e(0x179)],'lineWidth':this[_0x10269e(0x149)],'colors':this[_0x10269e(0x11c)]};}},{'key':'addPrimitives','value':function _0x324e77(){var _0x393209=_0x21169a;this['primitives']['add'](this['particleSystem'][_0x393209(0x1c1)][_0x393209(0x1d2)][_0x393209(0x25a)]),this['primitives']['add'](this['particleSystem']['particlesComputing'][_0x393209(0x1d2)][_0x393209(0x214)]),this['primitives']['add'](this[_0x393209(0x24d)][_0x393209(0x1c1)][_0x393209(0x1d2)]['updatePosition']),this[_0x393209(0x1d2)][_0x393209(0x18e)](this['particleSystem']['particlesComputing'][_0x393209(0x1d2)][_0x393209(0x205)]),this[_0x393209(0x1d2)]['add'](this[_0x393209(0x24d)][_0x393209(0x1c1)][_0x393209(0x1d2)][_0x393209(0x1e6)]),this[_0x393209(0x1d2)][_0x393209(0x18e)](this[_0x393209(0x24d)]['particlesRendering'][_0x393209(0x1d2)][_0x393209(0x26c)]),this[_0x393209(0x1d2)]['add'](this[_0x393209(0x24d)][_0x393209(0x1d4)][_0x393209(0x1d2)]['trails']),this['primitives']['add'](this['particleSystem'][_0x393209(0x1d4)]['primitives']['screen']);}},{'key':_0x21169a(0x143),'value':function _0xe6222b(){var _0xfabf33=_0x21169a,_0x1ae486=this[_0xfabf33(0x164)][_0xfabf33(0xf6)](this[_0xfabf33(0x145)][_0xfabf33(0x253)][_0xfabf33(0xeb)]);if(!_0x1ae486){var _0x265d11=this[_0xfabf33(0x1a6)][_0xfabf33(0x187)]();_0x1ae486=Cesium$1[_0xfabf33(0x158)][_0xfabf33(0x26b)](_0x265d11[_0xfabf33(0x234)],_0x265d11[_0xfabf33(0x1dc)],_0x265d11[_0xfabf33(0x25f)],_0x265d11[_0xfabf33(0x10c)]);}var _0xe6ebf3=Util[_0xfabf33(0x1ef)](_0x1ae486);this[_0xfabf33(0x238)]['lonRange']['x']=_0xe6ebf3[_0xfabf33(0x11f)][_0xfabf33(0x117)],this['viewerParameters'][_0xfabf33(0xf2)]['y']=_0xe6ebf3[_0xfabf33(0x11f)][_0xfabf33(0x102)],this[_0xfabf33(0x238)]['latRange']['x']=_0xe6ebf3[_0xfabf33(0x107)][_0xfabf33(0x117)],this[_0xfabf33(0x238)][_0xfabf33(0x24e)]['y']=_0xe6ebf3[_0xfabf33(0x107)][_0xfabf33(0x102)];var _0x52c5b0=this[_0xfabf33(0x164)][_0xfabf33(0x108)](this[_0xfabf33(0x1e7)],this[_0xfabf33(0x145)]['drawingBufferWidth'],this[_0xfabf33(0x145)]['drawingBufferHeight']);_0x52c5b0>0x0&&(this[_0xfabf33(0x238)][_0xfabf33(0x1bb)]=_0x52c5b0);}}]),_0x4ee98b;}(BaseLayer$1);mars3d__namespace[_0x33d41b(0x231)][_0x33d41b(0x161)]('wind',WindLayer),mars3d__namespace[_0x33d41b(0x173)][_0x33d41b(0x12f)]=WindLayer;var CanvasParticle=(function(){var _0x39068e=_0x33d41b;function _0x12370d(){var _0x522dfa=_0x4190;_classCallCheck(this,_0x12370d),this[_0x522dfa(0x233)]=null,this[_0x522dfa(0x107)]=null,this['tlng']=null,this['tlat']=null,this[_0x522dfa(0x24b)]=null;}return _createClass(_0x12370d,[{'key':_0x39068e(0x215),'value':function _0x2386a0(){for(var _0x10b694 in this){delete this[_0x10b694];}}}]),_0x12370d;}()),CanvasWindField=(function(){var _0x1733d2=_0x33d41b;function _0x4253ac(_0xc24dea){var _0x4b0eba=_0x4190;_classCallCheck(this,_0x4253ac),this[_0x4b0eba(0x20c)](_0xc24dea);}return _createClass(_0x4253ac,[{'key':'speedRate','get':function _0x1f9471(){var _0x526be3=_0x4190;return this[_0x526be3(0x242)];},'set':function _0x170ce3(_0x22c3cb){var _0x1a2bfe=_0x4190;this[_0x1a2bfe(0x242)]=(0x64-(_0x22c3cb>0x63?0x63:_0x22c3cb))*0x64,this[_0x1a2bfe(0x110)]=[(this[_0x1a2bfe(0x25f)]-this['xmin'])/this[_0x1a2bfe(0x242)],(this[_0x1a2bfe(0x10c)]-this[_0x1a2bfe(0x1dc)])/this[_0x1a2bfe(0x242)]];}},{'key':_0x1733d2(0x17e),'get':function _0x5e7cfc(){var _0x24c48f=_0x1733d2;return this[_0x24c48f(0x1c0)];},'set':function _0x1ef09b(_0x610982){this['_maxAge']=_0x610982;}},{'key':_0x1733d2(0x20c),'value':function _0x2da560(_0x29a8d5){var _0x20c713=_0x1733d2;this['options']=_0x29a8d5,this[_0x20c713(0x17e)]=_0x29a8d5[_0x20c713(0x17e)]||0x78,this[_0x20c713(0x1b8)]=_0x29a8d5[_0x20c713(0x1b8)]||0x32,this[_0x20c713(0x23c)]=[];var _0x42b7a7=_0x29a8d5['particlesNumber']||0x1000;for(var _0x23c605=0x0;_0x23c605<_0x42b7a7;_0x23c605++){var _0x162054=this['_randomParticle'](new CanvasParticle());this['particles'][_0x20c713(0x129)](_0x162054);}}},{'key':_0x1733d2(0x210),'value':function _0x5ba115(_0x397865){var _0x930946=_0x1733d2;this[_0x930946(0xef)]=_0x397865[_0x930946(0xef)],this[_0x930946(0x22a)]=_0x397865[_0x930946(0x22a)],this[_0x930946(0x234)]=_0x397865[_0x930946(0x234)],this[_0x930946(0x25f)]=_0x397865[_0x930946(0x25f)],this[_0x930946(0x1dc)]=_0x397865['ymin'],this[_0x930946(0x10c)]=_0x397865[_0x930946(0x10c)],this[_0x930946(0xfa)]=[];var _0x4da5cf=_0x397865[_0x930946(0x109)],_0x4ea227=_0x397865[_0x930946(0x162)],_0x1a026f=![];_0x4da5cf[_0x930946(0x19b)]===this[_0x930946(0xef)]&&_0x4da5cf[0x0][_0x930946(0x19b)]===this['cols']&&(_0x1a026f=!![]);var _0x3bb962=0x0,_0x4722cf=null,_0x510f15=null;for(var _0x4cd215=0x0;_0x4cd215<this['rows'];_0x4cd215++){_0x4722cf=[];for(var _0x94a219=0x0;_0x94a219<this[_0x930946(0x22a)];_0x94a219++,_0x3bb962++){_0x1a026f?_0x510f15=this['_calcUV'](_0x4da5cf[_0x4cd215][_0x94a219],_0x4ea227[_0x4cd215][_0x94a219]):_0x510f15=this[_0x930946(0x15b)](_0x4da5cf[_0x3bb962],_0x4ea227[_0x3bb962]),_0x4722cf[_0x930946(0x129)](_0x510f15);}this[_0x930946(0xfa)][_0x930946(0x129)](_0x4722cf);}this[_0x930946(0x190)][_0x930946(0x188)]&&this[_0x930946(0xfa)][_0x930946(0x17f)]();}},{'key':_0x1733d2(0x13b),'value':function _0x3c34ce(){var _0x14a9d3=_0x1733d2;delete this[_0x14a9d3(0xef)],delete this['cols'],delete this[_0x14a9d3(0x234)],delete this['xmax'],delete this[_0x14a9d3(0x1dc)],delete this[_0x14a9d3(0x10c)],delete this[_0x14a9d3(0xfa)],delete this['particles'];}},{'key':_0x1733d2(0x259),'value':function _0x1e63f8(_0x2eaa2f,_0x14d3eb){var _0x5665ac=_0x1733d2,_0x12a593=(_0x2eaa2f-this[_0x5665ac(0x234)])/(this[_0x5665ac(0x25f)]-this[_0x5665ac(0x234)])*(this[_0x5665ac(0x22a)]-0x1),_0x59b889=(this[_0x5665ac(0x10c)]-_0x14d3eb)/(this['ymax']-this[_0x5665ac(0x1dc)])*(this[_0x5665ac(0xef)]-0x1);return[_0x12a593,_0x59b889];}},{'key':_0x1733d2(0x166),'value':function _0x19b849(_0x151f60,_0x3ceeeb){var _0x165e20=_0x1733d2;if(_0x151f60<0x0||_0x151f60>=this[_0x165e20(0x22a)]||_0x3ceeeb>=this[_0x165e20(0xef)])return[0x0,0x0,0x0];var _0x3de7df=Math[_0x165e20(0xec)](_0x151f60),_0x266556=Math['floor'](_0x3ceeeb);if(_0x3de7df===_0x151f60&&_0x266556===_0x3ceeeb)return this[_0x165e20(0xfa)][_0x3ceeeb][_0x151f60];var _0x362f65=_0x3de7df+0x1,_0x23d454=_0x266556+0x1,_0x2e4844=this[_0x165e20(0x166)](_0x3de7df,_0x266556),_0xd8c354=this[_0x165e20(0x166)](_0x362f65,_0x266556),_0x178b11=this[_0x165e20(0x166)](_0x3de7df,_0x23d454),_0x3359a6=this[_0x165e20(0x166)](_0x362f65,_0x23d454),_0x2396a8=null;try{_0x2396a8=this['_bilinearInterpolation'](_0x151f60-_0x3de7df,_0x3ceeeb-_0x266556,_0x2e4844,_0xd8c354,_0x178b11,_0x3359a6);}catch(_0xebe47){console[_0x165e20(0x23b)](_0x151f60,_0x3ceeeb);}return _0x2396a8;}},{'key':_0x1733d2(0x21b),'value':function _0x182ee3(_0x4ee3e9,_0x126fcb,_0x35cf5c,_0x566ea9,_0xa39a8a,_0x3dc502){var _0x4d0739=_0x1733d2,_0x226e05=0x1-_0x4ee3e9,_0x53915a=0x1-_0x126fcb,_0x4ea447=_0x226e05*_0x53915a,_0x2e555d=_0x4ee3e9*_0x53915a,_0x27b277=_0x226e05*_0x126fcb,_0x2fd02b=_0x4ee3e9*_0x126fcb,_0x14a73a=_0x35cf5c[0x0]*_0x4ea447+_0x566ea9[0x0]*_0x2e555d+_0xa39a8a[0x0]*_0x27b277+_0x3dc502[0x0]*_0x2fd02b,_0xbfd231=_0x35cf5c[0x1]*_0x4ea447+_0x566ea9[0x1]*_0x2e555d+_0xa39a8a[0x1]*_0x27b277+_0x3dc502[0x1]*_0x2fd02b;return this[_0x4d0739(0x15b)](_0x14a73a,_0xbfd231);}},{'key':'_calcUV','value':function _0x58f952(_0x416748,_0x38f960){var _0x135fa6=_0x1733d2;return[+_0x416748,+_0x38f960,Math[_0x135fa6(0x201)](_0x416748*_0x416748+_0x38f960*_0x38f960)];}},{'key':_0x1733d2(0x154),'value':function _0x46c829(_0xae91d3,_0x437414){var _0x3f2f54=_0x1733d2;if(!this[_0x3f2f54(0x14a)](_0xae91d3,_0x437414))return null;var _0x11c8e9=this['toGridXY'](_0xae91d3,_0x437414),_0x2b1318=this['getUVByXY'](_0x11c8e9[0x0],_0x11c8e9[0x1]);return _0x2b1318;}},{'key':_0x1733d2(0x14a),'value':function _0x405cbd(_0x3ee3fb,_0x512e1f){var _0x42863b=_0x1733d2;return _0x3ee3fb>=this[_0x42863b(0x234)]&&_0x3ee3fb<=this[_0x42863b(0x25f)]&&_0x512e1f>=this[_0x42863b(0x1dc)]&&_0x512e1f<=this['ymax']?!![]:![];}},{'key':_0x1733d2(0x12c),'value':function _0x409960(){var _0x4ca506=_0x1733d2,_0x295278=fRandomByfloat(this[_0x4ca506(0x234)],this['xmax']),_0x1e4136=fRandomByfloat(this['ymin'],this['ymax']);return{'lat':_0x1e4136,'lng':_0x295278};}},{'key':_0x1733d2(0x126),'value':function _0x4c58bc(){var _0x4675fe=_0x1733d2,_0x548f57,_0x1c22a2,_0x56609a;for(var _0x2afb6a=0x0,_0x2be05f=this['particles'][_0x4675fe(0x19b)];_0x2afb6a<_0x2be05f;_0x2afb6a++){var _0x1ff326=this[_0x4675fe(0x23c)][_0x2afb6a];_0x1ff326['age']<=0x0&&(_0x1ff326=this[_0x4675fe(0x220)](_0x1ff326));if(_0x1ff326[_0x4675fe(0x24b)]>0x0){var _0x55c2c4=_0x1ff326[_0x4675fe(0x182)],_0x312032=_0x1ff326[_0x4675fe(0x165)];_0x56609a=this[_0x4675fe(0x154)](_0x55c2c4,_0x312032),_0x56609a?(_0x548f57=_0x55c2c4+this[_0x4675fe(0x110)][0x0]*_0x56609a[0x0],_0x1c22a2=_0x312032+this[_0x4675fe(0x110)][0x1]*_0x56609a[0x1],_0x1ff326['lng']=_0x55c2c4,_0x1ff326['lat']=_0x312032,_0x1ff326[_0x4675fe(0x182)]=_0x548f57,_0x1ff326[_0x4675fe(0x165)]=_0x1c22a2,_0x1ff326[_0x4675fe(0x24b)]--):_0x1ff326[_0x4675fe(0x24b)]=0x0;}}return this[_0x4675fe(0x23c)];}},{'key':_0x1733d2(0x220),'value':function _0x1c69d4(_0x2c3ae0){var _0x53a28c=_0x1733d2,_0x144e10,_0x2ed2ea;for(var _0x1e764b=0x0;_0x1e764b<0x1e;_0x1e764b++){_0x144e10=this[_0x53a28c(0x12c)](),_0x2ed2ea=this['getUVByPoint'](_0x144e10['lng'],_0x144e10[_0x53a28c(0x107)]);if(_0x2ed2ea&&_0x2ed2ea[0x2]>0x0)break;}if(!_0x2ed2ea)return _0x2c3ae0;var _0x5e05a0=_0x144e10[_0x53a28c(0x233)]+this[_0x53a28c(0x110)][0x0]*_0x2ed2ea[0x0],_0x11f98f=_0x144e10['lat']+this[_0x53a28c(0x110)][0x1]*_0x2ed2ea[0x1];return _0x2c3ae0[_0x53a28c(0x233)]=_0x144e10[_0x53a28c(0x233)],_0x2c3ae0[_0x53a28c(0x107)]=_0x144e10[_0x53a28c(0x107)],_0x2c3ae0[_0x53a28c(0x182)]=_0x5e05a0,_0x2c3ae0[_0x53a28c(0x165)]=_0x11f98f,_0x2c3ae0[_0x53a28c(0x24b)]=Math[_0x53a28c(0x100)](Math[_0x53a28c(0x22c)]()*this[_0x53a28c(0x17e)]),_0x2c3ae0;}},{'key':'destroy','value':function _0x4e7d58(){for(var _0xa02631 in this){delete this[_0xa02631];}}}]),_0x4253ac;}());function fRandomByfloat(_0x2f268f,_0x4b6437){var _0x2e5819=_0x33d41b;return _0x2f268f+Math[_0x2e5819(0x22c)]()*(_0x4b6437-_0x2f268f);}function _0x5d07(){var _0x2fa16a=['string','absolute','ellipsoid','floor','visible','green','rows','primitiveType','rgb(206,255,255)','lonRange','positionWC','windTextures','11218712TWYayp','computeViewRectangle','top','fromGeometry','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','grid','TextureMinificationFilter','globalCompositeOperation','createCommand','default','strokeStyle','round','slice','max','createRenderingFramebuffers','appendChild','particleHeight','currentTrails','lat','getPixelSize','udata','DrawCommand','clampToLatitudeRange','ymax','frameTime','writable','createWindTextures','_calc_speedRate','pointer-events','worker','from','windField','OPAQUE','RGBA','min','refreshParticles','removeEventListener','lineTo','LINEAR','colors','pow','currentParticlesPosition','lon','addPrimitives','sin','Math','name','destroyParticlesTextures','position','getParticles','toString','PrimitiveCollection','push','commandToExecute','umax','getRandomLatLng','isDestroyed','postMessage','WindLayer','_data','framebuffer','EventType','clearFramebuffers','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','_onMouseUpEvent','Texture','TRIANGLES','autoClear','createFramebuffer','off','clear','BufferUsage','toDegrees','_setOptionsHook','now','refreshTimer','LUMINANCE','nextParticlesPosition','updateViewerParameters','data','scene','VertexArray','_removedHook','ZERO','lineWidth','isInExtent','nextTrailsDepth','onmessage','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','setData','_updateIng2','prototype','ShaderSource','clearCommand','WindUtil','getUVByPoint','clientHeight','canvasWidth','particlesTextures','Rectangle','viewport','addEventListener','_calcUV','left','#ffffff','lev','isPointVisible','mouse_move','register','vdata','Compute','camera','tlat','getUVByXY','preRender','getOptions','particlesNumber','destination-in','DISABLE_GL_POSITION_LOG_DEPTH','remove','currentParticlesSpeed','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','pointerEvents','getContext','PI_OVER_THREE','color','layer','levmax','removeChild','randomBetween','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','canvasHeight','speedFactor','frameRate','_drawLines','currentTrailsColor','THREE_PI_OVER_TWO','maxAge','reverse','19314jGohGU','ComputeCommand','tlng','fill','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Color','createParticlesTextures','getExtent','reverseY','1490XFFOlW','canrefresh','visibility','canvasWind','atan2','add','enumerable','options','object','Object','lighter','Pass','animateFrame','createRenderingPrimitives','vertexShaderSource','mod','nextTrailsColor','width','length','138nNPIwq','particlesTextureSize','_showHook','createComputingPrimitives','preExecute','getOwnPropertySymbols','colorTable','100%','commandType','ceil','_map','createElement','depthTest','red','Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.','iterator','canvasContext','applyViewerParameters','_pointerEvents','CanvasWindField','PrimitiveType','4479WDunwj','init','show','IDENTITY','349482mKEkum','createRenderingTextures','TWO_PI','speedRate','unbindEvent','_addedHook','pixelSize','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','vmin','uniformMap','randomizeParticles','_maxAge','particlesComputing','Draw','5524495LjMvVD','outputTexture','mouseHidden','textures','bindEvent','mouseUp','construct','_createCanvas','once','setGeometry','_mountedHook','getColorTexture','mode','getFullscreenQuad','157717HDbibd','primitives','mouseDown','particlesRendering','RenderState','GeometryAttribute','constructor','fillRect','ClearCommand','Matrix4','DEPTH_COMPONENT','ymin','fromCache','wgs84ToWindowCoordinates','clientWidth','__proto__','west','PixelFormat','style','FLOAT','framebuffers','postProcessingSpeed','globeBoundingSphere','windData','redraw','update','getOwnPropertyDescriptor','Cartesian2','blending','keys','viewRectangleToLonLatRange','_onMap_preRenderEvent','levmin','segmentsColor','context','removeAll','drawingBufferHeight','north','drawingBufferWidth','createTexture','create','createRawRenderState','@@iterator','key','SceneMode','50356XLDAQy','maxParticles','apply','sqrt','array','forEach','canvas','postProcessingPosition','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','_onMapWhellEvent','NEAREST','resize','hidden','STATIC_DRAW','setOptions','zIndex','auto','BoundingSphere','setDate','wheel','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','dropRateBump','updateSpeed','destroy','function','source','Sampler','particlesWind','canvasResize','_bilinearInterpolation','nextParticlesSpeed','commandList','rawRenderState','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','_randomParticle','shaderProgram','CanvasWindLayer','DepthFunction','fragmentShaderSource','segmentsDepth','Framebuffer','Geometry','_onMouseMoveEvent','canvasWindy','cols','defined','random','TextureMagnificationFilter','18LNHZyO','fadeOpacity','dimensions','LayerUtil','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','lng','xmin','fixedHeight','geometry','defineProperty','viewerParameters','height','mouseMove','log','particles','ALWAYS','0px','SCENE3D','__esModule','depthTexture','_speedRate','beginPath','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','createSegmentsGeometry','configurable','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20//\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','UNSIGNED_INT','vertexArray','east','age','PixelDatatype','particleSystem','latRange','BaseLayer','container','_onMouseDownEvent','currentTrailsDepth','globe','_updateIng','valueOf','Cesium','call','Cartesian3','toGridXY','getWind','attributeLocations','trails','RGB','getPrototypeOf','xmax','nextTrails','cancelAnimationFrame','GeometryAttributes','_tomap','toRadians','bind','blue','initWorker','ComponentDatatype','mouse_down','setPrototypeOf','fromDegrees','segments','setAttribute','class'];_0x5d07=function(){return _0x2fa16a;};return _0x5d07();}var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x33d41b(0x24f)],CanvasWindLayer=function(_0x1d72d7){var _0x83a836=_0x33d41b;_inherits(_0x5c2aa0,_0x1d72d7);var _0x2e05a3=_createSuper(_0x5c2aa0);function _0x5c2aa0(){var _0x112373=_0x4190,_0x19b387,_0x3f99e3=arguments[_0x112373(0x19b)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x5c2aa0),_0x19b387=_0x2e05a3[_0x112373(0x257)](this,_0x3f99e3),_0x19b387['_setOptionsHook'](_0x3f99e3),_0x19b387[_0x112373(0x204)]=null,_0x19b387;}return _createClass(_0x5c2aa0,[{'key':_0x83a836(0x13e),'value':function _0x148d24(_0x4b3534,_0x25a032){var _0x30d967=_0x83a836,_0x3991ec,_0xb8375b,_0x43b4b7;this[_0x30d967(0x10d)]=0x3e8/(_0x4b3534[_0x30d967(0x17a)]||0xa),this[_0x30d967(0x1ae)]=(_0x3991ec=this['options']['pointerEvents'])!==null&&_0x3991ec!==void 0x0?_0x3991ec:![],this[_0x30d967(0x172)]=_0x4b3534[_0x30d967(0x172)]||_0x30d967(0x15d),this[_0x30d967(0x149)]=_0x4b3534[_0x30d967(0x149)]||0x1,this[_0x30d967(0x235)]=(_0xb8375b=_0x4b3534[_0x30d967(0x235)])!==null&&_0xb8375b!==void 0x0?_0xb8375b:0x0,this[_0x30d967(0x188)]=(_0x43b4b7=_0x4b3534[_0x30d967(0x188)])!==null&&_0x43b4b7!==void 0x0?_0x43b4b7:![],this[_0x30d967(0x114)]&&this[_0x30d967(0x114)][_0x30d967(0x20c)](_0x4b3534);}},{'key':'layer','get':function _0x48de5c(){var _0x3923c1=_0x83a836;return this[_0x3923c1(0x204)];}},{'key':_0x83a836(0x156),'get':function _0x2bcf80(){var _0x3c34e9=_0x83a836;return this[_0x3c34e9(0x1a6)][_0x3c34e9(0x145)]['canvas'][_0x3c34e9(0x1df)];}},{'key':_0x83a836(0x178),'get':function _0x43583a(){var _0x3379b9=_0x83a836;return this['_map'][_0x3379b9(0x145)][_0x3379b9(0x204)][_0x3379b9(0x155)];}},{'key':'pointerEvents','get':function _0x4112ab(){var _0x2861ad=_0x83a836;return this[_0x2861ad(0x1ae)];},'set':function _0x1c18d(_0xedaf18){var _0x375c20=_0x83a836;this[_0x375c20(0x1ae)]=_0xedaf18;if(!this[_0x375c20(0x204)])return;_0xedaf18?this[_0x375c20(0x204)]['style'][_0x375c20(0x111)]='all':this[_0x375c20(0x204)][_0x375c20(0x1e3)][_0x375c20(0x111)]='none';}},{'key':_0x83a836(0x169),'get':function _0x1cc902(){var _0x38b4ef=_0x83a836;return this['options'][_0x38b4ef(0x169)];},'set':function _0x2c9a42(_0x11dbb4){var _0x101a74=_0x83a836,_0x325ca9=this;this['options'][_0x101a74(0x169)]=_0x11dbb4,clearTimeout(this['_canrefresh']),this['_canrefresh']=setTimeout(function(){_0x325ca9['redraw']();},0x1f4);}},{'key':_0x83a836(0x1b8),'get':function _0x8dd8d(){var _0x80c2af=_0x83a836;return this[_0x80c2af(0x190)][_0x80c2af(0x1b8)];},'set':function _0x28ba4d(_0x49ed6c){var _0x53fa29=_0x83a836;this[_0x53fa29(0x190)][_0x53fa29(0x1b8)]=_0x49ed6c,this[_0x53fa29(0x114)]&&(this['windField'][_0x53fa29(0x1b8)]=_0x49ed6c);}},{'key':_0x83a836(0x17e),'get':function _0x42067a(){var _0x48bed6=_0x83a836;return this[_0x48bed6(0x190)][_0x48bed6(0x17e)];},'set':function _0x48f2a9(_0x259742){var _0x508c0b=_0x83a836;this[_0x508c0b(0x190)][_0x508c0b(0x17e)]=_0x259742,this[_0x508c0b(0x114)]&&(this[_0x508c0b(0x114)][_0x508c0b(0x17e)]=_0x259742);}},{'key':_0x83a836(0x144),'get':function _0x707d4a(){var _0x5091ac=_0x83a836;return this[_0x5091ac(0x1e8)];},'set':function _0xc55396(_0x511404){var _0x1eb0e6=_0x83a836;this[_0x1eb0e6(0x14e)](_0x511404);}},{'key':_0x83a836(0x19e),'value':function _0x1534d7(_0x2f3d51){var _0x270304=_0x83a836;_0x2f3d51?this['_addedHook']():(this['windData']&&(this[_0x270304(0x190)][_0x270304(0x144)]=this[_0x270304(0x1e8)]),this[_0x270304(0x147)]());}},{'key':_0x83a836(0x1cd),'value':function _0x5c3eb1(){var _0x517a4f=_0x83a836;this['options'][_0x517a4f(0x112)]?this[_0x517a4f(0x267)]():this[_0x517a4f(0x114)]=new CanvasWindField(this['options']);}},{'key':_0x83a836(0x1ba),'value':function _0x14f7f5(){var _0xd139b8=_0x83a836;this['canvas']=this['_createCanvas'](),this['canvasContext']=this[_0xd139b8(0x204)][_0xd139b8(0x170)]('2d',{'willReadFrequently':!![]}),this[_0xd139b8(0x1c7)](),this[_0xd139b8(0x190)][_0xd139b8(0x144)]&&this['setData'](this[_0xd139b8(0x190)][_0xd139b8(0x144)]);}},{'key':_0x83a836(0x147),'value':function _0x286e9f(){var _0x12732e=_0x83a836;this[_0x12732e(0x13b)](),this['unbindEvent'](),this[_0x12732e(0x204)]&&(this[_0x12732e(0x1a6)][_0x12732e(0x250)][_0x12732e(0x175)](this[_0x12732e(0x204)]),delete this['canvas']);}},{'key':_0x83a836(0x1ca),'value':function _0x42826f(){var _0x35eeb5=_0x83a836,_0x1e6f4a=document[_0x35eeb5(0x1a7)]('canvas');_0x1e6f4a[_0x35eeb5(0x1e3)][_0x35eeb5(0x125)]=_0x35eeb5(0xea),_0x1e6f4a[_0x35eeb5(0x1e3)][_0x35eeb5(0xf7)]=_0x35eeb5(0x23e),_0x1e6f4a[_0x35eeb5(0x1e3)][_0x35eeb5(0x15c)]=_0x35eeb5(0x23e),_0x1e6f4a['style'][_0x35eeb5(0x19a)]=_0x35eeb5(0x1a3),_0x1e6f4a['style'][_0x35eeb5(0x239)]=_0x35eeb5(0x1a3),_0x1e6f4a['style'][_0x35eeb5(0x16f)]=this[_0x35eeb5(0x1ae)]?_0x35eeb5(0x20e):'none',_0x1e6f4a[_0x35eeb5(0x1e3)][_0x35eeb5(0x20d)]=0xa,_0x1e6f4a[_0x35eeb5(0x26d)]('id',_0x35eeb5(0x229)),_0x1e6f4a[_0x35eeb5(0x26d)](_0x35eeb5(0x26e),_0x35eeb5(0x229)),this[_0x35eeb5(0x1a6)][_0x35eeb5(0x250)][_0x35eeb5(0x104)](_0x1e6f4a);var _0x5ee455=this[_0x35eeb5(0x1a6)][_0x35eeb5(0x145)];return _0x1e6f4a[_0x35eeb5(0x19a)]=_0x5ee455[_0x35eeb5(0x204)][_0x35eeb5(0x1df)],_0x1e6f4a[_0x35eeb5(0x239)]=_0x5ee455[_0x35eeb5(0x204)][_0x35eeb5(0x155)],_0x1e6f4a;}},{'key':_0x83a836(0x209),'value':function _0x3464ff(){var _0xa99bea=_0x83a836;this[_0xa99bea(0x204)]&&(this[_0xa99bea(0x204)][_0xa99bea(0x19a)]=this[_0xa99bea(0x156)],this[_0xa99bea(0x204)][_0xa99bea(0x239)]=this[_0xa99bea(0x178)]);}},{'key':_0x83a836(0x1c7),'value':function _0x150bf4(){var _0x2b2bbf=_0x83a836,_0x5a6451=this,_0x3dfa45=Date['now']();(function _0x4525d5(){var _0x2a1580=_0x4190;_0x5a6451[_0x2a1580(0x195)]=window['requestAnimationFrame'](_0x4525d5);if(_0x5a6451[_0x2a1580(0x1b3)]&&_0x5a6451[_0x2a1580(0x114)]){var _0x3b4f4c=Date[_0x2a1580(0x13f)](),_0x360fe5=_0x3b4f4c-_0x3dfa45;_0x360fe5>_0x5a6451[_0x2a1580(0x10d)]&&(_0x3dfa45=_0x3b4f4c-_0x360fe5%_0x5a6451[_0x2a1580(0x10d)],_0x5a6451[_0x2a1580(0x1ea)]());}}(),window['addEventListener']('resize',this['resize'][_0x2b2bbf(0x265)](this),![]),this[_0x2b2bbf(0x269)]=![],this[_0x2b2bbf(0x160)]=![],this[_0x2b2bbf(0x190)]['mouseHidden']&&(this[_0x2b2bbf(0x1a6)]['on'](mars3d__namespace[_0x2b2bbf(0x132)][_0x2b2bbf(0x211)],this['_onMapWhellEvent'],this),this[_0x2b2bbf(0x1a6)]['on'](mars3d__namespace['EventType'][_0x2b2bbf(0x1d3)],this[_0x2b2bbf(0x251)],this),this['_map']['on'](mars3d__namespace[_0x2b2bbf(0x132)]['mouseUp'],this[_0x2b2bbf(0x135)],this)));}},{'key':_0x83a836(0x1b9),'value':function _0x235bbb(){var _0x4ae016=_0x83a836;window[_0x4ae016(0x261)](this['animateFrame']),delete this[_0x4ae016(0x195)],window['removeEventListener'](_0x4ae016(0x209),this[_0x4ae016(0x209)]),this['options'][_0x4ae016(0x1c5)]&&(this['_map']['off'](mars3d__namespace[_0x4ae016(0x132)][_0x4ae016(0x211)],this[_0x4ae016(0x207)],this),this['_map'][_0x4ae016(0x13a)](mars3d__namespace[_0x4ae016(0x132)][_0x4ae016(0x1d3)],this[_0x4ae016(0x251)],this),this[_0x4ae016(0x1a6)][_0x4ae016(0x13a)](mars3d__namespace[_0x4ae016(0x132)][_0x4ae016(0x1c8)],this[_0x4ae016(0x135)],this),this[_0x4ae016(0x1a6)][_0x4ae016(0x13a)](mars3d__namespace['EventType'][_0x4ae016(0x23a)],this[_0x4ae016(0x228)],this));}},{'key':_0x83a836(0x207),'value':function _0x13c86c(_0x1dfc0a){var _0x194ca5=_0x83a836,_0x80e71c=this;clearTimeout(this[_0x194ca5(0x140)]);if(!this[_0x194ca5(0x1b3)]||!this['canvas'])return;this[_0x194ca5(0x204)][_0x194ca5(0x1e3)][_0x194ca5(0x18b)]='hidden',this[_0x194ca5(0x140)]=setTimeout(function(){var _0x3aa6fa=_0x194ca5;if(!_0x80e71c['show'])return;_0x80e71c[_0x3aa6fa(0x1e9)](),_0x80e71c['canvas']['style'][_0x3aa6fa(0x18b)]=_0x3aa6fa(0xed);},0xc8);}},{'key':'_onMouseDownEvent','value':function _0x44310b(_0x500c88){var _0x1cb8f9=_0x83a836;this[_0x1cb8f9(0x269)]=!![],this['_map']['off'](mars3d__namespace[_0x1cb8f9(0x132)]['mouseMove'],this[_0x1cb8f9(0x228)],this),this[_0x1cb8f9(0x1a6)]['on'](mars3d__namespace[_0x1cb8f9(0x132)][_0x1cb8f9(0x23a)],this[_0x1cb8f9(0x228)],this);}},{'key':_0x83a836(0x228),'value':function _0x5170f9(_0x2dd23e){var _0x435191=_0x83a836;if(!this['show']||!this[_0x435191(0x204)])return;this[_0x435191(0x269)]&&(this[_0x435191(0x204)]['style'][_0x435191(0x18b)]=_0x435191(0x20a),this[_0x435191(0x160)]=!![]);}},{'key':'_onMouseUpEvent','value':function _0x18b3ed(_0x522115){var _0x4df4e6=_0x83a836;if(!this[_0x4df4e6(0x1b3)]||!this[_0x4df4e6(0x204)])return;this[_0x4df4e6(0x1a6)][_0x4df4e6(0x13a)](mars3d__namespace[_0x4df4e6(0x132)][_0x4df4e6(0x23a)],this['_onMouseMoveEvent'],this),this[_0x4df4e6(0x269)]&&this[_0x4df4e6(0x160)]&&this['redraw'](),this['canvas'][_0x4df4e6(0x1e3)][_0x4df4e6(0x18b)]=_0x4df4e6(0xed),this[_0x4df4e6(0x269)]=![],this[_0x4df4e6(0x160)]=![];}},{'key':_0x83a836(0x14e),'value':function _0x83a71e(_0x53203d){var _0x45573c=_0x83a836;this[_0x45573c(0x13b)](),this[_0x45573c(0x1e8)]=_0x53203d,this['windField']['setDate'](_0x53203d),this['redraw']();}},{'key':_0x83a836(0x1e9),'value':function _0x442edd(){var _0x58a8a5=_0x83a836;if(!this[_0x58a8a5(0x1b3)])return;this[_0x58a8a5(0x114)]['setOptions'](this['options']),this['update']();}},{'key':_0x83a836(0x1ea),'value':function _0x303b29(){var _0x1d5028=_0x83a836;if(this[_0x1d5028(0x254)])return;this[_0x1d5028(0x254)]=!![];if(this[_0x1d5028(0x112)])this[_0x1d5028(0x114)][_0x1d5028(0x1ea)]();else{var _0x3e2e7a=this[_0x1d5028(0x114)][_0x1d5028(0x126)]();this[_0x1d5028(0x17b)](_0x3e2e7a);}this[_0x1d5028(0x254)]=![];}},{'key':_0x83a836(0x17b),'value':function _0x571961(_0x406e71){var _0x1ef3fb=_0x83a836;this['canvasContext'][_0x1ef3fb(0xfc)]=_0x1ef3fb(0x16a),this[_0x1ef3fb(0x1ac)][_0x1ef3fb(0x1d8)](0x0,0x0,this[_0x1ef3fb(0x156)],this[_0x1ef3fb(0x178)]),this[_0x1ef3fb(0x1ac)]['globalCompositeOperation']=_0x1ef3fb(0x193),this[_0x1ef3fb(0x1ac)]['globalAlpha']=0.9,this[_0x1ef3fb(0x1ac)][_0x1ef3fb(0x243)](),this['canvasContext'][_0x1ef3fb(0x149)]=this['lineWidth'],this[_0x1ef3fb(0x1ac)][_0x1ef3fb(0xff)]=this[_0x1ef3fb(0x172)];var _0x486bd4=this[_0x1ef3fb(0x1a6)][_0x1ef3fb(0x145)][_0x1ef3fb(0x1cf)]!==Cesium[_0x1ef3fb(0x1fd)][_0x1ef3fb(0x23f)];for(var _0x1adb4e=0x0,_0x489704=_0x406e71[_0x1ef3fb(0x19b)];_0x1adb4e<_0x489704;_0x1adb4e++){var _0x1d5ad3=_0x406e71[_0x1adb4e],_0x21bbdf=this[_0x1ef3fb(0x263)](_0x1d5ad3[_0x1ef3fb(0x233)],_0x1d5ad3['lat'],_0x1d5ad3),_0x5b7f78=this[_0x1ef3fb(0x263)](_0x1d5ad3['tlng'],_0x1d5ad3['tlat'],_0x1d5ad3);if(!_0x21bbdf||!_0x5b7f78)continue;if(_0x486bd4&&Math['abs'](_0x21bbdf[0x0]-_0x5b7f78[0x0])>=this[_0x1ef3fb(0x156)])continue;this[_0x1ef3fb(0x1ac)]['moveTo'](_0x21bbdf[0x0],_0x21bbdf[0x1]),this[_0x1ef3fb(0x1ac)][_0x1ef3fb(0x11a)](_0x5b7f78[0x0],_0x5b7f78[0x1]);}this[_0x1ef3fb(0x1ac)]['stroke']();}},{'key':_0x83a836(0x263),'value':function _0x4dd48f(_0x3856a2,_0x294454,_0x513d86){var _0x23d56b=_0x83a836,_0x42950b=Cesium[_0x23d56b(0x258)][_0x23d56b(0x26b)](_0x3856a2,_0x294454,this[_0x23d56b(0x235)]),_0x25754f=this[_0x23d56b(0x1a6)][_0x23d56b(0x145)];if(_0x25754f[_0x23d56b(0x1cf)]===Cesium[_0x23d56b(0x1fd)][_0x23d56b(0x23f)]){var _0x3aa309=new Cesium['EllipsoidalOccluder'](_0x25754f[_0x23d56b(0x253)][_0x23d56b(0xeb)],_0x25754f[_0x23d56b(0x164)][_0x23d56b(0xf3)]),_0x1e6b7c=_0x3aa309[_0x23d56b(0x15f)](_0x42950b);if(!_0x1e6b7c)return _0x513d86[_0x23d56b(0x24b)]=0x0,null;}var _0x210609=Cesium['SceneTransforms'][_0x23d56b(0x1de)](this[_0x23d56b(0x1a6)][_0x23d56b(0x145)],_0x42950b);return _0x210609?[_0x210609['x'],_0x210609['y']]:null;}},{'key':_0x83a836(0x13b),'value':function _0x199edb(){var _0x58c00d=_0x83a836;this[_0x58c00d(0x114)][_0x58c00d(0x13b)](),delete this[_0x58c00d(0x1e8)];}},{'key':_0x83a836(0x267),'value':function _0x236028(){var _0x3ce283=_0x83a836,_0x348fd4=this;this[_0x3ce283(0x112)]=new Worker(this[_0x3ce283(0x190)][_0x3ce283(0x112)]),this[_0x3ce283(0x112)][_0x3ce283(0x14c)]=function(_0x6fa39e){var _0x4afe33=_0x3ce283;_0x348fd4[_0x4afe33(0x17b)](_0x6fa39e['data'][_0x4afe33(0x23c)]),_0x348fd4[_0x4afe33(0x14f)]=![];},this[_0x3ce283(0x114)]={'init':function _0x50f6e6(_0x5b59f8){var _0x377725=_0x3ce283;_0x348fd4[_0x377725(0x112)][_0x377725(0x12e)]({'type':'init','options':_0x5b59f8});},'setOptions':function _0x19d1bd(_0x5d69fd){var _0x188028=_0x3ce283;_0x348fd4[_0x188028(0x112)][_0x188028(0x12e)]({'type':'setOptions','options':_0x5d69fd});},'setDate':function _0x26a899(_0x47dfa9){var _0x2de4b3=_0x3ce283;_0x348fd4[_0x2de4b3(0x112)][_0x2de4b3(0x12e)]({'type':_0x2de4b3(0x210),'data':_0x47dfa9});},'update':function _0x4996cd(){var _0x9a2205=_0x3ce283;if(_0x348fd4[_0x9a2205(0x14f)])return;_0x348fd4[_0x9a2205(0x14f)]=!![],_0x348fd4['worker'][_0x9a2205(0x12e)]({'type':'update'});},'clear':function _0x2a68cf(){var _0x35fc96=_0x3ce283;_0x348fd4[_0x35fc96(0x112)][_0x35fc96(0x12e)]({'type':_0x35fc96(0x13b)});}},this[_0x3ce283(0x114)][_0x3ce283(0x1b2)](this[_0x3ce283(0x190)]);}}]),_0x5c2aa0;}(BaseLayer);function _0x4190(_0xf64458,_0x5d36d9){var _0x5d0767=_0x5d07();return _0x4190=function(_0x4190f4,_0x4e0f70){_0x4190f4=_0x4190f4-0xea;var _0x569f0b=_0x5d0767[_0x4190f4];return _0x569f0b;},_0x4190(_0xf64458,_0x5d36d9);}mars3d__namespace[_0x33d41b(0x231)]['register'](_0x33d41b(0x18c),CanvasWindLayer),mars3d__namespace[_0x33d41b(0x173)][_0x33d41b(0x222)]=CanvasWindLayer,mars3d__namespace[_0x33d41b(0x1af)]=CanvasWindField,mars3d__namespace[_0x33d41b(0x153)]=WindUtil,exports[_0x33d41b(0x1af)]=CanvasWindField,exports['CanvasWindLayer']=CanvasWindLayer,exports[_0x33d41b(0x12f)]=WindLayer,exports[_0x33d41b(0x153)]=WindUtil,Object[_0x33d41b(0x237)](exports,_0x33d41b(0x240),{'value':!![]});
}));
