/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.4.10
 * 编译日期：2022-10-17 17:29:20
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';const _0x32524e=_0x43db;(function(_0x3e91ad,_0x306670){const _0x5a1722=_0x43db,_0x5513a0=_0x3e91ad();while(!![]){try{const _0x2a2e7d=parseInt(_0x5a1722(0x1f0))/0x1+-parseInt(_0x5a1722(0xf8))/0x2+parseInt(_0x5a1722(0xcb))/0x3+-parseInt(_0x5a1722(0x1ce))/0x4+parseInt(_0x5a1722(0x13b))/0x5+-parseInt(_0x5a1722(0xb6))/0x6+-parseInt(_0x5a1722(0x112))/0x7;if(_0x2a2e7d===_0x306670)break;else _0x5513a0['push'](_0x5513a0['shift']());}catch(_0x5b8df7){_0x5513a0['push'](_0x5513a0['shift']());}}}(_0x1488,0x8612d));function _interopNamespace(_0x5b8014){if(_0x5b8014&&_0x5b8014['__esModule'])return _0x5b8014;var _0x5910c8=Object['create'](null);return _0x5b8014&&Object['keys'](_0x5b8014)['forEach'](function(_0x3b10c2){const _0x39d5ba=_0x43db;if(_0x3b10c2!==_0x39d5ba(0x105)){var _0x2198b7=Object[_0x39d5ba(0x15e)](_0x5b8014,_0x3b10c2);Object[_0x39d5ba(0xe8)](_0x5910c8,_0x3b10c2,_0x2198b7[_0x39d5ba(0x15f)]?_0x2198b7:{'enumerable':!![],'get':function(){return _0x5b8014[_0x3b10c2];}});}}),_0x5910c8['default']=_0x5b8014,_0x5910c8;}var mars3d__namespace=_interopNamespace(mars3d);const Cesium$7=mars3d__namespace[_0x32524e(0x121)];function getU(_0x2379d4,_0x65e977){const _0x3e860a=_0x32524e,_0x1c8c2c=_0x2379d4*Math[_0x3e860a(0xae)](Cesium$7[_0x3e860a(0x1f6)]['toRadians'](_0x65e977));return _0x1c8c2c;}function getV(_0x316fb0,_0x42a568){const _0x1556d5=_0x32524e,_0x35dff1=_0x316fb0*Math['sin'](Cesium$7[_0x1556d5(0x1f6)][_0x1556d5(0x11d)](_0x42a568));return _0x35dff1;}function getSpeed(_0x2bf9a5,_0x333041){const _0x2d4171=_0x32524e,_0x1b147e=Math[_0x2d4171(0x1d3)](Math[_0x2d4171(0x1d9)](_0x2bf9a5,0x2)+Math['pow'](_0x333041,0x2));return _0x1b147e;}function getDirection(_0x2d58dd,_0x45c3e3){const _0x56afe7=_0x32524e;let _0x226f08=Cesium$7[_0x56afe7(0x1f6)][_0x56afe7(0x18b)](Math[_0x56afe7(0x1a7)](_0x45c3e3,_0x2d58dd));return _0x226f08+=_0x226f08<0x0?0x168:0x0,_0x226f08;}var WindUtil={'__proto__':null,'getU':getU,'getV':getV,'getSpeed':getSpeed,'getDirection':getDirection};const Cesium$6=mars3d__namespace[_0x32524e(0x121)];class CustomPrimitive{constructor(_0x5f0110){const _0x5c6663=_0x32524e;this[_0x5c6663(0x1b7)]=_0x5f0110[_0x5c6663(0x1b7)],this[_0x5c6663(0x159)]=_0x5f0110['geometry'],this['attributeLocations']=_0x5f0110['attributeLocations'],this[_0x5c6663(0x11a)]=_0x5f0110[_0x5c6663(0x11a)],this[_0x5c6663(0x167)]=_0x5f0110[_0x5c6663(0x167)],this[_0x5c6663(0x104)]=_0x5f0110[_0x5c6663(0x104)],this[_0x5c6663(0x1d2)]=_0x5f0110[_0x5c6663(0x1d2)],this[_0x5c6663(0xb2)]=_0x5f0110['rawRenderState'],this[_0x5c6663(0x12a)]=_0x5f0110[_0x5c6663(0x12a)],this[_0x5c6663(0x1a0)]=_0x5f0110[_0x5c6663(0x1a0)],this[_0x5c6663(0x186)]=_0x5f0110['autoClear']??![],this[_0x5c6663(0x1b9)]=_0x5f0110[_0x5c6663(0x1b9)],this[_0x5c6663(0xbc)]=!![],this['commandToExecute']=undefined,this[_0x5c6663(0x1c5)]=undefined,this[_0x5c6663(0x186)]&&(this[_0x5c6663(0x1c5)]=new Cesium$6[(_0x5c6663(0x1da))]({'color':new Cesium$6[(_0x5c6663(0x1f9))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x5c6663(0x12a)],'pass':Cesium$6[_0x5c6663(0x182)][_0x5c6663(0xa6)]}));}[_0x32524e(0x18c)](_0x17564d){const _0x4534fc=_0x32524e;switch(this[_0x4534fc(0x1b7)]){case'Draw':{const _0x53a997=Cesium$6[_0x4534fc(0x1b6)][_0x4534fc(0x1e4)]({'context':_0x17564d,'geometry':this[_0x4534fc(0x159)],'attributeLocations':this[_0x4534fc(0x1fe)],'bufferUsage':Cesium$6[_0x4534fc(0x151)][_0x4534fc(0x170)]}),_0x9b704b=Cesium$6[_0x4534fc(0x10e)][_0x4534fc(0xab)]({'context':_0x17564d,'attributeLocations':this[_0x4534fc(0x1fe)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this[_0x4534fc(0x1d2)]}),_0x15733d=Cesium$6[_0x4534fc(0xd6)]['fromCache'](this[_0x4534fc(0xb2)]);return new Cesium$6[(_0x4534fc(0x1b5))]({'owner':this,'vertexArray':_0x53a997,'primitiveType':this[_0x4534fc(0x11a)],'uniformMap':this[_0x4534fc(0x167)],'modelMatrix':Cesium$6['Matrix4'][_0x4534fc(0x13f)],'shaderProgram':_0x9b704b,'framebuffer':this[_0x4534fc(0x12a)],'renderState':_0x15733d,'pass':Cesium$6[_0x4534fc(0x182)][_0x4534fc(0xa6)]});}case'Compute':{return new Cesium$6[(_0x4534fc(0x1ca))]({'owner':this,'fragmentShaderSource':this[_0x4534fc(0x1d2)],'uniformMap':this[_0x4534fc(0x167)],'outputTexture':this[_0x4534fc(0x1a0)],'persists':!![]});}}}[_0x32524e(0x1ba)](_0x408f4e,_0x5438eb){const _0x38f567=_0x32524e;this[_0x38f567(0x159)]=_0x5438eb;const _0x81eb93=Cesium$6[_0x38f567(0x1b6)][_0x38f567(0x1e4)]({'context':_0x408f4e,'geometry':this[_0x38f567(0x159)],'attributeLocations':this[_0x38f567(0x1fe)],'bufferUsage':Cesium$6[_0x38f567(0x151)][_0x38f567(0x170)]});this['commandToExecute'][_0x38f567(0x129)]=_0x81eb93;}[_0x32524e(0x113)](_0x4f0dcc){const _0x26cf49=_0x32524e;if(!this[_0x26cf49(0xbc)])return;if(_0x4f0dcc['mode']!==Cesium$6[_0x26cf49(0x144)][_0x26cf49(0x1a4)])return;!Cesium$6['defined'](this['commandToExecute'])&&(this[_0x26cf49(0x1d1)]=this[_0x26cf49(0x18c)](_0x4f0dcc[_0x26cf49(0x173)])),Cesium$6[_0x26cf49(0xce)](this['preExecute'])&&this[_0x26cf49(0x1b9)](),Cesium$6[_0x26cf49(0xce)](this[_0x26cf49(0x1c5)])&&_0x4f0dcc[_0x26cf49(0x1e1)][_0x26cf49(0xb9)](this[_0x26cf49(0x1c5)]),_0x4f0dcc['commandList']['push'](this['commandToExecute']);}[_0x32524e(0x126)](){return![];}[_0x32524e(0x157)](){const _0x222788=_0x32524e;return Cesium$6['defined'](this[_0x222788(0x1d1)])&&(this[_0x222788(0x1d1)][_0x222788(0x193)]=this[_0x222788(0x1d1)][_0x222788(0x193)]&&this[_0x222788(0x1d1)][_0x222788(0x193)][_0x222788(0x157)]()),Cesium$6[_0x222788(0x1a2)](this);}}const Cesium$5=mars3d__namespace[_0x32524e(0x121)],Util=(function(){const _0x1b13d0=function(){const _0x1ba63d=_0x43db,_0x32ef91=new Cesium$5[(_0x1ba63d(0x163))]({'attributes':new Cesium$5[(_0x1ba63d(0x19a))]({'position':new Cesium$5[(_0x1ba63d(0x179))]({'componentDatatype':Cesium$5[_0x1ba63d(0x154)][_0x1ba63d(0x1f5)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x1ba63d(0x154)][_0x1ba63d(0x1f5)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});return _0x32ef91;},_0x327fe7=function(_0xf9a883,_0x1dff8d){const _0x4ffcd8=_0x43db;if(Cesium$5[_0x4ffcd8(0xce)](_0x1dff8d)){const _0x2c3561={};_0x2c3561[_0x4ffcd8(0x10f)]=_0x1dff8d,_0xf9a883[_0x4ffcd8(0x1d0)]=_0x2c3561;}const _0x304fd5=new Cesium$5['Texture'](_0xf9a883);return _0x304fd5;},_0xe311c8=function(_0x3fbd06,_0x2002f5,_0x3d63df){const _0x514206=_0x43db,_0x4a87e6=new Cesium$5[(_0x514206(0x161))]({'context':_0x3fbd06,'colorTextures':[_0x2002f5],'depthTexture':_0x3d63df});return _0x4a87e6;},_0x598625=function(_0x105b32){const _0x200b12=_0x43db,_0x21df74=!![],_0x3ed4d5=![],_0x4f863c={'viewport':_0x105b32[_0x200b12(0x1e0)],'depthTest':_0x105b32[_0x200b12(0x11c)],'depthMask':_0x105b32['depthMask'],'blending':_0x105b32[_0x200b12(0x1b2)]},_0x13f89c=Cesium$5[_0x200b12(0x14b)]['getDefaultRenderState'](_0x21df74,_0x3ed4d5,_0x4f863c);return _0x13f89c;},_0x142468=function(_0x4bfbec){const _0x1da55d=_0x43db,_0x2a5a13={},_0x1add11=Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x1e9)](_0x4bfbec[_0x1da55d(0x160)],Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x1a3)]),_0x14f52d=Cesium$5[_0x1da55d(0x1f6)]['mod'](_0x4bfbec[_0x1da55d(0x194)],Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x1a3)]),_0x2de34f=_0x4bfbec[_0x1da55d(0x1fc)];let _0x144419,_0x5419f6;_0x2de34f>Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0xf9)]?(_0x144419=0x0,_0x5419f6=Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x1a3)]):_0x14f52d-_0x1add11<_0x2de34f?(_0x144419=_0x1add11,_0x5419f6=_0x1add11+_0x2de34f):(_0x144419=_0x1add11,_0x5419f6=_0x14f52d);_0x2a5a13['lon']={'min':Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x18b)](_0x144419),'max':Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x18b)](_0x5419f6)};const _0x53e79a=_0x4bfbec[_0x1da55d(0x19f)],_0x2a4a00=_0x4bfbec[_0x1da55d(0xb5)],_0xffedce=_0x4bfbec['height'],_0x173b81=_0xffedce>Cesium$5[_0x1da55d(0x1f6)]['PI']/0xc?_0xffedce/0x2:0x0;let _0x47049c=Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0xff)](_0x53e79a-_0x173b81),_0x474919=Cesium$5['Math']['clampToLatitudeRange'](_0x2a4a00+_0x173b81);return _0x47049c<-Cesium$5[_0x1da55d(0x1f6)]['PI_OVER_THREE']&&(_0x47049c=-Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x17c)]),_0x474919>Cesium$5[_0x1da55d(0x1f6)]['PI_OVER_THREE']&&(_0x474919=Cesium$5['Math']['PI_OVER_TWO']),_0x2a5a13[_0x1da55d(0x131)]={'min':Cesium$5[_0x1da55d(0x1f6)][_0x1da55d(0x18b)](_0x47049c),'max':Cesium$5['Math'][_0x1da55d(0x18b)](_0x474919)},_0x2a5a13;};return{'getFullscreenQuad':_0x1b13d0,'createTexture':_0x327fe7,'createFramebuffer':_0xe311c8,'createRawRenderState':_0x598625,'viewRectangleToLonLatRange':_0x142468};}());var segmentDraw_vert=_0x32524e(0x181),segmentDraw_frag='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}',fullscreen_vert='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}',trailDraw_frag=_0x32524e(0xa7),screenDraw_frag='uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}';const Cesium$4=mars3d__namespace[_0x32524e(0x121)];class ParticlesRendering{constructor(_0x2011ce,_0x2561ad,_0xa76c30,_0x487b8d,_0x13f114){const _0x1552ce=_0x32524e;this['createRenderingTextures'](_0x2011ce,_0x2561ad,_0xa76c30[_0x1552ce(0x1fb)]),this['createRenderingFramebuffers'](_0x2011ce),this[_0x1552ce(0x11f)](_0x2011ce,_0xa76c30,_0x487b8d,_0x13f114);}['createRenderingTextures'](_0x1c0d46,_0x29f9df,_0x27619f){const _0x38e0a1=_0x32524e,_0x56a410={'context':_0x1c0d46,'width':_0x1c0d46[_0x38e0a1(0xee)],'height':_0x1c0d46[_0x38e0a1(0x1c0)],'pixelFormat':Cesium$4[_0x38e0a1(0x18e)][_0x38e0a1(0x17e)],'pixelDatatype':Cesium$4[_0x38e0a1(0x1d5)][_0x38e0a1(0xfe)]},_0x1c2e84={'context':_0x1c0d46,'width':_0x1c0d46['drawingBufferWidth'],'height':_0x1c0d46[_0x38e0a1(0x1c0)],'pixelFormat':Cesium$4[_0x38e0a1(0x18e)][_0x38e0a1(0x15a)],'pixelDatatype':Cesium$4[_0x38e0a1(0x1d5)][_0x38e0a1(0x1c7)]},_0xf73cac=_0x27619f[_0x38e0a1(0x1bb)],_0x54c5da=new Float32Array(_0xf73cac*0x3);for(let _0x5592e=0x0;_0x5592e<_0xf73cac;_0x5592e++){const _0x2b825d=Cesium$4[_0x38e0a1(0x1f9)][_0x38e0a1(0x1f1)](_0x27619f[_0x5592e]);_0x54c5da[0x3*_0x5592e]=_0x2b825d[_0x38e0a1(0x1d7)],_0x54c5da[0x3*_0x5592e+0x1]=_0x2b825d['green'],_0x54c5da[0x3*_0x5592e+0x2]=_0x2b825d[_0x38e0a1(0x17f)];}const _0x3100e0={'context':_0x1c0d46,'width':_0xf73cac,'height':0x1,'pixelFormat':Cesium$4['PixelFormat'][_0x38e0a1(0x120)],'pixelDatatype':Cesium$4[_0x38e0a1(0x1d5)]['FLOAT'],'sampler':new Cesium$4[(_0x38e0a1(0x164))]({'minificationFilter':Cesium$4[_0x38e0a1(0xcc)]['LINEAR'],'magnificationFilter':Cesium$4[_0x38e0a1(0x166)][_0x38e0a1(0x130)]})};this[_0x38e0a1(0x143)]={'segmentsColor':Util['createTexture'](_0x56a410),'segmentsDepth':Util[_0x38e0a1(0x171)](_0x1c2e84),'currentTrailsColor':Util[_0x38e0a1(0x171)](_0x56a410),'currentTrailsDepth':Util[_0x38e0a1(0x171)](_0x1c2e84),'nextTrailsColor':Util[_0x38e0a1(0x171)](_0x56a410),'nextTrailsDepth':Util['createTexture'](_0x1c2e84),'colorTable':Util[_0x38e0a1(0x171)](_0x3100e0,_0x54c5da)};}[_0x32524e(0x1a1)](_0x18b804){const _0x2383f6=_0x32524e;this['framebuffers']={'segments':Util[_0x2383f6(0x1ff)](_0x18b804,this[_0x2383f6(0x143)][_0x2383f6(0x137)],this[_0x2383f6(0x143)][_0x2383f6(0xf6)]),'currentTrails':Util[_0x2383f6(0x1ff)](_0x18b804,this[_0x2383f6(0x143)]['currentTrailsColor'],this['textures']['currentTrailsDepth']),'nextTrails':Util[_0x2383f6(0x1ff)](_0x18b804,this[_0x2383f6(0x143)][_0x2383f6(0xb1)],this[_0x2383f6(0x143)][_0x2383f6(0x1ec)])};}[_0x32524e(0x1eb)](_0x57cd19){const _0x4aee11=_0x32524e,_0x5789f9=0x4;let _0x8f54a9=[];for(let _0x81c33a=0x0;_0x81c33a<_0x57cd19[_0x4aee11(0xf5)];_0x81c33a++){for(let _0x15beb5=0x0;_0x15beb5<_0x57cd19[_0x4aee11(0xf5)];_0x15beb5++){for(let _0x2d9fe6=0x0;_0x2d9fe6<_0x5789f9;_0x2d9fe6++){_0x8f54a9[_0x4aee11(0xb9)](_0x81c33a/_0x57cd19[_0x4aee11(0xf5)]),_0x8f54a9[_0x4aee11(0xb9)](_0x15beb5/_0x57cd19['particlesTextureSize']);}}}_0x8f54a9=new Float32Array(_0x8f54a9);let _0x22baa4=[];const _0x5d6a39=[-0x1,0x1],_0x3c3857=[-0x1,0x1];for(let _0x5a83da=0x0;_0x5a83da<_0x57cd19[_0x4aee11(0xfd)];_0x5a83da++){for(let _0x4ae6a9=0x0;_0x4ae6a9<_0x5789f9/0x2;_0x4ae6a9++){for(let _0x4bc473=0x0;_0x4bc473<_0x5789f9/0x2;_0x4bc473++){_0x22baa4[_0x4aee11(0xb9)](_0x5d6a39[_0x4ae6a9]),_0x22baa4[_0x4aee11(0xb9)](_0x3c3857[_0x4bc473]),_0x22baa4[_0x4aee11(0xb9)](0x0);}}}_0x22baa4=new Float32Array(_0x22baa4);const _0x4de695=0x6*_0x57cd19[_0x4aee11(0xfd)],_0x28cbd4=new Uint32Array(_0x4de695);for(let _0x17227c=0x0,_0x5477a0=0x0,_0x430940=0x0;_0x17227c<_0x57cd19['maxParticles'];_0x17227c++){_0x28cbd4[_0x5477a0++]=_0x430940+0x0,_0x28cbd4[_0x5477a0++]=_0x430940+0x1,_0x28cbd4[_0x5477a0++]=_0x430940+0x2,_0x28cbd4[_0x5477a0++]=_0x430940+0x2,_0x28cbd4[_0x5477a0++]=_0x430940+0x1,_0x28cbd4[_0x5477a0++]=_0x430940+0x3,_0x430940+=0x4;}const _0x2b1974=new Cesium$4['Geometry']({'attributes':new Cesium$4[(_0x4aee11(0x19a))]({'st':new Cesium$4[(_0x4aee11(0x179))]({'componentDatatype':Cesium$4[_0x4aee11(0x154)][_0x4aee11(0x1f5)],'componentsPerAttribute':0x2,'values':_0x8f54a9}),'normal':new Cesium$4[(_0x4aee11(0x179))]({'componentDatatype':Cesium$4['ComponentDatatype'][_0x4aee11(0x1f5)],'componentsPerAttribute':0x3,'values':_0x22baa4})}),'indices':_0x28cbd4});return _0x2b1974;}['createRenderingPrimitives'](_0x3e6323,_0x21b2d6,_0x3b8220,_0x1ef960){const _0x560e0f=_0x32524e,_0xb120df=this;this[_0x560e0f(0x12e)]={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x560e0f(0x1eb)](_0x21b2d6),'primitiveType':Cesium$4[_0x560e0f(0x1e3)]['TRIANGLES'],'uniformMap':{'currentParticlesPosition':function(){const _0x4eb21f=_0x560e0f;return _0x1ef960[_0x4eb21f(0x18d)][_0x4eb21f(0x183)];},'postProcessingPosition':function(){const _0x1ef3d4=_0x560e0f;return _0x1ef960[_0x1ef3d4(0x18d)][_0x1ef3d4(0x1aa)];},'postProcessingSpeed':function(){const _0x5079b3=_0x560e0f;return _0x1ef960[_0x5079b3(0x18d)][_0x5079b3(0x1c4)];},'colorTable':function(){const _0xe28b80=_0x560e0f;return _0xb120df[_0xe28b80(0x143)][_0xe28b80(0x1ab)];},'aspect':function(){const _0x2b779f=_0x560e0f;return _0x3e6323[_0x2b779f(0xee)]/_0x3e6323[_0x2b779f(0x1c0)];},'pixelSize':function(){return _0x3b8220['pixelSize'];},'lineWidth':function(){const _0x3e10d1=_0x560e0f;return _0x21b2d6[_0x3e10d1(0x1d4)];},'particleHeight':function(){const _0x119d68=_0x560e0f;return _0x21b2d6[_0x119d68(0x103)];}},'vertexShaderSource':new Cesium$4[(_0x560e0f(0xcd))]({'sources':[segmentDraw_vert]}),'fragmentShaderSource':new Cesium$4[(_0x560e0f(0xcd))]({'sources':[segmentDraw_frag]}),'rawRenderState':Util[_0x560e0f(0xb7)]({'viewport':undefined,'depthTest':{'enabled':!![]},'depthMask':!![]}),'framebuffer':this[_0x560e0f(0x13d)]['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':_0x560e0f(0x117),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){const _0x562a82=_0x560e0f;return _0xb120df[_0x562a82(0x143)][_0x562a82(0x137)];},'segmentsDepthTexture':function(){const _0x22cb04=_0x560e0f;return _0xb120df[_0x22cb04(0x143)][_0x22cb04(0xf6)];},'currentTrailsColor':function(){const _0x84bd3b=_0x560e0f;return _0xb120df[_0x84bd3b(0x13d)]['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){const _0x5f2f27=_0x560e0f;return _0xb120df[_0x5f2f27(0x13d)]['currentTrails'][_0x5f2f27(0x1fd)];},'fadeOpacity':function(){return _0x21b2d6['fadeOpacity'];}},'vertexShaderSource':new Cesium$4[(_0x560e0f(0xcd))]({'defines':[_0x560e0f(0xfa)],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4['ShaderSource']({'defines':[_0x560e0f(0x1e2)],'sources':[trailDraw_frag]}),'rawRenderState':Util[_0x560e0f(0xb7)]({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4[_0x560e0f(0x155)][_0x560e0f(0xc7)]},'depthMask':!![]}),'framebuffer':this[_0x560e0f(0x13d)][_0x560e0f(0xb8)],'autoClear':!![],'preExecute':function(){const _0x18ea55=_0x560e0f,_0x34aad1=_0xb120df[_0x18ea55(0x13d)][_0x18ea55(0x1d8)];_0xb120df['framebuffers'][_0x18ea55(0x1d8)]=_0xb120df[_0x18ea55(0x13d)][_0x18ea55(0xb8)],_0xb120df[_0x18ea55(0x13d)][_0x18ea55(0xb8)]=_0x34aad1,_0xb120df[_0x18ea55(0x12e)][_0x18ea55(0xf1)][_0x18ea55(0x1d1)][_0x18ea55(0x12a)]=_0xb120df[_0x18ea55(0x13d)][_0x18ea55(0xb8)],_0xb120df[_0x18ea55(0x12e)][_0x18ea55(0xf1)][_0x18ea55(0x1c5)][_0x18ea55(0x12a)]=_0xb120df[_0x18ea55(0x13d)][_0x18ea55(0xb8)];}}),'screen':new CustomPrimitive({'commandType':_0x560e0f(0x117),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util[_0x560e0f(0xeb)](),'primitiveType':Cesium$4[_0x560e0f(0x1e3)][_0x560e0f(0xd8)],'uniformMap':{'trailsColorTexture':function(){const _0x53a36c=_0x560e0f;return _0xb120df[_0x53a36c(0x13d)][_0x53a36c(0xb8)][_0x53a36c(0xe3)](0x0);},'trailsDepthTexture':function(){const _0x27109b=_0x560e0f;return _0xb120df[_0x27109b(0x13d)]['nextTrails'][_0x27109b(0x1fd)];}},'vertexShaderSource':new Cesium$4[(_0x560e0f(0xcd))]({'defines':[_0x560e0f(0xfa)],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4[(_0x560e0f(0xcd))]({'defines':['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],'sources':[screenDraw_frag]}),'rawRenderState':Util[_0x560e0f(0xb7)]({'viewport':undefined,'depthTest':{'enabled':![]},'depthMask':!![],'blending':{'enabled':!![]}}),'framebuffer':undefined})};}}var getWind_frag='//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}',updateSpeed_frag=_0x32524e(0x16a),updatePosition_frag='uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}',postProcessingPosition_frag=_0x32524e(0x148),postProcessingSpeed_frag='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}';const Cesium$3=mars3d__namespace[_0x32524e(0x121)];class ParticlesComputing{constructor(_0x3e26cf,_0x43fe82,_0x53c533,_0x9bc413){const _0x139427=_0x32524e;this[_0x139427(0x1ed)]=_0x43fe82,this[_0x139427(0x1ea)](_0x3e26cf,_0x43fe82),this[_0x139427(0x188)](_0x3e26cf,_0x53c533,_0x9bc413),this['createComputingPrimitives'](_0x43fe82,_0x53c533,_0x9bc413);}['createWindTextures'](_0xdc035a,_0x297646){const _0x3d7e0c=_0x32524e,_0x41e9bf={'context':_0xdc035a,'width':_0x297646[_0x3d7e0c(0xf7)][_0x3d7e0c(0xac)],'height':_0x297646[_0x3d7e0c(0xf7)][_0x3d7e0c(0x131)]*(_0x297646['dimensions'][_0x3d7e0c(0xec)]||0x1),'pixelFormat':Cesium$3['PixelFormat'][_0x3d7e0c(0x1c9)],'pixelDatatype':Cesium$3[_0x3d7e0c(0x1d5)][_0x3d7e0c(0x1f5)],'flipY':![],'sampler':new Cesium$3[(_0x3d7e0c(0x164))]({'minificationFilter':Cesium$3[_0x3d7e0c(0xcc)][_0x3d7e0c(0x1f2)],'magnificationFilter':Cesium$3[_0x3d7e0c(0x166)][_0x3d7e0c(0x1f2)]})};this[_0x3d7e0c(0xc2)]={'U':Util[_0x3d7e0c(0x171)](_0x41e9bf,_0x297646['U'][_0x3d7e0c(0x172)]),'V':Util[_0x3d7e0c(0x171)](_0x41e9bf,_0x297646['V'][_0x3d7e0c(0x172)])};}[_0x32524e(0x188)](_0x5f1028,_0x2d202a,_0x1134c3){const _0x5f0e54=_0x32524e,_0x587748={'context':_0x5f1028,'width':_0x2d202a[_0x5f0e54(0xf5)],'height':_0x2d202a[_0x5f0e54(0xf5)],'pixelFormat':Cesium$3[_0x5f0e54(0x18e)]['RGBA'],'pixelDatatype':Cesium$3['PixelDatatype'][_0x5f0e54(0x1f5)],'flipY':![],'sampler':new Cesium$3[(_0x5f0e54(0x164))]({'minificationFilter':Cesium$3[_0x5f0e54(0xcc)]['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter'][_0x5f0e54(0x1f2)]})},_0x5b6095=this[_0x5f0e54(0x1e8)](_0x2d202a[_0x5f0e54(0xfd)],_0x1134c3),_0x55d8d3=new Float32Array(0x4*_0x2d202a['maxParticles'])[_0x5f0e54(0x107)](0x0);this['particlesTextures']={'particlesWind':Util[_0x5f0e54(0x171)](_0x587748),'currentParticlesPosition':Util[_0x5f0e54(0x171)](_0x587748,_0x5b6095),'nextParticlesPosition':Util[_0x5f0e54(0x171)](_0x587748,_0x5b6095),'currentParticlesSpeed':Util['createTexture'](_0x587748,_0x55d8d3),'nextParticlesSpeed':Util[_0x5f0e54(0x171)](_0x587748,_0x55d8d3),'postProcessingPosition':Util[_0x5f0e54(0x171)](_0x587748,_0x5b6095),'postProcessingSpeed':Util[_0x5f0e54(0x171)](_0x587748,_0x55d8d3)};}[_0x32524e(0x1e8)](_0x77af1f,_0x2c279a){const _0x51fadb=_0x32524e,_0x1aa789=new Float32Array(0x4*_0x77af1f);for(let _0x3caa7c=0x0;_0x3caa7c<_0x77af1f;_0x3caa7c++){_0x1aa789[0x4*_0x3caa7c]=Cesium$3[_0x51fadb(0x1f6)]['randomBetween'](_0x2c279a[_0x51fadb(0x1bf)]['x'],_0x2c279a[_0x51fadb(0x1bf)]['y']),_0x1aa789[0x4*_0x3caa7c+0x1]=Cesium$3[_0x51fadb(0x1f6)][_0x51fadb(0x14a)](_0x2c279a[_0x51fadb(0x13a)]['x'],_0x2c279a['latRange']['y']),_0x1aa789[0x4*_0x3caa7c+0x2]=Cesium$3[_0x51fadb(0x1f6)][_0x51fadb(0x14a)](this[_0x51fadb(0x1ed)][_0x51fadb(0xec)]['min'],this[_0x51fadb(0x1ed)]['lev'][_0x51fadb(0x1dd)]),_0x1aa789[0x4*_0x3caa7c+0x3]=0x0;}return _0x1aa789;}['destroyParticlesTextures'](){const _0x3404c3=_0x32524e;Object['keys'](this['particlesTextures'])[_0x3404c3(0xd1)](_0x2fe3ba=>{const _0x417885=_0x3404c3;this[_0x417885(0x18d)][_0x2fe3ba]['destroy']();});}['createComputingPrimitives'](_0x310d2e,_0x48a551,_0x2140ea){const _0x4ee1b5=_0x32524e,_0x152698=new Cesium$3[(_0x4ee1b5(0x12b))](_0x310d2e[_0x4ee1b5(0xf7)][_0x4ee1b5(0xac)],_0x310d2e['dimensions']['lat'],_0x310d2e['dimensions']['lev']),_0x37bcd1=new Cesium$3['Cartesian3'](_0x310d2e[_0x4ee1b5(0xac)][_0x4ee1b5(0x141)],_0x310d2e[_0x4ee1b5(0x131)]['min'],_0x310d2e[_0x4ee1b5(0xec)][_0x4ee1b5(0x141)]),_0x2829e1=new Cesium$3[(_0x4ee1b5(0x12b))](_0x310d2e[_0x4ee1b5(0xac)][_0x4ee1b5(0x1dd)],_0x310d2e['lat'][_0x4ee1b5(0x1dd)],_0x310d2e[_0x4ee1b5(0xec)][_0x4ee1b5(0x1dd)]),_0x69615c=new Cesium$3['Cartesian3']((_0x2829e1['x']-_0x37bcd1['x'])/(_0x152698['x']-0x1),(_0x2829e1['y']-_0x37bcd1['y'])/(_0x152698['y']-0x1),_0x152698['z']>0x1?(_0x2829e1['z']-_0x37bcd1['z'])/(_0x152698['z']-0x1):0x1),_0x30f67b=new Cesium$3[(_0x4ee1b5(0x109))](_0x310d2e['U'][_0x4ee1b5(0x141)],_0x310d2e['U'][_0x4ee1b5(0x1dd)]),_0x4bb530=new Cesium$3[(_0x4ee1b5(0x109))](_0x310d2e['V']['min'],_0x310d2e['V'][_0x4ee1b5(0x1dd)]),_0x5c75a6=this;this[_0x4ee1b5(0x12e)]={'getWind':new CustomPrimitive({'commandType':'Compute','uniformMap':{'U':function(){const _0x4d08a6=_0x4ee1b5;return _0x5c75a6[_0x4d08a6(0xc2)]['U'];},'V':function(){const _0x17cebf=_0x4ee1b5;return _0x5c75a6[_0x17cebf(0xc2)]['V'];},'currentParticlesPosition':function(){const _0x5cdf1d=_0x4ee1b5;return _0x5c75a6['particlesTextures'][_0x5cdf1d(0x183)];},'dimension':function(){return _0x152698;},'minimum':function(){return _0x37bcd1;},'maximum':function(){return _0x2829e1;},'interval':function(){return _0x69615c;}},'fragmentShaderSource':new Cesium$3[(_0x4ee1b5(0xcd))]({'sources':[getWind_frag]}),'outputTexture':this['particlesTextures']['particlesWind'],'preExecute':function(){const _0x380b6a=_0x4ee1b5;_0x5c75a6[_0x380b6a(0x12e)][_0x380b6a(0xf3)][_0x380b6a(0x1d1)][_0x380b6a(0x1a0)]=_0x5c75a6[_0x380b6a(0x18d)][_0x380b6a(0xe7)];}}),'updateSpeed':new CustomPrimitive({'commandType':_0x4ee1b5(0x138),'uniformMap':{'currentParticlesSpeed':function(){const _0x2842cd=_0x4ee1b5;return _0x5c75a6[_0x2842cd(0x18d)][_0x2842cd(0x168)];},'particlesWind':function(){const _0x187a2c=_0x4ee1b5;return _0x5c75a6[_0x187a2c(0x18d)][_0x187a2c(0xe7)];},'uSpeedRange':function(){return _0x30f67b;},'vSpeedRange':function(){return _0x4bb530;},'pixelSize':function(){return _0x2140ea['pixelSize'];},'speedFactor':function(){return _0x48a551['speedFactor'];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[updateSpeed_frag]}),'outputTexture':this[_0x4ee1b5(0x18d)]['nextParticlesSpeed'],'preExecute':function(){const _0x2a5da8=_0x4ee1b5,_0x1ca0f9=_0x5c75a6['particlesTextures'][_0x2a5da8(0x168)];_0x5c75a6[_0x2a5da8(0x18d)]['currentParticlesSpeed']=_0x5c75a6['particlesTextures']['postProcessingSpeed'],_0x5c75a6[_0x2a5da8(0x18d)][_0x2a5da8(0x1c4)]=_0x1ca0f9,_0x5c75a6['primitives'][_0x2a5da8(0x187)]['commandToExecute'][_0x2a5da8(0x1a0)]=_0x5c75a6[_0x2a5da8(0x18d)][_0x2a5da8(0x1de)];}}),'updatePosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){const _0x537536=_0x4ee1b5;return _0x5c75a6[_0x537536(0x18d)]['currentParticlesPosition'];},'currentParticlesSpeed':function(){const _0xca1eba=_0x4ee1b5;return _0x5c75a6[_0xca1eba(0x18d)][_0xca1eba(0x168)];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[updatePosition_frag]}),'outputTexture':this[_0x4ee1b5(0x18d)][_0x4ee1b5(0x1be)],'preExecute':function(){const _0x4ce46b=_0x4ee1b5,_0x42f068=_0x5c75a6[_0x4ce46b(0x18d)][_0x4ce46b(0x183)];_0x5c75a6[_0x4ce46b(0x18d)][_0x4ce46b(0x183)]=_0x5c75a6[_0x4ce46b(0x18d)]['postProcessingPosition'],_0x5c75a6['particlesTextures'][_0x4ce46b(0x1aa)]=_0x42f068,_0x5c75a6[_0x4ce46b(0x12e)][_0x4ce46b(0x149)][_0x4ce46b(0x1d1)][_0x4ce46b(0x1a0)]=_0x5c75a6[_0x4ce46b(0x18d)][_0x4ce46b(0x1be)];}}),'postProcessingPosition':new CustomPrimitive({'commandType':_0x4ee1b5(0x138),'uniformMap':{'nextParticlesPosition':function(){return _0x5c75a6['particlesTextures']['nextParticlesPosition'];},'nextParticlesSpeed':function(){const _0x1ba86b=_0x4ee1b5;return _0x5c75a6[_0x1ba86b(0x18d)][_0x1ba86b(0x1de)];},'lonRange':function(){const _0x23cd56=_0x4ee1b5;return _0x2140ea[_0x23cd56(0x1bf)];},'latRange':function(){const _0x4e36f0=_0x4ee1b5;return _0x2140ea[_0x4e36f0(0x13a)];},'randomCoefficient':function(){const _0x3a9d38=_0x4ee1b5,_0x2b8087=Math[_0x3a9d38(0x19e)]();return _0x2b8087;},'dropRate':function(){const _0x2ff7e6=_0x4ee1b5;return _0x48a551[_0x2ff7e6(0x180)];},'dropRateBump':function(){const _0x287e15=_0x4ee1b5;return _0x48a551[_0x287e15(0xf2)];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[postProcessingPosition_frag]}),'outputTexture':this[_0x4ee1b5(0x18d)][_0x4ee1b5(0x1aa)],'preExecute':function(){const _0x524c54=_0x4ee1b5;_0x5c75a6['primitives']['postProcessingPosition'][_0x524c54(0x1d1)][_0x524c54(0x1a0)]=_0x5c75a6[_0x524c54(0x18d)][_0x524c54(0x1aa)];}}),'postProcessingSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':{'postProcessingPosition':function(){const _0x5a7877=_0x4ee1b5;return _0x5c75a6[_0x5a7877(0x18d)][_0x5a7877(0x1aa)];},'nextParticlesSpeed':function(){const _0x46838f=_0x4ee1b5;return _0x5c75a6[_0x46838f(0x18d)][_0x46838f(0x1de)];}},'fragmentShaderSource':new Cesium$3[(_0x4ee1b5(0xcd))]({'sources':[postProcessingSpeed_frag]}),'outputTexture':this[_0x4ee1b5(0x18d)]['postProcessingSpeed'],'preExecute':function(){const _0x2f0670=_0x4ee1b5;_0x5c75a6[_0x2f0670(0x12e)]['postProcessingSpeed'][_0x2f0670(0x1d1)][_0x2f0670(0x1a0)]=_0x5c75a6[_0x2f0670(0x18d)]['postProcessingSpeed'];}})};}}const Cesium$2=mars3d__namespace[_0x32524e(0x121)];class ParticleSystem{constructor(_0x286c4c,_0x3f97fb,_0x2c2eba,_0x875926){const _0x3a4c61=_0x32524e;this[_0x3a4c61(0x173)]=_0x286c4c,_0x3f97fb={..._0x3f97fb},_0x3f97fb[_0x3a4c61(0x1b4)]&&_0x3f97fb[_0x3a4c61(0x177)]&&(_0x3f97fb[_0x3a4c61(0xf7)]={},_0x3f97fb[_0x3a4c61(0xf7)]['lon']=_0x3f97fb[_0x3a4c61(0x119)],_0x3f97fb[_0x3a4c61(0xf7)][_0x3a4c61(0x131)]=_0x3f97fb[_0x3a4c61(0x1b8)],_0x3f97fb[_0x3a4c61(0xf7)][_0x3a4c61(0xec)]=_0x3f97fb['lev']||0x1,_0x3f97fb[_0x3a4c61(0xac)]={},_0x3f97fb[_0x3a4c61(0xac)][_0x3a4c61(0x141)]=_0x3f97fb['xmin'],_0x3f97fb['lon'][_0x3a4c61(0x1dd)]=_0x3f97fb[_0x3a4c61(0x147)],_0x3f97fb[_0x3a4c61(0x131)]={},_0x3f97fb[_0x3a4c61(0x131)][_0x3a4c61(0x141)]=_0x3f97fb[_0x3a4c61(0xc6)],_0x3f97fb['lat'][_0x3a4c61(0x1dd)]=_0x3f97fb['ymax'],_0x3f97fb[_0x3a4c61(0xec)]={},_0x3f97fb['lev'][_0x3a4c61(0x141)]=_0x3f97fb[_0x3a4c61(0x1f4)]??0x1,_0x3f97fb[_0x3a4c61(0xec)][_0x3a4c61(0x1dd)]=_0x3f97fb[_0x3a4c61(0xaa)]??0x1,_0x3f97fb['U']={},_0x3f97fb['U'][_0x3a4c61(0x172)]=new Float32Array(_0x3f97fb[_0x3a4c61(0x1b4)]),_0x3f97fb['U'][_0x3a4c61(0x141)]=_0x3f97fb[_0x3a4c61(0x16b)]??Math[_0x3a4c61(0x141)](..._0x3f97fb[_0x3a4c61(0x1b4)]),_0x3f97fb['U']['max']=_0x3f97fb[_0x3a4c61(0x135)]??Math['max'](..._0x3f97fb[_0x3a4c61(0x1b4)]),_0x3f97fb['V']={},_0x3f97fb['V'][_0x3a4c61(0x172)]=new Float32Array(_0x3f97fb[_0x3a4c61(0x177)]),_0x3f97fb['V'][_0x3a4c61(0x141)]=_0x3f97fb['vmin']??Math[_0x3a4c61(0x141)](..._0x3f97fb['vdata']),_0x3f97fb['V']['max']=_0x3f97fb['vmax']??Math[_0x3a4c61(0x1dd)](..._0x3f97fb[_0x3a4c61(0x177)])),this['data']=_0x3f97fb,this['options']=_0x2c2eba,this[_0x3a4c61(0x192)]=_0x875926,this[_0x3a4c61(0xb0)]=new ParticlesComputing(this[_0x3a4c61(0x173)],this[_0x3a4c61(0x1ed)],this[_0x3a4c61(0xaf)],this[_0x3a4c61(0x192)]),this[_0x3a4c61(0x175)]=new ParticlesRendering(this[_0x3a4c61(0x173)],this['data'],this['options'],this['viewerParameters'],this[_0x3a4c61(0xb0)]);}[_0x32524e(0xa9)](_0x1f7753){const _0x263b6f=_0x32524e;this[_0x263b6f(0xb0)]['destroyParticlesTextures'](),Object[_0x263b6f(0x1af)](this['particlesComputing'][_0x263b6f(0xc2)])[_0x263b6f(0xd1)](_0x26ad17=>{const _0x144c76=_0x263b6f;this['particlesComputing'][_0x144c76(0xc2)][_0x26ad17][_0x144c76(0x157)]();}),this[_0x263b6f(0x175)][_0x263b6f(0x143)][_0x263b6f(0x1ab)][_0x263b6f(0x157)](),Object[_0x263b6f(0x1af)](this[_0x263b6f(0x175)][_0x263b6f(0x13d)])['forEach'](_0x4331c2=>{const _0xedf483=_0x263b6f;this[_0xedf483(0x175)]['framebuffers'][_0x4331c2][_0xedf483(0x157)]();}),this[_0x263b6f(0x173)]=_0x1f7753,this['particlesComputing']=new ParticlesComputing(this['context'],this[_0x263b6f(0x1ed)],this[_0x263b6f(0xaf)],this[_0x263b6f(0x192)]),this[_0x263b6f(0x175)]=new ParticlesRendering(this['context'],this[_0x263b6f(0x1ed)],this[_0x263b6f(0xaf)],this[_0x263b6f(0x192)],this[_0x263b6f(0xb0)]);}['clearFramebuffers'](){const _0x224a16=_0x32524e,_0x3afde1=new Cesium$2[(_0x224a16(0x1da))]({'color':new Cesium$2[(_0x224a16(0x1f9))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2['Pass'][_0x224a16(0xa6)]});Object[_0x224a16(0x1af)](this[_0x224a16(0x175)][_0x224a16(0x13d)])[_0x224a16(0xd1)](_0x44e4c6=>{const _0x29caba=_0x224a16;_0x3afde1[_0x29caba(0x12a)]=this[_0x29caba(0x175)]['framebuffers'][_0x44e4c6],_0x3afde1[_0x29caba(0x1e6)](this[_0x29caba(0x173)]);});}[_0x32524e(0x110)](_0x173a27){const _0x1a5382=_0x32524e;this[_0x1a5382(0x184)](),this[_0x1a5382(0xb0)]['destroyParticlesTextures'](),this[_0x1a5382(0xb0)][_0x1a5382(0x188)](this[_0x1a5382(0x173)],this['options'],this[_0x1a5382(0x192)]);if(_0x173a27){const _0x30e51e=this[_0x1a5382(0x175)][_0x1a5382(0x1eb)](this['options']);this[_0x1a5382(0x175)][_0x1a5382(0x12e)]['segments'][_0x1a5382(0x159)]=_0x30e51e;const _0x4b9105=Cesium$2['VertexArray'][_0x1a5382(0x1e4)]({'context':this['context'],'geometry':_0x30e51e,'attributeLocations':this[_0x1a5382(0x175)]['primitives']['segments'][_0x1a5382(0x1fe)],'bufferUsage':Cesium$2[_0x1a5382(0x151)][_0x1a5382(0x170)]});this[_0x1a5382(0x175)]['primitives'][_0x1a5382(0x152)]['commandToExecute'][_0x1a5382(0x129)]=_0x4b9105;}}[_0x32524e(0x1ef)](_0x11da7d){const _0x509e7e=_0x32524e;let _0x285114=![];this[_0x509e7e(0xaf)][_0x509e7e(0xfd)]!==_0x11da7d['maxParticles']&&(_0x285114=!![]),Object['keys'](_0x11da7d)['forEach'](_0x3ec7d8=>{this['options'][_0x3ec7d8]=_0x11da7d[_0x3ec7d8];}),this['refreshParticles'](_0x285114);}[_0x32524e(0x100)](_0x121eeb){const _0x3309b7=_0x32524e;Object[_0x3309b7(0x1af)](_0x121eeb)['forEach'](_0x3853e5=>{const _0x4ea6fb=_0x3309b7;this[_0x4ea6fb(0x192)][_0x3853e5]=_0x121eeb[_0x3853e5];}),this['refreshParticles'](![]);}[_0x32524e(0x157)](){const _0x82303a=_0x32524e;clearTimeout(this[_0x82303a(0xed)]),this[_0x82303a(0xb0)][_0x82303a(0x153)](),Object[_0x82303a(0x1af)](this[_0x82303a(0xb0)][_0x82303a(0xc2)])[_0x82303a(0xd1)](_0x3e1f2d=>{const _0x26cbb0=_0x82303a;this[_0x26cbb0(0xb0)][_0x26cbb0(0xc2)][_0x3e1f2d][_0x26cbb0(0x157)]();}),this[_0x82303a(0x175)][_0x82303a(0x143)][_0x82303a(0x1ab)][_0x82303a(0x157)](),Object[_0x82303a(0x1af)](this[_0x82303a(0x175)]['framebuffers'])[_0x82303a(0xd1)](_0x2545ff=>{const _0xa9fbc0=_0x82303a;this[_0xa9fbc0(0x175)][_0xa9fbc0(0x13d)][_0x2545ff][_0xa9fbc0(0x157)]();});for(const _0x17f972 in this){delete this[_0x17f972];}}}const Cesium$1=mars3d__namespace[_0x32524e(0x121)],BaseLayer$1=mars3d__namespace[_0x32524e(0x1fa)][_0x32524e(0x1dc)],DEF_OPTIONS={'particlesNumber':0x1000,'fixedHeight':0x0,'fadeOpacity':0.996,'dropRate':0.003,'dropRateBump':0.01,'speedFactor':0.5,'lineWidth':0x2,'colors':[_0x32524e(0x118)]};class WindLayer extends BaseLayer$1{constructor(){const _0x490fbe=_0x32524e;let _0xd74a6b=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};_0xd74a6b={...DEF_OPTIONS,..._0xd74a6b},super(_0xd74a6b),this[_0x490fbe(0x1f7)](_0xd74a6b);}get[_0x32524e(0x1fa)](){const _0x5cde53=_0x32524e;return this[_0x5cde53(0x12e)];}get['data'](){const _0x5028a6=_0x32524e;return this[_0x5028a6(0xc0)];}set[_0x32524e(0x1ed)](_0x30e912){const _0x8a2e34=_0x32524e;this[_0x8a2e34(0xad)](_0x30e912);}get['colors'](){const _0x34783c=_0x32524e;return this[_0x34783c(0xaf)][_0x34783c(0x1fb)];}set[_0x32524e(0x1fb)](_0x19bfe8){const _0x362452=_0x32524e;this['options']['colors']=_0x19bfe8,this['particleSystem']&&this[_0x362452(0x10d)][_0x362452(0x1ef)]({'colors':_0x19bfe8}),this[_0x362452(0x14c)]();}[_0x32524e(0xd3)](){}[_0x32524e(0xb4)](){const _0x140348=_0x32524e;this[_0x140348(0x18a)]=this['_map']['scene'],this['camera']=this['_map'][_0x140348(0xdc)],this[_0x140348(0x12e)]=new Cesium$1['PrimitiveCollection'](),this[_0x140348(0x1b0)][_0x140348(0x18a)][_0x140348(0x12e)]['add'](this[_0x140348(0x12e)]),this[_0x140348(0x192)]={'lonRange':new Cesium$1[(_0x140348(0x109))](),'latRange':new Cesium$1['Cartesian2'](),'pixelSize':0x0},this[_0x140348(0xd4)]=new Cesium$1[(_0x140348(0x111))](Cesium$1[_0x140348(0x12b)][_0x140348(0x17a)],0.99*0x615299),this[_0x140348(0xd2)](),window[_0x140348(0x176)](_0x140348(0x14c),this['resize'][_0x140348(0xbe)](this),![]),this[_0x140348(0xe2)]=![],this[_0x140348(0x19d)]=![],this[_0x140348(0x1b0)]['on'](mars3d__namespace[_0x140348(0xc1)][_0x140348(0x16f)],this[_0x140348(0x124)],this),this[_0x140348(0x1b0)]['on'](mars3d__namespace['EventType'][_0x140348(0xd0)],this[_0x140348(0x1cb)],this),this[_0x140348(0x1b0)]['on'](mars3d__namespace[_0x140348(0xc1)][_0x140348(0xd7)],this['_onMouseUpEvent'],this),this[_0x140348(0x1b0)]['on'](mars3d__namespace[_0x140348(0xc1)]['mouseMove'],this[_0x140348(0x19c)],this),this[_0x140348(0xc0)]&&this[_0x140348(0xad)](this[_0x140348(0xc0)]);}['_removedHook'](){const _0x313c30=_0x32524e;window[_0x313c30(0x1e7)]('resize',this[_0x313c30(0x14c)]),this[_0x313c30(0x1b0)]['off'](mars3d__namespace[_0x313c30(0xc1)][_0x313c30(0xc9)],this[_0x313c30(0x16e)],this),this[_0x313c30(0x1b0)][_0x313c30(0x13c)](mars3d__namespace[_0x313c30(0xc1)][_0x313c30(0x16f)],this[_0x313c30(0x124)],this),this[_0x313c30(0x1b0)][_0x313c30(0x13c)](mars3d__namespace[_0x313c30(0xc1)][_0x313c30(0xd0)],this[_0x313c30(0x1cb)],this),this[_0x313c30(0x1b0)][_0x313c30(0x13c)](mars3d__namespace['EventType']['mouseUp'],this['_onMouseUpEvent'],this),this[_0x313c30(0x1b0)][_0x313c30(0x13c)](mars3d__namespace[_0x313c30(0xc1)][_0x313c30(0x12c)],this[_0x313c30(0x19c)],this),this[_0x313c30(0x12e)][_0x313c30(0xf4)](),this['_map'][_0x313c30(0x18a)][_0x313c30(0x12e)][_0x313c30(0xa8)](this[_0x313c30(0x12e)]);}[_0x32524e(0x14c)](){const _0x321c79=_0x32524e;if(!this[_0x321c79(0xbc)]||!this[_0x321c79(0x10d)])return;this[_0x321c79(0x12e)][_0x321c79(0xbc)]=![],this[_0x321c79(0x12e)]['removeAll'](),this[_0x321c79(0x1b0)][_0x321c79(0x1db)](mars3d__namespace[_0x321c79(0xc1)][_0x321c79(0xc9)],this[_0x321c79(0x16e)],this);}[_0x32524e(0x16e)](_0x19d20c){const _0x1b2fce=_0x32524e;this[_0x1b2fce(0x10d)][_0x1b2fce(0xa9)](this[_0x1b2fce(0x18a)]['context']),this['addPrimitives'](),this[_0x1b2fce(0x12e)][_0x1b2fce(0xbc)]=!![];}[_0x32524e(0x124)](_0x43983b){const _0x2c40e7=_0x32524e;clearTimeout(this[_0x2c40e7(0x1a8)]);if(!this['show']||!this[_0x2c40e7(0x10d)])return;this[_0x2c40e7(0x12e)][_0x2c40e7(0xbc)]=![],this['refreshTimer']=setTimeout(()=>{const _0x586b19=_0x2c40e7;if(!this[_0x586b19(0xbc)])return;this[_0x586b19(0x1b1)]();},0xc8);}[_0x32524e(0x1cb)](_0x5aa2f7){const _0x482907=_0x32524e;this[_0x482907(0xe2)]=!![];}['_onMouseMoveEvent'](_0x20316e){const _0x1c5c1a=_0x32524e;if(!this[_0x1c5c1a(0xbc)]||!this[_0x1c5c1a(0x10d)])return;this[_0x1c5c1a(0xe2)]&&(this[_0x1c5c1a(0x12e)][_0x1c5c1a(0xbc)]=![],this[_0x1c5c1a(0x19d)]=!![]);}[_0x32524e(0x197)](_0x43f1da){const _0x460aa2=_0x32524e;if(!this[_0x460aa2(0xbc)]||!this[_0x460aa2(0x10d)])return;this['mouse_down']&&this[_0x460aa2(0x19d)]&&this[_0x460aa2(0x1b1)](),this[_0x460aa2(0x12e)]['show']=!![],this[_0x460aa2(0xe2)]=![],this[_0x460aa2(0x19d)]=![];}[_0x32524e(0x1b1)](){const _0x5236c8=_0x32524e;if(!this['_map']||!this['show'])return;this[_0x5236c8(0xd2)](),this[_0x5236c8(0x10d)][_0x5236c8(0x100)](this[_0x5236c8(0x192)]),this[_0x5236c8(0x12e)][_0x5236c8(0xbc)]=!![];}[_0x32524e(0xad)](_0x1fe8c5){const _0x2c818e=_0x32524e;this[_0x2c818e(0xc0)]=_0x1fe8c5,this[_0x2c818e(0x10d)]&&this[_0x2c818e(0x10d)][_0x2c818e(0x157)](),this['particleSystem']=new ParticleSystem(this[_0x2c818e(0x18a)][_0x2c818e(0x173)],_0x1fe8c5,this[_0x2c818e(0x165)](),this[_0x2c818e(0x192)]),this[_0x2c818e(0x1cf)]();}[_0x32524e(0x1f7)](_0x3823e0,_0x15c5e1){const _0x580769=_0x32524e;if(_0x3823e0)for(const _0x5f3a72 in _0x3823e0){this[_0x5f3a72]=_0x3823e0[_0x5f3a72];}this['particleSystem']&&this[_0x580769(0x10d)][_0x580769(0x1ef)](this[_0x580769(0x165)]());}[_0x32524e(0x165)](){const _0x4202dc=_0x32524e,_0x5825fd=Math['ceil'](Math[_0x4202dc(0x1d3)](this['particlesNumber']));return this['particlesNumber']=_0x5825fd*_0x5825fd,{'particlesTextureSize':_0x5825fd,'maxParticles':this[_0x4202dc(0xe5)],'particleHeight':this[_0x4202dc(0xe9)],'fadeOpacity':this[_0x4202dc(0x14e)],'dropRate':this[_0x4202dc(0x180)],'dropRateBump':this[_0x4202dc(0xf2)],'speedFactor':this[_0x4202dc(0xdf)],'lineWidth':this[_0x4202dc(0x1d4)],'globeLayer':this[_0x4202dc(0x101)],'WMS_URL':this[_0x4202dc(0x123)],'colors':this[_0x4202dc(0x1fb)]};}['addPrimitives'](){const _0xd74c74=_0x32524e;this[_0xd74c74(0x12e)][_0xd74c74(0x16c)](this[_0xd74c74(0x10d)]['particlesComputing'][_0xd74c74(0x12e)][_0xd74c74(0xf3)]),this[_0xd74c74(0x12e)][_0xd74c74(0x16c)](this[_0xd74c74(0x10d)][_0xd74c74(0xb0)][_0xd74c74(0x12e)][_0xd74c74(0x187)]),this[_0xd74c74(0x12e)][_0xd74c74(0x16c)](this[_0xd74c74(0x10d)][_0xd74c74(0xb0)][_0xd74c74(0x12e)][_0xd74c74(0x149)]),this[_0xd74c74(0x12e)][_0xd74c74(0x16c)](this[_0xd74c74(0x10d)][_0xd74c74(0xb0)][_0xd74c74(0x12e)]['postProcessingPosition']),this[_0xd74c74(0x12e)][_0xd74c74(0x16c)](this[_0xd74c74(0x10d)][_0xd74c74(0xb0)]['primitives'][_0xd74c74(0x1c4)]),this[_0xd74c74(0x12e)][_0xd74c74(0x16c)](this[_0xd74c74(0x10d)]['particlesRendering']['primitives']['segments']),this[_0xd74c74(0x12e)]['add'](this[_0xd74c74(0x10d)][_0xd74c74(0x175)][_0xd74c74(0x12e)][_0xd74c74(0xf1)]),this[_0xd74c74(0x12e)]['add'](this['particleSystem'][_0xd74c74(0x175)][_0xd74c74(0x12e)][_0xd74c74(0x14f)]);}[_0x32524e(0xd2)](){const _0x399b56=_0x32524e;let _0x5010b3=this[_0x399b56(0xdc)][_0x399b56(0x1bd)](this[_0x399b56(0x18a)][_0x399b56(0x14d)]['ellipsoid']);if(!_0x5010b3){const _0x27c77b=this[_0x399b56(0x1b0)]['getExtent']();_0x5010b3=Cesium$1['Rectangle'][_0x399b56(0xd9)](_0x27c77b[_0x399b56(0x1ac)],_0x27c77b[_0x399b56(0xc6)],_0x27c77b[_0x399b56(0x147)],_0x27c77b[_0x399b56(0xda)]);}const _0x532b07=Util[_0x399b56(0x116)](_0x5010b3);this[_0x399b56(0x192)][_0x399b56(0x1bf)]['x']=_0x532b07[_0x399b56(0xac)]['min'],this[_0x399b56(0x192)][_0x399b56(0x1bf)]['y']=_0x532b07[_0x399b56(0xac)][_0x399b56(0x1dd)],this[_0x399b56(0x192)][_0x399b56(0x13a)]['x']=_0x532b07['lat'][_0x399b56(0x141)],this[_0x399b56(0x192)][_0x399b56(0x13a)]['y']=_0x532b07[_0x399b56(0x131)][_0x399b56(0x1dd)];const _0x183ace=this[_0x399b56(0xdc)]['getPixelSize'](this[_0x399b56(0xd4)],this[_0x399b56(0x18a)][_0x399b56(0xee)],this[_0x399b56(0x18a)][_0x399b56(0x1c0)]);_0x183ace>0x0&&(this['viewerParameters'][_0x399b56(0x1c8)]=_0x183ace);}}mars3d__namespace['LayerUtil'][_0x32524e(0x1c6)](_0x32524e(0x15b),WindLayer),mars3d__namespace[_0x32524e(0x1fa)]['WindLayer']=WindLayer;function _0x43db(_0x3d6cf6,_0x3b6943){const _0x14880c=_0x1488();return _0x43db=function(_0x43db0e,_0x41f2d3){_0x43db0e=_0x43db0e-0xa6;let _0x13b30f=_0x14880c[_0x43db0e];if(_0x43db['uOCGqW']===undefined){var _0x449bde=function(_0x5b8014){const _0x5910c8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3b10c2='',_0x2198b7='';for(let _0x2379d4=0x0,_0x65e977,_0x1c8c2c,_0x316fb0=0x0;_0x1c8c2c=_0x5b8014['charAt'](_0x316fb0++);~_0x1c8c2c&&(_0x65e977=_0x2379d4%0x4?_0x65e977*0x40+_0x1c8c2c:_0x1c8c2c,_0x2379d4++%0x4)?_0x3b10c2+=String['fromCharCode'](0xff&_0x65e977>>(-0x2*_0x2379d4&0x6)):0x0){_0x1c8c2c=_0x5910c8['indexOf'](_0x1c8c2c);}for(let _0x42a568=0x0,_0x35dff1=_0x3b10c2['length'];_0x42a568<_0x35dff1;_0x42a568++){_0x2198b7+='%'+('00'+_0x3b10c2['charCodeAt'](_0x42a568)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2198b7);};_0x43db['EoyXlE']=_0x449bde,_0x3d6cf6=arguments,_0x43db['uOCGqW']=!![];}const _0x242973=_0x14880c[0x0],_0x240b80=_0x43db0e+_0x242973,_0x4115e5=_0x3d6cf6[_0x240b80];return!_0x4115e5?(_0x13b30f=_0x43db['EoyXlE'](_0x13b30f),_0x3d6cf6[_0x240b80]=_0x13b30f):_0x13b30f=_0x4115e5,_0x13b30f;},_0x43db(_0x3d6cf6,_0x3b6943);}function _0x1488(){const _0x2d7075=['CgfYDgLJBgvZuMvUzgvYAw5N','ywrKrxzLBNrmAxn0zw5LCG','DMrHDge','y2XPzw50sgvPz2H0','r2vVBwv0CNLbDhrYAwj1Dgu','wKvstW','y2fUDMfZ','ueLFt1zfuL9uv08','y2fUDMfZq29UDgv4Da','uKDcqq','yMX1zq','zhjVCfjHDgu','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','ugfZCW','y3vYCMvUDfbHCNrPy2XLC1bVC2L0Aw9U','y2XLyxjgCMfTzwj1zMzLCNm','y2fUDMfZv2LUza','yxv0B0nSzwfY','DxbKyxrLu3bLzwq','y3jLyxrLugfYDgLJBgvZvgv4DhvYzxm','x3rVBwfW','C2nLBMu','Dg9ezwDYzwvZ','y3jLyxrLq29TBwfUza','CgfYDgLJBgvZvgv4DhvYzxm','ugL4zwXgB3jTyxq','tgf5zxjvDgLS','zhjHD1DPBMq','z3jPza','DMLLD2vYugfYyw1LDgvYCW','C2HHzgvYuhjVz3jHBq','zwfZDa','yMvNAw5qyxrO','y2fUy2vSqw5PBwf0Aw9UrNjHBwu','x29Utw91C2vvCev2zw50','z2v0vvzcEvbVAw50','x2nYzwf0zunHBNzHCW','r2vVBwv0CNLbDhrYAwj1DgvZ','z2XVyMfSq29TCg9ZAxrLt3bLCMf0Aw9U','x29Utw91C2vnB3zLrxzLBNq','Bw91C2vFBw92zq','CMfUzg9T','C291DgG','B3v0Chv0vgv4DhvYzq','y3jLyxrLuMvUzgvYAw5NrNjHBwvIDwzMzxjZ','zgvZDhjVEu9IAMvJDa','vfDpx1bj','u0nftKuZra','z2v0vvzcEvHz','zg9JDw1LBNq','yxrHBJi','CMvMCMvZAfrPBwvY','x2jPBgLUzwfYsw50zxjWB2XHDgLVBG','Cg9ZDfbYB2nLC3nPBMDqB3nPDgLVBG','y29SB3juywjSzq','Eg1PBG','x2nHBgntDgvW','Bwf4qwDL','A2v5CW','x21HCa','CMvKCMf3','yMXLBMrPBMC','zNjHBwvsyxrL','DwrHDge','rhjHD0nVBw1HBMq','vMvYDgv4qxjYyxK','y29TBwfUzfr5Cgu','CM93CW','ChjLrxHLy3v0zq','C2v0r2vVBwv0CNK','BgvUz3rO','y2XLyxi','y29TChv0zvzPzxDszwn0yw5NBgu','BMv4DfbHCNrPy2XLC1bVC2L0Aw9U','Bg9UuMfUz2u','zhjHD2LUz0j1zMzLCKHLAwDODa','C3rYB2TL','CM91BMq','Bw92zvrV','Cg9ZDfbYB2nLC3nPBMDtCgvLza','y2XLyxjdB21Tyw5K','CMvNAxn0zxi','vu5tsuDorurFsu5u','CgL4zwXtAxPL','tfvnsu5btKnf','q29TChv0zunVBw1HBMq','x29Utw91C2veB3DUrxzLBNq','DMLZAwjSzq','CMvTB3zLq2HPBgq','mJGWmJyWofzKzffswG','ywrKuhjPBwL0AxzLCW','C291CMnL','y29TBwfUzfrVrxHLy3v0zq','zNjHz21LBNrtAgfKzxjtB3vYy2u','C3fYDa','BgLUzvDPzhrO','ugL4zwXeyxrHDhLWzq','y29SB3i','CMvK','y3vYCMvUDfrYywLSCW','Cg93','q2XLyxjdB21Tyw5K','B25Jzq','qMfZzuXHEwvY','Bwf4','BMv4DfbHCNrPy2XLC1nWzwvK','yMLUzev2zw50','DMLLD3bVCNq','y29TBwfUzeXPC3q','reLtqujmrv9mt0DFrevqveHFrLjbr01ftLrFv1jjveu','uhjPBwL0AxzLvhLWzq','zNjVBuDLB21LDhj5','BM93','zxHLy3v0zq','CMvTB3zLrxzLBNrmAxn0zw5LCG','CMfUzg9TAxPLugfYDgLJBgvZ','Bw9K','y3jLyxrLv2LUzfrLEhr1CMvZ','y3jLyxrLu2vNBwvUDhnhzw9TzxrYEq','BMv4DfrYywLSC0rLChrO','zgf0yq','x21HEefNzq','C2v0t3b0Aw9UCW','mta4ntK3mhznq2fwEG','zNjVBunZC0nVBg9Yu3rYAw5N','tKvbuKvtva','y2XHC3m','Bgv2BwLU','rKXpqvq','twf0Aa','x3nLDe9WDgLVBNniB29R','x3bVAw50zxjfDMvUDhm','q29SB3i','Bgf5zxi','y29SB3jZ','D2LKDgG','zgvWDgHuzxH0DxjL','yxr0CMLIDxrLtg9JyxrPB25Z','y3jLyxrLrNjHBwvIDwzMzxi','t1bbuvvf','Dw5PzM9YBsbZyw1WBgvYmKqGC2vNBwvUDhndB2XVCLrLEhr1CMu7dqP1BMLMB3jTihnHBxbSzxiYrcbZzwDTzw50C0rLChrOvgv4DhvYztSncG0kDw5PzM9YBsbZyw1WBgvYmKqGy3vYCMvUDfrYywLSC0nVBg9YoW0kDw5PzM9YBsbZyw1WBgvYmKqGDhjHAwXZrgvWDgHuzxH0DxjLoW0kdqP1BMLMB3jTigzSB2f0igzHzgvpCgfJAxr5oW0kdqP2yxj5Aw5NihzLyZiGDgv4DhvYzunVB3jKAw5HDgu7dqOncNzVAwqGBwfPBIGPihSncIaGicb2zwm0ihbVAw50C0nVBg9Yid0GDgv4DhvYztjekhnLz21LBNrZq29SB3juzxH0DxjLlcb0zxH0DxjLq29VCMrPBMf0zsK7dqOGicaGDMvJncb0CMfPBhndB2XVCIa9ihrLEhr1CMuYrcHJDxjYzw50vhjHAwXZq29SB3iSihrLEhr1CMvdB29YzgLUyxrLktSncG0kicaGihrYywLSC0nVBg9Yid0GzMXVB3iOzMfKzu9WywnPDhKGkIaYntuUmcaQihrYywLSC0nVBg9YksaVidi1ns4WoYaVlYbTywTLihn1CMuGDgHLihrYywLSC0nVBg9YihDPBgWGyMuGC3rYAwn0BhKGzgvJCMvHC2vKdqOncIaGicbMBg9HDcbWB2LUDhnezxb0Aca9ihrLEhr1CMuYrcHZzwDTzw50C0rLChrOvgv4DhvYzsWGDgv4DhvYzunVB3jKAw5HDguPlNi7dqOGicaGzMXVyxqGDhjHAwXZrgvWDgGGpsb0zxH0DxjLmKqODhjHAwXZrgvWDgHuzxH0DxjLlcb0zxH0DxjLq29VCMrPBMf0zsKUCJSncIaGicbMBg9HDcbNBg9IzurLChrOid0Gy3PTx3vUCgfJA0rLChrOkhrLEhr1CMuYrcHJEM1Fz2XVyMvezxb0AfrLEhr1CMuSihrLEhr1CMvdB29YzgLUyxrLksK7dqOncIaGicbNBf9gCMfNq29SB3iGpsb2zwm0kdaUmcK7dqOGicaGAwyGkhbVAw50C0rLChrOidWGz2XVyMvezxb0AcKGEW0kicaGicaGicbNBf9gCMfNq29SB3iGpsbNBf9gCMfNq29SB3iGkYbWB2LUDhndB2XVCJSncIaGicb9dqOGicaGAwyGkhrYywLSC0rLChrOidWGz2XVyMvezxb0AcKGEW0kicaGicaGicbNBf9gCMfNq29SB3iGpsbNBf9gCMfNq29SB3iGkYb0CMfPBhndB2XVCJSncIaGicb9dqOGicaGz2XFrNjHz0rLChrOrvHuid0GBwLUkhbVAw50C0rLChrOlcb0CMfPBhnezxb0AcK7dqP9','CMvTB3zL','y2fUDMfZuMvZAxPL','Bgv2Bwf4','zNjVBunHy2HL','Bg9U','C2v0rgf0yq','y29Z','B3b0Aw9UCW','CgfYDgLJBgvZq29TChv0Aw5N','BMv4DfrYywLSC0nVBg9Y','CMf3uMvUzgvYu3rHDgu','C3r5Bgu','x2fKzgvKsg9VAW','BM9YDgG','nJm5nZi3mNbOC1DcwG','y3jLyxrLuMf3uMvUzgvYu3rHDgu','BMv4DfrYywLSCW','ChvZAa','x2nHBNjLzNjLC2G','BgvMDa','C2HVDW','ywjZ','yMLUza','z2XVyMfSqwXWAge','x2rHDge','rxzLBNruExbL','D2LUzfrLEhr1CMvZ','BM9Uzq','C3rYB2TLu3r5Bgu','u2nLBMvuCMfUC2zVCM1Z','Ew1PBG','quXxqvLt','yw5PBwf0zuzYyw1L','ChjLuMvUzgvY','x2nHBgnvvG','mJyWodGXmKDqr0TMDq','vgv4DhvYzu1PBMLMAwnHDgLVBKzPBhrLCG','u2HHzgvYu291CMnL','zgvMAw5Lza','x3nOB3DiB29R','Bw91C2veB3DU','zM9YrwfJAa','DxbKyxrLvMLLD2vYugfYyw1LDgvYCW','x21VDw50zwriB29R','z2XVyMvcB3vUzgLUz1nWAgvYzq','x3bHCNrPy2XLC051BwjLCG','uMvUzgvYu3rHDgu','Bw91C2vvCa','vfjjqu5htevt','zNjVBurLz3jLzxm','Ew1HEa','AgvPz2H0','y2fTzxjH','v2LUzeXHEwvY','AgLKzgvU','C3bLzwrgywn0B3i','rwXSAxbZB2LKywXpy2nSDwrLCG','CMfUzg9TugfYDgLJBgu','Bw91C2vFzg93BG','z2v0q29SB3juzxH0DxjL','Bg9N','CgfYDgLJBgvZtNvTyMvY','q2fUDMfZv2LUzeXHEwvY','CgfYDgLJBgvZv2LUza','zgvMAw5LuhjVCgvYDhK','zML4zwrizwLNAhq','v2LUzfv0AwW','z2v0rNvSBhnJCMvLBLf1ywq','Bgv2','y2fUCMvMCMvZAa','zhjHD2LUz0j1zMzLCLDPzhrO','zNjHBwvuAw1L','y2fSy19ZCgvLzfjHDgu','DhjHAwXZ','zhjVCfjHDgvcDw1W','z2v0v2LUza','CMvTB3zLqwXS','CgfYDgLJBgvZvgv4DhvYzvnPEMu','C2vNBwvUDhnezxb0Aa','zgLTzw5ZAw9UCW','mJu5ndzHyLLYB04','veHsruvFueLFt1zfuL9uv08','reLtqujmrv9htf9qt1njveLptL9mt0DFrevqveG','y2fUDMfZsgvPz2H0','Bw9Kzq','Bwf4ugfYDgLJBgvZ','vu5tsuDorurFqLLurq','y2XHBxbuB0XHDgL0DwrLuMfUz2u','yxbWBhLwAwv3zxjqyxjHBwv0zxjZ','z2XVyMvmyxLLCG','Cg9PBNrLCKv2zw50CW','CgfYDgLJBgvizwLNAhq','DMvYDgv4u2HHzgvYu291CMnL','zgvMyxvSDa','z2v0uMfUzg9Ttgf0tg5N','zMLSBa','CMv2zxjZzvK','q2fYDgvZAwfUmG','x3jLBw92zwriB29R','AxnqB2LUDfzPC2LIBgu','CMDIysGWlcaWlcaWlcaWlJK3kq','CgfYDgLJBgvtExn0zw0','u2HHzgvYuhjVz3jHBq','yxjYyxLcDwzMzxjwAwv3','CMvMCMvZAfbHCNrPy2XLCW','qM91BMrPBMDtCgHLCMu','mZG2ntq4nffKufzgsG','DxbKyxrL','DgXHDa','Bg5N','DMLLD1jLy3rHBMDSzvrVtg9Utgf0uMfUz2u','rhjHDW','CMDIkdiWnIWYntuSmJu1kq','y29SCW','ChjPBwL0AxzLvhLWzq','DgXUzW','zgvWDgHuzxn0','Dg9sywrPyw5Z','CgfYDgLJBgvZ','y3jLyxrLuMvUzgvYAw5NuhjPBwL0AxzLCW','uKDc','q2vZAxvT','CMvXDwvZDefUAw1HDgLVBKzYyw1L','v01tx1vsta','x29UtwfWv2HLBgXfDMvUDa','C2v0qxr0CMLIDxrL','Axnezxn0CM95zwq','zMLSBfn0EwXL','y3jLyxrLrwXLBwvUDa','DMvYDgv4qxjYyxK','zNjHBwvIDwzMzxi','q2fYDgvZAwfUmW','Bw91C2vnB3zL','y2fUDMfZv2LKDgG','ChjPBwL0AxzLCW','x2rYyxDmAw5LCW','teLorufs','Bgf0','ywDL','D2LUzerHDge','Cg9PBNrLCI1LDMvUDhm','Dw1HEa','i2zMzMzMzG','C2vNBwvUDhndB2XVCG','q29TChv0zq','y2fUDMfZv2LUzhK','Bgf0uMfUz2u','ndyYodiWmgHusg51qG','B2zM','zNjHBwvIDwzMzxjZ','zMLSBfjLy3q','surftLrjvfK','C3bLzwrsyxrL','BwLU','AxnjBKv4DgvUDa','Dgv4DhvYzxm','u2nLBMvnB2rL','Cg9ZAxrPB25xqW','yxbWzw5Kq2HPBgq','Eg1HEa','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','DxbKyxrLug9ZAxrPB24','CMfUzg9TqMv0D2vLBG','qxbWzwfYyw5Jzq','CMvZAxPL','z2XVyMu','zMfKzu9WywnPDhK','C2nYzwvU','DMLZAwjPBgL0Eq','qNvMzMvYvxnHz2u','C2vNBwvUDhm','zgvZDhjVEvbHCNrPy2XLC1rLEhr1CMvZ','q29TCg9Uzw50rgf0yxr5Cgu','rgvWDgHgDw5JDgLVBG','x3nWzwvKuMf0zq','zgvZDhjVEq','zMXVB3i','z2vVBwv0CNK','revqveHFq09nue9oru5u','D2LUza','mhb4','D2LUzezPzwXK','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','z2v0','D2vZDa','rNjHBwvIDwzMzxi','zwXSAxbZB2LK','r2vVBwv0CNK','u2fTCgXLCG','z2v0t3b0Aw9UCW','vgv4DhvYzu1Hz25PzMLJyxrPB25gAwX0zxi','Dw5PzM9YBu1HCa','y3vYCMvUDfbHCNrPy2XLC1nWzwvK','EKLUzgv4','Dw5PzM9YBsbZyw1WBgvYmKqGy3vYCMvUDfbHCNrPy2XLC1nWzwvKoYaVlYaODsWGDIWGDYWGBM9YBwfSAxPHDgLVBIKkDw5PzM9YBsbZyw1WBgvYmKqGCgfYDgLJBgvZv2LUzdSkcI8VihvZzwqGDg8Gy2fSy3vSyxrLihrOzsb3Aw5Kig5VCM0kDw5PzM9YBsb2zwmYihvtCgvLzfjHBMDLoYaVlYaOBwLUlcbTyxGPoWP1BMLMB3jTihzLyZiGDLnWzwvKuMfUz2u7cNvUAwzVCM0GzMXVyxqGCgL4zwXtAxPLoWP1BMLMB3jTigzSB2f0ihnWzwvKrMfJDg9YoWOkDMfYEwLUzYb2zwmYihzFDgv4DhvYzunVB3jKAw5HDgvZoWOkzMXVyxqGy2fSy3vSyxrLv2LUze5VCM0ODMvJmYbZCgvLzcKGEWOGicaGDMvJmYbWzxjJzw50id0GDMvJmYGWlJaPoWOGicaGCgvYy2vUDc54id0GkhnWzwvKlNGGlsb1u3bLzwrsyw5Nzs54ksaVicH1u3bLzwrsyw5Nzs55ic0GDvnWzwvKuMfUz2uUEcK7cIaGicbWzxjJzw50lNKGpsaOC3bLzwqUEsaTihztCgvLzfjHBMDLlNGPic8GkhztCgvLzfjHBMDLlNKGlsb2u3bLzwrsyw5Nzs54ktSkicaGigzSB2f0ig5VCM1HBgL6yxrPB24GpsbSzw5NDgGOCgvYy2vUDcK7cGOGicaGCMv0DxjUig5VCM1HBgL6yxrPB247cN0kcNzVAwqGBwfPBIGPihSkicaGic8VihrLEhr1CMuGy29VCMrPBMf0zsbTDxn0igjLig5VCM1HBgL6zwqkicaGihzLyZmGy3vYCMvUDfnWzwvKid0GDgv4DhvYztjekgn1CNjLBNrqyxj0AwnSzxntCgvLzcWGDL90zxH0DxjLq29VCMrPBMf0zxmPlNjNyJSkicaGihzLyZmGD2LUzfzLy3rVCIa9ihrLEhr1CMuYrcHWyxj0AwnSzxnxAw5Klcb2x3rLEhr1CMvdB29YzgLUyxrLCYKUCMDIoWOkicaGihzLyZqGBMv4DfnWzwvKid0GDMvJncHZCgvLzezHy3rVCIaQihbPEgvSu2L6zsaQihDPBMrwzwn0B3iSignHBgn1Bgf0zvDPBMroB3jTkhDPBMrwzwn0B3iPktSkicaGigDSx0zYywDdB2XVCIa9ig5LEhrtCgvLzdSkFq','Dw1PBG','ywrK','BgLNAhrLCG','x29UtwfWx3bYzvjLBMrLCKv2zw50','D2HLzwW','u1rbveLdx0rsqvC','y3jLyxrLvgv4DhvYzq','yxjYyxK','y29UDgv4Da','y2XPzw50v2LKDgG'];_0x1488=function(){return _0x2d7075;};return _0x1488();}class CanvasParticle{constructor(){const _0x9fc8a4=_0x32524e;this[_0x9fc8a4(0x115)]=null,this[_0x9fc8a4(0x131)]=null,this['tlng']=null,this[_0x9fc8a4(0x114)]=null,this[_0x9fc8a4(0x132)]=null;}}class CanvasWindField{constructor(_0x2c0422,_0x44e08f){const _0x3fc2f1=_0x32524e;this[_0x3fc2f1(0x1b8)]=_0x2c0422['rows'],this[_0x3fc2f1(0x119)]=_0x2c0422[_0x3fc2f1(0x119)],this[_0x3fc2f1(0x1ac)]=_0x2c0422['xmin'],this['xmax']=_0x2c0422[_0x3fc2f1(0x147)],this[_0x3fc2f1(0xc6)]=_0x2c0422[_0x3fc2f1(0xc6)],this[_0x3fc2f1(0xda)]=_0x2c0422[_0x3fc2f1(0xda)],this[_0x3fc2f1(0x191)]=[];const _0x1c2098=_0x2c0422[_0x3fc2f1(0x1b4)],_0x115c0e=_0x2c0422[_0x3fc2f1(0x177)];let _0x157306=![];_0x1c2098[_0x3fc2f1(0x1bb)]===this[_0x3fc2f1(0x1b8)]&&_0x1c2098[0x0][_0x3fc2f1(0x1bb)]===this[_0x3fc2f1(0x119)]&&(_0x157306=!![]);let _0x654594=0x0,_0x3eea7d=null,_0x1aa2ad=null;for(let _0x2293b3=0x0;_0x2293b3<this['rows'];_0x2293b3++){_0x3eea7d=[];for(let _0x27b709=0x0;_0x27b709<this['cols'];_0x27b709++,_0x654594++){_0x157306?_0x1aa2ad=this[_0x3fc2f1(0xca)](_0x1c2098[_0x2293b3][_0x27b709],_0x115c0e[_0x2293b3][_0x27b709]):_0x1aa2ad=this[_0x3fc2f1(0xca)](_0x1c2098[_0x654594],_0x115c0e[_0x654594]),_0x3eea7d[_0x3fc2f1(0xb9)](_0x1aa2ad);}this[_0x3fc2f1(0x191)][_0x3fc2f1(0xb9)](_0x3eea7d);}_0x44e08f&&this['grid']['reverse']();}['toGridXY'](_0x3f95e6,_0x17a2ae){const _0x25477f=_0x32524e,_0x2cfcd5=(_0x3f95e6-this['xmin'])/(this[_0x25477f(0x147)]-this[_0x25477f(0x1ac)])*(this[_0x25477f(0x119)]-0x1),_0x40a880=(this[_0x25477f(0xda)]-_0x17a2ae)/(this[_0x25477f(0xda)]-this['ymin'])*(this[_0x25477f(0x1b8)]-0x1);return{'x':_0x2cfcd5,'y':_0x40a880};}[_0x32524e(0x1a5)](_0x1712cc,_0x2841ee){const _0x14f2cf=_0x32524e;if(_0x1712cc<0x0||_0x1712cc>=this['cols']||_0x2841ee>=this[_0x14f2cf(0x1b8)])return[0x0,0x0,0x0];const _0x32c237=Math[_0x14f2cf(0x158)](_0x1712cc),_0x580d85=Math['floor'](_0x2841ee);if(_0x32c237===_0x1712cc&&_0x580d85===_0x2841ee)return this[_0x14f2cf(0x191)][_0x2841ee][_0x1712cc];const _0x1aae4f=_0x32c237+0x1,_0x1c6c59=_0x580d85+0x1,_0x30837d=this[_0x14f2cf(0x1a5)](_0x32c237,_0x580d85),_0x46c1a3=this[_0x14f2cf(0x1a5)](_0x1aae4f,_0x580d85),_0x1d8fdf=this[_0x14f2cf(0x1a5)](_0x32c237,_0x1c6c59),_0x69df91=this[_0x14f2cf(0x1a5)](_0x1aae4f,_0x1c6c59);let _0xf2a777=null;try{_0xf2a777=this['_bilinearInterpolation'](_0x1712cc-_0x32c237,_0x2841ee-_0x580d85,_0x30837d,_0x46c1a3,_0x1d8fdf,_0x69df91);}catch(_0x20d679){console[_0x14f2cf(0xe4)](_0x1712cc,_0x2841ee);}return _0xf2a777;}[_0x32524e(0x1a9)](_0x1aa060,_0x5b35ba,_0x571b07,_0x2bce97,_0x1d234d,_0x3be379){const _0xebc574=0x1-_0x1aa060,_0x3ae825=0x1-_0x5b35ba,_0x4ae808=_0xebc574*_0x3ae825,_0x1aabbd=_0x1aa060*_0x3ae825,_0x1567f7=_0xebc574*_0x5b35ba,_0x2bf801=_0x1aa060*_0x5b35ba,_0x1e7cb8=_0x571b07[0x0]*_0x4ae808+_0x2bce97[0x0]*_0x1aabbd+_0x1d234d[0x0]*_0x1567f7+_0x3be379[0x0]*_0x2bf801,_0x253c12=_0x571b07[0x1]*_0x4ae808+_0x2bce97[0x1]*_0x1aabbd+_0x1d234d[0x1]*_0x1567f7+_0x3be379[0x1]*_0x2bf801;return this['_calcUV'](_0x1e7cb8,_0x253c12);}[_0x32524e(0xca)](_0x77a162,_0x50f5e4){const _0x4664fc=_0x32524e;return[+_0x77a162,+_0x50f5e4,Math[_0x4664fc(0x1d3)](_0x77a162*_0x77a162+_0x50f5e4*_0x50f5e4)];}[_0x32524e(0x198)](_0x3efe44,_0x107528){const _0x2d15c5=_0x32524e;if(!this[_0x2d15c5(0x142)](_0x3efe44,_0x107528))return null;const _0x2cb4fb=this['toGridXY'](_0x3efe44,_0x107528),_0x376a60=this['getUVByXY'](_0x2cb4fb['x'],_0x2cb4fb['y']);return _0x376a60;}[_0x32524e(0x142)](_0x174ad8,_0x3edeb8){const _0x231160=_0x32524e;return _0x174ad8>=this[_0x231160(0x1ac)]&&_0x174ad8<=this['xmax']&&_0x3edeb8>=this['ymin']&&_0x3edeb8<=this['ymax']?!![]:![];}[_0x32524e(0x106)](){const _0x525ed0=_0x32524e,_0x2882e6=fRandomByfloat(this[_0x525ed0(0x1ac)],this['xmax']),_0x453d7e=fRandomByfloat(this[_0x525ed0(0xc6)],this['ymax']);return{'lat':_0x453d7e,'lng':_0x2882e6};}}function fRandomByfloat(_0x2e94fe,_0x123119){return _0x2e94fe+Math['random']()*(_0x123119-_0x2e94fe);}const Cesium=mars3d__namespace[_0x32524e(0x121)],BaseLayer=mars3d__namespace[_0x32524e(0x1fa)][_0x32524e(0x1dc)];class CanvasWindLayer extends BaseLayer{constructor(){const _0x443b8=_0x32524e;let _0x2e951b=arguments[_0x443b8(0x1bb)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};super(_0x2e951b),this['_setOptionsHook'](_0x2e951b),this[_0x443b8(0x17b)]=null;}[_0x32524e(0x1f7)](_0x7fb076,_0x2272c1){const _0x1a9276=_0x32524e;this[_0x1a9276(0xf0)]=[0x0,0x0],this[_0x1a9276(0x11e)]=[],this[_0x1a9276(0x140)]=_0x7fb076['speedRate']||0x32,this[_0x1a9276(0xd5)]=_0x7fb076[_0x1a9276(0xe5)]||0x1000,this[_0x1a9276(0x1ee)]=_0x7fb076['maxAge']||0x78,this[_0x1a9276(0xef)]=0x3e8/(_0x7fb076[_0x1a9276(0x1b3)]||0xa),this[_0x1a9276(0x1f8)]=this[_0x1a9276(0xaf)][_0x1a9276(0x102)]??![],this[_0x1a9276(0x1d6)]=_0x7fb076[_0x1a9276(0x1d6)]||_0x1a9276(0x136),this[_0x1a9276(0x1d4)]=_0x7fb076[_0x1a9276(0x1d4)]||0x1,this['fixedHeight']=_0x7fb076[_0x1a9276(0xe9)]??0x0,this[_0x1a9276(0x108)]=_0x7fb076['reverseY']??![];}get['layer'](){const _0x169780=_0x32524e;return this[_0x169780(0x17b)];}get[_0x32524e(0x12d)](){const _0x3eeb4f=_0x32524e;return this[_0x3eeb4f(0x1b0)][_0x3eeb4f(0x18a)]['canvas'][_0x3eeb4f(0x174)];}get[_0x32524e(0xfb)](){const _0x41b7c8=_0x32524e;return this[_0x41b7c8(0x1b0)][_0x41b7c8(0x18a)]['canvas'][_0x41b7c8(0x178)];}get[_0x32524e(0x102)](){const _0x20d8a7=_0x32524e;return this[_0x20d8a7(0x1f8)];}set['pointerEvents'](_0xd8e79){const _0x22147c=_0x32524e;this[_0x22147c(0x1f8)]=_0xd8e79;if(!this[_0x22147c(0x17b)])return;_0xd8e79?this[_0x22147c(0x17b)][_0x22147c(0xb3)][_0x22147c(0x134)]='all':this[_0x22147c(0x17b)][_0x22147c(0xb3)][_0x22147c(0x134)]=_0x22147c(0xc3);}get[_0x32524e(0x140)](){return this['_speedRate'];}set[_0x32524e(0x140)](_0x3e7551){const _0x11c894=_0x32524e;this[_0x11c894(0x156)]=(0x64-(_0x3e7551>0x63?0x63:_0x3e7551))*0x64,this[_0x11c894(0x1ad)]();}get['particlesNumber'](){const _0x62b29e=_0x32524e;return this[_0x62b29e(0xd5)];}set[_0x32524e(0xe5)](_0x5cee48){const _0x45c49a=_0x32524e;this[_0x45c49a(0xd5)]=_0x5cee48,clearTimeout(this[_0x45c49a(0xba)]),this[_0x45c49a(0xba)]=setTimeout(()=>{const _0x3d24bb=_0x45c49a;this[_0x3d24bb(0x1b1)]();},0x1f4);}get[_0x32524e(0x1ae)](){const _0x15660c=_0x32524e;return this[_0x15660c(0x1ee)];}set[_0x32524e(0x1ae)](_0x1d25de){const _0xbd6847=_0x32524e;this['_maxAge']=_0x1d25de,clearTimeout(this[_0xbd6847(0xba)]),this[_0xbd6847(0xba)]=setTimeout(()=>{const _0x264e13=_0xbd6847;this[_0x264e13(0x1b1)]();},0x1f4);}get[_0x32524e(0x1ed)](){return this['windData'];}set[_0x32524e(0x1ed)](_0x5ce1db){const _0x182f58=_0x32524e;this[_0x182f58(0xad)](_0x5ce1db);}[_0x32524e(0xcf)](_0x8816ce){const _0x1edd8f=_0x32524e;_0x8816ce?this[_0x1edd8f(0xb4)]():(this['windData']&&(this[_0x1edd8f(0xaf)][_0x1edd8f(0x1ed)]=this['windData']),this[_0x1edd8f(0x10a)]());}[_0x32524e(0xd3)](){}[_0x32524e(0xb4)](){const _0x344ad2=_0x32524e;this[_0x344ad2(0x17b)]=this[_0x344ad2(0x199)](),this[_0x344ad2(0x17d)]=this[_0x344ad2(0x17b)]['getContext']('2d'),this['bindEvent'](),this['options'][_0x344ad2(0x1ed)]&&this['setData'](this['options'][_0x344ad2(0x1ed)]);}['_removedHook'](){const _0x4539d5=_0x32524e;this[_0x4539d5(0x1bc)](),this['unbindEvent'](),this['canvas']&&(this['_map']['container'][_0x4539d5(0x1cd)](this[_0x4539d5(0x17b)]),delete this[_0x4539d5(0x17b)]);}[_0x32524e(0x199)](){const _0x1a5f58=_0x32524e,_0x452c96=window[_0x1a5f58(0x1a6)][_0x1a5f58(0x128)](_0x1a5f58(0x17b));_0x452c96[_0x1a5f58(0xb3)]['position']='absolute',_0x452c96[_0x1a5f58(0xb3)]['top']=_0x1a5f58(0x15c),_0x452c96[_0x1a5f58(0xb3)][_0x1a5f58(0xbb)]=_0x1a5f58(0x15c),_0x452c96[_0x1a5f58(0xb3)][_0x1a5f58(0x1fc)]='100%',_0x452c96[_0x1a5f58(0xb3)][_0x1a5f58(0xdb)]='100%',_0x452c96[_0x1a5f58(0xb3)][_0x1a5f58(0x102)]=this['_pointerEvents']?'auto':_0x1a5f58(0xc3),_0x452c96[_0x1a5f58(0xb3)][_0x1a5f58(0x169)]=0xa,_0x452c96[_0x1a5f58(0x125)]('id','canvasWindy'),_0x452c96[_0x1a5f58(0x125)](_0x1a5f58(0x1f3),_0x1a5f58(0x139)),this['_map']['container'][_0x1a5f58(0x146)](_0x452c96);const _0x18e969=this[_0x1a5f58(0x1b0)]['scene'];return _0x452c96[_0x1a5f58(0x1fc)]=_0x18e969[_0x1a5f58(0x17b)][_0x1a5f58(0x174)],_0x452c96[_0x1a5f58(0xdb)]=_0x18e969['canvas']['clientHeight'],_0x452c96;}['resize'](){const _0xe9fc80=_0x32524e;this['canvas']&&(this[_0xe9fc80(0x17b)]['width']=this[_0xe9fc80(0x12d)],this['canvas'][_0xe9fc80(0xdb)]=this[_0xe9fc80(0xfb)]);}[_0x32524e(0x1df)](){const _0x3847b3=_0x32524e,_0x5bf41e=this;let _0x37bfd3=Date['now']();(function _0x4e7f90(){const _0x37abfe=_0x43db;_0x5bf41e['animateFrame']=window[_0x37abfe(0x122)](_0x4e7f90);const _0x3eead0=Date[_0x37abfe(0x1e5)](),_0x1acf69=_0x3eead0-_0x37bfd3;_0x1acf69>_0x5bf41e['frameTime']&&(_0x37bfd3=_0x3eead0-_0x1acf69%_0x5bf41e['frameTime'],_0x5bf41e['update']());}(),window[_0x3847b3(0x176)](_0x3847b3(0x14c),this[_0x3847b3(0x14c)][_0x3847b3(0xbe)](this),![]),this[_0x3847b3(0xe2)]=![],this[_0x3847b3(0x19d)]=![],this[_0x3847b3(0x1b0)]['on'](mars3d__namespace['EventType'][_0x3847b3(0x16f)],this['_onMapWhellEvent'],this),this[_0x3847b3(0x1b0)]['on'](mars3d__namespace[_0x3847b3(0xc1)][_0x3847b3(0xd0)],this[_0x3847b3(0x1cb)],this),this[_0x3847b3(0x1b0)]['on'](mars3d__namespace[_0x3847b3(0xc1)][_0x3847b3(0xd7)],this[_0x3847b3(0x197)],this));}['unbindEvent'](){const _0x487ae4=_0x32524e;window[_0x487ae4(0x196)](this['animateFrame']),delete this[_0x487ae4(0xc8)],window[_0x487ae4(0x1e7)](_0x487ae4(0x14c),this['resize']),this[_0x487ae4(0x1b0)][_0x487ae4(0x13c)](mars3d__namespace[_0x487ae4(0xc1)]['wheel'],this[_0x487ae4(0x124)],this),this[_0x487ae4(0x1b0)][_0x487ae4(0x13c)](mars3d__namespace['EventType'][_0x487ae4(0xd0)],this[_0x487ae4(0x1cb)],this),this[_0x487ae4(0x1b0)][_0x487ae4(0x13c)](mars3d__namespace[_0x487ae4(0xc1)][_0x487ae4(0xd7)],this[_0x487ae4(0x197)],this),this['_map'][_0x487ae4(0x13c)](mars3d__namespace[_0x487ae4(0xc1)][_0x487ae4(0x12c)],this[_0x487ae4(0x19c)],this);}['_onMapWhellEvent'](_0x3819f8){const _0x4633d2=_0x32524e;clearTimeout(this[_0x4633d2(0x1a8)]);if(!this[_0x4633d2(0xbc)]||!this[_0x4633d2(0x17b)])return;this[_0x4633d2(0x17b)]['style']['visibility']=_0x4633d2(0xde),this[_0x4633d2(0x1a8)]=setTimeout(()=>{const _0x330d61=_0x4633d2;if(!this[_0x330d61(0xbc)])return;this[_0x330d61(0x1b1)](),this[_0x330d61(0x17b)][_0x330d61(0xb3)][_0x330d61(0x150)]=_0x330d61(0x1cc);},0xc8);}[_0x32524e(0x1cb)](_0x32c8d6){const _0x5436e8=_0x32524e;this['mouse_down']=!![],this['_map']['off'](mars3d__namespace[_0x5436e8(0xc1)]['mouseMove'],this['_onMouseMoveEvent'],this),this['_map']['on'](mars3d__namespace[_0x5436e8(0xc1)][_0x5436e8(0x12c)],this[_0x5436e8(0x19c)],this);}['_onMouseMoveEvent'](_0x21db7a){const _0x2822b8=_0x32524e;if(!this[_0x2822b8(0xbc)]||!this['canvas'])return;this[_0x2822b8(0xe2)]&&(this[_0x2822b8(0x17b)][_0x2822b8(0xb3)][_0x2822b8(0x150)]=_0x2822b8(0xde),this[_0x2822b8(0x19d)]=!![]);}['_onMouseUpEvent'](_0x561c5c){const _0xa9c415=_0x32524e;if(!this[_0xa9c415(0xbc)]||!this[_0xa9c415(0x17b)])return;this[_0xa9c415(0x1b0)][_0xa9c415(0x13c)](mars3d__namespace['EventType'][_0xa9c415(0x12c)],this[_0xa9c415(0x19c)],this),this[_0xa9c415(0xe2)]&&this[_0xa9c415(0x19d)]&&this[_0xa9c415(0x1b1)](),this[_0xa9c415(0x17b)][_0xa9c415(0xb3)][_0xa9c415(0x150)]=_0xa9c415(0x1cc),this[_0xa9c415(0xe2)]=![],this[_0xa9c415(0x19d)]=![];}[_0x32524e(0x1b1)](){const _0x5061e0=_0x32524e;if(!this[_0x5061e0(0xbc)]||!this['windField'])return;this[_0x5061e0(0x11e)]=[],this[_0x5061e0(0x190)]();}['setData'](_0x5d6d25){const _0x28e56b=_0x32524e;this[_0x28e56b(0x1bc)](),this[_0x28e56b(0x133)]=_0x5d6d25,this[_0x28e56b(0x15d)]=new CanvasWindField(this[_0x28e56b(0x133)],this[_0x28e56b(0x108)]),this['drawWind']();}['drawWind'](){const _0x52f457=_0x32524e;this[_0x52f457(0x1ad)]();for(let _0x36090b=0x0;_0x36090b<this[_0x52f457(0xe5)];_0x36090b++){const _0x1aacbf=this[_0x52f457(0xe1)](new CanvasParticle());this[_0x52f457(0x11e)][_0x52f457(0xb9)](_0x1aacbf);}this['canvasContext'][_0x52f457(0x127)]=_0x52f457(0x10c),this[_0x52f457(0x17d)][_0x52f457(0xbf)]=0.6,this['update']();}[_0x32524e(0x1ad)](){const _0x268cf4=_0x32524e;if(!this[_0x268cf4(0x15d)])return;this['calc_speedRate']=[(this[_0x268cf4(0x15d)][_0x268cf4(0x147)]-this[_0x268cf4(0x15d)]['xmin'])/this[_0x268cf4(0x140)],(this['windField']['ymax']-this[_0x268cf4(0x15d)][_0x268cf4(0xc6)])/this['speedRate']];}[_0x32524e(0x113)](){const _0x12d165=_0x32524e;if(!this['show']||this[_0x12d165(0x11e)][_0x12d165(0x1bb)]<=0x0)return;let _0x475c9e=null,_0x1c3eb1=null,_0x493aa9=null;this[_0x12d165(0x11e)][_0x12d165(0xd1)](_0x529e14=>{const _0x160df0=_0x12d165;_0x529e14[_0x160df0(0x132)]<=0x0&&this[_0x160df0(0xe1)](_0x529e14);if(_0x529e14[_0x160df0(0x132)]>0x0){const _0xcc0ae=_0x529e14['tlng'],_0x28d005=_0x529e14[_0x160df0(0x114)];_0x493aa9=this['windField']['getUVByPoint'](_0xcc0ae,_0x28d005),_0x493aa9?(_0x475c9e=_0xcc0ae+this[_0x160df0(0xf0)][0x0]*_0x493aa9[0x0],_0x1c3eb1=_0x28d005+this['calc_speedRate'][0x1]*_0x493aa9[0x1],_0x529e14[_0x160df0(0x115)]=_0xcc0ae,_0x529e14[_0x160df0(0x131)]=_0x28d005,_0x529e14[_0x160df0(0x11b)]=_0x475c9e,_0x529e14['tlat']=_0x1c3eb1,_0x529e14[_0x160df0(0x132)]--):_0x529e14[_0x160df0(0x132)]=0x0;}}),this[_0x12d165(0x12f)]();}['_tomap'](_0x3f641d,_0x3f7bbc,_0x28105a){const _0x29eee6=_0x32524e,_0x35c64b=Cesium[_0x29eee6(0x12b)][_0x29eee6(0xd9)](_0x3f641d,_0x3f7bbc,this['fixedHeight']),_0x4dabaa=this[_0x29eee6(0x1b0)][_0x29eee6(0x18a)];if(_0x4dabaa[_0x29eee6(0xfc)]===Cesium['SceneMode'][_0x29eee6(0x1a4)]){const _0x13d4ab=new Cesium[(_0x29eee6(0xe0))](_0x4dabaa[_0x29eee6(0x14d)][_0x29eee6(0x162)],_0x4dabaa[_0x29eee6(0xdc)][_0x29eee6(0x145)]),_0x2d9698=_0x13d4ab[_0x29eee6(0x10b)](_0x35c64b);if(!_0x2d9698)return _0x28105a['age']=0x0,null;}const _0x4a7783=Cesium[_0x29eee6(0xc5)]['wgs84ToWindowCoordinates'](this[_0x29eee6(0x1b0)]['scene'],_0x35c64b);return _0x4a7783?[_0x4a7783['x'],_0x4a7783['y']]:null;}[_0x32524e(0x12f)](){const _0x1d0001=_0x32524e,_0x426220=this,_0x23c0fd=this[_0x1d0001(0x11e)];this[_0x1d0001(0x17d)][_0x1d0001(0x1d4)]=_0x426220[_0x1d0001(0x1d4)],this[_0x1d0001(0x17d)]['globalCompositeOperation']='destination-in',this['canvasContext'][_0x1d0001(0x13e)](0x0,0x0,this[_0x1d0001(0x12d)],this[_0x1d0001(0xfb)]),this['canvasContext'][_0x1d0001(0x19b)]=_0x1d0001(0x16d),this['canvasContext'][_0x1d0001(0xbf)]=0.9,this[_0x1d0001(0x17d)][_0x1d0001(0x195)](),this['canvasContext'][_0x1d0001(0xc4)]=this[_0x1d0001(0x1d6)];const _0x15af54=this[_0x1d0001(0x1b0)][_0x1d0001(0x18a)][_0x1d0001(0xfc)]!==Cesium[_0x1d0001(0x144)]['SCENE3D'];_0x23c0fd[_0x1d0001(0xd1)](function(_0xb960ab){const _0x4bb7ed=_0x1d0001,_0x25a3d8=_0x426220[_0x4bb7ed(0x189)](_0xb960ab[_0x4bb7ed(0x115)],_0xb960ab['lat'],_0xb960ab),_0x2cb805=_0x426220[_0x4bb7ed(0x189)](_0xb960ab[_0x4bb7ed(0x11b)],_0xb960ab[_0x4bb7ed(0x114)],_0xb960ab);if(_0x25a3d8!=null&&_0x2cb805!=null){const _0x37de89=Math[_0x4bb7ed(0xbd)](_0x25a3d8[0x0]-_0x2cb805[0x0]);if(_0x15af54&&_0x37de89>=_0x426220[_0x4bb7ed(0x12d)]);else _0x426220[_0x4bb7ed(0x17d)][_0x4bb7ed(0x1c3)](_0x25a3d8[0x0],_0x25a3d8[0x1]),_0x426220['canvasContext']['lineTo'](_0x2cb805[0x0],_0x2cb805[0x1]);}}),this[_0x1d0001(0x17d)][_0x1d0001(0x1c1)]();}[_0x32524e(0xe1)](_0x2d2384){const _0x164378=_0x32524e;let _0x2669cc,_0xa83f06;for(let _0x266b21=0x0;_0x266b21<0x1e;_0x266b21++){_0x2669cc=this['windField']['getRandomLatLng'](),_0xa83f06=this[_0x164378(0x15d)][_0x164378(0x198)](_0x2669cc[_0x164378(0x115)],_0x2669cc[_0x164378(0x131)]);if(_0xa83f06&&_0xa83f06[0x2]>0x0)break;}if(!_0xa83f06)return _0x2d2384;const _0x234084=_0x2669cc[_0x164378(0x115)]+this[_0x164378(0xf0)][0x0]*_0xa83f06[0x0],_0x32212f=_0x2669cc['lat']+this['calc_speedRate'][0x1]*_0xa83f06[0x1];return _0x2d2384[_0x164378(0x115)]=_0x2669cc[_0x164378(0x115)],_0x2d2384[_0x164378(0x131)]=_0x2669cc[_0x164378(0x131)],_0x2d2384[_0x164378(0x11b)]=_0x234084,_0x2d2384[_0x164378(0x114)]=_0x32212f,_0x2d2384[_0x164378(0x132)]=Math[_0x164378(0x1c2)](Math[_0x164378(0x19e)]()*this['maxAge']),_0x2d2384;}[_0x32524e(0x1bc)](){const _0x4264a6=_0x32524e;this[_0x4264a6(0x11e)]=[],delete this[_0x4264a6(0x15d)],delete this[_0x4264a6(0x133)];}}mars3d__namespace[_0x32524e(0x18f)]['register'](_0x32524e(0x185),CanvasWindLayer),mars3d__namespace[_0x32524e(0x1fa)][_0x32524e(0xe6)]=CanvasWindLayer,mars3d__namespace[_0x32524e(0xea)]=WindUtil,exports[_0x32524e(0xe6)]=CanvasWindLayer,exports[_0x32524e(0xdd)]=WindLayer,exports['WindUtil']=WindUtil,Object[_0x32524e(0xe8)](exports,'__esModule',{'value':!![]});
}));
