/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.4
 * 编译日期：2024-02-20 12:25:25
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x5b59ae=_0x2d0f;(function(_0xb77dc1,_0x391eaf){const _0x4c30e4={_0x298eeb:0x15e,_0x43fd74:0x131,_0x5b833a:0x157},_0x1c78a9=_0x2d0f,_0x2b3487=_0xb77dc1();while(!![]){try{const _0x423d1c=-parseInt(_0x1c78a9(_0x4c30e4._0x298eeb))/0x1+parseInt(_0x1c78a9(_0x4c30e4._0x43fd74))/0x2+parseInt(_0x1c78a9(_0x4c30e4._0x5b833a))/0x3*(parseInt(_0x1c78a9(0x13d))/0x4)+-parseInt(_0x1c78a9(0x166))/0x5+parseInt(_0x1c78a9(0x181))/0x6+parseInt(_0x1c78a9(0x12c))/0x7*(-parseInt(_0x1c78a9(0x146))/0x8)+parseInt(_0x1c78a9(0x175))/0x9;if(_0x423d1c===_0x391eaf)break;else _0x2b3487['push'](_0x2b3487['shift']());}catch(_0x214257){_0x2b3487['push'](_0x2b3487['shift']());}}}(_0x4bd5,0x9e63b));function _interopNamespace(_0x258437){const _0x37a2e8={_0x2c8ac9:0x16d};if(_0x258437&&_0x258437['__esModule'])return _0x258437;var _0x4431b7=Object['create'](null);return _0x258437&&Object['keys'](_0x258437)['forEach'](function(_0x46d81c){const _0x220d94=_0x2d0f;if(_0x46d81c!=='default'){var _0x42e86d=Object['getOwnPropertyDescriptor'](_0x258437,_0x46d81c);Object['defineProperty'](_0x4431b7,_0x46d81c,_0x42e86d[_0x220d94(_0x37a2e8._0x2c8ac9)]?_0x42e86d:{'enumerable':!![],'get':function(){return _0x258437[_0x46d81c];}});}}),_0x4431b7['default']=_0x258437,_0x4431b7;}function _0x4bd5(){const _0x5f009c=['devicePixelRatio','_pointerEvents','1768328pykonE','fillStyle','resize','pointerEvents','_mapVRenderer','initDataRange','mouseMove','updateCallback','coordinates','32mcWwGk','clearData','initDevicePixelRatio','_createCanvas','_coordinates','_cache_event','_canvasUpdate','container','_data','defineProperty','depthTest','initAnimator','_map','_setOptionsHook','_reset','off','cameraMoveEnd','3CLNYlb','left','mousemoveEvent','Cartesian3','Cesium','draw','parentElement','275305MhSXeS','fixedHeight','__esModule','mousemove','height','clear','canvasLayer','dataSet','1672545XlGmyw','start','type','length','scale','LineString','removeData','get','mars3d-mapv','push','0px','argCheck','click','animatorMovestartEvent','context','1617642ncqNLN','create','EventType','clickEvent','positionWC','step','isEnabledTime','options','defined','top','getContext','globe','6603168lqPBKS','time','canvas','DataSet','clearRect','isPointVisible','restore','MapVLayer','destination-out','bind','render','mapvDepthTest','cartesianToCanvasCoordinates','layer','style','scene','1090957gQmbjL','mapv','getData','width','fromDegrees','319266iDSOEO','postRender','BaseLayer','unbindEvent','methods','_removedHook','isFormat','destroy','_onMapClick','zIndex'];_0x4bd5=function(){return _0x5f009c;};return _0x4bd5();}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x5b59ae(0x15b)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x820012,_0x3d9407,_0x42636e,_0x4b75c0){const _0x129377={_0x290847:0x12b,_0x41f562:0x171},_0x3665f1=_0x5b59ae;super(_0x820012,_0x3d9407,_0x42636e);if(!BaseLayer$1)return;this['map']=_0x820012,this[_0x3665f1(_0x129377._0x290847)]=_0x820012[_0x3665f1(0x12b)],this['dataSet']=_0x3d9407,_0x42636e=_0x42636e||{},this['init'](_0x42636e),this[_0x3665f1(_0x129377._0x41f562)](_0x42636e),this['initDevicePixelRatio'](),this[_0x3665f1(0x164)]=_0x4b75c0,this['stopAniamation']=!0x1,this['animation']=_0x42636e['animation'];}['initDevicePixelRatio'](){const _0x23fb15={_0x25351b:0x13b,_0x9290d1:0x13b},_0x593798=_0x5b59ae;this[_0x593798(_0x23fb15._0x25351b)]=window[_0x593798(_0x23fb15._0x9290d1)]||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x3a594b={_0x217ccd:0x17b},_0x409e62=_0x5b59ae,_0x1edb81=this['options']['animation'];this[_0x409e62(_0x3a594b._0x217ccd)]()&&this['animator']&&(this['steps'][_0x409e62(0x17a)]=_0x1edb81['stepsRange'][_0x409e62(0x167)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x415a99={_0x2c0e2f:0x164},_0x3234e7=_0x5b59ae;return this[_0x3234e7(_0x415a99._0x2c0e2f)]['canvas']['getContext'](this[_0x3234e7(0x174)]);}['init'](_0x13a30b){const _0x20a37a={_0xeb75e5:0x17c,_0xa9ca0b:0x17d},_0x54aa25=_0x5b59ae;this['options']=_0x13a30b,this[_0x54aa25(0x142)](_0x13a30b),this['context']=this[_0x54aa25(_0x20a37a._0xeb75e5)]['context']||'2d',Cesium$1[_0x54aa25(_0x20a37a._0xa9ca0b)](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this['options']['zIndex']),this[_0x54aa25(0x151)]();}[_0x5b59ae(0x14c)](_0x5871df){const _0x2ec0d1={_0x29190b:0x163,_0x187ff7:0x17c,_0x25e799:0x128,_0x46a3a5:0x17c,_0x28a04c:0x144},_0x2485d7={_0x304211:0x182},_0x2c3ae2={_0x3e3db5:0x179,_0x3b68ff:0x186},_0x457d47=_0x5b59ae,_0x3df795=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x1f6432=this['options']['animation'],_0x1ff2d4=this[_0x457d47(0x17f)]();if(this[_0x457d47(0x17b)]()){if(void 0x0===_0x5871df)return void this[_0x457d47(_0x2ec0d1._0x29190b)](_0x1ff2d4);this['context']==='2d'&&(_0x1ff2d4['save'](),_0x1ff2d4['globalCompositeOperation']=_0x457d47(0x189),_0x1ff2d4[_0x457d47(0x13e)]='rgba(0,\x200,\x200,\x20.1)',_0x1ff2d4['fillRect'](0x0,0x0,_0x1ff2d4['canvas']['width'],_0x1ff2d4['canvas']['height']),_0x1ff2d4[_0x457d47(0x187)]());}else this['clear'](_0x1ff2d4);if(this['context']==='2d')for(const _0x462163 in this['options']){_0x1ff2d4[_0x462163]=this['options'][_0x462163];}else _0x1ff2d4['clear'](_0x1ff2d4['COLOR_BUFFER_BIT']);const _0x3b2ecd={'transferCoordinate':function(_0x2cef46){const _0x5dc4f9=_0x457d47,_0x19daae=null;let _0x6e3b0=_0x3df795['mapvFixedHeight'];_0x3df795['mapvAutoHeight']&&(_0x6e3b0=_0x3df795['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x2cef46[0x0],_0x2cef46[0x1])));const _0x4cb72d=Cesium$1['Cartesian3']['fromDegrees'](_0x2cef46[0x0],_0x2cef46[0x1],_0x6e3b0);if(!_0x4cb72d)return _0x19daae;const _0x10ce10=_0x3df795['cartesianToCanvasCoordinates'](_0x4cb72d);if(!_0x10ce10)return _0x19daae;if(_0x3df795[_0x5dc4f9(0x127)]&&_0x3df795['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x4cce6b=new Cesium$1['EllipsoidalOccluder'](_0x3df795[_0x5dc4f9(0x180)]['ellipsoid'],_0x3df795['camera'][_0x5dc4f9(_0x2c3ae2._0x3e3db5)]),_0x187d58=_0x4cce6b[_0x5dc4f9(_0x2c3ae2._0x3b68ff)](_0x4cb72d);if(!_0x187d58)return _0x19daae;}return[_0x10ce10['x'],_0x10ce10['y']];}};void 0x0!==_0x5871df&&(_0x3b2ecd['filter']=function(_0x3c7cea){const _0x5615de=_0x457d47,_0x3a9a6e=_0x1f6432['trails']||0xa;return!!(_0x5871df&&_0x3c7cea['time']>_0x5871df-_0x3a9a6e&&_0x3c7cea[_0x5615de(_0x2485d7._0x304211)]<_0x5871df);});const _0x17e0dd=this['dataSet']['get'](_0x3b2ecd);this['processData'](_0x17e0dd),this[_0x457d47(0x17c)]['unit']==='m'&&this[_0x457d47(_0x2ec0d1._0x187ff7)]['size'],this[_0x457d47(_0x2ec0d1._0x187ff7)]['_size']=this['options']['size'];const _0x3a7f89=_0x3df795[_0x457d47(_0x2ec0d1._0x25e799)](Cesium$1[_0x457d47(0x15a)]['fromDegrees'](0x0,0x0));if(!_0x3a7f89)return;this['drawContext'](_0x1ff2d4,new mapv__namespace['DataSet'](_0x17e0dd),this[_0x457d47(0x17c)],_0x3a7f89),this[_0x457d47(_0x2ec0d1._0x46a3a5)]['updateCallback']&&this['options'][_0x457d47(_0x2ec0d1._0x28a04c)](_0x5871df);}}['updateData'](_0x182092,_0x2ed478){let _0x59257c=_0x182092;_0x59257c&&_0x59257c['get']&&(_0x59257c=_0x59257c['get']()),void 0x0!==_0x59257c&&this['dataSet']['set'](_0x59257c),super['update']({'options':_0x2ed478});}['addData'](_0x2fb84e,_0x1961be){let _0x374bcc=_0x2fb84e;_0x2fb84e&&_0x2fb84e['get']&&(_0x374bcc=_0x2fb84e['get']()),this['dataSet']['add'](_0x374bcc),this['update']({'options':_0x1961be});}['getData'](){return this['dataSet'];}[_0x5b59ae(0x16c)](_0x33c95c){const _0x46bc33={_0x4f2337:0x165},_0x1c5cef=_0x5b59ae;if(this['dataSet']){const _0x3c90fc=this[_0x1c5cef(_0x46bc33._0x4f2337)]['get']({'filter':function(_0x3da734){return _0x33c95c==null||typeof _0x33c95c!=='function'||!_0x33c95c(_0x3da734);}});this['dataSet']['set'](_0x3c90fc),this['update']({'options':null});}}[_0x5b59ae(0x147)](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){this['canvasLayer']['draw']();}[_0x5b59ae(0x163)](_0x2b298d){const _0x496f1a=_0x5b59ae;_0x2b298d&&_0x2b298d[_0x496f1a(0x185)]&&_0x2b298d['clearRect'](0x0,0x0,_0x2b298d['canvas']['width'],_0x2b298d['canvas']['height']);}['destroy'](){const _0x557dbc={_0x1cca84:0x163},_0x5332ce=_0x5b59ae;this[_0x5332ce(_0x557dbc._0x1cca84)](this[_0x5332ce(0x17f)]()),this['clearData'](),this['animator']&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x5b59ae(0x184)])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x4e09e4,_0x7a0ac4,_0x4a1f6a,_0x4cf8aa){const _0x20d928={_0x3abb99:0x145},_0x4967df={_0x22e45b:0x169},_0x25ec11=_0x5b59ae;_0x4cf8aa=_0x4cf8aa||_0x25ec11(0x14a),_0x4a1f6a=_0x4a1f6a||_0x25ec11(_0x20d928._0x3abb99);for(let _0x2a9118=0x0;_0x2a9118<_0x4e09e4['length'];_0x2a9118++){const _0x354202=_0x4e09e4[_0x2a9118]['geometry'],_0x2ea29d=_0x354202[_0x4a1f6a];switch(_0x354202[_0x25ec11(0x168)]){case'Point':{const _0x579e62=_0x7a0ac4(_0x2ea29d);_0x579e62?_0x354202[_0x4cf8aa]=_0x579e62:_0x354202[_0x4cf8aa]=[-0x3e7,-0x3e7];}break;case _0x25ec11(0x16b):{const _0x15ac6c=[];for(let _0x31039a=0x0;_0x31039a<_0x2ea29d['length'];_0x31039a++){const _0x2f494f=_0x7a0ac4(_0x2ea29d[_0x31039a]);_0x2f494f&&_0x15ac6c['push'](_0x2f494f);}_0x354202[_0x4cf8aa]=_0x15ac6c;}break;case'MultiLineString':case'Polygon':{const _0x3eb915=_0x15695d(_0x2ea29d);_0x354202[_0x4cf8aa]=_0x3eb915;}break;case'MultiPolygon':{const _0x51b196=[];for(let _0x674d89=0x0;_0x674d89<_0x2ea29d[_0x25ec11(0x169)];_0x674d89++){const _0x39813d=_0x15695d(_0x2ea29d[_0x674d89]);_0x39813d['length']>0x0&&_0x51b196[_0x25ec11(0x16f)](_0x39813d);}_0x354202[_0x4cf8aa]=_0x51b196;}break;}}function _0x15695d(_0x2c738d){const _0x4ccca3=_0x25ec11,_0x5da76e=[];for(let _0x4eae9a=0x0;_0x4eae9a<_0x2c738d['length'];_0x4eae9a++){const _0x1fde43=_0x2c738d[_0x4eae9a],_0x5eeebd=[];for(let _0x366344=0x0;_0x366344<_0x1fde43[_0x4ccca3(_0x4967df._0x22e45b)];_0x366344++){const _0x372292=_0x7a0ac4(_0x1fde43[_0x366344]);_0x372292&&_0x5eeebd['push'](_0x372292);}_0x5eeebd['length']>0x0&&_0x5da76e[_0x4ccca3(0x16f)](_0x5eeebd);}return _0x5da76e;}return _0x4e09e4;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x5b59ae(0x129)][_0x5b59ae(0x133)];class MapVLayer extends BaseLayer{constructor(_0xbd1614,_0xec0a13){const _0x48fd9d={_0x2ea074:0x13c,_0x221096:0x165,_0x29fa3c:0x184},_0x16fc95=_0x5b59ae;super(_0xbd1614),this[_0x16fc95(_0x48fd9d._0x2ea074)]=this['options']['pointerEvents'],this[_0x16fc95(_0x48fd9d._0x221096)]=_0xec0a13||new mapv__namespace[(_0x16fc95(_0x48fd9d._0x29fa3c))](_0xbd1614['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set[_0x5b59ae(0x140)](_0x58a135){const _0x229d0a={_0x232221:0x183,_0x433e6a:0x140},_0x10c89f=_0x5b59ae;this['_pointerEvents']=_0x58a135,this[_0x10c89f(_0x229d0a._0x232221)]&&(_0x58a135?this['canvas'][_0x10c89f(0x12a)]['pointerEvents']='all':this['canvas']['style'][_0x10c89f(_0x229d0a._0x433e6a)]='none');}['_showHook'](_0x1846e9){const _0x572249={_0x3fc5b8:0x183},_0x52900c=_0x5b59ae;_0x1846e9?this[_0x52900c(0x183)]['style']['display']='block':this[_0x52900c(_0x572249._0x3fc5b8)]['style']['display']='none';}['_mountedHook'](){const _0x1d3f82={_0x5918e4:0x152},_0x249b54=_0x5b59ae;this['_map'][_0x249b54(0x12b)]['mapvDepthTest']=this['options'][_0x249b54(0x150)]??!![],this[_0x249b54(_0x1d3f82._0x5918e4)]['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this[_0x249b54(_0x1d3f82._0x5918e4)][_0x249b54(0x12b)]['mapvFixedHeight']=this['options'][_0x249b54(0x15f)]??0x0;}['_addedHook'](){const _0x19b6cf={_0x3fe7e2:0x126},_0xc76c20=_0x5b59ae;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this[_0xc76c20(0x165)][_0xc76c20(0x14e)]=[]['concat'](this[_0xc76c20(0x165)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this[_0xc76c20(0x149)](),this['render']=this[_0xc76c20(_0x19b6cf._0x3fe7e2)]['bind'](this),this['bindEvent'](),this[_0xc76c20(0x154)]();}[_0x5b59ae(0x136)](){const _0x48c09a=_0x5b59ae;this[_0x48c09a(0x134)](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x48c09a(0x183)]['parentElement']['removeChild'](this['canvas']);}[_0x5b59ae(0x148)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x47ee18={_0x26c94f:0x152,_0x4b2398:0x17c,_0x43f093:0x143},_0xa6017c=_0x5b59ae;var _0x412a45,_0xaa977b;this[_0xa6017c(_0x47ee18._0x26c94f)]['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0xa6017c(0x152)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x412a45=this[_0xa6017c(_0x47ee18._0x4b2398)])!==null&&_0x412a45!==void 0x0&&(_0x412a45=_0x412a45['methods'])!==null&&_0x412a45!==void 0x0&&_0x412a45['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0xaa977b=this['options'])!==null&&_0xaa977b!==void 0x0&&(_0xaa977b=_0xaa977b[_0xa6017c(0x135)])!==null&&_0xaa977b!==void 0x0&&_0xaa977b['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0xa6017c(_0x47ee18._0x43f093)],this['_onMapMouseMove'],this);}[_0x5b59ae(0x134)](){const _0x5ab0de={_0x521a42:0x177,_0x1157d2:0x156,_0x132c88:0x132,_0x57fe40:0x135,_0x5ac9d5:0x172,_0xa20356:0x155,_0x576583:0x172,_0x4385e6:0x139,_0xb74dd5:0x17c,_0x59c799:0x161},_0x3c5b61=_0x5b59ae;var _0x5db832,_0x2e8fd4;this[_0x3c5b61(0x152)][_0x3c5b61(0x155)](mars3d__namespace[_0x3c5b61(_0x5ab0de._0x521a42)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x3c5b61(0x177)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x3c5b61(0x177)][_0x3c5b61(_0x5ab0de._0x1157d2)],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0x3c5b61(_0x5ab0de._0x132c88)],this[_0x3c5b61(0x154)],this),(_0x5db832=this['options'])!==null&&_0x5db832!==void 0x0&&(_0x5db832=_0x5db832[_0x3c5b61(_0x5ab0de._0x57fe40)])!==null&&_0x5db832!==void 0x0&&_0x5db832[_0x3c5b61(_0x5ab0de._0x5ac9d5)]&&this['_map'][_0x3c5b61(_0x5ab0de._0xa20356)](mars3d__namespace['EventType'][_0x3c5b61(_0x5ab0de._0x576583)],this[_0x3c5b61(_0x5ab0de._0x4385e6)],this),(_0x2e8fd4=this[_0x3c5b61(_0x5ab0de._0xb74dd5)])!==null&&_0x2e8fd4!==void 0x0&&(_0x2e8fd4=_0x2e8fd4['methods'])!==null&&_0x2e8fd4!==void 0x0&&_0x2e8fd4[_0x3c5b61(_0x5ab0de._0x59c799)]&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x58bab4={_0x989620:0x132},_0x2aee59=_0x5b59ae;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x2aee59(0x173)](),this['_map']['off'](mars3d__namespace['EventType'][_0x2aee59(0x132)],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x2aee59(_0x58bab4._0x989620)],this['_reset'],this));}['_onMoveEndEvent'](){const _0x2e69b1={_0x3d91b1:0x141,_0xd30bce:0x177},_0x28d23d=_0x5b59ae;this[_0x28d23d(_0x2e69b1._0x3d91b1)]&&(this['_map']['off'](mars3d__namespace[_0x28d23d(_0x2e69b1._0xd30bce)]['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this[_0x28d23d(0x154)]());}[_0x5b59ae(0x153)](_0x3a4b45,_0x1ccbf1){this['_removedHook'](),this['_addedHook']();}['addData'](_0x542b5a){const _0x20e384={_0x397116:0x141},_0x6df962=_0x5b59ae;this[_0x6df962(_0x20e384._0x397116)]&&this['_mapVRenderer']['addData'](_0x542b5a,this['options']);}['updateData'](_0xc0f04c){const _0x2977be=_0x5b59ae;this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0xc0f04c,this[_0x2977be(0x17c)]);}['getData'](){const _0x239ba5={_0x2e3150:0x141,_0x4ec0f1:0x12e},_0x1c7c36=_0x5b59ae;return this['_mapVRenderer']&&(this['dataSet']=this[_0x1c7c36(_0x239ba5._0x2e3150)][_0x1c7c36(_0x239ba5._0x4ec0f1)]()),this['dataSet'];}['removeData'](_0x2b4306){const _0x4b85bc={_0x5908a8:0x141},_0x323c93=_0x5b59ae;this[_0x323c93(_0x4b85bc._0x5908a8)]&&this[_0x323c93(0x141)]['removeData'](_0x2b4306);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x279088={_0x34d330:0x176,_0x48a715:0x183,_0x1b6d2d:0x16e,_0x38736b:0x170,_0x4bb3ef:0x158,_0x2b1a32:0x162,_0x3828f7:0x12a,_0x117667:0x13a,_0x18e07f:0x17c,_0x805a52:0x16a},_0x43dc1e=_0x5b59ae,_0x37eea4=mars3d__namespace['DomUtil'][_0x43dc1e(_0x279088._0x34d330)](_0x43dc1e(_0x279088._0x48a715),_0x43dc1e(_0x279088._0x1b6d2d),this['_map'][_0x43dc1e(0x14d)]);_0x37eea4['id']=this['id'],_0x37eea4['style']['position']='absolute',_0x37eea4['style'][_0x43dc1e(0x17e)]=_0x43dc1e(_0x279088._0x38736b),_0x37eea4[_0x43dc1e(0x12a)][_0x43dc1e(_0x279088._0x4bb3ef)]=_0x43dc1e(0x170),_0x37eea4['width']=parseInt(this[_0x43dc1e(0x152)]['canvas']['width']),_0x37eea4['height']=parseInt(this['_map']['canvas']['height']),_0x37eea4['style'][_0x43dc1e(0x12f)]=this['_map']['canvas']['style']['width'],_0x37eea4['style']['height']=this['_map']['canvas'][_0x43dc1e(0x12a)][_0x43dc1e(_0x279088._0x2b1a32)],_0x37eea4[_0x43dc1e(_0x279088._0x3828f7)][_0x43dc1e(0x140)]=this['_pointerEvents']?'auto':'none',_0x37eea4[_0x43dc1e(0x12a)][_0x43dc1e(_0x279088._0x117667)]=this[_0x43dc1e(_0x279088._0x18e07f)][_0x43dc1e(_0x279088._0x117667)]??0x9;if(this['options']['context']==='2d'){const _0x152403=this['devicePixelRatio'];_0x37eea4[_0x43dc1e(0x17f)](this[_0x43dc1e(0x17c)]['context'])[_0x43dc1e(_0x279088._0x805a52)](_0x152403,_0x152403);}return _0x37eea4;}[_0x5b59ae(0x154)](){const _0x3e2363={_0x12de3a:0x126},_0x5eee4b=_0x5b59ae;this[_0x5eee4b(0x13f)](),this[_0x5eee4b(_0x3e2363._0x12de3a)]();}[_0x5b59ae(0x15c)](){const _0x78ca2c={_0x15ed21:0x154},_0x34a995=_0x5b59ae;this[_0x34a995(_0x78ca2c._0x15ed21)]();}['remove'](){const _0x6279d4={_0xaa8a07:0x141,_0x2d4d6d:0x138,_0x28ee3d:0x15d},_0x53f114=_0x5b59ae;this['_mapVRenderer']&&(this[_0x53f114(_0x6279d4._0xaa8a07)][_0x53f114(_0x6279d4._0x2d4d6d)](),this['_mapVRenderer']=null),this['canvas'][_0x53f114(_0x6279d4._0x28ee3d)]['removeChild'](this['canvas']);}['render'](){const _0x5f36d4=_0x5b59ae;this[_0x5f36d4(0x141)]['_canvasUpdate']();}[_0x5b59ae(0x13f)](){const _0x299d5f={_0x221977:0x158,_0x312b8b:0x152},_0x1df9f5=_0x5b59ae;if(this['canvas']){const _0x3b341e=this['canvas'];_0x3b341e['style']['position']='absolute',_0x3b341e[_0x1df9f5(0x12a)]['top']='0px',_0x3b341e['style'][_0x1df9f5(_0x299d5f._0x221977)]='0px',_0x3b341e['width']=parseInt(this[_0x1df9f5(_0x299d5f._0x312b8b)]['canvas']['width']),_0x3b341e['height']=parseInt(this['_map']['canvas']['height']),_0x3b341e['style']['width']=this['_map']['canvas']['style']['width'],_0x3b341e['style'][_0x1df9f5(0x162)]=this['_map']['canvas']['style'][_0x1df9f5(0x162)];}}['getRectangle'](_0x3fc4b2){const _0x41ae0f={_0x5ee592:0x137},_0x33032a=_0x5b59ae;if(!this[_0x33032a(0x165)]||!this['dataSet']['_data'])return;const _0x42f56b=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x42f56b)return;return _0x3fc4b2!==null&&_0x3fc4b2!==void 0x0&&_0x3fc4b2[_0x33032a(_0x41ae0f._0x5ee592)]?_0x42f56b:Cesium['Rectangle'][_0x33032a(0x130)](_0x42f56b['xmin'],_0x42f56b['ymin'],_0x42f56b['xmax'],_0x42f56b['ymax']);}['_onMapClick'](_0x30ac03){const _0x1c13d6={_0x5d7965:0x178},_0x3db5c7=_0x5b59ae;this[_0x3db5c7(0x14b)]=_0x30ac03,this['_mapVRenderer']&&this['_mapVRenderer'][_0x3db5c7(_0x1c13d6._0x5d7965)](_0x30ac03['windowPosition'],_0x30ac03);}['_onMapMouseMove'](_0x36d340){const _0x38a108=_0x5b59ae;this[_0x38a108(0x14b)]=_0x36d340,this['_mapVRenderer']&&this['_mapVRenderer'][_0x38a108(0x159)](_0x36d340['windowPosition'],_0x36d340);}['on'](_0x5ea7cc,_0x3b0a05,_0x1c8676){const _0x46da6d={_0x1291a5:0x135,_0x555635:0x172,_0x3f6b87:0x152},_0x33e613={_0x5e4d9d:0x125},_0x4f5813=_0x5b59ae;this['options']['methods']=this['options']['methods']||{};if(_0x5ea7cc===mars3d__namespace['EventType']['click'])this['options'][_0x4f5813(_0x46da6d._0x1291a5)]['click']=_0x1cc700=>{const _0x44c52a=_0x4f5813;_0x1cc700&&_0x3b0a05[_0x44c52a(_0x33e613._0x5e4d9d)](_0x1c8676)({...this[_0x44c52a(0x14b)],'layer':this,'data':_0x1cc700});},this['_map']['on'](mars3d__namespace[_0x4f5813(0x177)][_0x4f5813(_0x46da6d._0x555635)],this['_onMapClick'],this);else _0x5ea7cc===mars3d__namespace['EventType']['mouseMove']&&(this['options']['methods']['mousemove']=_0x333214=>{_0x333214&&_0x3b0a05['bind'](_0x1c8676)({...this['_cache_event'],'layer':this,'data':_0x333214});},this[_0x4f5813(_0x46da6d._0x3f6b87)]['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x1fd6b7,_0x3e4da1){const _0x28886a={_0x54058d:0x161,_0x4d7e19:0x135,_0x36fe9d:0x161},_0x23394a=_0x5b59ae;if(_0x1fd6b7==='click'){var _0x469f9b;this['_map'][_0x23394a(0x155)](_0x1fd6b7,this[_0x23394a(0x139)],this),(_0x469f9b=this['options']['methods'])!==null&&_0x469f9b!==void 0x0&&_0x469f9b[_0x23394a(_0x28886a._0x54058d)]&&delete this[_0x23394a(0x17c)]['methods']['click'];}else{if(_0x1fd6b7==='mouseMove'){var _0x4cb75b;this[_0x23394a(0x152)]['off'](_0x1fd6b7,this['_onMapMouseMove'],this),(_0x4cb75b=this['options'][_0x23394a(_0x28886a._0x4d7e19)])!==null&&_0x4cb75b!==void 0x0&&_0x4cb75b[_0x23394a(_0x28886a._0x36fe9d)]&&delete this['options']['methods']['mousemove'];}}return this;}}function _0x2d0f(_0x38ad40,_0x587070){const _0x4bd51e=_0x4bd5();return _0x2d0f=function(_0x2d0f4e,_0x55bc79){_0x2d0f4e=_0x2d0f4e-0x125;let _0x665265=_0x4bd51e[_0x2d0f4e];return _0x665265;},_0x2d0f(_0x38ad40,_0x587070);}mars3d__namespace['LayerUtil']['register'](_0x5b59ae(0x12d),MapVLayer),mars3d__namespace['layer'][_0x5b59ae(0x188)]=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x5b59ae(0x188)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x2b8810){const _0xe96e2e={_0x29dcb2:0x14f},_0x558f54=_0x5b59ae;if(_0x2b8810!=='default'&&!exports['hasOwnProperty'](_0x2b8810))Object[_0x558f54(_0xe96e2e._0x29dcb2)](exports,_0x2b8810,{'enumerable':!![],'get':function(){return mapv[_0x2b8810];}});}),Object[_0x5b59ae(0x14f)](exports,_0x5b59ae(0x160),{'value':!![]});
}));
