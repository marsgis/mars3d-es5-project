/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.5.9
 * 编译日期：2023-05-29 18:08:10
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x40ff44=_0x4514;(function(_0x49f587,_0x2c2d29){const _0x3f7146={_0x2267b1:0x1b7,_0x1c9d29:0x19a,_0x5ddbb0:0x1bc},_0x2aa0ea=_0x4514,_0x340ae6=_0x49f587();while(!![]){try{const _0x526992=-parseInt(_0x2aa0ea(0x1b5))/0x1+-parseInt(_0x2aa0ea(_0x3f7146._0x2267b1))/0x2+parseInt(_0x2aa0ea(_0x3f7146._0x1c9d29))/0x3+parseInt(_0x2aa0ea(0x164))/0x4*(-parseInt(_0x2aa0ea(_0x3f7146._0x5ddbb0))/0x5)+-parseInt(_0x2aa0ea(0x1c0))/0x6*(parseInt(_0x2aa0ea(0x1b8))/0x7)+parseInt(_0x2aa0ea(0x17f))/0x8+parseInt(_0x2aa0ea(0x18b))/0x9;if(_0x526992===_0x2c2d29)break;else _0x340ae6['push'](_0x340ae6['shift']());}catch(_0x280848){_0x340ae6['push'](_0x340ae6['shift']());}}}(_0x1c6d,0x50481));function _interopNamespace(_0x431313){const _0x4bd797={_0x269341:0x16a},_0x4cefb8=_0x4514;if(_0x431313&&_0x431313['__esModule'])return _0x431313;var _0x8d9cdf=Object['create'](null);return _0x431313&&Object['keys'](_0x431313)[_0x4cefb8(_0x4bd797._0x269341)](function(_0x57a3a7){const _0x4e415c=_0x4cefb8;if(_0x57a3a7!=='default'){var _0x140887=Object['getOwnPropertyDescriptor'](_0x431313,_0x57a3a7);Object[_0x4e415c(0x1c9)](_0x8d9cdf,_0x57a3a7,_0x140887['get']?_0x140887:{'enumerable':!![],'get':function(){return _0x431313[_0x57a3a7];}});}}),_0x8d9cdf['default']=_0x431313,_0x8d9cdf;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x40ff44(0x1b2)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x1e978f,_0x13ef26,_0x3ed618,_0x219a2c){const _0x1fbff6={_0x44ea54:0x18f},_0x16d8f3=_0x40ff44;super(_0x1e978f,_0x13ef26,_0x3ed618);if(!BaseLayer$1)return;this[_0x16d8f3(0x169)]=_0x1e978f,this[_0x16d8f3(_0x1fbff6._0x44ea54)]=_0x1e978f['scene'],this['dataSet']=_0x13ef26,_0x3ed618=_0x3ed618||{},this[_0x16d8f3(0x182)](_0x3ed618),this['argCheck'](_0x3ed618),this['initDevicePixelRatio'](),this[_0x16d8f3(0x1c5)]=_0x219a2c,this['stopAniamation']=!0x1,this[_0x16d8f3(0x19d)]=_0x3ed618['animation'];}[_0x40ff44(0x1b1)](){const _0x20065b={_0x53e5e5:0x1c6},_0x104448=_0x40ff44;this[_0x104448(_0x20065b._0x53e5e5)]=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0xfbf6b={_0x2a3c9b:0x168},_0x1efb0f=_0x40ff44,_0x754c99=this[_0x1efb0f(0x15f)][_0x1efb0f(0x19d)];this[_0x1efb0f(0x171)]()&&this[_0x1efb0f(0x19c)]&&(this['steps']['step']=_0x754c99['stepsRange'][_0x1efb0f(_0xfbf6b._0x2a3c9b)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}[_0x40ff44(0x193)](){const _0x5ab832={_0x40add4:0x1c3},_0x384fd1=_0x40ff44;return this[_0x384fd1(0x1c5)]['canvas']['getContext'](this[_0x384fd1(_0x5ab832._0x40add4)]);}[_0x40ff44(0x182)](_0x2794d2){const _0x43c006={_0x1ff184:0x1c5,_0x2c2b9e:0x186},_0x5a0c96=_0x40ff44;this['options']=_0x2794d2,this[_0x5a0c96(0x188)](_0x2794d2),this['context']=this['options']['context']||'2d',this['options']['zIndex']&&this['canvasLayer']&&this[_0x5a0c96(_0x43c006._0x1ff184)]['setZIndex']&&this[_0x5a0c96(0x1c5)]['setZIndex'](this[_0x5a0c96(0x15f)][_0x5a0c96(_0x43c006._0x2c2b9e)]),this['initAnimator']();}['_canvasUpdate'](_0xa97e96){const _0x3ea842={_0x14d0b5:0x18f,_0x8c9ec3:0x1b6,_0x29ad61:0x194,_0x15368f:0x161},_0xe02dbb={_0x2d8d9a:0x1ae},_0xa717b8={_0x45f0d6:0x1c1,_0xcba866:0x179,_0x80bc6d:0x1af,_0x2a1db7:0x1a9,_0x3e1353:0x1b0},_0x5a4818=_0x40ff44,_0x5e432d=this[_0x5a4818(_0x3ea842._0x14d0b5)];if(this['canvasLayer']&&!this['stopAniamation']){const _0xf2c4de=this['options'][_0x5a4818(0x19d)],_0x402dcd=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0xa97e96)return void this['clear'](_0x402dcd);this['context']==='2d'&&(_0x402dcd['save'](),_0x402dcd['globalCompositeOperation']=_0x5a4818(0x1b9),_0x402dcd['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x402dcd['fillRect'](0x0,0x0,_0x402dcd['canvas']['width'],_0x402dcd[_0x5a4818(0x177)]['height']),_0x402dcd[_0x5a4818(_0x3ea842._0x8c9ec3)]());}else this[_0x5a4818(_0x3ea842._0x29ad61)](_0x402dcd);if(this[_0x5a4818(0x1c3)]==='2d')for(const _0x3d5031 in this['options']){_0x402dcd[_0x3d5031]=this['options'][_0x3d5031];}else _0x402dcd['clear'](_0x402dcd['COLOR_BUFFER_BIT']);const _0x106149={'transferCoordinate':function(_0x135489){const _0x5083fc=_0x5a4818,_0x55551f=null;let _0xfbf4a2=_0x5e432d[_0x5083fc(_0xa717b8._0x45f0d6)];_0x5e432d[_0x5083fc(_0xa717b8._0xcba866)]&&(_0xfbf4a2=_0x5e432d['globe']['getHeight'](Cesium$1[_0x5083fc(_0xa717b8._0x80bc6d)]['fromDegrees'](_0x135489[0x0],_0x135489[0x1])));const _0x4ae1a8=Cesium$1['Cartesian3']['fromDegrees'](_0x135489[0x0],_0x135489[0x1],_0xfbf4a2);if(!_0x4ae1a8)return _0x55551f;const _0xff55cf=_0x5e432d['cartesianToCanvasCoordinates'](_0x4ae1a8);if(!_0xff55cf)return _0x55551f;if(_0x5e432d[_0x5083fc(_0xa717b8._0x2a1db7)]&&_0x5e432d['mode']===Cesium$1[_0x5083fc(0x18e)]['SCENE3D']){const _0x1dc856=new Cesium$1['EllipsoidalOccluder'](_0x5e432d[_0x5083fc(_0xa717b8._0x3e1353)]['ellipsoid'],_0x5e432d['camera']['positionWC']),_0x16eb85=_0x1dc856[_0x5083fc(0x196)](_0x4ae1a8);if(!_0x16eb85)return _0x55551f;}return[_0xff55cf['x'],_0xff55cf['y']];}};void 0x0!==_0xa97e96&&(_0x106149['filter']=function(_0x4eaa70){const _0x32c29b=_0x5a4818,_0x14b40b=_0xf2c4de[_0x32c29b(_0xe02dbb._0x2d8d9a)]||0xa;return!!(_0xa97e96&&_0x4eaa70['time']>_0xa97e96-_0x14b40b&&_0x4eaa70['time']<_0xa97e96);});const _0x4acc3b=this['dataSet']['get'](_0x106149);this['processData'](_0x4acc3b),this['options']['unit']==='m'&&this['options'][_0x5a4818(0x1b3)],this['options']['_size']=this['options']['size'];const _0x2100df=_0x5e432d['cartesianToCanvasCoordinates'](Cesium$1[_0x5a4818(0x1c7)]['fromDegrees'](0x0,0x0));if(!_0x2100df)return;this['drawContext'](_0x402dcd,new mapv__namespace['DataSet'](_0x4acc3b),this['options'],_0x2100df),this[_0x5a4818(0x15f)][_0x5a4818(_0x3ea842._0x15368f)]&&this['options'][_0x5a4818(0x161)](_0xa97e96);}}[_0x40ff44(0x1ba)](_0x3da7fb,_0x42b9dc){const _0x1340ba={_0x50bcf7:0x175,_0x5971e0:0x172},_0x5a3e02=_0x40ff44;let _0x195d62=_0x3da7fb;_0x195d62&&_0x195d62[_0x5a3e02(_0x1340ba._0x50bcf7)]&&(_0x195d62=_0x195d62['get']()),void 0x0!==_0x195d62&&this['dataSet'][_0x5a3e02(_0x1340ba._0x5971e0)](_0x195d62),super['update']({'options':_0x42b9dc});}['addData'](_0x590c7d,_0x4d98de){const _0x323a1f={_0x4e8b89:0x1bb},_0x509202=_0x40ff44;let _0x3ee5ed=_0x590c7d;_0x590c7d&&_0x590c7d['get']&&(_0x3ee5ed=_0x590c7d['get']()),this['dataSet'][_0x509202(_0x323a1f._0x4e8b89)](_0x3ee5ed),this['update']({'options':_0x4d98de});}['getData'](){return this['dataSet'];}['removeData'](_0x415d80){const _0x597c76={_0xe84453:0x1a8},_0x5552b3=_0x40ff44;if(this['dataSet']){const _0x1b1dca=this['dataSet']['get']({'filter':function(_0x299b1e){return _0x415d80==null||typeof _0x415d80!=='function'||!_0x415d80(_0x299b1e);}});this[_0x5552b3(_0x597c76._0xe84453)]['set'](_0x1b1dca),this['update']({'options':null});}}['clearData'](){const _0x1b97f1={_0x21041b:0x17b},_0x1d591b=_0x40ff44;this['dataSet']&&this['dataSet']['clear'](),this[_0x1d591b(_0x1b97f1._0x21041b)]({'options':null});}['draw'](){const _0x563f99={_0xe5da:0x19f},_0x58a997=_0x40ff44;this[_0x58a997(0x1c5)][_0x58a997(_0x563f99._0xe5da)]();}['clear'](_0x16a441){const _0x26ee16={_0x22fb84:0x1bf},_0x5de5ef=_0x40ff44;_0x16a441&&_0x16a441['clearRect']&&_0x16a441['clearRect'](0x0,0x0,_0x16a441['canvas']['width'],_0x16a441['canvas'][_0x5de5ef(_0x26ee16._0x22fb84)]);}['destroy'](){const _0x8becce=_0x40ff44;this[_0x8becce(0x194)](this['getContext']()),this['clearData'](),this['animator']&&this[_0x8becce(0x19c)][_0x8becce(0x189)](),this[_0x8becce(0x19c)]=null,this['canvasLayer']=null;}}function _0x4514(_0x286567,_0xe7910d){const _0x1c6df6=_0x1c6d();return _0x4514=function(_0x451415,_0x3208b6){_0x451415=_0x451415-0x15f;let _0x1294f5=_0x1c6df6[_0x451415];return _0x1294f5;},_0x4514(_0x286567,_0xe7910d);}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet'][_0x40ff44(0x16e)][_0x40ff44(0x18c)]=function(_0x1bfe46,_0xa7638c,_0x12fb74,_0x3a9706){const _0x20abc0={_0x4f1e09:0x167,_0x265986:0x191,_0x2d5604:0x1a0,_0x5061ae:0x180},_0x14e6dc={_0x575ac4:0x191},_0x4c1d88=_0x40ff44;_0x3a9706=_0x3a9706||_0x4c1d88(_0x20abc0._0x4f1e09),_0x12fb74=_0x12fb74||_0x4c1d88(0x192);for(let _0x52c116=0x0;_0x52c116<_0x1bfe46[_0x4c1d88(_0x20abc0._0x265986)];_0x52c116++){const _0x25c882=_0x1bfe46[_0x52c116]['geometry'],_0x381eee=_0x25c882[_0x12fb74];switch(_0x25c882[_0x4c1d88(_0x20abc0._0x2d5604)]){case _0x4c1d88(_0x20abc0._0x5061ae):{const _0x4931f3=_0xa7638c(_0x381eee);_0x4931f3?_0x25c882[_0x3a9706]=_0x4931f3:_0x25c882[_0x3a9706]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0xcf3182=[];for(let _0x181e4e=0x0;_0x181e4e<_0x381eee[_0x4c1d88(_0x20abc0._0x265986)];_0x181e4e++){const _0x33f6dc=_0xa7638c(_0x381eee[_0x181e4e]);_0x33f6dc&&_0xcf3182[_0x4c1d88(0x181)](_0x33f6dc);}_0x25c882[_0x3a9706]=_0xcf3182;}break;case'MultiLineString':case'Polygon':{const _0x39b1d1=_0x1af77c(_0x381eee);_0x25c882[_0x3a9706]=_0x39b1d1;}break;case _0x4c1d88(0x16b):{const _0x4dd144=[];for(let _0xcfd1f0=0x0;_0xcfd1f0<_0x381eee['length'];_0xcfd1f0++){const _0x33c0fc=_0x1af77c(_0x381eee[_0xcfd1f0]);_0x33c0fc[_0x4c1d88(0x191)]>0x0&&_0x4dd144['push'](_0x33c0fc);}_0x25c882[_0x3a9706]=_0x4dd144;}break;}}function _0x1af77c(_0x3d4731){const _0x27b0a8=_0x4c1d88,_0x1a228b=[];for(let _0x40b28d=0x0;_0x40b28d<_0x3d4731[_0x27b0a8(_0x14e6dc._0x575ac4)];_0x40b28d++){const _0x30bbd4=_0x3d4731[_0x40b28d],_0x398be5=[];for(let _0x9524f9=0x0;_0x9524f9<_0x30bbd4['length'];_0x9524f9++){const _0x33abe2=_0xa7638c(_0x30bbd4[_0x9524f9]);_0x33abe2&&_0x398be5['push'](_0x33abe2);}_0x398be5['length']>0x0&&_0x1a228b['push'](_0x398be5);}return _0x1a228b;}return _0x1bfe46;};else throw new Error('请引入\x20mapv\x20库\x20');function _0x1c6d(){const _0x5960fa=['_data','_coordinates','start','map','forEach','MultiPolygon','_removedHook','width','prototype','_onMoveStartEvent','create','isEnabledTime','set','_cache_event','scale','get','_mapVRenderer','canvas','destroy','mapvAutoHeight','0px','update','mousemoveEvent','render','addData','436280ksXzpX','Point','push','init','methods','getExtentByGeoJSON','click','zIndex','postRender','initDataRange','stop','removeAllData','8955612OzNiNx','transferCoordinate','_onMapMouseMove','SceneMode','scene','_onMapClick','length','coordinates','getContext','clear','resize','isPointVisible','bind','display','EventType','1043610zMioaQ','clampToGround','animator','animation','_map','draw','type','clearData','style','mouseDown','unbindEvent','removeChild','clickEvent','animatorMovestartEvent','dataSet','mapvDepthTest','ymin','getData','position','_reset','trails','Cartographic','globe','initDevicePixelRatio','baiduMapLayer','size','BaseLayer','239714ZcDSrk','restore','1180512VxTQaE','728763qFKfdL','destination-out','updateData','add','235nvkANC','_pointerEvents','windowPosition','height','6YkKeNq','mapvFixedHeight','_showHook','context','bindEvent','canvasLayer','devicePixelRatio','Cartesian3','cameraMoveEnd','defineProperty','options','pointerEvents','updateCallback','mousemove','off','11452reYfmA','mouseMove'];_0x1c6d=function(){return _0x5960fa;};return _0x1c6d();}const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x40ff44(0x1b4)];class MapVLayer extends BaseLayer{constructor(_0x512620,_0x2e2002){const _0x32a520={_0x231757:0x15f,_0x3c2f35:0x160,_0x5b6ee1:0x177},_0x445201=_0x40ff44;super(_0x512620),this['_pointerEvents']=this[_0x445201(_0x32a520._0x231757)][_0x445201(_0x32a520._0x3c2f35)],this['dataSet']=_0x2e2002||new mapv__namespace['DataSet'](_0x512620['data']),this[_0x445201(_0x32a520._0x5b6ee1)]=null;}get['pointerEvents'](){const _0x410da8=_0x40ff44;return this[_0x410da8(0x1bd)];}set['pointerEvents'](_0x12e30c){const _0x32b4e6={_0x551cd4:0x1bd,_0x46afb3:0x177,_0x38c2df:0x160},_0x2299fe=_0x40ff44;this[_0x2299fe(_0x32b4e6._0x551cd4)]=_0x12e30c,this['canvas']&&(_0x12e30c?this['canvas']['style']['pointerEvents']='all':this[_0x2299fe(_0x32b4e6._0x46afb3)]['style'][_0x2299fe(_0x32b4e6._0x38c2df)]='none');}[_0x40ff44(0x1c2)](_0x20d564){const _0x219dfd={_0x465e74:0x198},_0xeab611=_0x40ff44;_0x20d564?this['canvas']['style'][_0xeab611(_0x219dfd._0x465e74)]='block':this[_0xeab611(0x177)]['style']['display']='none';}['_mountedHook'](){const _0x2165d5={_0x79e718:0x15f,_0x29c207:0x1c1},_0x67c5c2=_0x40ff44;this['_map']['scene']['mapvDepthTest']=this[_0x67c5c2(_0x2165d5._0x79e718)]['depthTest']??!![],this['_map']['scene'][_0x67c5c2(0x179)]=this['options'][_0x67c5c2(0x19b)]??![],this['_map'][_0x67c5c2(0x18f)][_0x67c5c2(_0x2165d5._0x29c207)]=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x118b97={_0x346bdf:0x191,_0x39d73d:0x1a8,_0x53d3f8:0x15f,_0x5e7375:0x1b1,_0x5ab92c:0x17d},_0x15a782=_0x40ff44;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data'][_0x15a782(_0x118b97._0x346bdf)]===0x0)&&(this['dataSet']['_data']=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this[_0x15a782(_0x118b97._0x39d73d)],this[_0x15a782(_0x118b97._0x53d3f8)],this),this[_0x15a782(_0x118b97._0x5e7375)](),this['canvas']=this['_createCanvas'](),this[_0x15a782(0x17d)]=this[_0x15a782(_0x118b97._0x5ab92c)]['bind'](this),this['bindEvent'](),this['_reset']();}[_0x40ff44(0x16c)](){const _0x60372a={_0x5094d4:0x178},_0x524525=_0x40ff44;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x524525(0x176)][_0x524525(_0x60372a._0x5094d4)](),this[_0x524525(0x176)]=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x499c51={_0x58eb46:0x1c6},_0xff9422=_0x40ff44;this[_0xff9422(_0x499c51._0x58eb46)]=window['devicePixelRatio']||0x1;}[_0x40ff44(0x1c4)](){const _0x51869d={_0x341100:0x19e,_0x59b2de:0x16f,_0x246bdd:0x15f,_0x5c72c5:0x185,_0x68c471:0x199},_0x401d3c=_0x40ff44;var _0x2b1020,_0x20264a,_0x78a872,_0x189452;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x401d3c(0x16f)],this),this[_0x401d3c(_0x51869d._0x341100)]['on'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x401d3c(_0x51869d._0x59b2de)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x2b1020=this[_0x401d3c(_0x51869d._0x246bdd)])!==null&&_0x2b1020!==void 0x0&&(_0x20264a=_0x2b1020['methods'])!==null&&_0x20264a!==void 0x0&&_0x20264a[_0x401d3c(_0x51869d._0x5c72c5)]&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x78a872=this['options'])!==null&&_0x78a872!==void 0x0&&(_0x189452=_0x78a872['methods'])!==null&&_0x189452!==void 0x0&&_0x189452['mousemove']&&this['_map']['on'](mars3d__namespace[_0x401d3c(_0x51869d._0x68c471)][_0x401d3c(0x165)],this['_onMapMouseMove'],this);}[_0x40ff44(0x1a4)](){const _0x1d85da={_0x5789a7:0x1ad,_0x24315b:0x19e},_0xdeeaa6=_0x40ff44;var _0x57010b,_0x181065,_0x2b6070,_0x92b703;this['_map']['off'](mars3d__namespace['EventType'][_0xdeeaa6(0x1a3)],this['_onMoveStartEvent'],this),this[_0xdeeaa6(0x19e)]['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0xdeeaa6(0x1c8)],this['_onMoveEndEvent'],this),this['_map'][_0xdeeaa6(0x163)](mars3d__namespace['EventType'][_0xdeeaa6(0x187)],this[_0xdeeaa6(_0x1d85da._0x5789a7)],this),(_0x57010b=this[_0xdeeaa6(0x15f)])!==null&&_0x57010b!==void 0x0&&(_0x181065=_0x57010b['methods'])!==null&&_0x181065!==void 0x0&&_0x181065['click']&&this['_map']['off'](mars3d__namespace[_0xdeeaa6(0x199)]['click'],this['_onMapClick'],this),(_0x2b6070=this['options'])!==null&&_0x2b6070!==void 0x0&&(_0x92b703=_0x2b6070['methods'])!==null&&_0x92b703!==void 0x0&&_0x92b703['mousemove']&&this[_0xdeeaa6(_0x1d85da._0x24315b)]['off'](mars3d__namespace['EventType']['mouseMove'],this[_0xdeeaa6(0x18d)],this);}['_onMoveStartEvent'](){const _0x218aae={_0x22873b:0x176,_0x1904af:0x1a7,_0x2768b6:0x19e},_0xb7019e=_0x40ff44;this['_mapVRenderer']&&(this[_0xb7019e(_0x218aae._0x22873b)][_0xb7019e(_0x218aae._0x1904af)](),this[_0xb7019e(_0x218aae._0x2768b6)]['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this[_0xb7019e(0x1ad)],this));}['_onMoveEndEvent'](){const _0x2756bb={_0x1f351a:0x163},_0x14b489=_0x40ff44;this['_mapVRenderer']&&(this['_map'][_0x14b489(_0x2756bb._0x1f351a)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x464e23,_0x1a5d82){const _0x5944eb={_0x478577:0x16c},_0x300c1e=_0x40ff44;this[_0x300c1e(_0x5944eb._0x478577)](),this['_addedHook']();}['addData'](_0x2f574a){const _0x1eca59={_0x44bc22:0x176,_0x3b7927:0x15f},_0xcf93e1=_0x40ff44;this['_mapVRenderer']&&this[_0xcf93e1(_0x1eca59._0x44bc22)][_0xcf93e1(0x17e)](_0x2f574a,this[_0xcf93e1(_0x1eca59._0x3b7927)]);}['updateData'](_0x66d774){const _0x22df2a=_0x40ff44;this['_mapVRenderer']&&this['_mapVRenderer'][_0x22df2a(0x1ba)](_0x66d774,this['options']);}['getData'](){const _0x23e17d={_0x23f7ce:0x1ab},_0x23d9b9=_0x40ff44;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x23d9b9(_0x23e17d._0x23f7ce)]()),this['dataSet'];}['removeData'](_0x2f9337){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x2f9337);}[_0x40ff44(0x18a)](){const _0x5ab3db=_0x40ff44;this['_mapVRenderer']&&this['_mapVRenderer'][_0x5ab3db(0x1a1)]();}['_createCanvas'](){const _0x541317={_0x26ef83:0x177,_0x12a0f5:0x1a2,_0x17334e:0x1ac,_0x47d043:0x19e,_0x42a6ef:0x15f},_0x277444=_0x40ff44,_0x280016=mars3d__namespace['DomUtil'][_0x277444(0x170)](_0x277444(_0x541317._0x26ef83),'mars3d-mapv',this[_0x277444(0x19e)]['container']);_0x280016['id']=this['id'],_0x280016[_0x277444(_0x541317._0x12a0f5)][_0x277444(_0x541317._0x17334e)]='absolute',_0x280016[_0x277444(_0x541317._0x12a0f5)]['top']=_0x277444(0x17a),_0x280016[_0x277444(0x1a2)]['left']='0px',_0x280016['width']=parseInt(this[_0x277444(0x19e)]['canvas']['width']),_0x280016[_0x277444(0x1bf)]=parseInt(this['_map']['canvas']['height']),_0x280016['style']['width']=this[_0x277444(_0x541317._0x47d043)]['canvas']['style']['width'],_0x280016['style']['height']=this[_0x277444(0x19e)][_0x277444(0x177)]['style']['height'],_0x280016[_0x277444(0x1a2)]['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x280016['style']['zIndex']=this['options']['zIndex']??0x9;if(this[_0x277444(_0x541317._0x42a6ef)]['context']==='2d'){const _0x4385ed=this['devicePixelRatio'];_0x280016['getContext'](this[_0x277444(0x15f)]['context'])[_0x277444(0x174)](_0x4385ed,_0x4385ed);}return _0x280016;}['_reset'](){const _0x5e1bab=_0x40ff44;this['resize'](),this[_0x5e1bab(0x17d)]();}['draw'](){this['_reset']();}['remove'](){const _0x4c25f0={_0x4a471b:0x178},_0x10527a=_0x40ff44;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x10527a(_0x4c25f0._0x4a471b)](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x10527a(0x1a5)](this['canvas']);}['render'](){const _0x163acf={_0xc0da27:0x176},_0x1cab98=_0x40ff44;this[_0x1cab98(_0x163acf._0xc0da27)]['_canvasUpdate']();}[_0x40ff44(0x195)](){const _0x4c5d2b={_0x1af8d6:0x177,_0x2ab8bd:0x16d,_0x3232d8:0x16d,_0x2a5dde:0x1bf},_0x399d22=_0x40ff44;if(this[_0x399d22(_0x4c5d2b._0x1af8d6)]){const _0x1f5d1d=this['canvas'];_0x1f5d1d['style']['position']='absolute',_0x1f5d1d['style']['top']=_0x399d22(0x17a),_0x1f5d1d['style']['left']='0px',_0x1f5d1d[_0x399d22(_0x4c5d2b._0x2ab8bd)]=parseInt(this[_0x399d22(0x19e)]['canvas'][_0x399d22(_0x4c5d2b._0x3232d8)]),_0x1f5d1d['height']=parseInt(this['_map']['canvas'][_0x399d22(_0x4c5d2b._0x2a5dde)]),_0x1f5d1d['style']['width']=this['_map']['canvas']['style']['width'],_0x1f5d1d['style']['height']=this[_0x399d22(0x19e)]['canvas']['style']['height'];}}['getRectangle'](_0x314389){const _0x3e7c21={_0x1583d1:0x184,_0x3b9fda:0x166,_0x30b77f:0x1aa},_0x2a48aa=_0x40ff44;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x3bc264=mars3d__namespace['Util'][_0x2a48aa(_0x3e7c21._0x1583d1)]({'type':'FeatureCollection','features':this['dataSet'][_0x2a48aa(_0x3e7c21._0x3b9fda)]});if(!_0x3bc264)return;return _0x314389!==null&&_0x314389!==void 0x0&&_0x314389['isFormat']?_0x3bc264:Cesium['Rectangle']['fromDegrees'](_0x3bc264['xmin'],_0x3bc264[_0x2a48aa(_0x3e7c21._0x30b77f)],_0x3bc264['xmax'],_0x3bc264['ymax']);}['_onMapClick'](_0x468ac5){const _0x3ee23c={_0x5102bb:0x173,_0x5057c6:0x1a6,_0x355ad4:0x1be},_0x4604cb=_0x40ff44;this[_0x4604cb(_0x3ee23c._0x5102bb)]=_0x468ac5,this['_mapVRenderer']&&this['_mapVRenderer'][_0x4604cb(_0x3ee23c._0x5057c6)](_0x468ac5[_0x4604cb(_0x3ee23c._0x355ad4)],_0x468ac5);}[_0x40ff44(0x18d)](_0x1206ff){const _0x1ddea5={_0x54bb82:0x176,_0x5b0639:0x1be},_0xb64a75=_0x40ff44;this['_cache_event']=_0x1206ff,this[_0xb64a75(_0x1ddea5._0x54bb82)]&&this['_mapVRenderer'][_0xb64a75(0x17c)](_0x1206ff[_0xb64a75(_0x1ddea5._0x5b0639)],_0x1206ff);}['on'](_0x29d4af,_0x537627,_0x295b81){const _0x80af1b={_0x4fce90:0x15f,_0x1b1049:0x183,_0x2fc06c:0x185,_0x365e14:0x15f,_0x2619b8:0x162},_0x1c028f={_0x2ad6c2:0x197},_0x550fd1=_0x40ff44;this[_0x550fd1(_0x80af1b._0x4fce90)]['methods']=this['options'][_0x550fd1(_0x80af1b._0x1b1049)]||{};if(_0x29d4af===mars3d__namespace['EventType'][_0x550fd1(0x185)])this[_0x550fd1(_0x80af1b._0x4fce90)]['methods'][_0x550fd1(_0x80af1b._0x2fc06c)]=_0x346615=>{_0x346615&&_0x537627['bind'](_0x295b81)({...this['_cache_event'],'layer':this,'data':_0x346615});},this[_0x550fd1(0x19e)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x29d4af===mars3d__namespace['EventType']['mouseMove']&&(this[_0x550fd1(_0x80af1b._0x365e14)]['methods'][_0x550fd1(_0x80af1b._0x2619b8)]=_0xd4661a=>{const _0x4a6548=_0x550fd1;_0xd4661a&&_0x537627[_0x4a6548(_0x1c028f._0x2ad6c2)](_0x295b81)({...this['_cache_event'],'layer':this,'data':_0xd4661a});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x149b20,_0x59c0cc){const _0x5d4113={_0x38314d:0x15f,_0x55e931:0x183},_0x7ca9e7=_0x40ff44;if(_0x149b20==='click'){var _0x36d780;this[_0x7ca9e7(0x19e)]['off'](_0x149b20,this[_0x7ca9e7(0x190)],this),(_0x36d780=this['options']['methods'])!==null&&_0x36d780!==void 0x0&&_0x36d780['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x149b20==='mouseMove'){var _0x297863;this['_map']['off'](_0x149b20,this['_onMapMouseMove'],this),(_0x297863=this['options']['methods'])!==null&&_0x297863!==void 0x0&&_0x297863['mousemove']&&delete this[_0x7ca9e7(_0x5d4113._0x38314d)][_0x7ca9e7(_0x5d4113._0x55e931)]['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x16d5ba){const _0x5cb5f9={_0x15b887:0x1c9},_0xff77d1=_0x40ff44;if(_0x16d5ba!=='default'&&!exports['hasOwnProperty'](_0x16d5ba))Object[_0xff77d1(_0x5cb5f9._0x15b887)](exports,_0x16d5ba,{'enumerable':!![],'get':function(){return mapv[_0x16d5ba];}});}),Object[_0x40ff44(0x1c9)](exports,'__esModule',{'value':!![]});
}));
