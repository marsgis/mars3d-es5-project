/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.17
 * 编译日期：2023-12-14 20:38:51
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x3201af=_0x8960;function _0x45aa(){const _0x2d81d5=['__esModule','cameraMoveStart','479946zqacHM','methods','_onMapClick','height','fromDegrees','devicePixelRatio','unbindEvent','removeChild','mousemove','render','type','globe','animatorMovestartEvent','_canvasUpdate','bind','clickEvent','LineString','mapvDepthTest','_dataCache','geometry','_map','width','position','_reset','time','__proto__','drawContext','removeAllData','stop','canvas','_cache_event','removeData','keys','defined','pointerEvents','forEach','get','draw','Point','scene','animation','defineProperty','_mapVRenderer','_onMapMouseMove','dataSet','save','canvasLayer','coordinates','step','mouseMove','resize','8Cabjla','SceneMode','getOwnPropertyDescriptor','display','click','addData','destination-out','24160581rFiOVC','LayerUtil','isEnabledTime','options','EventType','stepsRange','3PrgMQE','top','animatorMoveendEvent','0px','mousemoveEvent','all','stopAniamation','4269909dmDWNi','postRender','5544900oKJtEY','auto','setZIndex','clearData','_onMoveEndEvent','filter','Cesium','off','length','clear','push','936066jmyeid','_addedHook','style','2351952csPfkv','xmin','create','2792765XSjpPJ','DataSet','_removedHook'];_0x45aa=function(){return _0x2d81d5;};return _0x45aa();}(function(_0x3ddb75,_0x4cb1db){const _0x29fef5={_0x9fd0b5:0x115,_0x3398f7:0x120,_0x186964:0x118,_0x5431d3:0x11b,_0x1037b7:0x108},_0x568659=_0x8960,_0x5256df=_0x3ddb75();while(!![]){try{const _0xab55a1=-parseInt(_0x568659(_0x29fef5._0x9fd0b5))/0x1+-parseInt(_0x568659(_0x29fef5._0x3398f7))/0x2*(-parseInt(_0x568659(0x101))/0x3)+parseInt(_0x568659(_0x29fef5._0x186964))/0x4+-parseInt(_0x568659(_0x29fef5._0x5431d3))/0x5+-parseInt(_0x568659(0x10a))/0x6+-parseInt(_0x568659(_0x29fef5._0x1037b7))/0x7+parseInt(_0x568659(0xf4))/0x8*(parseInt(_0x568659(0xfb))/0x9);if(_0xab55a1===_0x4cb1db)break;else _0x5256df['push'](_0x5256df['shift']());}catch(_0x615789){_0x5256df['push'](_0x5256df['shift']());}}}(_0x45aa,0x76182));function _interopNamespace(_0x27a403){const _0x477440={_0x5ca2dd:0xe4},_0x2dfa71={_0x5b8f84:0xf6,_0x3ffedf:0xea},_0x4bc2bd=_0x8960;if(_0x27a403&&_0x27a403['__esModule'])return _0x27a403;var _0x1aed66=Object[_0x4bc2bd(0x11a)](null);return _0x27a403&&Object['keys'](_0x27a403)[_0x4bc2bd(_0x477440._0x5ca2dd)](function(_0x20aa02){const _0x335e7e=_0x4bc2bd;if(_0x20aa02!=='default'){var _0x4cce50=Object[_0x335e7e(_0x2dfa71._0x5b8f84)](_0x27a403,_0x20aa02);Object[_0x335e7e(_0x2dfa71._0x3ffedf)](_0x1aed66,_0x20aa02,_0x4cce50[_0x335e7e(0xe5)]?_0x4cce50:{'enumerable':!![],'get':function(){return _0x27a403[_0x20aa02];}});}}),_0x1aed66['default']=_0x27a403,_0x1aed66;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x8960(_0x3f1239,_0x321eca){const _0x45aa2f=_0x45aa();return _0x8960=function(_0x896036,_0x4a926a){_0x896036=_0x896036-0xcc;let _0x4a6a82=_0x45aa2f[_0x896036];return _0x4a6a82;},_0x8960(_0x3f1239,_0x321eca);}const Cesium$1=mars3d__namespace[_0x3201af(0x110)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x3201af(0xda)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x181c71,_0x305e21,_0x1154ed,_0x3b72e9){const _0x1be6c9={_0x4ac5f9:0xe8,_0x14c51b:0x107,_0x25a75b:0xe9},_0x563af7=_0x3201af;super(_0x181c71,_0x305e21,_0x1154ed);if(!BaseLayer$1)return;this['map']=_0x181c71,this[_0x563af7(_0x1be6c9._0x4ac5f9)]=_0x181c71['scene'],this['dataSet']=_0x305e21,_0x1154ed=_0x1154ed||{},this['init'](_0x1154ed),this['argCheck'](_0x1154ed),this['initDevicePixelRatio'](),this['canvasLayer']=_0x3b72e9,this[_0x563af7(_0x1be6c9._0x14c51b)]=!0x1,this[_0x563af7(_0x1be6c9._0x25a75b)]=_0x1154ed['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}[_0x3201af(0xcd)](){const _0x46cdea=_0x3201af,_0xb8502=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps'][_0x46cdea(0xf1)]=_0xb8502[_0x46cdea(0x100)]['start']);}[_0x3201af(0x103)](){const _0xe2b63={_0x3b9f58:0xfd},_0x562c0d=_0x3201af;this[_0x562c0d(_0xe2b63._0x3b9f58)]()&&this['animator'];}['getContext'](){return this['canvasLayer']['canvas']['getContext'](this['context']);}['init'](_0x279a9f){const _0x2d3593={_0x836725:0xe2,_0x247eb3:0x10c},_0x35b6dc=_0x3201af;this['options']=_0x279a9f,this['initDataRange'](_0x279a9f),this['context']=this['options']['context']||'2d',Cesium$1[_0x35b6dc(_0x2d3593._0x836725)](this['options']['zIndex'])&&this['canvasLayer']&&this[_0x35b6dc(0xef)]['setZIndex']&&this['canvasLayer'][_0x35b6dc(_0x2d3593._0x247eb3)](this['options']['zIndex']),this['initAnimator']();}[_0x3201af(0xce)](_0x1b08e7){const _0x26149b={_0x4d430b:0xef,_0x5df108:0xfe,_0x2acb5a:0xe9,_0x1658bd:0x113,_0x3cb603:0xde,_0x92dc7c:0xdb},_0x5e4520={_0x5c6acf:0xd9},_0x148de7={_0x2ad30d:0xcc,_0x484db8:0x124,_0x3db912:0xd2},_0x531fe0=_0x3201af,_0x28b12f=this['scene'];if(this[_0x531fe0(_0x26149b._0x4d430b)]&&!this['stopAniamation']){const _0x53a0c7=this[_0x531fe0(_0x26149b._0x5df108)][_0x531fe0(_0x26149b._0x2acb5a)],_0x33885c=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x1b08e7)return void this[_0x531fe0(_0x26149b._0x1658bd)](_0x33885c);this['context']==='2d'&&(_0x33885c[_0x531fe0(0xee)](),_0x33885c['globalCompositeOperation']=_0x531fe0(0xfa),_0x33885c['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x33885c['fillRect'](0x0,0x0,_0x33885c[_0x531fe0(_0x26149b._0x3cb603)]['width'],_0x33885c['canvas']['height']),_0x33885c['restore']());}else this['clear'](_0x33885c);if(this['context']==='2d')for(const _0x2006aa in this['options']){_0x33885c[_0x2006aa]=this['options'][_0x2006aa];}else _0x33885c['clear'](_0x33885c['COLOR_BUFFER_BIT']);const _0xd55325={'transferCoordinate':function(_0x2e65e4){const _0x35c30b=_0x531fe0,_0x18af1c=null;let _0x42fe5d=_0x28b12f['mapvFixedHeight'];_0x28b12f['mapvAutoHeight']&&(_0x42fe5d=_0x28b12f[_0x35c30b(_0x148de7._0x2ad30d)]['getHeight'](Cesium$1['Cartographic'][_0x35c30b(_0x148de7._0x484db8)](_0x2e65e4[0x0],_0x2e65e4[0x1])));const _0x5e418f=Cesium$1['Cartesian3']['fromDegrees'](_0x2e65e4[0x0],_0x2e65e4[0x1],_0x42fe5d);if(!_0x5e418f)return _0x18af1c;const _0x25c3a3=_0x28b12f['cartesianToCanvasCoordinates'](_0x5e418f);if(!_0x25c3a3)return _0x18af1c;if(_0x28b12f[_0x35c30b(_0x148de7._0x3db912)]&&_0x28b12f['mode']===Cesium$1[_0x35c30b(0xf5)]['SCENE3D']){const _0x3eb02c=new Cesium$1['EllipsoidalOccluder'](_0x28b12f['globe']['ellipsoid'],_0x28b12f['camera']['positionWC']),_0xacddab=_0x3eb02c['isPointVisible'](_0x5e418f);if(!_0xacddab)return _0x18af1c;}return[_0x25c3a3['x'],_0x25c3a3['y']];}};void 0x0!==_0x1b08e7&&(_0xd55325[_0x531fe0(0x10f)]=function(_0x3ee457){const _0x528bb6=_0x531fe0,_0x50503a=_0x53a0c7['trails']||0xa;return!!(_0x1b08e7&&_0x3ee457[_0x528bb6(_0x5e4520._0x5c6acf)]>_0x1b08e7-_0x50503a&&_0x3ee457['time']<_0x1b08e7);});const _0x52745f=this[_0x531fe0(0xed)][_0x531fe0(0xe5)](_0xd55325);this['processData'](_0x52745f),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this[_0x531fe0(0xfe)]['size'];const _0x317dd8=_0x28b12f['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3'][_0x531fe0(0x124)](0x0,0x0));if(!_0x317dd8)return;this[_0x531fe0(_0x26149b._0x92dc7c)](_0x33885c,new mapv__namespace['DataSet'](_0x52745f),this['options'],_0x317dd8),this[_0x531fe0(0xfe)]['updateCallback']&&this['options']['updateCallback'](_0x1b08e7);}}['updateData'](_0xdb26b5,_0x428614){const _0x437942=_0x3201af;let _0x42c090=_0xdb26b5;_0x42c090&&_0x42c090[_0x437942(0xe5)]&&(_0x42c090=_0x42c090[_0x437942(0xe5)]()),void 0x0!==_0x42c090&&this['dataSet']['set'](_0x42c090),super['update']({'options':_0x428614});}['addData'](_0x1ad1a0,_0x178ba2){let _0x1f2f18=_0x1ad1a0;_0x1ad1a0&&_0x1ad1a0['get']&&(_0x1f2f18=_0x1ad1a0['get']()),this['dataSet']['add'](_0x1f2f18),this['update']({'options':_0x178ba2});}['getData'](){return this['dataSet'];}['removeData'](_0x10510e){const _0x12737d={_0x17da5a:0xed,_0x2b90f5:0xe5},_0x303b45=_0x3201af;if(this['dataSet']){const _0x47309f=this[_0x303b45(_0x12737d._0x17da5a)][_0x303b45(_0x12737d._0x2b90f5)]({'filter':function(_0x5826ce){return _0x10510e==null||typeof _0x10510e!=='function'||!_0x10510e(_0x5826ce);}});this['dataSet']['set'](_0x47309f),this['update']({'options':null});}}['clearData'](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}[_0x3201af(0xe6)](){this['canvasLayer']['draw']();}['clear'](_0x14f0b1){const _0x1c3aba={_0x6f5362:0xde},_0x1d8cef=_0x3201af;_0x14f0b1&&_0x14f0b1['clearRect']&&_0x14f0b1['clearRect'](0x0,0x0,_0x14f0b1['canvas'][_0x1d8cef(0xd6)],_0x14f0b1[_0x1d8cef(_0x1c3aba._0x6f5362)]['height']);}['destroy'](){const _0x3d4df0={_0x5c1413:0xdd},_0x4ee20b=_0x3201af;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this['animator'][_0x4ee20b(_0x3d4df0._0x5c1413)](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x3201af(0x11c)])mapv__namespace[_0x3201af(0x11c)]['prototype']['transferCoordinate']=function(_0x41ed36,_0x529ea1,_0x11d7b6,_0x3815c){const _0x1d3c36={_0x88f238:0x112},_0x48719a=_0x3201af;_0x3815c=_0x3815c||'_coordinates',_0x11d7b6=_0x11d7b6||_0x48719a(0xf0);for(let _0x4cc932=0x0;_0x4cc932<_0x41ed36['length'];_0x4cc932++){const _0x9ee7c2=_0x41ed36[_0x4cc932][_0x48719a(0xd4)],_0x29963a=_0x9ee7c2[_0x11d7b6];switch(_0x9ee7c2[_0x48719a(0x12a)]){case _0x48719a(0xe7):{const _0xb82783=_0x529ea1(_0x29963a);_0xb82783?_0x9ee7c2[_0x3815c]=_0xb82783:_0x9ee7c2[_0x3815c]=[-0x3e7,-0x3e7];}break;case _0x48719a(0xd1):{const _0x25f92c=[];for(let _0x28485e=0x0;_0x28485e<_0x29963a['length'];_0x28485e++){const _0x139626=_0x529ea1(_0x29963a[_0x28485e]);_0x139626&&_0x25f92c['push'](_0x139626);}_0x9ee7c2[_0x3815c]=_0x25f92c;}break;case'MultiLineString':case'Polygon':{const _0x25eff8=_0x2ba47e(_0x29963a);_0x9ee7c2[_0x3815c]=_0x25eff8;}break;case'MultiPolygon':{const _0x420bbf=[];for(let _0x185c98=0x0;_0x185c98<_0x29963a[_0x48719a(_0x1d3c36._0x88f238)];_0x185c98++){const _0x559dbb=_0x2ba47e(_0x29963a[_0x185c98]);_0x559dbb['length']>0x0&&_0x420bbf['push'](_0x559dbb);}_0x9ee7c2[_0x3815c]=_0x420bbf;}break;}}function _0x2ba47e(_0x448028){const _0xa5286a=_0x48719a,_0x4dbe43=[];for(let _0x5a6127=0x0;_0x5a6127<_0x448028['length'];_0x5a6127++){const _0x3007c1=_0x448028[_0x5a6127],_0x2d1441=[];for(let _0x201fd4=0x0;_0x201fd4<_0x3007c1['length'];_0x201fd4++){const _0x2e378e=_0x529ea1(_0x3007c1[_0x201fd4]);_0x2e378e&&_0x2d1441['push'](_0x2e378e);}_0x2d1441['length']>0x0&&_0x4dbe43[_0xa5286a(0x114)](_0x2d1441);}return _0x4dbe43;}return _0x41ed36;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x3201af(0x110)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x18477b,_0x4e8122){const _0x2744af={_0x57efaf:0xde},_0x1fa13c=_0x3201af;super(_0x18477b),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x4e8122||new mapv__namespace[(_0x1fa13c(0x11c))](_0x18477b['data']),this[_0x1fa13c(_0x2744af._0x57efaf)]=null;}get[_0x3201af(0xe3)](){return this['_pointerEvents'];}set[_0x3201af(0xe3)](_0x41a0cd){const _0x5be59a={_0xb7b00f:0xde,_0x384f6a:0x117,_0x452dcc:0x106,_0x4179bb:0xe3},_0x1dfa79=_0x3201af;this['_pointerEvents']=_0x41a0cd,this[_0x1dfa79(_0x5be59a._0xb7b00f)]&&(_0x41a0cd?this['canvas'][_0x1dfa79(_0x5be59a._0x384f6a)]['pointerEvents']=_0x1dfa79(_0x5be59a._0x452dcc):this['canvas']['style'][_0x1dfa79(_0x5be59a._0x4179bb)]='none');}['_showHook'](_0x5e8228){const _0x306e7f=_0x3201af;_0x5e8228?this['canvas']['style'][_0x306e7f(0xf7)]='block':this['canvas']['style']['display']='none';}['_mountedHook'](){const _0x4aaec6={_0x267a5e:0xd5,_0x3c41fe:0xd2,_0x1631d8:0xfe},_0x10f86e=_0x3201af;this[_0x10f86e(_0x4aaec6._0x267a5e)][_0x10f86e(0xe8)][_0x10f86e(_0x4aaec6._0x3c41fe)]=this['options']['depthTest']??!![],this['_map'][_0x10f86e(0xe8)]['mapvAutoHeight']=this[_0x10f86e(_0x4aaec6._0x1631d8)]['clampToGround']??![],this[_0x10f86e(0xd5)]['scene']['mapvFixedHeight']=this[_0x10f86e(_0x4aaec6._0x1631d8)]['fixedHeight']??0x0;}[_0x3201af(0x116)](){const _0x54cc9e=_0x3201af;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data'][_0x54cc9e(0x112)]===0x0)&&(this['dataSet']['_data']=[]['concat'](this[_0x54cc9e(0xed)][_0x54cc9e(0xd3)])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this[_0x54cc9e(0xfe)],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render'][_0x54cc9e(0xcf)](this),this['bindEvent'](),this['_reset']();}[_0x3201af(0x11d)](){const _0x36249a=_0x3201af;this[_0x36249a(0x126)](),this[_0x36249a(0xeb)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x36249a(0x127)](this['canvas']);}['initDevicePixelRatio'](){const _0x5703c6=_0x3201af;this[_0x5703c6(0x125)]=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x1d53dc={_0x47b7e0:0x121},_0x53d655=_0x3201af;var _0xfa79,_0x1eeb97;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x53d655(0xd5)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0xfa79=this[_0x53d655(0xfe)])!==null&&_0xfa79!==void 0x0&&(_0xfa79=_0xfa79[_0x53d655(_0x1d53dc._0x47b7e0)])!==null&&_0xfa79!==void 0x0&&_0xfa79['click']&&this['_map']['on'](mars3d__namespace['EventType'][_0x53d655(0xf8)],this['_onMapClick'],this),(_0x1eeb97=this['options'])!==null&&_0x1eeb97!==void 0x0&&(_0x1eeb97=_0x1eeb97['methods'])!==null&&_0x1eeb97!==void 0x0&&_0x1eeb97[_0x53d655(0x128)]&&this[_0x53d655(0xd5)]['on'](mars3d__namespace['EventType'][_0x53d655(0xf2)],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x2ba9b4={_0x1f1b1c:0xff,_0x6bbecc:0xd5,_0x4fd6e5:0xff,_0x33bffa:0xfe,_0x3c25e4:0xf8,_0x402e68:0x111,_0x1b7300:0xec},_0x4f50ff=_0x3201af;var _0x18ffb7,_0x39e9de;this['_map'][_0x4f50ff(0x111)](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x4f50ff(0xff)][_0x4f50ff(0x11f)],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x4f50ff(_0x2ba9b4._0x1f1b1c)]['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0x4f50ff(_0x2ba9b4._0x6bbecc)][_0x4f50ff(0x111)](mars3d__namespace[_0x4f50ff(_0x2ba9b4._0x4fd6e5)]['postRender'],this['_reset'],this),(_0x18ffb7=this[_0x4f50ff(_0x2ba9b4._0x33bffa)])!==null&&_0x18ffb7!==void 0x0&&(_0x18ffb7=_0x18ffb7['methods'])!==null&&_0x18ffb7!==void 0x0&&_0x18ffb7[_0x4f50ff(0xf8)]&&this['_map']['off'](mars3d__namespace['EventType'][_0x4f50ff(_0x2ba9b4._0x3c25e4)],this['_onMapClick'],this),(_0x39e9de=this['options'])!==null&&_0x39e9de!==void 0x0&&(_0x39e9de=_0x39e9de['methods'])!==null&&_0x39e9de!==void 0x0&&_0x39e9de['mousemove']&&this['_map'][_0x4f50ff(_0x2ba9b4._0x402e68)](mars3d__namespace['EventType'][_0x4f50ff(0xf2)],this[_0x4f50ff(_0x2ba9b4._0x1b7300)],this);}['_onMoveStartEvent'](){const _0x260928={_0x293161:0xcd,_0x23eace:0xff,_0x1d3fa9:0xd8,_0x437bd3:0x109},_0x4338d4=_0x3201af;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x4338d4(_0x260928._0x293161)](),this['_map']['off'](mars3d__namespace[_0x4338d4(_0x260928._0x23eace)]['postRender'],this[_0x4338d4(_0x260928._0x1d3fa9)],this),this['_map']['on'](mars3d__namespace['EventType'][_0x4338d4(_0x260928._0x437bd3)],this['_reset'],this));}[_0x3201af(0x10e)](){const _0x3ed678={_0x524854:0x111,_0x47fe4e:0xd8},_0x4d0b34=_0x3201af;this[_0x4d0b34(0xeb)]&&(this[_0x4d0b34(0xd5)][_0x4d0b34(_0x3ed678._0x524854)](mars3d__namespace['EventType'][_0x4d0b34(0x109)],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this[_0x4d0b34(_0x3ed678._0x47fe4e)]());}['_setOptionsHook'](_0x5d089e,_0x3220dc){this['_removedHook'](),this['_addedHook']();}[_0x3201af(0xf9)](_0x37bdfd){const _0x241539={_0x372ff2:0xeb},_0x1934cb=_0x3201af;this[_0x1934cb(_0x241539._0x372ff2)]&&this['_mapVRenderer']['addData'](_0x37bdfd,this['options']);}['updateData'](_0x452efd){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x452efd,this['options']);}['getData'](){const _0x1e8118=_0x3201af;return this[_0x1e8118(0xeb)]&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x5bb9e8){const _0x275ada={_0x174e5c:0xe0},_0x70a6ec=_0x3201af;this['_mapVRenderer']&&this['_mapVRenderer'][_0x70a6ec(_0x275ada._0x174e5c)](_0x5bb9e8);}[_0x3201af(0xdc)](){const _0x16a755={_0x5972b9:0x10d},_0x46a8d7=_0x3201af;this[_0x46a8d7(0xeb)]&&this[_0x46a8d7(0xeb)][_0x46a8d7(_0x16a755._0x5972b9)]();}['_createCanvas'](){const _0x2ba80b={_0x235624:0xde,_0x225f79:0xd6,_0x2c7488:0xfe},_0x54a7db=_0x3201af,_0x139311=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x139311['id']=this['id'],_0x139311['style']['position']='absolute',_0x139311['style'][_0x54a7db(0x102)]='0px',_0x139311['style']['left']='0px',_0x139311['width']=parseInt(this['_map'][_0x54a7db(_0x2ba80b._0x235624)][_0x54a7db(_0x2ba80b._0x225f79)]),_0x139311['height']=parseInt(this['_map'][_0x54a7db(0xde)][_0x54a7db(0x123)]),_0x139311['style']['width']=this['_map']['canvas']['style'][_0x54a7db(_0x2ba80b._0x225f79)],_0x139311['style']['height']=this['_map']['canvas']['style'][_0x54a7db(0x123)],_0x139311['style']['pointerEvents']=this['_pointerEvents']?_0x54a7db(0x10b):'none',_0x139311['style']['zIndex']=this[_0x54a7db(_0x2ba80b._0x2c7488)]['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x25656a=this['devicePixelRatio'];_0x139311['getContext'](this[_0x54a7db(0xfe)]['context'])['scale'](_0x25656a,_0x25656a);}return _0x139311;}['_reset'](){const _0x87a00a={_0x244bd3:0xf3},_0x51aaa5=_0x3201af;this[_0x51aaa5(_0x87a00a._0x244bd3)](),this['render']();}[_0x3201af(0xe6)](){this['_reset']();}['remove'](){const _0x2bb1bb=_0x3201af;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this[_0x2bb1bb(0xde)]);}[_0x3201af(0x129)](){this['_mapVRenderer']['_canvasUpdate']();}[_0x3201af(0xf3)](){const _0x3a73ab={_0x26e801:0x117,_0x5b04a9:0x104,_0x18a084:0xd5,_0x4a415e:0xd5,_0x37ca39:0x123},_0x31e06a=_0x3201af;if(this['canvas']){const _0x5e46b4=this['canvas'];_0x5e46b4[_0x31e06a(_0x3a73ab._0x26e801)][_0x31e06a(0xd7)]='absolute',_0x5e46b4['style']['top']='0px',_0x5e46b4[_0x31e06a(0x117)]['left']=_0x31e06a(_0x3a73ab._0x5b04a9),_0x5e46b4['width']=parseInt(this['_map'][_0x31e06a(0xde)]['width']),_0x5e46b4['height']=parseInt(this[_0x31e06a(_0x3a73ab._0x18a084)]['canvas']['height']),_0x5e46b4['style']['width']=this[_0x31e06a(_0x3a73ab._0x4a415e)]['canvas'][_0x31e06a(0x117)]['width'],_0x5e46b4['style']['height']=this['_map']['canvas']['style'][_0x31e06a(_0x3a73ab._0x37ca39)];}}['getRectangle'](_0x13db44){const _0x554a43={_0x2cd6ef:0xed,_0x4394c1:0xed},_0x6630a6=_0x3201af;if(!this[_0x6630a6(_0x554a43._0x2cd6ef)]||!this['dataSet']['_data'])return;const _0x4c4c0b=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0x6630a6(_0x554a43._0x4394c1)]['_data']});if(!_0x4c4c0b)return;return _0x13db44!==null&&_0x13db44!==void 0x0&&_0x13db44['isFormat']?_0x4c4c0b:Cesium['Rectangle'][_0x6630a6(0x124)](_0x4c4c0b[_0x6630a6(0x119)],_0x4c4c0b['ymin'],_0x4c4c0b['xmax'],_0x4c4c0b['ymax']);}[_0x3201af(0x122)](_0x3d2f3d){const _0x20664b={_0x42c8c6:0xeb},_0x43ccaa=_0x3201af;this['_cache_event']=_0x3d2f3d,this[_0x43ccaa(_0x20664b._0x42c8c6)]&&this['_mapVRenderer'][_0x43ccaa(0xd0)](_0x3d2f3d['windowPosition'],_0x3d2f3d);}[_0x3201af(0xec)](_0x2289c4){const _0x383bd9={_0x5f45c3:0xeb,_0x3498ac:0x105},_0x155949=_0x3201af;this[_0x155949(0xdf)]=_0x2289c4,this[_0x155949(_0x383bd9._0x5f45c3)]&&this['_mapVRenderer'][_0x155949(_0x383bd9._0x3498ac)](_0x2289c4['windowPosition'],_0x2289c4);}['on'](_0x149c9a,_0x43e03f,_0x105a0f){const _0x3f8137={_0x3c1ff1:0x121,_0x5bccdc:0xff},_0x424378={_0x32c3ce:0xdf},_0x5bff21=_0x3201af;this['options']['methods']=this['options']['methods']||{};if(_0x149c9a===mars3d__namespace['EventType']['click'])this['options'][_0x5bff21(_0x3f8137._0x3c1ff1)]['click']=_0x57da43=>{const _0xc3f4db=_0x5bff21;_0x57da43&&_0x43e03f[_0xc3f4db(0xcf)](_0x105a0f)({...this[_0xc3f4db(_0x424378._0x32c3ce)],'layer':this,'data':_0x57da43});},this['_map']['on'](mars3d__namespace[_0x5bff21(_0x3f8137._0x5bccdc)]['click'],this['_onMapClick'],this);else _0x149c9a===mars3d__namespace['EventType']['mouseMove']&&(this['options']['methods']['mousemove']=_0x58ca8a=>{_0x58ca8a&&_0x43e03f['bind'](_0x105a0f)({...this['_cache_event'],'layer':this,'data':_0x58ca8a});},this['_map']['on'](mars3d__namespace['EventType'][_0x5bff21(0xf2)],this['_onMapMouseMove'],this));return this;}['off'](_0x1fd083,_0x1e7109){const _0x54a48d={_0x19b8d3:0xd5,_0x3339be:0x121},_0x1f2d4f=_0x3201af;if(_0x1fd083==='click'){var _0xa02244;this[_0x1f2d4f(_0x54a48d._0x19b8d3)]['off'](_0x1fd083,this['_onMapClick'],this),(_0xa02244=this['options'][_0x1f2d4f(0x121)])!==null&&_0xa02244!==void 0x0&&_0xa02244[_0x1f2d4f(0x128)]&&delete this[_0x1f2d4f(0xfe)]['methods']['click'];}else{if(_0x1fd083==='mouseMove'){var _0x353dc2;this['_map']['off'](_0x1fd083,this['_onMapMouseMove'],this),(_0x353dc2=this['options'][_0x1f2d4f(_0x54a48d._0x3339be)])!==null&&_0x353dc2!==void 0x0&&_0x353dc2['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x3201af(0xfc)]['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x3201af(0xe1)](mapv)['forEach'](function(_0xc92a73){if(_0xc92a73!=='default'&&!exports['hasOwnProperty'](_0xc92a73))Object['defineProperty'](exports,_0xc92a73,{'enumerable':!![],'get':function(){return mapv[_0xc92a73];}});}),Object['defineProperty'](exports,_0x3201af(0x11e),{'value':!![]});
}));
