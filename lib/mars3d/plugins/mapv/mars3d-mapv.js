/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.3
 * 编译日期：2023-08-27 22:06:50
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x2f4ca3=_0x4b1e;(function(_0x300bb7,_0x1c7698){const _0x220cef={_0x32e0c4:0x157,_0x1aeff7:0x104,_0x240335:0x15a,_0x150bfb:0x15b,_0x5991a4:0x12b,_0x252e66:0x147,_0x14cc44:0x123,_0xbcb79e:0x10c,_0x206cdc:0x100},_0x472953=_0x4b1e,_0x3caea8=_0x300bb7();while(!![]){try{const _0x580aa3=-parseInt(_0x472953(_0x220cef._0x32e0c4))/0x1*(parseInt(_0x472953(_0x220cef._0x1aeff7))/0x2)+-parseInt(_0x472953(0x156))/0x3*(parseInt(_0x472953(_0x220cef._0x240335))/0x4)+parseInt(_0x472953(_0x220cef._0x150bfb))/0x5+parseInt(_0x472953(_0x220cef._0x5991a4))/0x6+parseInt(_0x472953(_0x220cef._0x252e66))/0x7*(parseInt(_0x472953(_0x220cef._0x14cc44))/0x8)+-parseInt(_0x472953(0x11f))/0x9+parseInt(_0x472953(_0x220cef._0xbcb79e))/0xa*(parseInt(_0x472953(_0x220cef._0x206cdc))/0xb);if(_0x580aa3===_0x1c7698)break;else _0x3caea8['push'](_0x3caea8['shift']());}catch(_0x4e5ec2){_0x3caea8['push'](_0x3caea8['shift']());}}}(_0x2d5e,0xabd20));function _interopNamespace(_0x551643){const _0x260cd4={_0x456f3e:0x103},_0x5d6a63=_0x4b1e;if(_0x551643&&_0x551643['__esModule'])return _0x551643;var _0x1e6bbd=Object['create'](null);return _0x551643&&Object['keys'](_0x551643)['forEach'](function(_0x2ef5d2){if(_0x2ef5d2!=='default'){var _0xfb5b5f=Object['getOwnPropertyDescriptor'](_0x551643,_0x2ef5d2);Object['defineProperty'](_0x1e6bbd,_0x2ef5d2,_0xfb5b5f['get']?_0xfb5b5f:{'enumerable':!![],'get':function(){return _0x551643[_0x2ef5d2];}});}}),_0x1e6bbd[_0x5d6a63(_0x260cd4._0x456f3e)]=_0x551643,_0x1e6bbd;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x2f4ca3(0x10a)],baiduMapLayer=mapv__namespace?mapv__namespace[_0x2f4ca3(0x106)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x3f8826,_0x35122c,_0x35b469,_0x550494){const _0x130859=_0x2f4ca3;super(_0x3f8826,_0x35122c,_0x35b469);if(!BaseLayer$1)return;this['map']=_0x3f8826,this['scene']=_0x3f8826[_0x130859(0x140)],this[_0x130859(0x158)]=_0x35122c,_0x35b469=_0x35b469||{},this[_0x130859(0x11e)](_0x35b469),this['argCheck'](_0x35b469),this[_0x130859(0x111)](),this['canvasLayer']=_0x550494,this['stopAniamation']=!0x1,this['animation']=_0x35b469['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x1c8154=_0x2f4ca3,_0x2b6ab4=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this[_0x1c8154(0x129)]['step']=_0x2b6ab4['stepsRange']['start']);}[_0x2f4ca3(0x10d)](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x3b42f3={_0x285af3:0x150},_0x3c226f=_0x2f4ca3;return this[_0x3c226f(_0x3b42f3._0x285af3)][_0x3c226f(0xfb)]['getContext'](this['context']);}['init'](_0x159320){const _0x5b9df1={_0x4d46a0:0x107,_0x5a5b71:0x119},_0x49c22b=_0x2f4ca3;this[_0x49c22b(0x113)]=_0x159320,this[_0x49c22b(_0x5b9df1._0x4d46a0)](_0x159320),this['context']=this['options']['context']||'2d',this['options']['zIndex']&&this[_0x49c22b(0x150)]&&this['canvasLayer'][_0x49c22b(_0x5b9df1._0x5a5b71)]&&this[_0x49c22b(0x150)]['setZIndex'](this[_0x49c22b(0x113)]['zIndex']),this[_0x49c22b(0x11a)]();}[_0x2f4ca3(0x146)](_0x1894ae){const _0x5b4792={_0x3f55ac:0x113,_0x3e2fed:0x121},_0x182a46={_0x33a67e:0x13b,_0x281aa4:0x125,_0x2d7028:0x10f},_0x1d2ec1=_0x2f4ca3,_0x352dae=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x354548=this[_0x1d2ec1(_0x5b4792._0x3f55ac)]['animation'],_0x52a187=this['getContext']();if(this[_0x1d2ec1(0x138)]()){if(void 0x0===_0x1894ae)return void this[_0x1d2ec1(_0x5b4792._0x3e2fed)](_0x52a187);this['context']==='2d'&&(_0x52a187['save'](),_0x52a187['globalCompositeOperation']='destination-out',_0x52a187['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x52a187['fillRect'](0x0,0x0,_0x52a187['canvas']['width'],_0x52a187['canvas']['height']),_0x52a187['restore']());}else this['clear'](_0x52a187);if(this['context']==='2d')for(const _0x11e5d5 in this['options']){_0x52a187[_0x11e5d5]=this['options'][_0x11e5d5];}else _0x52a187[_0x1d2ec1(0x121)](_0x52a187['COLOR_BUFFER_BIT']);const _0x2b3937={'transferCoordinate':function(_0x45c96c){const _0x4b4f1a=_0x1d2ec1,_0x53021f=null;let _0x1fec68=_0x352dae['mapvFixedHeight'];_0x352dae[_0x4b4f1a(0x108)]&&(_0x1fec68=_0x352dae['globe'][_0x4b4f1a(_0x182a46._0x33a67e)](Cesium$1[_0x4b4f1a(_0x182a46._0x281aa4)]['fromDegrees'](_0x45c96c[0x0],_0x45c96c[0x1])));const _0x56a071=Cesium$1[_0x4b4f1a(0x12d)]['fromDegrees'](_0x45c96c[0x0],_0x45c96c[0x1],_0x1fec68);if(!_0x56a071)return _0x53021f;const _0x2fb87e=_0x352dae['cartesianToCanvasCoordinates'](_0x56a071);if(!_0x2fb87e)return _0x53021f;if(_0x352dae['mapvDepthTest']&&_0x352dae[_0x4b4f1a(0x152)]===Cesium$1[_0x4b4f1a(_0x182a46._0x2d7028)]['SCENE3D']){const _0x263ac0=new Cesium$1['EllipsoidalOccluder'](_0x352dae['globe']['ellipsoid'],_0x352dae[_0x4b4f1a(0x14f)]['positionWC']),_0x10e372=_0x263ac0['isPointVisible'](_0x56a071);if(!_0x10e372)return _0x53021f;}return[_0x2fb87e['x'],_0x2fb87e['y']];}};void 0x0!==_0x1894ae&&(_0x2b3937[_0x1d2ec1(0x105)]=function(_0x375923){const _0x4419f8=_0x354548['trails']||0xa;return!!(_0x1894ae&&_0x375923['time']>_0x1894ae-_0x4419f8&&_0x375923['time']<_0x1894ae);});const _0x344bcd=this['dataSet']['get'](_0x2b3937);this['processData'](_0x344bcd),this['options'][_0x1d2ec1(0x134)]==='m'&&this['options']['size'],this['options']['_size']=this['options'][_0x1d2ec1(0x101)];const _0x25d987=_0x352dae[_0x1d2ec1(0xfa)](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x25d987)return;this['drawContext'](_0x52a187,new mapv__namespace['DataSet'](_0x344bcd),this['options'],_0x25d987),this['options']['updateCallback']&&this['options']['updateCallback'](_0x1894ae);}}[_0x2f4ca3(0x15c)](_0x3026a9,_0x5eaf53){const _0x4404fd={_0x252b61:0x110},_0x5e4580=_0x2f4ca3;let _0x45098e=_0x3026a9;_0x45098e&&_0x45098e['get']&&(_0x45098e=_0x45098e['get']()),void 0x0!==_0x45098e&&this[_0x5e4580(0x158)][_0x5e4580(0xfc)](_0x45098e),super[_0x5e4580(_0x4404fd._0x252b61)]({'options':_0x5eaf53});}['addData'](_0x276ac6,_0x2c88b6){let _0x727e2d=_0x276ac6;_0x276ac6&&_0x276ac6['get']&&(_0x727e2d=_0x276ac6['get']()),this['dataSet']['add'](_0x727e2d),this['update']({'options':_0x2c88b6});}['getData'](){return this['dataSet'];}['removeData'](_0x5b90b){const _0x23fa8d={_0x109f51:0x158},_0x51a2e2=_0x2f4ca3;if(this[_0x51a2e2(_0x23fa8d._0x109f51)]){const _0x42bbcd=this['dataSet']['get']({'filter':function(_0x2e91e1){return _0x5b90b==null||typeof _0x5b90b!=='function'||!_0x5b90b(_0x2e91e1);}});this[_0x51a2e2(0x158)][_0x51a2e2(0xfc)](_0x42bbcd),this[_0x51a2e2(0x110)]({'options':null});}}[_0x2f4ca3(0x14a)](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){const _0xe79130=_0x2f4ca3;this[_0xe79130(0x150)]['draw']();}['clear'](_0x27df5d){const _0x4dc8b1={_0x2267d1:0x143},_0x927ce1=_0x2f4ca3;_0x27df5d&&_0x27df5d[_0x927ce1(_0x4dc8b1._0x2267d1)]&&_0x27df5d[_0x927ce1(0x143)](0x0,0x0,_0x27df5d['canvas']['width'],_0x27df5d['canvas']['height']);}[_0x2f4ca3(0xff)](){const _0x237e6c={_0x43e1ee:0x14a},_0x8b35fd=_0x2f4ca3;this['clear'](this['getContext']()),this[_0x8b35fd(_0x237e6c._0x43e1ee)](),this[_0x8b35fd(0x10e)]&&this['animator']['stop'](),this[_0x8b35fd(0x10e)]=null,this['canvasLayer']=null;}}function _0x4b1e(_0x1e7eb2,_0x74dbd1){const _0x2d5e15=_0x2d5e();return _0x4b1e=function(_0x4b1eab,_0x5169ee){_0x4b1eab=_0x4b1eab-0xfa;let _0x3b83ed=_0x2d5e15[_0x4b1eab];return _0x3b83ed;},_0x4b1e(_0x1e7eb2,_0x74dbd1);}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x2f4ca3(0x151)]['prototype']['transferCoordinate']=function(_0x33757a,_0x3a95ad,_0x23518b,_0x2c4025){const _0x348a0b={_0x1a03e0:0x154},_0x3359e7={_0x3a0c6d:0x13e,_0x3fadda:0x120},_0x2866b8=_0x2f4ca3;_0x2c4025=_0x2c4025||_0x2866b8(0x12c),_0x23518b=_0x23518b||'coordinates';for(let _0x46b481=0x0;_0x46b481<_0x33757a['length'];_0x46b481++){const _0x1576c8=_0x33757a[_0x46b481]['geometry'],_0x389bf3=_0x1576c8[_0x23518b];switch(_0x1576c8[_0x2866b8(_0x348a0b._0x1a03e0)]){case'Point':{const _0x3de427=_0x3a95ad(_0x389bf3);_0x3de427?_0x1576c8[_0x2c4025]=_0x3de427:_0x1576c8[_0x2c4025]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x392360=[];for(let _0x472a01=0x0;_0x472a01<_0x389bf3[_0x2866b8(0x13e)];_0x472a01++){const _0xaa00e8=_0x3a95ad(_0x389bf3[_0x472a01]);_0xaa00e8&&_0x392360['push'](_0xaa00e8);}_0x1576c8[_0x2c4025]=_0x392360;}break;case _0x2866b8(0x13d):case'Polygon':{const _0x134401=_0x46686f(_0x389bf3);_0x1576c8[_0x2c4025]=_0x134401;}break;case'MultiPolygon':{const _0x37d437=[];for(let _0x29f51b=0x0;_0x29f51b<_0x389bf3['length'];_0x29f51b++){const _0x5e2810=_0x46686f(_0x389bf3[_0x29f51b]);_0x5e2810['length']>0x0&&_0x37d437['push'](_0x5e2810);}_0x1576c8[_0x2c4025]=_0x37d437;}break;}}function _0x46686f(_0x370807){const _0x361a0f=_0x2866b8,_0x16b24f=[];for(let _0x2a076d=0x0;_0x2a076d<_0x370807['length'];_0x2a076d++){const _0x20a9e6=_0x370807[_0x2a076d],_0x3e8ecf=[];for(let _0x2a69f6=0x0;_0x2a69f6<_0x20a9e6[_0x361a0f(_0x3359e7._0x3a0c6d)];_0x2a69f6++){const _0x5016db=_0x3a95ad(_0x20a9e6[_0x2a69f6]);_0x5016db&&_0x3e8ecf[_0x361a0f(_0x3359e7._0x3fadda)](_0x5016db);}_0x3e8ecf['length']>0x0&&_0x16b24f['push'](_0x3e8ecf);}return _0x16b24f;}return _0x33757a;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x2f4ca3(0x10a)],BaseLayer=mars3d__namespace[_0x2f4ca3(0x126)]['BaseLayer'];function _0x2d5e(){const _0x3c9c91=['isFormat','514188pIdpCN','_coordinates','Cartesian3','style','postRender','cameraMoveEnd','removeChild','zIndex','block','unit','_mountedHook','_pointerEvents','_onMoveEndEvent','isEnabledTime','hasOwnProperty','animatorMovestartEvent','getHeight','_mapVRenderer','MultiLineString','length','_data','scene','container','mapvDepthTest','clearRect','_onMapClick','forEach','_canvasUpdate','21AuAxjk','Util','scale','clearData','none','methods','click','xmax','camera','canvasLayer','DataSet','mode','create','type','keys','547293tGUezG','1Sjxrrh','dataSet','off','4zSwSAr','3868030nautfx','updateData','cartesianToCanvasCoordinates','canvas','set','mapv','defineProperty','destroy','3896321crqYHr','size','addData','default','2107208UzOmMV','filter','baiduMapLayer','initDataRange','mapvAutoHeight','_cache_event','Cesium','0px','30JToqvT','animatorMoveendEvent','animator','SceneMode','update','initDevicePixelRatio','mars3d-mapv','options','height','pointerEvents','mousemove','_reset','mouseMove','setZIndex','initAnimator','render','_addedHook','_onMoveStartEvent','init','777735tuLsyP','push','clear','width','278104kpzGXc','_removedHook','Cartographic','layer','_map','EventType','steps'];_0x2d5e=function(){return _0x3c9c91;};return _0x2d5e();}class MapVLayer extends BaseLayer{constructor(_0x38440a,_0x184b71){const _0x3658fb={_0x3b7740:0x136,_0x1281cd:0xfb},_0x60d93d=_0x2f4ca3;super(_0x38440a),this[_0x60d93d(_0x3658fb._0x3b7740)]=this['options'][_0x60d93d(0x115)],this['dataSet']=_0x184b71||new mapv__namespace['DataSet'](_0x38440a['data']),this[_0x60d93d(_0x3658fb._0x1281cd)]=null;}get['pointerEvents'](){const _0x17b2f3={_0x572ff0:0x136},_0x305c3b=_0x2f4ca3;return this[_0x305c3b(_0x17b2f3._0x572ff0)];}set['pointerEvents'](_0x41535d){const _0x2e6561={_0x5db553:0x14b},_0x78b938=_0x2f4ca3;this['_pointerEvents']=_0x41535d,this['canvas']&&(_0x41535d?this['canvas']['style']['pointerEvents']='all':this[_0x78b938(0xfb)]['style']['pointerEvents']=_0x78b938(_0x2e6561._0x5db553));}['_showHook'](_0x5e4c30){const _0x2c1b3f={_0x3337a0:0x12e},_0x48dcaf=_0x2f4ca3;_0x5e4c30?this['canvas']['style']['display']=_0x48dcaf(0x133):this['canvas'][_0x48dcaf(_0x2c1b3f._0x3337a0)]['display']=_0x48dcaf(0x14b);}[_0x2f4ca3(0x135)](){const _0x50bebc={_0x2d2fed:0x142,_0x5d5b19:0x127,_0x3d6017:0x108,_0x1e7c1c:0x140},_0x3aaa20=_0x2f4ca3;this[_0x3aaa20(0x127)]['scene'][_0x3aaa20(_0x50bebc._0x2d2fed)]=this['options']['depthTest']??!![],this[_0x3aaa20(_0x50bebc._0x5d5b19)]['scene'][_0x3aaa20(_0x50bebc._0x3d6017)]=this['options']['clampToGround']??![],this['_map'][_0x3aaa20(_0x50bebc._0x1e7c1c)]['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}[_0x2f4ca3(0x11c)](){const _0x4a6232={_0x5cfbbd:0x158},_0x14e532=_0x2f4ca3;this['dataSet']&&(!this[_0x14e532(0x158)]['_data']||this[_0x14e532(_0x4a6232._0x5cfbbd)]['_data']['length']===0x0)&&(this[_0x14e532(_0x4a6232._0x5cfbbd)]['_data']=[]['concat'](this[_0x14e532(0x158)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}[_0x2f4ca3(0x124)](){const _0x498458={_0x1ebf24:0xfb},_0x2e4a9b=_0x2f4ca3;this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this[_0x2e4a9b(_0x498458._0x1ebf24)]);}[_0x2f4ca3(0x111)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x3ef870={_0x1460a4:0x128,_0x17044d:0x11d,_0x2c9eae:0x14d,_0x46c644:0x116,_0x1bed3d:0x128},_0x413bce=_0x2f4ca3;var _0xdffff2,_0x3a6ddc,_0x4675e3,_0x4886dd;this['_map']['on'](mars3d__namespace[_0x413bce(_0x3ef870._0x1460a4)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x413bce(_0x3ef870._0x17044d)],this),this['_map']['on'](mars3d__namespace['EventType'][_0x413bce(0x130)],this['_onMoveEndEvent'],this),(_0xdffff2=this['options'])!==null&&_0xdffff2!==void 0x0&&(_0x3a6ddc=_0xdffff2[_0x413bce(0x14c)])!==null&&_0x3a6ddc!==void 0x0&&_0x3a6ddc[_0x413bce(_0x3ef870._0x2c9eae)]&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x4675e3=this['options'])!==null&&_0x4675e3!==void 0x0&&(_0x4886dd=_0x4675e3['methods'])!==null&&_0x4886dd!==void 0x0&&_0x4886dd[_0x413bce(_0x3ef870._0x46c644)]&&this['_map']['on'](mars3d__namespace[_0x413bce(_0x3ef870._0x1bed3d)]['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x4cf563={_0x47e1d7:0x159,_0xb4414e:0x127,_0xb74284:0x117,_0x52de84:0x14d,_0x3ef991:0x116,_0x5e8b5b:0x128},_0x43855b=_0x2f4ca3;var _0x483be4,_0x12bc37,_0x5f436c,_0x48aea8;this['_map'][_0x43855b(_0x4cf563._0x47e1d7)](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map'][_0x43855b(0x159)](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x43855b(0x127)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0x43855b(_0x4cf563._0xb4414e)][_0x43855b(_0x4cf563._0x47e1d7)](mars3d__namespace['EventType']['postRender'],this[_0x43855b(_0x4cf563._0xb74284)],this),(_0x483be4=this[_0x43855b(0x113)])!==null&&_0x483be4!==void 0x0&&(_0x12bc37=_0x483be4['methods'])!==null&&_0x12bc37!==void 0x0&&_0x12bc37[_0x43855b(_0x4cf563._0x52de84)]&&this[_0x43855b(0x127)]['off'](mars3d__namespace['EventType'][_0x43855b(0x14d)],this['_onMapClick'],this),(_0x5f436c=this['options'])!==null&&_0x5f436c!==void 0x0&&(_0x48aea8=_0x5f436c['methods'])!==null&&_0x48aea8!==void 0x0&&_0x48aea8[_0x43855b(_0x4cf563._0x3ef991)]&&this['_map'][_0x43855b(0x159)](mars3d__namespace[_0x43855b(_0x4cf563._0x5e8b5b)][_0x43855b(0x118)],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x58f199={_0x3a5eeb:0x12f},_0x480cac=_0x2f4ca3;this[_0x480cac(0x13c)]&&(this[_0x480cac(0x13c)][_0x480cac(0x13a)](),this['_map']['off'](mars3d__namespace[_0x480cac(0x128)]['postRender'],this['_reset'],this),this[_0x480cac(0x127)]['on'](mars3d__namespace['EventType'][_0x480cac(_0x58f199._0x3a5eeb)],this['_reset'],this));}[_0x2f4ca3(0x137)](){const _0xe9856e=_0x2f4ca3;this['_mapVRenderer']&&(this['_map'][_0xe9856e(0x159)](mars3d__namespace['EventType'][_0xe9856e(0x12f)],this[_0xe9856e(0x117)],this),this[_0xe9856e(0x13c)]['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x56bd8a,_0x55605b){this['_removedHook'](),this['_addedHook']();}['addData'](_0x3266f2){const _0x431d8f={_0x57f7b9:0x13c},_0x519ab7=_0x2f4ca3;this[_0x519ab7(0x13c)]&&this[_0x519ab7(_0x431d8f._0x57f7b9)][_0x519ab7(0x102)](_0x3266f2,this['options']);}['updateData'](_0x51b7a1){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x51b7a1,this['options']);}['getData'](){const _0x28dfe7={_0x21d6fe:0x158},_0x530702=_0x2f4ca3;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this[_0x530702(_0x28dfe7._0x21d6fe)];}['removeData'](_0x36c016){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x36c016);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x2fe419={_0x4d75eb:0x153,_0x26a244:0x10b,_0xd75c32:0x122,_0x1e0bd0:0x122,_0x2c1468:0xfb,_0x42b328:0x113,_0x2d9e3e:0x149},_0x1f8da6=_0x2f4ca3,_0x319ff1=mars3d__namespace['DomUtil'][_0x1f8da6(_0x2fe419._0x4d75eb)]('canvas',_0x1f8da6(0x112),this['_map'][_0x1f8da6(0x141)]);_0x319ff1['id']=this['id'],_0x319ff1['style']['position']='absolute',_0x319ff1['style']['top']=_0x1f8da6(_0x2fe419._0x26a244),_0x319ff1['style']['left']=_0x1f8da6(0x10b),_0x319ff1[_0x1f8da6(_0x2fe419._0xd75c32)]=parseInt(this[_0x1f8da6(0x127)]['canvas']['width']),_0x319ff1['height']=parseInt(this[_0x1f8da6(0x127)]['canvas']['height']),_0x319ff1['style'][_0x1f8da6(_0x2fe419._0x1e0bd0)]=this['_map'][_0x1f8da6(_0x2fe419._0x2c1468)]['style'][_0x1f8da6(0x122)],_0x319ff1['style']['height']=this['_map'][_0x1f8da6(0xfb)]['style']['height'],_0x319ff1['style']['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x319ff1['style']['zIndex']=this['options'][_0x1f8da6(0x132)]??0x9;if(this[_0x1f8da6(_0x2fe419._0x42b328)]['context']==='2d'){const _0xc1072d=this['devicePixelRatio'];_0x319ff1['getContext'](this['options']['context'])[_0x1f8da6(_0x2fe419._0x2d9e3e)](_0xc1072d,_0xc1072d);}return _0x319ff1;}[_0x2f4ca3(0x117)](){const _0x4e1e5b=_0x2f4ca3;this['resize'](),this[_0x4e1e5b(0x11b)]();}['draw'](){this['_reset']();}['remove'](){const _0x24a2f2={_0x4317ba:0x131},_0x5d7450=_0x2f4ca3;this[_0x5d7450(0x13c)]&&(this['_mapVRenderer'][_0x5d7450(0xff)](),this[_0x5d7450(0x13c)]=null),this[_0x5d7450(0xfb)]['parentElement'][_0x5d7450(_0x24a2f2._0x4317ba)](this['canvas']);}['render'](){const _0x7d1816={_0x12b993:0x13c},_0x495d6e=_0x2f4ca3;this[_0x495d6e(_0x7d1816._0x12b993)][_0x495d6e(0x146)]();}['resize'](){const _0x392c87={_0x1b238a:0x12e,_0x24a430:0x10b,_0x16948e:0x114},_0x55b033=_0x2f4ca3;if(this['canvas']){const _0x5aefe5=this['canvas'];_0x5aefe5[_0x55b033(_0x392c87._0x1b238a)]['position']='absolute',_0x5aefe5['style']['top']='0px',_0x5aefe5['style']['left']=_0x55b033(_0x392c87._0x24a430),_0x5aefe5['width']=parseInt(this['_map']['canvas']['width']),_0x5aefe5['height']=parseInt(this['_map']['canvas'][_0x55b033(_0x392c87._0x16948e)]),_0x5aefe5[_0x55b033(0x12e)]['width']=this[_0x55b033(0x127)]['canvas'][_0x55b033(0x12e)]['width'],_0x5aefe5['style']['height']=this['_map']['canvas']['style']['height'];}}['getRectangle'](_0x108ca2){const _0x326317={_0x28fdbe:0x148},_0x24c8b6=_0x2f4ca3;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x53c81e=mars3d__namespace[_0x24c8b6(_0x326317._0x28fdbe)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet'][_0x24c8b6(0x13f)]});if(!_0x53c81e)return;return _0x108ca2!==null&&_0x108ca2!==void 0x0&&_0x108ca2[_0x24c8b6(0x12a)]?_0x53c81e:Cesium['Rectangle']['fromDegrees'](_0x53c81e['xmin'],_0x53c81e['ymin'],_0x53c81e[_0x24c8b6(0x14e)],_0x53c81e['ymax']);}['_onMapClick'](_0x3b3646){const _0x4f2f68={_0x1e8136:0x13c},_0x295428=_0x2f4ca3;this[_0x295428(0x109)]=_0x3b3646,this[_0x295428(_0x4f2f68._0x1e8136)]&&this['_mapVRenderer']['clickEvent'](_0x3b3646['windowPosition'],_0x3b3646);}['_onMapMouseMove'](_0x4d937c){this['_cache_event']=_0x4d937c,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x4d937c['windowPosition'],_0x4d937c);}['on'](_0x118fbe,_0x5d5e79,_0x3f71c3){const _0x235d50={_0x591421:0x127},_0x67dec={_0x2da7fa:0x109},_0xcbfc1d=_0x2f4ca3;this[_0xcbfc1d(0x113)]['methods']=this['options']['methods']||{};if(_0x118fbe===mars3d__namespace['EventType']['click'])this['options']['methods']['click']=_0xd0a194=>{_0xd0a194&&_0x5d5e79['bind'](_0x3f71c3)({...this['_cache_event'],'layer':this,'data':_0xd0a194});},this[_0xcbfc1d(_0x235d50._0x591421)]['on'](mars3d__namespace['EventType'][_0xcbfc1d(0x14d)],this[_0xcbfc1d(0x144)],this);else _0x118fbe===mars3d__namespace['EventType']['mouseMove']&&(this[_0xcbfc1d(0x113)]['methods']['mousemove']=_0x1dc747=>{const _0xb96c95=_0xcbfc1d;_0x1dc747&&_0x5d5e79['bind'](_0x3f71c3)({...this[_0xb96c95(_0x67dec._0x2da7fa)],'layer':this,'data':_0x1dc747});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x5c5ccd,_0x568331){const _0x4f010a={_0x3817f2:0x14c,_0x529c23:0x116},_0xdd38f5=_0x2f4ca3;if(_0x5c5ccd===_0xdd38f5(0x14d)){var _0x102bb3;this['_map']['off'](_0x5c5ccd,this['_onMapClick'],this),(_0x102bb3=this[_0xdd38f5(0x113)][_0xdd38f5(_0x4f010a._0x3817f2)])!==null&&_0x102bb3!==void 0x0&&_0x102bb3[_0xdd38f5(0x116)]&&delete this['options']['methods']['click'];}else{if(_0x5c5ccd==='mouseMove'){var _0x30e0c3;this['_map']['off'](_0x5c5ccd,this['_onMapMouseMove'],this),(_0x30e0c3=this['options']['methods'])!==null&&_0x30e0c3!==void 0x0&&_0x30e0c3['mousemove']&&delete this['options'][_0xdd38f5(_0x4f010a._0x3817f2)][_0xdd38f5(_0x4f010a._0x529c23)];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x2f4ca3(0xfd)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x2f4ca3(0x155)](mapv)[_0x2f4ca3(0x145)](function(_0x5e936f){const _0x13ef61={_0x52b2e8:0x103},_0x56b59e=_0x2f4ca3;if(_0x5e936f!==_0x56b59e(_0x13ef61._0x52b2e8)&&!exports[_0x56b59e(0x139)](_0x5e936f))Object[_0x56b59e(0xfe)](exports,_0x5e936f,{'enumerable':!![],'get':function(){return mapv[_0x5e936f];}});}),Object[_0x2f4ca3(0xfe)](exports,'__esModule',{'value':!![]});
}));
