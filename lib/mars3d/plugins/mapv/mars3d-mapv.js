/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.5
 * 编译日期：2024-02-25 10:20:07
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';function _0x3dde(){const _0x4fcfeb=['xmax','defineProperty','MapVLayer','initDevicePixelRatio','1278138aXHPQa','addAnimatorEvent','setZIndex','style','9128dAFXES','create','_onMapClick','methods','context','height','map','left','width','402618CLyHYG','_mountedHook','_onMoveEndEvent','_map','11ZkCIEL','prototype','initAnimator','getData','removeAllData','render','EventType','cameraMoveStart','MultiPolygon','_pointerEvents','_removedHook','Util','451096jbPzpx','7mttvqc','mousemoveEvent','fixedHeight','time','scene','fillStyle','171nYfDOx','length','canvas','bind','forEach','initDataRange','none','mousemove','off','get','animatorMovestartEvent','data','FeatureCollection','847820oGFDxb','animation','395320OISuAP','DataSet','_onMapMouseMove','_addedHook','unbindEvent','_data','fromDegrees','mouseMove','MultiLineString','stepsRange','_cache_event','register','Cartesian3','pointerEvents','Rectangle','88362faEpMi','update','start','click','options','restore','resize','mapv','_onMoveStartEvent','zIndex','mapvDepthTest','dataSet','animator','_canvasUpdate','updateData','default','coordinates','getContext','auto','geometry','Cesium','addData','fillRect','rgba(0,\x200,\x200,\x20.1)','0px','destroy','destination-out','clearData','devicePixelRatio','_reset','_mapVRenderer','windowPosition','_createCanvas','processData','positionWC','removeData','4XtDlRh','mouseDown','position'];_0x3dde=function(){return _0x4fcfeb;};return _0x3dde();}const _0x4623d8=_0x1aac;(function(_0x5d8029,_0x33acf7){const _0x101b26={_0x482a15:0xc6,_0x27ed5f:0xb6,_0x189bfa:0xa2,_0x24b563:0xda,_0x5ca0f6:0xad,_0x1aee53:0xba},_0x495f78=_0x1aac,_0x1c0d38=_0x5d8029();while(!![]){try{const _0x50c1fb=parseInt(_0x495f78(0xeb))/0x1+parseInt(_0x495f78(_0x101b26._0x482a15))/0x2+parseInt(_0x495f78(_0x101b26._0x27ed5f))/0x3+-parseInt(_0x495f78(_0x101b26._0x189bfa))/0x4*(parseInt(_0x495f78(_0x101b26._0x24b563))/0x5)+-parseInt(_0x495f78(0xa9))/0x6*(parseInt(_0x495f78(0xc7))/0x7)+-parseInt(_0x495f78(_0x101b26._0x5ca0f6))/0x8*(-parseInt(_0x495f78(0xcd))/0x9)+-parseInt(_0x495f78(0xdc))/0xa*(-parseInt(_0x495f78(_0x101b26._0x1aee53))/0xb);if(_0x50c1fb===_0x33acf7)break;else _0x1c0d38['push'](_0x1c0d38['shift']());}catch(_0x46c422){_0x1c0d38['push'](_0x1c0d38['shift']());}}}(_0x3dde,0x1ef14));function _0x1aac(_0x7309a2,_0x51af62){const _0x3dde9a=_0x3dde();return _0x1aac=function(_0x1aaca8,_0x174ebd){_0x1aaca8=_0x1aaca8-0x8a;let _0x3eba92=_0x3dde9a[_0x1aaca8];return _0x3eba92;},_0x1aac(_0x7309a2,_0x51af62);}function _interopNamespace(_0x372c07){const _0x21f6ce={_0x3e407a:0xae,_0x25b8a7:0xd1},_0x53697b={_0x141713:0x8d},_0x233a7a=_0x1aac;if(_0x372c07&&_0x372c07['__esModule'])return _0x372c07;var _0x5ac62d=Object[_0x233a7a(_0x21f6ce._0x3e407a)](null);return _0x372c07&&Object['keys'](_0x372c07)[_0x233a7a(_0x21f6ce._0x25b8a7)](function(_0x3346e8){const _0x2d7dd6=_0x233a7a;if(_0x3346e8!==_0x2d7dd6(_0x53697b._0x141713)){var _0x2cccc7=Object['getOwnPropertyDescriptor'](_0x372c07,_0x3346e8);Object['defineProperty'](_0x5ac62d,_0x3346e8,_0x2cccc7['get']?_0x2cccc7:{'enumerable':!![],'get':function(){return _0x372c07[_0x3346e8];}});}}),_0x5ac62d['default']=_0x372c07,_0x5ac62d;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x4623d8(0x92)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x3f7834,_0x3cac85,_0x3f780a,_0x2fd959){const _0x3514b1={_0x278ef3:0xb3,_0x289727:0xa8},_0xbf4612=_0x4623d8;super(_0x3f7834,_0x3cac85,_0x3f780a);if(!BaseLayer$1)return;this[_0xbf4612(_0x3514b1._0x278ef3)]=_0x3f7834,this['scene']=_0x3f7834['scene'],this['dataSet']=_0x3cac85,_0x3f780a=_0x3f780a||{},this['init'](_0x3f780a),this['argCheck'](_0x3f780a),this[_0xbf4612(_0x3514b1._0x289727)](),this['canvasLayer']=_0x2fd959,this['stopAniamation']=!0x1,this[_0xbf4612(0xdb)]=_0x3f780a['animation'];}[_0x4623d8(0xa8)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x4623d8(0xaa)](){}[_0x4623d8(0xd7)](){const _0x55ce6a={_0x189cf0:0xed},_0x441dc5=_0x4623d8,_0x449656=this[_0x441dc5(0xef)]['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x449656[_0x441dc5(0xe5)][_0x441dc5(_0x55ce6a._0x189cf0)]);}['animatorMoveendEvent'](){const _0x3af581={_0x105a78:0x8a},_0x2bb85d=_0x4623d8;this['isEnabledTime']()&&this[_0x2bb85d(_0x3af581._0x105a78)];}['getContext'](){const _0x10ee29={_0x31b1eb:0x8f,_0x134ce9:0xb1},_0x21b4dc=_0x4623d8;return this['canvasLayer']['canvas'][_0x21b4dc(_0x10ee29._0x31b1eb)](this[_0x21b4dc(_0x10ee29._0x134ce9)]);}['init'](_0x59f9d7){const _0x380d1a={_0x6b9bb9:0xd2,_0x2e722e:0xb1,_0x14b9e2:0xab,_0x4e686e:0xf4,_0x1ed9b3:0xbc},_0x1334ac=_0x4623d8;this['options']=_0x59f9d7,this[_0x1334ac(_0x380d1a._0x6b9bb9)](_0x59f9d7),this['context']=this['options'][_0x1334ac(_0x380d1a._0x2e722e)]||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer'][_0x1334ac(_0x380d1a._0x14b9e2)]&&this['canvasLayer']['setZIndex'](this['options'][_0x1334ac(_0x380d1a._0x4e686e)]),this[_0x1334ac(_0x380d1a._0x1ed9b3)]();}['_canvasUpdate'](_0x1714e4){const _0x3ce8fa={_0x4ce6d6:0xcb,_0x3add2d:0x95,_0x57e286:0xef,_0x4bedca:0xd6,_0x44642b:0x9f},_0x535a42={_0x281c5f:0xca},_0x327030={_0x1bf1c6:0xe8,_0x1781ba:0xa0},_0x1993fc=_0x4623d8,_0x23aec2=this[_0x1993fc(_0x3ce8fa._0x4ce6d6)];if(this['canvasLayer']&&!this['stopAniamation']){const _0x1c962e=this['options']['animation'],_0x1955f1=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x1714e4)return void this['clear'](_0x1955f1);this['context']==='2d'&&(_0x1955f1['save'](),_0x1955f1['globalCompositeOperation']=_0x1993fc(0x98),_0x1955f1[_0x1993fc(0xcc)]=_0x1993fc(_0x3ce8fa._0x3add2d),_0x1955f1[_0x1993fc(0x94)](0x0,0x0,_0x1955f1['canvas'][_0x1993fc(0xb5)],_0x1955f1[_0x1993fc(0xcf)]['height']),_0x1955f1[_0x1993fc(0xf0)]());}else this['clear'](_0x1955f1);if(this['context']==='2d')for(const _0x5a1459 in this[_0x1993fc(_0x3ce8fa._0x57e286)]){_0x1955f1[_0x5a1459]=this[_0x1993fc(0xef)][_0x5a1459];}else _0x1955f1['clear'](_0x1955f1['COLOR_BUFFER_BIT']);const _0x3b0f09={'transferCoordinate':function(_0x2c9ac1){const _0xad7bbb=_0x1993fc,_0xe16fc6=null;let _0xc3d3d2=_0x23aec2['mapvFixedHeight'];_0x23aec2['mapvAutoHeight']&&(_0xc3d3d2=_0x23aec2['getHeight'](Cesium$1['Cartographic'][_0xad7bbb(0xe2)](_0x2c9ac1[0x0],_0x2c9ac1[0x1])));const _0xf74b90=Cesium$1[_0xad7bbb(_0x327030._0x1bf1c6)]['fromDegrees'](_0x2c9ac1[0x0],_0x2c9ac1[0x1],_0xc3d3d2);if(!_0xf74b90)return _0xe16fc6;const _0x420d23=_0x23aec2['cartesianToCanvasCoordinates'](_0xf74b90);if(!_0x420d23)return _0xe16fc6;if(_0x23aec2['mapvDepthTest']&&_0x23aec2['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x50713e=new Cesium$1['EllipsoidalOccluder'](_0x23aec2['globe']['ellipsoid'],_0x23aec2['camera'][_0xad7bbb(_0x327030._0x1781ba)]),_0x25ffed=_0x50713e['isPointVisible'](_0xf74b90);if(!_0x25ffed)return _0xe16fc6;}return[_0x420d23['x'],_0x420d23['y']];}};void 0x0!==_0x1714e4&&(_0x3b0f09['filter']=function(_0x1111e2){const _0x1c4c17=_0x1993fc,_0x4cb6ee=_0x1c962e['trails']||0xa;return!!(_0x1714e4&&_0x1111e2[_0x1c4c17(_0x535a42._0x281c5f)]>_0x1714e4-_0x4cb6ee&&_0x1111e2['time']<_0x1714e4);});const _0x1185eb=this['dataSet'][_0x1993fc(_0x3ce8fa._0x4bedca)](_0x3b0f09);this[_0x1993fc(_0x3ce8fa._0x44642b)](_0x1185eb),this[_0x1993fc(_0x3ce8fa._0x57e286)]['unit']==='m'&&this[_0x1993fc(_0x3ce8fa._0x57e286)]['size'],this[_0x1993fc(0xef)]['_size']=this['options']['size'];const _0x2ae49a=_0x23aec2['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x2ae49a)return;this['drawContext'](_0x1955f1,new mapv__namespace['DataSet'](_0x1185eb),this['options'],_0x2ae49a),this['options']['updateCallback']&&this[_0x1993fc(_0x3ce8fa._0x57e286)]['updateCallback'](_0x1714e4);}}[_0x4623d8(0x8c)](_0x1bfaf9,_0x41a9be){const _0x1502cd={_0x18d369:0xf6,_0x201784:0xec},_0x2683e3=_0x4623d8;let _0x5e7d32=_0x1bfaf9;_0x5e7d32&&_0x5e7d32['get']&&(_0x5e7d32=_0x5e7d32['get']()),void 0x0!==_0x5e7d32&&this[_0x2683e3(_0x1502cd._0x18d369)]['set'](_0x5e7d32),super[_0x2683e3(_0x1502cd._0x201784)]({'options':_0x41a9be});}['addData'](_0x95b160,_0x52a925){let _0x1089d9=_0x95b160;_0x95b160&&_0x95b160['get']&&(_0x1089d9=_0x95b160['get']()),this['dataSet']['add'](_0x1089d9),this['update']({'options':_0x52a925});}[_0x4623d8(0xbd)](){return this['dataSet'];}['removeData'](_0x251126){const _0x287adf={_0x1cf769:0xf6},_0x473946=_0x4623d8;if(this[_0x473946(_0x287adf._0x1cf769)]){const _0x5ea0e4=this['dataSet']['get']({'filter':function(_0x486b81){return _0x251126==null||typeof _0x251126!=='function'||!_0x251126(_0x486b81);}});this[_0x473946(0xf6)]['set'](_0x5ea0e4),this['update']({'options':null});}}['clearData'](){const _0x4200fa=_0x4623d8;this['dataSet']&&this[_0x4200fa(0xf6)]['clear'](),this[_0x4200fa(0xec)]({'options':null});}['draw'](){this['canvasLayer']['draw']();}['clear'](_0xdf3c7d){_0xdf3c7d&&_0xdf3c7d['clearRect']&&_0xdf3c7d['clearRect'](0x0,0x0,_0xdf3c7d['canvas']['width'],_0xdf3c7d['canvas']['height']);}['destroy'](){const _0xe0f6c8={_0x3e769f:0x99,_0x2fc8fa:0x8a},_0x603738=_0x4623d8;this['clear'](this['getContext']()),this[_0x603738(_0xe0f6c8._0x3e769f)](),this['animator']&&this['animator']['stop'](),this[_0x603738(_0xe0f6c8._0x2fc8fa)]=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x4623d8(0xdd)])mapv__namespace[_0x4623d8(0xdd)][_0x4623d8(0xbb)]['transferCoordinate']=function(_0x419e84,_0x4ff93c,_0x4c3a78,_0x4d5967){const _0xd1f7c4={_0x2d31cf:0x91,_0x3d08a3:0xe4,_0x32314c:0xc2,_0x99043a:0xce},_0x3432cb=_0x4623d8;_0x4d5967=_0x4d5967||'_coordinates',_0x4c3a78=_0x4c3a78||_0x3432cb(0x8e);for(let _0x2bc9a2=0x0;_0x2bc9a2<_0x419e84['length'];_0x2bc9a2++){const _0x2790b7=_0x419e84[_0x2bc9a2][_0x3432cb(_0xd1f7c4._0x2d31cf)],_0x3668d9=_0x2790b7[_0x4c3a78];switch(_0x2790b7['type']){case'Point':{const _0x117e59=_0x4ff93c(_0x3668d9);_0x117e59?_0x2790b7[_0x4d5967]=_0x117e59:_0x2790b7[_0x4d5967]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0xe38782=[];for(let _0x57d93e=0x0;_0x57d93e<_0x3668d9['length'];_0x57d93e++){const _0x465d23=_0x4ff93c(_0x3668d9[_0x57d93e]);_0x465d23&&_0xe38782['push'](_0x465d23);}_0x2790b7[_0x4d5967]=_0xe38782;}break;case _0x3432cb(_0xd1f7c4._0x3d08a3):case'Polygon':{const _0x109abd=_0x34fc2d(_0x3668d9);_0x2790b7[_0x4d5967]=_0x109abd;}break;case _0x3432cb(_0xd1f7c4._0x32314c):{const _0x3897f0=[];for(let _0x360c7e=0x0;_0x360c7e<_0x3668d9['length'];_0x360c7e++){const _0x1c4fdb=_0x34fc2d(_0x3668d9[_0x360c7e]);_0x1c4fdb[_0x3432cb(_0xd1f7c4._0x99043a)]>0x0&&_0x3897f0['push'](_0x1c4fdb);}_0x2790b7[_0x4d5967]=_0x3897f0;}break;}}function _0x34fc2d(_0x36a280){const _0x5cb0ba=_0x3432cb,_0x5a13d3=[];for(let _0x19f0cd=0x0;_0x19f0cd<_0x36a280['length'];_0x19f0cd++){const _0xb4c8f2=_0x36a280[_0x19f0cd],_0x373251=[];for(let _0x4cfa12=0x0;_0x4cfa12<_0xb4c8f2[_0x5cb0ba(0xce)];_0x4cfa12++){const _0x475b0b=_0x4ff93c(_0xb4c8f2[_0x4cfa12]);_0x475b0b&&_0x373251['push'](_0x475b0b);}_0x373251[_0x5cb0ba(0xce)]>0x0&&_0x5a13d3['push'](_0x373251);}return _0x5a13d3;}return _0x419e84;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x465835,_0x441389){const _0xcd9a3={_0x4356f5:0xd8},_0x1540d7=_0x4623d8;super(_0x465835),this['_pointerEvents']=this[_0x1540d7(0xef)]['pointerEvents'],this['dataSet']=_0x441389||new mapv__namespace['DataSet'](_0x465835[_0x1540d7(_0xcd9a3._0x4356f5)]),this[_0x1540d7(0xcf)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x519c45){const _0x2ed479={_0x4936c5:0xc3},_0x2f7fac=_0x4623d8;this[_0x2f7fac(_0x2ed479._0x4936c5)]=_0x519c45,this['canvas']&&(_0x519c45?this['canvas'][_0x2f7fac(0xac)][_0x2f7fac(0xe9)]='all':this['canvas']['style']['pointerEvents']=_0x2f7fac(0xd3));}['_showHook'](_0x55e9b4){_0x55e9b4?this['canvas']['style']['display']='block':this['canvas']['style']['display']='none';}[_0x4623d8(0xb7)](){const _0x59a393={_0x23ce72:0xcb,_0xc63501:0xef,_0x187860:0xb9,_0x354c12:0xef,_0x3609a4:0xc9},_0x4de219=_0x4623d8;this['_map'][_0x4de219(_0x59a393._0x23ce72)][_0x4de219(0xf5)]=this[_0x4de219(_0x59a393._0xc63501)]['depthTest']??!![],this[_0x4de219(0xb9)]['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this[_0x4de219(_0x59a393._0x187860)]['scene']['mapvFixedHeight']=this[_0x4de219(_0x59a393._0x354c12)][_0x4de219(_0x59a393._0x3609a4)]??0x0;}[_0x4623d8(0xdf)](){const _0x23dbf0={_0xf5a3f9:0xf6,_0x90e3a8:0x9e},_0x13372e=_0x4623d8;this[_0x13372e(_0x23dbf0._0xf5a3f9)]&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this[_0x13372e(0xf6)]['_data']=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this[_0x13372e(0xef)],this),this[_0x13372e(0xa8)](),this['canvas']=this[_0x13372e(_0x23dbf0._0x90e3a8)](),this['render']=this['render'][_0x13372e(0xd0)](this),this['bindEvent'](),this['_reset']();}[_0x4623d8(0xc4)](){const _0x597062={_0xcad79a:0x9c,_0x16acca:0x9c,_0x3cc7b4:0xcf},_0x1fa1fb=_0x4623d8;this[_0x1fa1fb(0xe0)](),this[_0x1fa1fb(_0x597062._0xcad79a)]&&(this['_mapVRenderer']['destroy'](),this[_0x1fa1fb(_0x597062._0x16acca)]=null),this[_0x1fa1fb(_0x597062._0x3cc7b4)]['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0xa571e=_0x4623d8;this[_0xa571e(0x9a)]=window[_0xa571e(0x9a)]||0x1;}['bindEvent'](){const _0x157463={_0x543a89:0xf3,_0x4d08e8:0xf3,_0x38b948:0xef,_0x568f6c:0xc0,_0x3f20ed:0xde},_0x3a8a0b=_0x4623d8;var _0x5ccf3f,_0x1d7429;this['_map']['on'](mars3d__namespace['EventType'][_0x3a8a0b(0xa3)],this[_0x3a8a0b(_0x157463._0x543a89)],this),this['_map']['on'](mars3d__namespace[_0x3a8a0b(0xc0)][_0x3a8a0b(0xc1)],this[_0x3a8a0b(_0x157463._0x4d08e8)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x5ccf3f=this[_0x3a8a0b(_0x157463._0x38b948)])!==null&&_0x5ccf3f!==void 0x0&&(_0x5ccf3f=_0x5ccf3f['methods'])!==null&&_0x5ccf3f!==void 0x0&&_0x5ccf3f['click']&&this['_map']['on'](mars3d__namespace['EventType'][_0x3a8a0b(0xee)],this['_onMapClick'],this),(_0x1d7429=this['options'])!==null&&_0x1d7429!==void 0x0&&(_0x1d7429=_0x1d7429['methods'])!==null&&_0x1d7429!==void 0x0&&_0x1d7429['mousemove']&&this['_map']['on'](mars3d__namespace[_0x3a8a0b(_0x157463._0x568f6c)]['mouseMove'],this[_0x3a8a0b(_0x157463._0x3f20ed)],this);}['unbindEvent'](){const _0x5ab4cd={_0x18bbdd:0xa3,_0x45881b:0xc0,_0x23f42b:0x9b,_0x4ce0c2:0xe3,_0x4565fd:0xde},_0x304e77=_0x4623d8;var _0x2615e2,_0xb8a733;this['_map']['off'](mars3d__namespace['EventType'][_0x304e77(_0x5ab4cd._0x18bbdd)],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0x304e77(0xc1)],this['_onMoveStartEvent'],this),this[_0x304e77(0xb9)][_0x304e77(0xd5)](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace[_0x304e77(_0x5ab4cd._0x45881b)]['postRender'],this[_0x304e77(_0x5ab4cd._0x23f42b)],this),(_0x2615e2=this['options'])!==null&&_0x2615e2!==void 0x0&&(_0x2615e2=_0x2615e2['methods'])!==null&&_0x2615e2!==void 0x0&&_0x2615e2[_0x304e77(0xee)]&&this['_map'][_0x304e77(0xd5)](mars3d__namespace['EventType'][_0x304e77(0xee)],this['_onMapClick'],this),(_0xb8a733=this['options'])!==null&&_0xb8a733!==void 0x0&&(_0xb8a733=_0xb8a733['methods'])!==null&&_0xb8a733!==void 0x0&&_0xb8a733[_0x304e77(0xd4)]&&this[_0x304e77(0xb9)]['off'](mars3d__namespace['EventType'][_0x304e77(_0x5ab4cd._0x4ce0c2)],this[_0x304e77(_0x5ab4cd._0x4565fd)],this);}['_onMoveStartEvent'](){const _0x48ce6b={_0x38250a:0x9c,_0x2bcb52:0xb9,_0xc68c2f:0x9b,_0x33d358:0xc0},_0x258fce=_0x4623d8;this[_0x258fce(_0x48ce6b._0x38250a)]&&(this[_0x258fce(_0x48ce6b._0x38250a)]['animatorMovestartEvent'](),this[_0x258fce(_0x48ce6b._0x2bcb52)]['off'](mars3d__namespace['EventType']['postRender'],this[_0x258fce(_0x48ce6b._0xc68c2f)],this),this[_0x258fce(_0x48ce6b._0x2bcb52)]['on'](mars3d__namespace[_0x258fce(_0x48ce6b._0x33d358)]['postRender'],this['_reset'],this));}[_0x4623d8(0xb8)](){const _0x5e6316=_0x4623d8;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this[_0x5e6316(0x9b)]());}['_setOptionsHook'](_0x18ef7d,_0x34ebc1){const _0x1ab812={_0x404550:0xdf},_0x21aee0=_0x4623d8;this['_removedHook'](),this[_0x21aee0(_0x1ab812._0x404550)]();}[_0x4623d8(0x93)](_0x3cb5ba){const _0x237b31={_0x11c04b:0x9c},_0x29b085=_0x4623d8;this[_0x29b085(_0x237b31._0x11c04b)]&&this['_mapVRenderer']['addData'](_0x3cb5ba,this['options']);}['updateData'](_0x279429){const _0x467280={_0x541ba2:0x9c},_0x3809e3=_0x4623d8;this['_mapVRenderer']&&this[_0x3809e3(_0x467280._0x541ba2)]['updateData'](_0x279429,this[_0x3809e3(0xef)]);}['getData'](){const _0x597e49={_0x1cd70f:0xbd},_0x4dd914=_0x4623d8;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x4dd914(_0x597e49._0x1cd70f)]()),this[_0x4dd914(0xf6)];}['removeData'](_0x3cfda8){const _0x433477={_0xfc4621:0xa1},_0x58b37d=_0x4623d8;this['_mapVRenderer']&&this['_mapVRenderer'][_0x58b37d(_0x433477._0xfc4621)](_0x3cfda8);}[_0x4623d8(0xbe)](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}[_0x4623d8(0x9e)](){const _0x266e7b={_0x348e8f:0xa4,_0x3db14c:0xb9,_0x27b1a7:0xb5,_0x8203:0xcf,_0x25bd97:0xb2,_0x4f47f7:0xb1,_0x13a638:0xb1},_0x9a023f=_0x4623d8,_0x34e486=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x34e486['id']=this['id'],_0x34e486['style'][_0x9a023f(_0x266e7b._0x348e8f)]='absolute',_0x34e486['style']['top']=_0x9a023f(0x96),_0x34e486['style']['left']='0px',_0x34e486['width']=parseInt(this['_map']['canvas']['width']),_0x34e486['height']=parseInt(this[_0x9a023f(_0x266e7b._0x3db14c)][_0x9a023f(0xcf)]['height']),_0x34e486['style'][_0x9a023f(_0x266e7b._0x27b1a7)]=this['_map'][_0x9a023f(_0x266e7b._0x8203)]['style']['width'],_0x34e486['style'][_0x9a023f(0xb2)]=this['_map']['canvas']['style'][_0x9a023f(_0x266e7b._0x25bd97)],_0x34e486[_0x9a023f(0xac)]['pointerEvents']=this['_pointerEvents']?_0x9a023f(0x90):'none',_0x34e486['style'][_0x9a023f(0xf4)]=this['options']['zIndex']??0x9;if(this['options'][_0x9a023f(_0x266e7b._0x4f47f7)]==='2d'){const _0x43cecf=this['devicePixelRatio'];_0x34e486['getContext'](this['options'][_0x9a023f(_0x266e7b._0x13a638)])['scale'](_0x43cecf,_0x43cecf);}return _0x34e486;}['_reset'](){const _0x425069={_0x15e005:0xf1},_0x248404=_0x4623d8;this[_0x248404(_0x425069._0x15e005)](),this['render']();}['draw'](){this['_reset']();}['remove'](){const _0x2044b0={_0x1d0f99:0x9c},_0x312de3=_0x4623d8;this['_mapVRenderer']&&(this[_0x312de3(_0x2044b0._0x1d0f99)][_0x312de3(0x97)](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x4623d8(0xbf)](){const _0x41c312={_0xce5f22:0x9c,_0x2feb81:0x8b},_0xc6de5f=_0x4623d8;this[_0xc6de5f(_0x41c312._0xce5f22)][_0xc6de5f(_0x41c312._0x2feb81)]();}[_0x4623d8(0xf1)](){const _0x5bc7b0={_0x1d318b:0xcf,_0x2f8e96:0xac,_0x7b3873:0xb4,_0xe1f9a2:0xb9},_0x15905e=_0x4623d8;if(this[_0x15905e(_0x5bc7b0._0x1d318b)]){const _0x2b042e=this['canvas'];_0x2b042e['style']['position']='absolute',_0x2b042e[_0x15905e(_0x5bc7b0._0x2f8e96)]['top']='0px',_0x2b042e['style'][_0x15905e(_0x5bc7b0._0x7b3873)]='0px',_0x2b042e['width']=parseInt(this[_0x15905e(_0x5bc7b0._0xe1f9a2)][_0x15905e(0xcf)]['width']),_0x2b042e['height']=parseInt(this['_map']['canvas']['height']),_0x2b042e['style']['width']=this['_map']['canvas']['style']['width'],_0x2b042e['style']['height']=this['_map'][_0x15905e(0xcf)]['style']['height'];}}['getRectangle'](_0x1a7b05){const _0xb5c341={_0xe5a1c8:0xe1,_0x146e6d:0xd9,_0x7931ac:0xea,_0x5eb0b0:0xa5},_0x3b3a56=_0x4623d8;if(!this['dataSet']||!this['dataSet'][_0x3b3a56(_0xb5c341._0xe5a1c8)])return;const _0x4c8187=mars3d__namespace[_0x3b3a56(0xc5)]['getExtentByGeoJSON']({'type':_0x3b3a56(_0xb5c341._0x146e6d),'features':this['dataSet']['_data']});if(!_0x4c8187)return;return _0x1a7b05!==null&&_0x1a7b05!==void 0x0&&_0x1a7b05['isFormat']?_0x4c8187:Cesium[_0x3b3a56(_0xb5c341._0x7931ac)][_0x3b3a56(0xe2)](_0x4c8187['xmin'],_0x4c8187['ymin'],_0x4c8187[_0x3b3a56(_0xb5c341._0x5eb0b0)],_0x4c8187['ymax']);}[_0x4623d8(0xaf)](_0x2deee3){const _0x127a75={_0xe0e111:0x9c},_0x3d4e72=_0x4623d8;this['_cache_event']=_0x2deee3,this[_0x3d4e72(_0x127a75._0xe0e111)]&&this['_mapVRenderer']['clickEvent'](_0x2deee3[_0x3d4e72(0x9d)],_0x2deee3);}['_onMapMouseMove'](_0x181844){const _0x123b3b={_0x397473:0xe6,_0x7131ee:0x9c,_0x3a4837:0xc8},_0x2acce6=_0x4623d8;this[_0x2acce6(_0x123b3b._0x397473)]=_0x181844,this[_0x2acce6(_0x123b3b._0x7131ee)]&&this['_mapVRenderer'][_0x2acce6(_0x123b3b._0x3a4837)](_0x181844['windowPosition'],_0x181844);}['on'](_0x3de186,_0x48362e,_0x433d8e){const _0x18c38e={_0x3f4394:0xee,_0x329049:0xef,_0x2183e5:0xb0,_0x1fdb19:0xb9,_0x599e55:0xde},_0x36150a={_0x17d4a6:0xe6},_0x45ec9c={_0x30647d:0xe6},_0x2882db=_0x4623d8;this['options']['methods']=this[_0x2882db(0xef)][_0x2882db(0xb0)]||{};if(_0x3de186===mars3d__namespace['EventType'][_0x2882db(_0x18c38e._0x3f4394)])this[_0x2882db(_0x18c38e._0x329049)][_0x2882db(_0x18c38e._0x2183e5)]['click']=_0x960b51=>{const _0x246f3a=_0x2882db;_0x960b51&&_0x48362e[_0x246f3a(0xd0)](_0x433d8e)({...this[_0x246f3a(_0x45ec9c._0x30647d)],'layer':this,'data':_0x960b51});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x3de186===mars3d__namespace['EventType']['mouseMove']&&(this['options']['methods'][_0x2882db(0xd4)]=_0x30533f=>{const _0x344a88=_0x2882db;_0x30533f&&_0x48362e['bind'](_0x433d8e)({...this[_0x344a88(_0x36150a._0x17d4a6)],'layer':this,'data':_0x30533f});},this[_0x2882db(_0x18c38e._0x1fdb19)]['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x2882db(_0x18c38e._0x599e55)],this));return this;}['off'](_0x1bf17c,_0x39f835){const _0xb70e28={_0x1bc440:0xb9,_0x4f6ba7:0xef,_0x19fb86:0xde},_0x1e2bed=_0x4623d8;if(_0x1bf17c==='click'){var _0x52dc0c;this[_0x1e2bed(_0xb70e28._0x1bc440)]['off'](_0x1bf17c,this['_onMapClick'],this),(_0x52dc0c=this[_0x1e2bed(_0xb70e28._0x4f6ba7)]['methods'])!==null&&_0x52dc0c!==void 0x0&&_0x52dc0c[_0x1e2bed(0xd4)]&&delete this[_0x1e2bed(_0xb70e28._0x4f6ba7)]['methods']['click'];}else{if(_0x1bf17c==='mouseMove'){var _0x412607;this['_map']['off'](_0x1bf17c,this[_0x1e2bed(_0xb70e28._0x19fb86)],this),(_0x412607=this['options']['methods'])!==null&&_0x412607!==void 0x0&&_0x412607['mousemove']&&delete this[_0x1e2bed(0xef)]['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil'][_0x4623d8(0xe7)]('mapv',MapVLayer),mars3d__namespace['layer'][_0x4623d8(0xa7)]=MapVLayer,mars3d__namespace[_0x4623d8(0xf2)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0xf26df){const _0x582691={_0x5cb9f8:0xa6},_0x1d83bf=_0x4623d8;if(_0xf26df!==_0x1d83bf(0x8d)&&!exports['hasOwnProperty'](_0xf26df))Object[_0x1d83bf(_0x582691._0x5cb9f8)](exports,_0xf26df,{'enumerable':!![],'get':function(){return mapv[_0xf26df];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
