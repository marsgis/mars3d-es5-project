/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.6
 * 编译日期：2023-09-18 16:30:52
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x47847e=_0x521f;function _0x521f(_0x57ad11,_0x58f17c){const _0x9032a=_0x9032();return _0x521f=function(_0x521f37,_0x3900ad){_0x521f37=_0x521f37-0x73;let _0x5dac25=_0x9032a[_0x521f37];return _0x5dac25;},_0x521f(_0x57ad11,_0x58f17c);}(function(_0x9c2861,_0x3f03bf){const _0x4a73a7={_0x43d582:0x8d,_0x540d6e:0xc1,_0x5ca2c6:0xbe,_0x13c75e:0x94,_0xee9d70:0xa4,_0x37ace3:0x7f,_0xbd6191:0x90},_0x14bfc1=_0x521f,_0x3bfee8=_0x9c2861();while(!![]){try{const _0x446d79=-parseInt(_0x14bfc1(_0x4a73a7._0x43d582))/0x1+-parseInt(_0x14bfc1(0xcc))/0x2*(-parseInt(_0x14bfc1(0xd7))/0x3)+-parseInt(_0x14bfc1(_0x4a73a7._0x540d6e))/0x4*(-parseInt(_0x14bfc1(_0x4a73a7._0x5ca2c6))/0x5)+parseInt(_0x14bfc1(_0x4a73a7._0x13c75e))/0x6*(parseInt(_0x14bfc1(0x8e))/0x7)+parseInt(_0x14bfc1(0x75))/0x8+-parseInt(_0x14bfc1(_0x4a73a7._0xee9d70))/0x9*(-parseInt(_0x14bfc1(_0x4a73a7._0x37ace3))/0xa)+-parseInt(_0x14bfc1(_0x4a73a7._0xbd6191))/0xb*(parseInt(_0x14bfc1(0xa6))/0xc);if(_0x446d79===_0x3f03bf)break;else _0x3bfee8['push'](_0x3bfee8['shift']());}catch(_0x27e6e1){_0x3bfee8['push'](_0x3bfee8['shift']());}}}(_0x9032,0xcf063));function _0x9032(){const _0xf20b3f=['parentElement','cameraMoveStart','mouseMove','1008450PMeXwe','218554eYcBCU','forEach','11Ympgmm','remove','none','mapvAutoHeight','126LmBULd','SCENE3D','animator','mapv','_cache_event','update','Cartesian3','stepsRange','getOwnPropertyDescriptor','unit','methods','draw','Polygon','filter','_dataCache','set','2981007mSgZtU','positionWC','41008476fxnwjf','BaseLayer','DataSet','layer','_onMapClick','time','isEnabledTime','xmin','length','unbindEvent','mousemove','fromDegrees','_onMoveEndEvent','ymin','animation','0px','default','updateCallback','_createCanvas','coordinates','options','defineProperty','scene','ellipsoid','1790MeFMIZ','size','clear','13916Nuohyh','_mapVRenderer','_map','_pointerEvents','click','_canvasUpdate','_onMapMouseMove','height','zIndex','COLOR_BUFFER_BIT','top','2UWqgay','canvasLayer','devicePixelRatio','addData','steps','_removedHook','pointerEvents','EventType','argCheck','prototype','style','3851292jaidUt','initDataRange','getContext','clickEvent','canvas','absolute','Cesium','__proto__','8761736tjrEEw','cameraMoveEnd','type','_onMoveStartEvent','scale','resize','destroy','drawContext','data','_reset','30lagWls','render','_data','register','SceneMode','updateData','width','map','stopAniamation','off','dataSet'];_0x9032=function(){return _0xf20b3f;};return _0x9032();}function _interopNamespace(_0x3e57c3){const _0x3a9e84={_0x17c8a7:0x8f},_0x2ff159=_0x521f;if(_0x3e57c3&&_0x3e57c3['__esModule'])return _0x3e57c3;var _0x46c90f=Object['create'](null);return _0x3e57c3&&Object['keys'](_0x3e57c3)[_0x2ff159(_0x3a9e84._0x17c8a7)](function(_0x3a910b){const _0x2ff1eb=_0x2ff159;if(_0x3a910b!=='default'){var _0x2a4d69=Object[_0x2ff1eb(0x9c)](_0x3e57c3,_0x3a910b);Object['defineProperty'](_0x46c90f,_0x3a910b,_0x2a4d69['get']?_0x2a4d69:{'enumerable':!![],'get':function(){return _0x3e57c3[_0x3a910b];}});}}),_0x46c90f['default']=_0x3e57c3,_0x46c90f;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x47847e(0x74)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x9e9b26,_0x3854c8,_0x5c4e66,_0x575ae9){const _0x29ffad={_0x54d778:0xd4,_0x429ff2:0x87,_0x6bef24:0xb4},_0x2aa29d=_0x47847e;super(_0x9e9b26,_0x3854c8,_0x5c4e66);if(!BaseLayer$1)return;this[_0x2aa29d(0x86)]=_0x9e9b26,this['scene']=_0x9e9b26['scene'],this['dataSet']=_0x3854c8,_0x5c4e66=_0x5c4e66||{},this['init'](_0x5c4e66),this[_0x2aa29d(_0x29ffad._0x54d778)](_0x5c4e66),this['initDevicePixelRatio'](),this['canvasLayer']=_0x575ae9,this[_0x2aa29d(_0x29ffad._0x429ff2)]=!0x1,this['animation']=_0x5c4e66[_0x2aa29d(_0x29ffad._0x6bef24)];}['initDevicePixelRatio'](){const _0x3f5f3f={_0xb4cf31:0xce},_0x5ac1a2=_0x47847e;this[_0x5ac1a2(_0x3f5f3f._0xb4cf31)]=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0xc9325c={_0x5eb692:0xac,_0x42a6e0:0xd0,_0x28af11:0x9b},_0x23eb26=_0x47847e,_0x414898=this['options'][_0x23eb26(0xb4)];this[_0x23eb26(_0xc9325c._0x5eb692)]()&&this['animator']&&(this[_0x23eb26(_0xc9325c._0x42a6e0)]['step']=_0x414898[_0x23eb26(_0xc9325c._0x28af11)]['start']);}['animatorMoveendEvent'](){const _0x26c19f=_0x47847e;this['isEnabledTime']()&&this[_0x26c19f(0x96)];}['getContext'](){const _0xf20f25={_0x225be7:0xdb},_0x58cf79=_0x47847e;return this['canvasLayer'][_0x58cf79(_0xf20f25._0x225be7)]['getContext'](this['context']);}['init'](_0x2df59b){const _0x57b5c5={_0x5e57d6:0xba,_0x3ede70:0xd8,_0x771245:0xba,_0x253732:0xcd},_0x5a4c9c=_0x47847e;this[_0x5a4c9c(_0x57b5c5._0x5e57d6)]=_0x2df59b,this[_0x5a4c9c(_0x57b5c5._0x3ede70)](_0x2df59b),this['context']=this['options']['context']||'2d',this[_0x5a4c9c(_0x57b5c5._0x771245)]['zIndex']&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this[_0x5a4c9c(_0x57b5c5._0x253732)]['setZIndex'](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x251319){const _0x4e8fbc={_0x3b6e9a:0x85,_0x2bc0b8:0x89,_0xbbe56:0xba,_0x2ab9b4:0xbf,_0x2a6cd3:0x7c,_0x1b3181:0xba},_0x1c04c3={_0x3e431a:0xab},_0x137f58={_0x527f22:0xbd},_0x4ff6bc=_0x47847e,_0x15e7f1=this['scene'];if(this['canvasLayer']&&!this[_0x4ff6bc(0x87)]){const _0x2692f2=this['options']['animation'],_0x4b0c08=this[_0x4ff6bc(0xd9)]();if(this['isEnabledTime']()){if(void 0x0===_0x251319)return void this['clear'](_0x4b0c08);this['context']==='2d'&&(_0x4b0c08['save'](),_0x4b0c08['globalCompositeOperation']='destination-out',_0x4b0c08['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x4b0c08['fillRect'](0x0,0x0,_0x4b0c08[_0x4ff6bc(0xdb)][_0x4ff6bc(_0x4e8fbc._0x3b6e9a)],_0x4b0c08['canvas']['height']),_0x4b0c08['restore']());}else this[_0x4ff6bc(0xc0)](_0x4b0c08);if(this['context']==='2d')for(const _0x55e8d3 in this['options']){_0x4b0c08[_0x55e8d3]=this[_0x4ff6bc(0xba)][_0x55e8d3];}else _0x4b0c08['clear'](_0x4b0c08[_0x4ff6bc(0xca)]);const _0x307d2b={'transferCoordinate':function(_0x5e1c98){const _0x176b59=_0x4ff6bc,_0x5474e4=null;let _0x2dcecc=_0x15e7f1['mapvFixedHeight'];_0x15e7f1['mapvAutoHeight']&&(_0x2dcecc=_0x15e7f1['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x5e1c98[0x0],_0x5e1c98[0x1])));const _0x141777=Cesium$1[_0x176b59(0x9a)][_0x176b59(0xb1)](_0x5e1c98[0x0],_0x5e1c98[0x1],_0x2dcecc);if(!_0x141777)return _0x5474e4;const _0x2aaa4b=_0x15e7f1['cartesianToCanvasCoordinates'](_0x141777);if(!_0x2aaa4b)return _0x5474e4;if(_0x15e7f1['mapvDepthTest']&&_0x15e7f1['mode']===Cesium$1[_0x176b59(0x83)][_0x176b59(0x95)]){const _0x365be5=new Cesium$1['EllipsoidalOccluder'](_0x15e7f1['globe'][_0x176b59(_0x137f58._0x527f22)],_0x15e7f1['camera'][_0x176b59(0xa5)]),_0x261312=_0x365be5['isPointVisible'](_0x141777);if(!_0x261312)return _0x5474e4;}return[_0x2aaa4b['x'],_0x2aaa4b['y']];}};void 0x0!==_0x251319&&(_0x307d2b[_0x4ff6bc(0xa1)]=function(_0x39cfbe){const _0x58762b=_0x4ff6bc,_0x26b1b4=_0x2692f2['trails']||0xa;return!!(_0x251319&&_0x39cfbe[_0x58762b(0xab)]>_0x251319-_0x26b1b4&&_0x39cfbe[_0x58762b(_0x1c04c3._0x3e431a)]<_0x251319);});const _0x497634=this[_0x4ff6bc(_0x4e8fbc._0x2bc0b8)]['get'](_0x307d2b);this['processData'](_0x497634),this[_0x4ff6bc(_0x4e8fbc._0xbbe56)][_0x4ff6bc(0x9d)]==='m'&&this['options'][_0x4ff6bc(_0x4e8fbc._0x2ab9b4)],this[_0x4ff6bc(_0x4e8fbc._0xbbe56)]['_size']=this['options']['size'];const _0x351e67=_0x15e7f1['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x351e67)return;this[_0x4ff6bc(_0x4e8fbc._0x2a6cd3)](_0x4b0c08,new mapv__namespace['DataSet'](_0x497634),this[_0x4ff6bc(_0x4e8fbc._0xbbe56)],_0x351e67),this['options']['updateCallback']&&this[_0x4ff6bc(_0x4e8fbc._0x1b3181)][_0x4ff6bc(0xb7)](_0x251319);}}['updateData'](_0x11f56d,_0x1b1356){let _0x333146=_0x11f56d;_0x333146&&_0x333146['get']&&(_0x333146=_0x333146['get']()),void 0x0!==_0x333146&&this['dataSet']['set'](_0x333146),super['update']({'options':_0x1b1356});}['addData'](_0x11201f,_0x1563b9){let _0x5031ea=_0x11201f;_0x11201f&&_0x11201f['get']&&(_0x5031ea=_0x11201f['get']()),this['dataSet']['add'](_0x5031ea),this['update']({'options':_0x1563b9});}['getData'](){return this['dataSet'];}['removeData'](_0x4ea401){const _0xf91786={_0x351c48:0xa3},_0x5c5b08=_0x47847e;if(this['dataSet']){const _0x532ce3=this[_0x5c5b08(0x89)]['get']({'filter':function(_0x11198d){return _0x4ea401==null||typeof _0x4ea401!=='function'||!_0x4ea401(_0x11198d);}});this['dataSet'][_0x5c5b08(_0xf91786._0x351c48)](_0x532ce3),this[_0x5c5b08(0x99)]({'options':null});}}['clearData'](){const _0x372f74=_0x47847e;this['dataSet']&&this[_0x372f74(0x89)][_0x372f74(0xc0)](),this['update']({'options':null});}[_0x47847e(0x9f)](){this['canvasLayer']['draw']();}['clear'](_0x242137){const _0x22b759={_0x54053a:0xdb},_0x4f33fd=_0x47847e;_0x242137&&_0x242137['clearRect']&&_0x242137['clearRect'](0x0,0x0,_0x242137[_0x4f33fd(_0x22b759._0x54053a)]['width'],_0x242137['canvas']['height']);}[_0x47847e(0x7b)](){const _0x32fa2e={_0xaaa89d:0xd9,_0x5e9247:0x96},_0x473569=_0x47847e;this['clear'](this[_0x473569(_0x32fa2e._0xaaa89d)]()),this['clearData'](),this['animator']&&this[_0x473569(0x96)]['stop'](),this[_0x473569(_0x32fa2e._0x5e9247)]=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x47847e(0xa8)][_0x47847e(0xd5)]['transferCoordinate']=function(_0x46e28d,_0x24de12,_0x44f13e,_0x3a2d6b){const _0x568395={_0x1b3764:0xb9,_0x5e789e:0xa0,_0x374dcb:0xae},_0x372e57={_0x4439ea:0xae},_0x5058da=_0x47847e;_0x3a2d6b=_0x3a2d6b||'_coordinates',_0x44f13e=_0x44f13e||_0x5058da(_0x568395._0x1b3764);for(let _0x3e424d=0x0;_0x3e424d<_0x46e28d['length'];_0x3e424d++){const _0x131801=_0x46e28d[_0x3e424d]['geometry'],_0x4638fc=_0x131801[_0x44f13e];switch(_0x131801[_0x5058da(0x77)]){case'Point':{const _0x24f73d=_0x24de12(_0x4638fc);_0x24f73d?_0x131801[_0x3a2d6b]=_0x24f73d:_0x131801[_0x3a2d6b]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0xfc17b5=[];for(let _0x37d11d=0x0;_0x37d11d<_0x4638fc['length'];_0x37d11d++){const _0x3f3ebf=_0x24de12(_0x4638fc[_0x37d11d]);_0x3f3ebf&&_0xfc17b5['push'](_0x3f3ebf);}_0x131801[_0x3a2d6b]=_0xfc17b5;}break;case'MultiLineString':case _0x5058da(_0x568395._0x5e789e):{const _0x1aac88=_0x453592(_0x4638fc);_0x131801[_0x3a2d6b]=_0x1aac88;}break;case'MultiPolygon':{const _0x592909=[];for(let _0x537db9=0x0;_0x537db9<_0x4638fc['length'];_0x537db9++){const _0x173eb7=_0x453592(_0x4638fc[_0x537db9]);_0x173eb7[_0x5058da(_0x568395._0x374dcb)]>0x0&&_0x592909['push'](_0x173eb7);}_0x131801[_0x3a2d6b]=_0x592909;}break;}}function _0x453592(_0x5f3035){const _0x2aecc0=_0x5058da,_0x8a5cfc=[];for(let _0x53ca8a=0x0;_0x53ca8a<_0x5f3035[_0x2aecc0(0xae)];_0x53ca8a++){const _0x25a315=_0x5f3035[_0x53ca8a],_0x53aa42=[];for(let _0x598019=0x0;_0x598019<_0x25a315[_0x2aecc0(_0x372e57._0x4439ea)];_0x598019++){const _0xdedd2c=_0x24de12(_0x25a315[_0x598019]);_0xdedd2c&&_0x53aa42['push'](_0xdedd2c);}_0x53aa42['length']>0x0&&_0x8a5cfc['push'](_0x53aa42);}return _0x8a5cfc;}return _0x46e28d;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x47847e(0x73)],BaseLayer=mars3d__namespace['layer'][_0x47847e(0xa7)];class MapVLayer extends BaseLayer{constructor(_0xc206c5,_0x32f8a5){const _0x35b5e7={_0x1e4e0d:0x89,_0x2f9c12:0xa8},_0x51eaaa=_0x47847e;super(_0xc206c5),this['_pointerEvents']=this['options']['pointerEvents'],this[_0x51eaaa(_0x35b5e7._0x1e4e0d)]=_0x32f8a5||new mapv__namespace[(_0x51eaaa(_0x35b5e7._0x2f9c12))](_0xc206c5[_0x51eaaa(0x7d)]),this[_0x51eaaa(0xdb)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x404f36){const _0x156730={_0x24a396:0xc4,_0x3e4214:0x92},_0xc0dd57=_0x47847e;this[_0xc0dd57(_0x156730._0x24a396)]=_0x404f36,this['canvas']&&(_0x404f36?this['canvas']['style']['pointerEvents']='all':this['canvas'][_0xc0dd57(0xd6)][_0xc0dd57(0xd2)]=_0xc0dd57(_0x156730._0x3e4214));}['_showHook'](_0x4b0394){const _0x30f253={_0x4e33b9:0xdb},_0x2f2e80=_0x47847e;_0x4b0394?this[_0x2f2e80(_0x30f253._0x4e33b9)]['style']['display']='block':this[_0x2f2e80(_0x30f253._0x4e33b9)]['style']['display']=_0x2f2e80(0x92);}['_mountedHook'](){const _0x2e58a2=_0x47847e;this['_map']['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene'][_0x2e58a2(0x93)]=this['options']['clampToGround']??![],this[_0x2e58a2(0xc3)][_0x2e58a2(0xbc)]['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x2e29ac={_0x6545bf:0x89},_0x17af8a=_0x47847e;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this[_0x17af8a(_0x2e29ac._0x6545bf)]['_data']=[]['concat'](this['dataSet'][_0x17af8a(0xa2)])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this[_0x17af8a(0xb8)](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}[_0x47847e(0xd1)](){const _0x2e1efb={_0x2d7816:0xaf,_0x11edc6:0xc2,_0x3292bb:0xc2,_0x4999bf:0xdb},_0x19705d=_0x47847e;this[_0x19705d(_0x2e1efb._0x2d7816)](),this['_mapVRenderer']&&(this[_0x19705d(_0x2e1efb._0x11edc6)]['destroy'](),this[_0x19705d(_0x2e1efb._0x3292bb)]=null),this[_0x19705d(_0x2e1efb._0x4999bf)]['parentElement']['removeChild'](this[_0x19705d(0xdb)]);}['initDevicePixelRatio'](){const _0x5aa020=_0x47847e;this['devicePixelRatio']=window[_0x5aa020(0xce)]||0x1;}['bindEvent'](){const _0x416a39={_0x1536be:0x76,_0x30694c:0x9e,_0x4cfbd0:0xc5,_0x1e6f8e:0xd3},_0x1ccea8=_0x47847e;var _0x29531f,_0x47ae50,_0x2ddec6,_0x20d53f;this[_0x1ccea8(0xc3)]['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x1ccea8(0x78)],this),this['_map']['on'](mars3d__namespace[_0x1ccea8(0xd3)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x1ccea8(0xd3)][_0x1ccea8(_0x416a39._0x1536be)],this['_onMoveEndEvent'],this),(_0x29531f=this['options'])!==null&&_0x29531f!==void 0x0&&(_0x47ae50=_0x29531f[_0x1ccea8(_0x416a39._0x30694c)])!==null&&_0x47ae50!==void 0x0&&_0x47ae50[_0x1ccea8(_0x416a39._0x4cfbd0)]&&this[_0x1ccea8(0xc3)]['on'](mars3d__namespace[_0x1ccea8(_0x416a39._0x1e6f8e)]['click'],this['_onMapClick'],this),(_0x2ddec6=this['options'])!==null&&_0x2ddec6!==void 0x0&&(_0x20d53f=_0x2ddec6[_0x1ccea8(0x9e)])!==null&&_0x20d53f!==void 0x0&&_0x20d53f['mousemove']&&this[_0x1ccea8(0xc3)]['on'](mars3d__namespace[_0x1ccea8(_0x416a39._0x1e6f8e)]['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x554a39={_0x5ad7cc:0xc3,_0x55e2fc:0xd3},_0x5e5fc4=_0x47847e;var _0x2db39e,_0x3864fd,_0x396059,_0x36f28c;this[_0x5e5fc4(_0x554a39._0x5ad7cc)]['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0x5e5fc4(0x8b)],this['_onMoveStartEvent'],this),this[_0x5e5fc4(_0x554a39._0x5ad7cc)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x5e5fc4(0xb2)],this),this['_map'][_0x5e5fc4(0x88)](mars3d__namespace[_0x5e5fc4(_0x554a39._0x55e2fc)]['postRender'],this['_reset'],this),(_0x2db39e=this['options'])!==null&&_0x2db39e!==void 0x0&&(_0x3864fd=_0x2db39e[_0x5e5fc4(0x9e)])!==null&&_0x3864fd!==void 0x0&&_0x3864fd['click']&&this[_0x5e5fc4(0xc3)]['off'](mars3d__namespace['EventType'][_0x5e5fc4(0xc5)],this['_onMapClick'],this),(_0x396059=this[_0x5e5fc4(0xba)])!==null&&_0x396059!==void 0x0&&(_0x36f28c=_0x396059[_0x5e5fc4(0x9e)])!==null&&_0x36f28c!==void 0x0&&_0x36f28c[_0x5e5fc4(0xb0)]&&this['_map']['off'](mars3d__namespace['EventType'][_0x5e5fc4(0x8c)],this[_0x5e5fc4(0xc7)],this);}['_onMoveStartEvent'](){const _0x50b5b1={_0x428dc1:0x88,_0xf9e2d2:0xd3,_0xd730d2:0x7e},_0x2e7c27=_0x47847e;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this[_0x2e7c27(0xc3)][_0x2e7c27(_0x50b5b1._0x428dc1)](mars3d__namespace[_0x2e7c27(_0x50b5b1._0xf9e2d2)]['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace[_0x2e7c27(_0x50b5b1._0xf9e2d2)]['postRender'],this[_0x2e7c27(_0x50b5b1._0xd730d2)],this));}['_onMoveEndEvent'](){const _0x488d27={_0x209721:0xc2,_0x304a86:0xc3},_0x3a044d=_0x47847e;this[_0x3a044d(_0x488d27._0x209721)]&&(this[_0x3a044d(_0x488d27._0x304a86)]['off'](mars3d__namespace[_0x3a044d(0xd3)]['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0xf45c21,_0x34f42e){this['_removedHook'](),this['_addedHook']();}['addData'](_0x32af65){const _0x2a8d4c={_0x595d70:0xc2,_0x208617:0xcf},_0x5e9778=_0x47847e;this[_0x5e9778(_0x2a8d4c._0x595d70)]&&this['_mapVRenderer'][_0x5e9778(_0x2a8d4c._0x208617)](_0x32af65,this['options']);}['updateData'](_0x3ec440){const _0x2b3fcd={_0x1e1953:0xba},_0x5c264e=_0x47847e;this['_mapVRenderer']&&this[_0x5c264e(0xc2)][_0x5c264e(0x84)](_0x3ec440,this[_0x5c264e(_0x2b3fcd._0x1e1953)]);}['getData'](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x4cb083){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x4cb083);}['removeAllData'](){const _0x323c33={_0x17128d:0xc2},_0x227d68=_0x47847e;this[_0x227d68(_0x323c33._0x17128d)]&&this['_mapVRenderer']['clearData']();}[_0x47847e(0xb8)](){const _0x16f187={_0x35cf1b:0xc3,_0x586bcf:0xd6,_0x102a84:0xd6,_0x3c4f91:0xcb,_0x4fd32b:0xb5,_0x1c731c:0xdb,_0x1c85f2:0x85,_0x4501e8:0xba,_0x550c93:0xc9,_0x382a48:0xce,_0x2ce0e2:0x79},_0x89b719=_0x47847e,_0x59b3ad=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this[_0x89b719(_0x16f187._0x35cf1b)]['container']);_0x59b3ad['id']=this['id'],_0x59b3ad[_0x89b719(_0x16f187._0x586bcf)]['position']=_0x89b719(0xdc),_0x59b3ad[_0x89b719(_0x16f187._0x102a84)][_0x89b719(_0x16f187._0x3c4f91)]=_0x89b719(_0x16f187._0x4fd32b),_0x59b3ad['style']['left']=_0x89b719(0xb5),_0x59b3ad[_0x89b719(0x85)]=parseInt(this['_map']['canvas']['width']),_0x59b3ad['height']=parseInt(this['_map'][_0x89b719(_0x16f187._0x1c731c)][_0x89b719(0xc8)]),_0x59b3ad['style'][_0x89b719(_0x16f187._0x1c85f2)]=this['_map']['canvas']['style']['width'],_0x59b3ad['style'][_0x89b719(0xc8)]=this['_map']['canvas']['style']['height'],_0x59b3ad[_0x89b719(_0x16f187._0x102a84)]['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x59b3ad['style']['zIndex']=this[_0x89b719(_0x16f187._0x4501e8)][_0x89b719(_0x16f187._0x550c93)]??0x9;if(this['options']['context']==='2d'){const _0x3cb367=this[_0x89b719(_0x16f187._0x382a48)];_0x59b3ad['getContext'](this['options']['context'])[_0x89b719(_0x16f187._0x2ce0e2)](_0x3cb367,_0x3cb367);}return _0x59b3ad;}[_0x47847e(0x7e)](){const _0x3f6dd0=_0x47847e;this[_0x3f6dd0(0x7a)](),this['render']();}['draw'](){this['_reset']();}[_0x47847e(0x91)](){const _0x1f1362=_0x47847e;this['_mapVRenderer']&&(this[_0x1f1362(0xc2)]['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x1f1362(0x8a)]['removeChild'](this['canvas']);}[_0x47847e(0x80)](){const _0x59ca5c=_0x47847e;this[_0x59ca5c(0xc2)][_0x59ca5c(0xc6)]();}['resize'](){const _0x3a67e3={_0x3c1265:0xc8,_0x3b194f:0xdb},_0x270174=_0x47847e;if(this['canvas']){const _0x4fd158=this['canvas'];_0x4fd158['style']['position']='absolute',_0x4fd158['style']['top']='0px',_0x4fd158['style']['left']='0px',_0x4fd158['width']=parseInt(this['_map']['canvas'][_0x270174(0x85)]),_0x4fd158['height']=parseInt(this['_map'][_0x270174(0xdb)]['height']),_0x4fd158[_0x270174(0xd6)]['width']=this['_map'][_0x270174(0xdb)]['style'][_0x270174(0x85)],_0x4fd158['style'][_0x270174(_0x3a67e3._0x3c1265)]=this['_map'][_0x270174(_0x3a67e3._0x3b194f)]['style']['height'];}}['getRectangle'](_0x14bc81){const _0x35ae7d={_0x5982b6:0x89,_0x405f17:0x89,_0x31cbcd:0x81},_0x4db45e=_0x47847e;if(!this[_0x4db45e(_0x35ae7d._0x5982b6)]||!this[_0x4db45e(_0x35ae7d._0x405f17)][_0x4db45e(0x81)])return;const _0x3e6db7=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet'][_0x4db45e(_0x35ae7d._0x31cbcd)]});if(!_0x3e6db7)return;return _0x14bc81!==null&&_0x14bc81!==void 0x0&&_0x14bc81['isFormat']?_0x3e6db7:Cesium['Rectangle']['fromDegrees'](_0x3e6db7[_0x4db45e(0xad)],_0x3e6db7[_0x4db45e(0xb3)],_0x3e6db7['xmax'],_0x3e6db7['ymax']);}['_onMapClick'](_0x225c93){const _0x504aba={_0x1a0155:0xda},_0x5a71bc=_0x47847e;this[_0x5a71bc(0x98)]=_0x225c93,this['_mapVRenderer']&&this['_mapVRenderer'][_0x5a71bc(_0x504aba._0x1a0155)](_0x225c93['windowPosition'],_0x225c93);}[_0x47847e(0xc7)](_0x59b9e0){const _0x1d5e26=_0x47847e;this[_0x1d5e26(0x98)]=_0x59b9e0,this['_mapVRenderer']&&this[_0x1d5e26(0xc2)]['mousemoveEvent'](_0x59b9e0['windowPosition'],_0x59b9e0);}['on'](_0x235091,_0x5b5291,_0x3fcaf0){const _0x1171f9={_0x2fba7b:0x98},_0xf83f9a=_0x47847e;this['options'][_0xf83f9a(0x9e)]=this[_0xf83f9a(0xba)]['methods']||{};if(_0x235091===mars3d__namespace['EventType']['click'])this['options']['methods']['click']=_0x457d2f=>{const _0x56e976=_0xf83f9a;_0x457d2f&&_0x5b5291['bind'](_0x3fcaf0)({...this[_0x56e976(_0x1171f9._0x2fba7b)],'layer':this,'data':_0x457d2f});},this['_map']['on'](mars3d__namespace['EventType']['click'],this[_0xf83f9a(0xaa)],this);else _0x235091===mars3d__namespace['EventType']['mouseMove']&&(this['options']['methods']['mousemove']=_0x207360=>{const _0x2ab80d=_0xf83f9a;_0x207360&&_0x5b5291['bind'](_0x3fcaf0)({...this[_0x2ab80d(0x98)],'layer':this,'data':_0x207360});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0xf83f9a(0xc7)],this));return this;}['off'](_0x462347,_0x1c7bd5){const _0x28ba1a={_0x40cbb5:0xba,_0x24c88a:0x9e},_0x1d1595=_0x47847e;if(_0x462347==='click'){var _0x448c71;this['_map']['off'](_0x462347,this['_onMapClick'],this),(_0x448c71=this[_0x1d1595(_0x28ba1a._0x40cbb5)]['methods'])!==null&&_0x448c71!==void 0x0&&_0x448c71['mousemove']&&delete this['options'][_0x1d1595(_0x28ba1a._0x24c88a)]['click'];}else{if(_0x462347==='mouseMove'){var _0x5afc77;this['_map']['off'](_0x462347,this['_onMapMouseMove'],this),(_0x5afc77=this['options']['methods'])!==null&&_0x5afc77!==void 0x0&&_0x5afc77['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil'][_0x47847e(0x82)](_0x47847e(0x97),MapVLayer),mars3d__namespace[_0x47847e(0xa9)]['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x1209f3){const _0x2877a0={_0x18fcea:0xb6},_0x127c3=_0x47847e;if(_0x1209f3!==_0x127c3(_0x2877a0._0x18fcea)&&!exports['hasOwnProperty'](_0x1209f3))Object['defineProperty'](exports,_0x1209f3,{'enumerable':!![],'get':function(){return mapv[_0x1209f3];}});}),Object[_0x47847e(0xbb)](exports,'__esModule',{'value':!![]});
}));
