/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.4.11
 * 编译日期：2022-10-24 19:02:34
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0xf74a2e=_0x51d6;(function(_0x5316b1,_0x5b2d6c){const _0x51109a=_0x51d6,_0x471e23=_0x5316b1();while(!![]){try{const _0x38f7f6=parseInt(_0x51109a(0x1d7))/0x1+parseInt(_0x51109a(0x1d9))/0x2+parseInt(_0x51109a(0x23d))/0x3+parseInt(_0x51109a(0x22a))/0x4+parseInt(_0x51109a(0x257))/0x5*(parseInt(_0x51109a(0x22c))/0x6)+parseInt(_0x51109a(0x260))/0x7+-parseInt(_0x51109a(0x204))/0x8;if(_0x38f7f6===_0x5b2d6c)break;else _0x471e23['push'](_0x471e23['shift']());}catch(_0x1f345a){_0x471e23['push'](_0x471e23['shift']());}}}(_0x3f8a,0x97bab));function _interopNamespace(_0x15dad){const _0x1d73e5=_0x51d6;if(_0x15dad&&_0x15dad[_0x1d73e5(0x1d4)])return _0x15dad;var _0x1a6b59=Object[_0x1d73e5(0x230)](null);return _0x15dad&&Object[_0x1d73e5(0x1da)](_0x15dad)['forEach'](function(_0x27cf8c){const _0x17df09=_0x1d73e5;if(_0x27cf8c!=='default'){var _0x230017=Object[_0x17df09(0x1d1)](_0x15dad,_0x27cf8c);Object[_0x17df09(0x21b)](_0x1a6b59,_0x27cf8c,_0x230017[_0x17df09(0x1c7)]?_0x230017:{'enumerable':!![],'get':function(){return _0x15dad[_0x27cf8c];}});}}),_0x1a6b59[_0x1d73e5(0x1d6)]=_0x15dad,_0x1a6b59;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x3f8a(){const _0x32bda7=['x29Utw92zvn0yxj0rxzLBNq','C2L6zq','zNjVBurLz3jLzxm','yMXVy2S','rgf0yvnLDa','C3rHCNq','mtK2nJGXmMjvqxj5yq','C3rVCefUAwfTyxrPB24','mJK1nZeWnKHxC0H2BG','CMvZDg9Yzq','zgf0yvnLDa','x21HCfzszw5KzxjLCG','y3jLyxrL','y2XLyxjszwn0','x2fKzgvKsg9VAW','x2nVB3jKAw5HDgvZ','Dw5IAw5KrxzLBNq','z2XVyMu','yw5PBwf0Aw9U','y2fTzxjHtw92zvn0yxj0','CMvTB3zLqwXSrgf0yq','DxbKyxrLrgf0yq','CMvNAxn0zxi','DxbKyxrL','C2nHBgu','mJyZnJC4mxrZDffMAq','CMvTB3zLrgf0yq','C3rLChnsyw5Nzq','BwfWDG','Cg9ZDfjLBMrLCG','zgv2AwnLugL4zwXsyxrPBW','C3r5Bgu','ywrKqw5PBwf0B3jfDMvUDa','Ew1HEa','y2XLyxi','y2XLyxjeyxrH','C2v0','x21HCa','z2v0sgvPz2H0','y29UDgfPBMvY','ywXS','x29UtwfWq2XPy2S','y29UDgv4Da','rMvHDhvYzunVBgXLy3rPB24','DxbKyxrLq2fSBgjHy2S','zhjHDW','y29VCMrPBMf0zxm','zNvUy3rPB24','zM9YrwfJAa','ChjVy2vZC0rHDge','Cg9PBNrLCKv2zw50CW','nxveyKrPDq','x3bVAw50zxjfDMvUDhm','AgfZt3DUuhjVCgvYDhK','u2nLBMvnB2rL','EKLUzgv4','zgvZDhjVEq','DhjHAwXZ','x2rHDgfdywnOzq','BwfW','odiWndC1nLnvzLDxCG','x3nOB3DiB29R','x2nYzwf0zunHBNzHCW','y2fTzxjH','Eg1HEa','Cg9ZAxrPB25xqW','z2v0q29UDgv4Da','Aw5PDa','Bw91C2vTB3zL','C2v0wKLUzgv4','BgvMDa','BwfWDKf1Dg9izwLNAhq','z2v0','Eg1PBG','mhb4','BgvUz3rO','ChjVDg90ExbL','rxzLBNruExbL','CMvZAxPL','yw5PBwf0B3jnB3zLzw5KrxzLBNq','BM9Uzq','AxngB3jTyxq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','C2nLBMu','BwfWDKrLChrOvgvZDa','x19LC01VzhvSzq','Bgf5zxjPza','zgvMyxvSDa','mJqZmZa1uNDnvK9c','rwXSAxbZB2LKywXpy2nSDwrLCG','mti3mtqZnMXurwPzvq','A2v5CW','D2LUzg93ug9ZAxrPB24','q2vZAxvT','zgvZDgLUyxrPB24TB3v0','BwfWDKzPEgvKsgvPz2H0','yxv0BW','Cg9ZAxrPB24','ywrKrgf0yq','AxnfBMfIBgvKvgLTzq','z2XVyMfSq29TCg9ZAxrLt3bLCMf0Aw9U','yw5PBwf0B3jnB3zLC3rHCNrfDMvUDa','AgvPz2H0','yMLUzev2zw50','Bwv0Ag9KCW','z2v0uMvJDgfUz2XL','ywjZB2X1Dgu','CgfYzw50rwXLBwvUDa','q2fYDgvZAwfUmW','Aw5PDerHDgfsyw5Nzq','q2fYDg9NCMfWAgLJ','y2fUDMfZtgf5zxi','x2rHDge','Aw5PDerLDMLJzvbPEgvSuMf0Aw8','x29Utw92zuvUzev2zw50','vxrPBa','D2LKDgG','y2fTzxjHtw92zuvUza','x3jLC2v0','y2fUDMfZ','CMvTB3zLq2HPBgq','zwXSAxbZB2LK','Bgf5zxi','C2f2zq','y2XPy2TfDMvUDa','x3nLDe9WDgLVBNniB29R','uMvJDgfUz2XL','CMvUzgvY','Aw5PDefUAw1HDg9Y','Bw91C2veB3DU','x29UtwfWtw91C2vnB3zL','x3jLBw92zwriB29R','zML4zwrizwLNAhq','mJyZnduWmZjptffuyLm','yMLUza','Dg9W','ChvZAa','x2nHy2HLx2v2zw50','Bw91C2vTB3zLrxzLBNq','y29Uy2f0','z2v0rgf0yq','z2vVBwv0CNK','Ew1PBG','C3rVCa','x21VDw50zwriB29R','zgLZCgXHEq','yMfPzhvnyxbmyxLLCG','x2nHBNzHC1vWzgf0zq','Bw9Kzq','C3rLChm','x3nPEMu','zgf0yq','CMvTB3zL','q09mt1jFqLvgrKvsx0jjva','DhjHBNnMzxjdB29YzgLUyxrL','tgLUzvn0CMLUzW','zgvMAw5LuhjVCgvYDhK','z2v0rxH0zw50qNLhzw9ku09o','yw5PBwf0B3i','y2XPy2S','Bw91C2vnB3zL','ug9PBNq','u0nftKuZra','B3b0Aw9UCW','B2zM'];_0x3f8a=function(){return _0x32bda7;};return _0x3f8a();}const Cesium$1=mars3d__namespace[_0xf74a2e(0x1dc)],baiduMapLayer=mapv__namespace?mapv__namespace[_0xf74a2e(0x211)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x17f50d,_0x31c2f1,_0x5580d5,_0x350152){const _0x30ba3b=_0xf74a2e;super(_0x17f50d,_0x31c2f1,_0x5580d5);if(!BaseLayer$1)return;this[_0x30ba3b(0x25f)]=_0x17f50d,this['scene']=_0x17f50d[_0x30ba3b(0x1d2)],this[_0x30ba3b(0x22e)]=_0x31c2f1,_0x5580d5=_0x5580d5||{},this[_0x30ba3b(0x1c2)](_0x5580d5),this['argCheck'](_0x5580d5),this[_0x30ba3b(0x1f0)](),this['canvasLayer']=_0x350152,this[_0x30ba3b(0x22b)]=!0x1,this['animation']=_0x5580d5['animation'];}[_0xf74a2e(0x1f0)](){const _0x2f6607=_0xf74a2e;this['devicePixelRatio']=window[_0x2f6607(0x242)]||0x1;}[_0xf74a2e(0x244)](){}[_0xf74a2e(0x1e4)](){const _0x46605b=_0xf74a2e,_0x1c8528=this[_0x46605b(0x222)][_0x46605b(0x236)];this[_0x46605b(0x1e2)]()&&this['animator']&&(this[_0x46605b(0x214)]['step']=_0x1c8528[_0x46605b(0x23f)][_0x46605b(0x229)]);}[_0xf74a2e(0x1ce)](){const _0x2d0015=_0xf74a2e;this[_0x2d0015(0x1e2)]()&&this['animator'];}[_0xf74a2e(0x1c1)](){const _0x524d42=_0xf74a2e;return this[_0x524d42(0x1ee)]['canvas']['getContext'](this[_0x524d42(0x24e)]);}[_0xf74a2e(0x1c2)](_0xeb8fec){const _0x1a9c70=_0xf74a2e;this[_0x1a9c70(0x222)]=_0xeb8fec,this[_0x1a9c70(0x1ec)](_0xeb8fec),this[_0x1a9c70(0x24e)]=this[_0x1a9c70(0x222)][_0x1a9c70(0x24e)]||'2d',this[_0x1a9c70(0x222)][_0x1a9c70(0x25b)]&&this['canvasLayer']&&this[_0x1a9c70(0x1ee)][_0x1a9c70(0x1c4)]&&this[_0x1a9c70(0x1ee)][_0x1a9c70(0x1c4)](this[_0x1a9c70(0x222)][_0x1a9c70(0x25b)]),this[_0x1a9c70(0x1ff)]();}['_canvasUpdate'](_0x529896){const _0x4a5948=_0xf74a2e,_0x573aed=this[_0x4a5948(0x1d2)];if(this[_0x4a5948(0x1ee)]&&!this['stopAniamation']){const _0x134f9b=this['options']['animation'],_0x438d0f=this[_0x4a5948(0x1c1)]();if(this['isEnabledTime']()){if(void 0x0===_0x529896)return void this['clear'](_0x438d0f);this['context']==='2d'&&(_0x438d0f[_0x4a5948(0x1fa)](),_0x438d0f[_0x4a5948(0x1e3)]=_0x4a5948(0x1dd),_0x438d0f['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x438d0f['fillRect'](0x0,0x0,_0x438d0f['canvas'][_0x4a5948(0x1f3)],_0x438d0f[_0x4a5948(0x1f6)][_0x4a5948(0x1e5)]),_0x438d0f[_0x4a5948(0x22d)]());}else this[_0x4a5948(0x246)](_0x438d0f);if(this['context']==='2d')for(const _0x4a466c in this[_0x4a5948(0x222)]){_0x438d0f[_0x4a466c]=this[_0x4a5948(0x222)][_0x4a466c];}else _0x438d0f[_0x4a5948(0x246)](_0x438d0f[_0x4a5948(0x218)]);const _0x1d469e={'transferCoordinate':function(_0x571d8a){const _0x3bcc68=_0x4a5948,_0x378167=null;let _0x327f3f=_0x573aed['mapvFixedHeight'];_0x573aed[_0x3bcc68(0x1c6)]&&(_0x327f3f=_0x573aed[_0x3bcc68(0x235)][_0x3bcc68(0x24a)](Cesium$1[_0x3bcc68(0x1ed)]['fromDegrees'](_0x571d8a[0x0],_0x571d8a[0x1])));const _0x85ca9c=Cesium$1['Cartesian3'][_0x3bcc68(0x226)](_0x571d8a[0x0],_0x571d8a[0x1],_0x327f3f);if(!_0x85ca9c)return _0x378167;const _0x3bbbdd=_0x573aed['cartesianToCanvasCoordinates'](_0x85ca9c);if(!_0x3bbbdd)return _0x378167;if(_0x573aed['mapvDepthTest']&&_0x573aed[_0x3bcc68(0x213)]===Cesium$1[_0x3bcc68(0x25a)][_0x3bcc68(0x221)]){const _0x3d5afd=new Cesium$1[(_0x3bcc68(0x1d8))](_0x573aed[_0x3bcc68(0x235)][_0x3bcc68(0x1f8)],_0x573aed[_0x3bcc68(0x1be)][_0x3bcc68(0x1c0)]),_0x205ddf=_0x3d5afd['isPointVisible'](_0x85ca9c);if(!_0x205ddf)return _0x378167;}return[_0x3bbbdd['x'],_0x3bbbdd['y']];}};void 0x0!==_0x529896&&(_0x1d469e['filter']=function(_0x4deb7f){const _0x3a7205=_0x4a5948,_0x32eb70=_0x134f9b[_0x3a7205(0x25d)]||0xa;return!!(_0x529896&&_0x4deb7f['time']>_0x529896-_0x32eb70&&_0x4deb7f['time']<_0x529896);});const _0x41434f=this[_0x4a5948(0x22e)][_0x4a5948(0x1c7)](_0x1d469e);this[_0x4a5948(0x255)](_0x41434f),this['options']['unit']==='m'&&this[_0x4a5948(0x222)][_0x4a5948(0x225)],this[_0x4a5948(0x222)][_0x4a5948(0x215)]=this[_0x4a5948(0x222)][_0x4a5948(0x225)];const _0x5df221=_0x573aed['cartesianToCanvasCoordinates'](Cesium$1[_0x4a5948(0x1eb)][_0x4a5948(0x226)](0x0,0x0));if(!_0x5df221)return;this['drawContext'](_0x438d0f,new mapv__namespace[(_0x4a5948(0x228))](_0x41434f),this[_0x4a5948(0x222)],_0x5df221),this['options'][_0x4a5948(0x250)]&&this['options']['updateCallback'](_0x529896);}}[_0xf74a2e(0x239)](_0x56b7f4,_0x3c493d){const _0x1c57dc=_0xf74a2e;let _0x344d02=_0x56b7f4;_0x344d02&&_0x344d02[_0x1c57dc(0x1c7)]&&(_0x344d02=_0x344d02[_0x1c57dc(0x1c7)]()),void 0x0!==_0x344d02&&this[_0x1c57dc(0x22e)]['set'](_0x344d02),super['update']({'options':_0x3c493d});}[_0xf74a2e(0x1e1)](_0x249e57,_0x393735){const _0x17767f=_0xf74a2e;let _0x347401=_0x249e57;_0x249e57&&_0x249e57[_0x17767f(0x1c7)]&&(_0x347401=_0x249e57['get']()),this[_0x17767f(0x22e)]['add'](_0x347401),this[_0x17767f(0x23b)]({'options':_0x393735});}['getData'](){const _0x6352c=_0xf74a2e;return this[_0x6352c(0x22e)];}[_0xf74a2e(0x23e)](_0x3f008e){const _0x390864=_0xf74a2e;if(this[_0x390864(0x22e)]){const _0x37fd7f=this['dataSet'][_0x390864(0x1c7)]({'filter':function(_0x3fa347){const _0xddda4d=_0x390864;return _0x3f008e==null||typeof _0x3f008e!==_0xddda4d(0x253)||!_0x3f008e(_0x3fa347);}});this[_0x390864(0x22e)][_0x390864(0x248)](_0x37fd7f),this[_0x390864(0x23b)]({'options':null});}}['clearData'](){const _0x33e470=_0xf74a2e;this[_0x33e470(0x22e)]&&this[_0x33e470(0x22e)]['clear'](),this[_0x33e470(0x23b)]({'options':null});}['draw'](){const _0x24f5a5=_0xf74a2e;this['canvasLayer'][_0x24f5a5(0x251)]();}[_0xf74a2e(0x246)](_0x13fa4f){const _0x286677=_0xf74a2e;_0x13fa4f&&_0x13fa4f['clearRect']&&_0x13fa4f[_0x286677(0x231)](0x0,0x0,_0x13fa4f['canvas'][_0x286677(0x1f3)],_0x13fa4f[_0x286677(0x1f6)][_0x286677(0x1e5)]);}[_0xf74a2e(0x25c)](){const _0x3e1fea=_0xf74a2e;this['clear'](this[_0x3e1fea(0x1c1)]()),this[_0x3e1fea(0x247)](),this[_0x3e1fea(0x21d)]&&this[_0x3e1fea(0x21d)][_0x3e1fea(0x20e)](),this[_0x3e1fea(0x21d)]=null,this[_0x3e1fea(0x1ee)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet'][_0xf74a2e(0x1cb)][_0xf74a2e(0x219)]=function(_0x2b9455,_0x58fca3,_0x455aa7,_0x39c469){const _0x16acd3=_0xf74a2e;_0x39c469=_0x39c469||_0x16acd3(0x233),_0x455aa7=_0x455aa7||_0x16acd3(0x252);for(let _0x4a7772=0x0;_0x4a7772<_0x2b9455[_0x16acd3(0x1ca)];_0x4a7772++){const _0x1a5818=_0x2b9455[_0x4a7772][_0x16acd3(0x20c)],_0x1ff678=_0x1a5818[_0x455aa7];switch(_0x1a5818['type']){case _0x16acd3(0x220):{const _0x389f13=_0x58fca3(_0x1ff678);_0x389f13?_0x1a5818[_0x39c469]=_0x389f13:_0x1a5818[_0x39c469]=[-0x3e7,-0x3e7];}break;case _0x16acd3(0x21a):{const _0xf0cbc5=[];for(let _0x3ff3a7=0x0;_0x3ff3a7<_0x1ff678[_0x16acd3(0x1ca)];_0x3ff3a7++){const _0xff6dad=_0x58fca3(_0x1ff678[_0x3ff3a7]);_0xff6dad&&_0xf0cbc5[_0x16acd3(0x207)](_0xff6dad);}_0x1a5818[_0x39c469]=_0xf0cbc5;}break;case'MultiLineString':case'Polygon':{const _0x5847a0=_0xdda46a(_0x1ff678);_0x1a5818[_0x39c469]=_0x5847a0;}break;case'MultiPolygon':{const _0x38fb84=[];for(let _0x1a5a8a=0x0;_0x1a5a8a<_0x1ff678[_0x16acd3(0x1ca)];_0x1a5a8a++){const _0x207fce=_0xdda46a(_0x1ff678[_0x1a5a8a]);_0x207fce[_0x16acd3(0x1ca)]>0x0&&_0x38fb84[_0x16acd3(0x207)](_0x207fce);}_0x1a5818[_0x39c469]=_0x38fb84;}break;}}function _0xdda46a(_0x28bd81){const _0x4d98ca=_0x16acd3,_0x3125cd=[];for(let _0x5c47c7=0x0;_0x5c47c7<_0x28bd81['length'];_0x5c47c7++){const _0x515ff0=_0x28bd81[_0x5c47c7],_0x5ccf19=[];for(let _0x2d5afa=0x0;_0x2d5afa<_0x515ff0['length'];_0x2d5afa++){const _0x16906e=_0x58fca3(_0x515ff0[_0x2d5afa]);_0x16906e&&_0x5ccf19['push'](_0x16906e);}_0x5ccf19['length']>0x0&&_0x3125cd[_0x4d98ca(0x207)](_0x5ccf19);}return _0x3125cd;}return _0x2b9455;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0xf74a2e(0x1dc)],BaseLayer=mars3d__namespace[_0xf74a2e(0x1f9)]['BaseLayer'];function _0x51d6(_0x14542a,_0x14f5de){const _0x3f8afc=_0x3f8a();return _0x51d6=function(_0x51d69d,_0x5dbafc){_0x51d69d=_0x51d69d-0x1bc;let _0x5f0e58=_0x3f8afc[_0x51d69d];if(_0x51d6['EaGMFX']===undefined){var _0x34f199=function(_0x15dad){const _0x1a6b59='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x27cf8c='',_0x230017='';for(let _0x17f50d=0x0,_0x31c2f1,_0x5580d5,_0x350152=0x0;_0x5580d5=_0x15dad['charAt'](_0x350152++);~_0x5580d5&&(_0x31c2f1=_0x17f50d%0x4?_0x31c2f1*0x40+_0x5580d5:_0x5580d5,_0x17f50d++%0x4)?_0x27cf8c+=String['fromCharCode'](0xff&_0x31c2f1>>(-0x2*_0x17f50d&0x6)):0x0){_0x5580d5=_0x1a6b59['indexOf'](_0x5580d5);}for(let _0x1c8528=0x0,_0xeb8fec=_0x27cf8c['length'];_0x1c8528<_0xeb8fec;_0x1c8528++){_0x230017+='%'+('00'+_0x27cf8c['charCodeAt'](_0x1c8528)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x230017);};_0x51d6['koFupL']=_0x34f199,_0x14542a=arguments,_0x51d6['EaGMFX']=!![];}const _0xb14098=_0x3f8afc[0x0],_0x33474b=_0x51d69d+_0xb14098,_0x50e1bf=_0x14542a[_0x33474b];return!_0x50e1bf?(_0x5f0e58=_0x51d6['koFupL'](_0x5f0e58),_0x14542a[_0x33474b]=_0x5f0e58):_0x5f0e58=_0x50e1bf,_0x5f0e58;},_0x51d6(_0x14542a,_0x14f5de);}let divId=0x0;class MapVLayer extends BaseLayer{constructor(_0x2113d1,_0x22d098){const _0x157d72=_0xf74a2e;super(_0x2113d1),this[_0x157d72(0x258)]=this[_0x157d72(0x222)][_0x157d72(0x256)],this[_0x157d72(0x22e)]=_0x22d098||new mapv__namespace[(_0x157d72(0x228))](_0x2113d1[_0x157d72(0x216)]),this[_0x157d72(0x1f6)]=null;}get['pointerEvents'](){const _0x5b60ed=_0xf74a2e;return this[_0x5b60ed(0x258)];}set['pointerEvents'](_0x201e45){const _0x388122=_0xf74a2e;this[_0x388122(0x258)]=_0x201e45,this['canvas']&&(_0x201e45?this['canvas'][_0x388122(0x243)][_0x388122(0x256)]=_0x388122(0x24c):this[_0x388122(0x1f6)][_0x388122(0x243)][_0x388122(0x256)]=_0x388122(0x1cf));}[_0xf74a2e(0x1bc)](_0x42e1c5){const _0x571049=_0xf74a2e;_0x42e1c5?this[_0x571049(0x1f6)][_0x571049(0x243)]['display']=_0x571049(0x227):this['canvas']['style'][_0x571049(0x210)]=_0x571049(0x1cf);}[_0xf74a2e(0x20f)](){const _0x3bfa1c=_0xf74a2e;this['_map'][_0x3bfa1c(0x1d2)][_0x3bfa1c(0x1d3)]=this['options']['depthTest']??!![],this[_0x3bfa1c(0x249)][_0x3bfa1c(0x1d2)][_0x3bfa1c(0x1c6)]=this[_0x3bfa1c(0x222)]['clampToGround']??![],this['_map'][_0x3bfa1c(0x1d2)][_0x3bfa1c(0x1de)]=this['options'][_0x3bfa1c(0x203)]??0x0;}[_0xf74a2e(0x232)](){const _0x33b4bd=_0xf74a2e;this[_0x33b4bd(0x22e)]&&(!this[_0x33b4bd(0x22e)][_0x33b4bd(0x1ef)]||this[_0x33b4bd(0x22e)][_0x33b4bd(0x1ef)][_0x33b4bd(0x1ca)]===0x0)&&(this[_0x33b4bd(0x22e)][_0x33b4bd(0x1ef)]=[][_0x33b4bd(0x20a)](this[_0x33b4bd(0x22e)][_0x33b4bd(0x25e)])),this[_0x33b4bd(0x22f)]=new MapVRenderer(this[_0x33b4bd(0x249)],this['dataSet'],this['options'],this),this[_0x33b4bd(0x1f0)](),this[_0x33b4bd(0x1f6)]=this[_0x33b4bd(0x1bd)](),this['render']=this[_0x33b4bd(0x1fe)][_0x33b4bd(0x205)](this),this[_0x33b4bd(0x1e6)](),this['_reset']();}[_0xf74a2e(0x202)](){const _0x555717=_0xf74a2e;this[_0x555717(0x234)](),this[_0x555717(0x22f)]&&(this['_mapVRenderer']['destroy'](),this[_0x555717(0x22f)]=null),this[_0x555717(0x1f6)][_0x555717(0x1ea)]['removeChild'](this[_0x555717(0x1f6)]);}[_0xf74a2e(0x1f0)](){const _0x169458=_0xf74a2e;this['devicePixelRatio']=window[_0x169458(0x242)]||0x1;}[_0xf74a2e(0x1e6)](){const _0x56929b=_0xf74a2e;var _0x54cea9,_0x9379c5,_0x140e29,_0x572b41;this['_map']['on'](mars3d__namespace['EventType'][_0x56929b(0x200)],this[_0x56929b(0x224)],this),this[_0x56929b(0x249)]['on'](mars3d__namespace[_0x56929b(0x1cc)][_0x56929b(0x237)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x56929b(0x1cc)][_0x56929b(0x1f4)],this[_0x56929b(0x1f1)],this),(_0x54cea9=this[_0x56929b(0x222)])!==null&&_0x54cea9!==void 0x0&&(_0x9379c5=_0x54cea9[_0x56929b(0x1e7)])!==null&&_0x9379c5!==void 0x0&&_0x9379c5[_0x56929b(0x21e)]&&this[_0x56929b(0x249)]['on'](mars3d__namespace[_0x56929b(0x1cc)][_0x56929b(0x21e)],this[_0x56929b(0x24d)],this),(_0x140e29=this[_0x56929b(0x222)])!==null&&_0x140e29!==void 0x0&&(_0x572b41=_0x140e29[_0x56929b(0x1e7)])!==null&&_0x572b41!==void 0x0&&_0x572b41[_0x56929b(0x1c3)]&&this[_0x56929b(0x249)]['on'](mars3d__namespace[_0x56929b(0x1cc)][_0x56929b(0x21f)],this[_0x56929b(0x201)],this);}[_0xf74a2e(0x234)](){const _0x4b6600=_0xf74a2e;var _0x18d117,_0xfa59cf,_0x348545,_0x2f5266;this[_0x4b6600(0x249)][_0x4b6600(0x223)](mars3d__namespace[_0x4b6600(0x1cc)][_0x4b6600(0x200)],this[_0x4b6600(0x224)],this),this[_0x4b6600(0x249)][_0x4b6600(0x223)](mars3d__namespace[_0x4b6600(0x1cc)][_0x4b6600(0x237)],this['_onMoveStartEvent'],this),this[_0x4b6600(0x249)][_0x4b6600(0x223)](mars3d__namespace[_0x4b6600(0x1cc)][_0x4b6600(0x1f4)],this[_0x4b6600(0x1f1)],this),this['_map'][_0x4b6600(0x223)](mars3d__namespace[_0x4b6600(0x1cc)][_0x4b6600(0x241)],this[_0x4b6600(0x1f5)],this),(_0x18d117=this[_0x4b6600(0x222)])!==null&&_0x18d117!==void 0x0&&(_0xfa59cf=_0x18d117[_0x4b6600(0x1e7)])!==null&&_0xfa59cf!==void 0x0&&_0xfa59cf[_0x4b6600(0x21e)]&&this[_0x4b6600(0x249)][_0x4b6600(0x223)](mars3d__namespace['EventType']['click'],this[_0x4b6600(0x24d)],this),(_0x348545=this[_0x4b6600(0x222)])!==null&&_0x348545!==void 0x0&&(_0x2f5266=_0x348545[_0x4b6600(0x1e7)])!==null&&_0x2f5266!==void 0x0&&_0x2f5266[_0x4b6600(0x1c3)]&&this['_map']['off'](mars3d__namespace[_0x4b6600(0x1cc)][_0x4b6600(0x21f)],this[_0x4b6600(0x201)],this);}['_onMoveStartEvent'](){const _0x1cfed8=_0xf74a2e;this[_0x1cfed8(0x22f)]&&(this[_0x1cfed8(0x22f)][_0x1cfed8(0x1e4)](),this[_0x1cfed8(0x249)][_0x1cfed8(0x223)](mars3d__namespace[_0x1cfed8(0x1cc)][_0x1cfed8(0x241)],this[_0x1cfed8(0x1f5)],this),this['_map']['on'](mars3d__namespace[_0x1cfed8(0x1cc)][_0x1cfed8(0x241)],this[_0x1cfed8(0x1f5)],this));}[_0xf74a2e(0x1f1)](){const _0x2fa1d4=_0xf74a2e;this[_0x2fa1d4(0x22f)]&&(this[_0x2fa1d4(0x249)][_0x2fa1d4(0x223)](mars3d__namespace[_0x2fa1d4(0x1cc)][_0x2fa1d4(0x241)],this['_reset'],this),this[_0x2fa1d4(0x22f)][_0x2fa1d4(0x1ce)](),this['_reset']());}[_0xf74a2e(0x1fc)](_0xa85db4,_0x25e2ca){const _0x5dd4e6=_0xf74a2e;this['_removedHook'](),this[_0x5dd4e6(0x232)]();}[_0xf74a2e(0x1e1)](_0x3fffaf){const _0x1ee243=_0xf74a2e;this[_0x1ee243(0x22f)]&&this[_0x1ee243(0x22f)]['addData'](_0x3fffaf,this[_0x1ee243(0x222)]);}[_0xf74a2e(0x239)](_0x414488){const _0x562d6c=_0xf74a2e;this['_mapVRenderer']&&this[_0x562d6c(0x22f)]['updateData'](_0x414488,this['options']);}[_0xf74a2e(0x20b)](){const _0x29167e=_0xf74a2e;return this[_0x29167e(0x22f)]&&(this[_0x29167e(0x22e)]=this[_0x29167e(0x22f)][_0x29167e(0x20b)]()),this[_0x29167e(0x22e)];}['removeData'](_0x27aa6f){const _0x41ba03=_0xf74a2e;this['_mapVRenderer']&&this[_0x41ba03(0x22f)]['removeData'](_0x27aa6f);}[_0xf74a2e(0x238)](){const _0x23cc8e=_0xf74a2e;this['_mapVRenderer']&&this[_0x23cc8e(0x22f)]['clearData']();}[_0xf74a2e(0x1bd)](){const _0x17b5fd=_0xf74a2e,_0x167a43=mars3d__namespace['DomUtil'][_0x17b5fd(0x230)]('canvas','mars3d-mapv',this[_0x17b5fd(0x249)][_0x17b5fd(0x24b)]);_0x167a43['id']=this[_0x17b5fd(0x222)][_0x17b5fd(0x1d5)]||_0x17b5fd(0x240)+divId++,_0x167a43[_0x17b5fd(0x243)][_0x17b5fd(0x1e0)]=_0x17b5fd(0x1e9),_0x167a43[_0x17b5fd(0x243)][_0x17b5fd(0x206)]='0px',_0x167a43[_0x17b5fd(0x243)][_0x17b5fd(0x1c5)]='0px',_0x167a43[_0x17b5fd(0x243)][_0x17b5fd(0x256)]=this[_0x17b5fd(0x258)]?_0x17b5fd(0x1df):_0x17b5fd(0x1cf),_0x167a43[_0x17b5fd(0x243)]['zIndex']=this['options'][_0x17b5fd(0x25b)]||0x64,_0x167a43[_0x17b5fd(0x1f3)]=parseInt(this[_0x17b5fd(0x249)][_0x17b5fd(0x1f6)][_0x17b5fd(0x1f3)]),_0x167a43[_0x17b5fd(0x1e5)]=parseInt(this[_0x17b5fd(0x249)][_0x17b5fd(0x1f6)]['height']),_0x167a43['style'][_0x17b5fd(0x1f3)]=this[_0x17b5fd(0x249)][_0x17b5fd(0x1f6)][_0x17b5fd(0x243)][_0x17b5fd(0x1f3)],_0x167a43[_0x17b5fd(0x243)][_0x17b5fd(0x1e5)]=this[_0x17b5fd(0x249)][_0x17b5fd(0x1f6)][_0x17b5fd(0x243)][_0x17b5fd(0x1e5)];if(this[_0x17b5fd(0x222)]['context']==='2d'){const _0x55146c=this[_0x17b5fd(0x242)];_0x167a43[_0x17b5fd(0x1c1)](this['options'][_0x17b5fd(0x24e)])[_0x17b5fd(0x23c)](_0x55146c,_0x55146c);}return _0x167a43;}[_0xf74a2e(0x1f5)](){const _0x5957ed=_0xf74a2e;this[_0x5957ed(0x1cd)](),this[_0x5957ed(0x1fe)]();}[_0xf74a2e(0x251)](){const _0x1c428d=_0xf74a2e;this[_0x1c428d(0x1f5)]();}[_0xf74a2e(0x217)](){const _0x2ebdfb=_0xf74a2e;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x2ebdfb(0x25c)](),this[_0x2ebdfb(0x22f)]=null),this[_0x2ebdfb(0x1f6)][_0x2ebdfb(0x1ea)][_0x2ebdfb(0x1f7)](this['canvas']);}[_0xf74a2e(0x1fe)](){const _0x387b03=_0xf74a2e;this[_0x387b03(0x22f)][_0x387b03(0x212)]();}[_0xf74a2e(0x1cd)](){const _0x475f47=_0xf74a2e;if(this['canvas']){const _0x3a719e=this[_0x475f47(0x1f6)];_0x3a719e['style'][_0x475f47(0x1e0)]=_0x475f47(0x1e9),_0x3a719e[_0x475f47(0x243)][_0x475f47(0x206)]=_0x475f47(0x1c9),_0x3a719e[_0x475f47(0x243)][_0x475f47(0x1c5)]='0px',_0x3a719e[_0x475f47(0x1f3)]=parseInt(this[_0x475f47(0x249)][_0x475f47(0x1f6)][_0x475f47(0x1f3)]),_0x3a719e[_0x475f47(0x1e5)]=parseInt(this[_0x475f47(0x249)][_0x475f47(0x1f6)][_0x475f47(0x1e5)]),_0x3a719e[_0x475f47(0x243)][_0x475f47(0x1f3)]=this[_0x475f47(0x249)][_0x475f47(0x1f6)][_0x475f47(0x243)][_0x475f47(0x1f3)],_0x3a719e['style'][_0x475f47(0x1e5)]=this[_0x475f47(0x249)][_0x475f47(0x1f6)][_0x475f47(0x243)][_0x475f47(0x1e5)];}}[_0xf74a2e(0x1e8)](_0x3ac979){const _0x395dd1=_0xf74a2e;if(!this[_0x395dd1(0x22e)]||!this[_0x395dd1(0x22e)][_0x395dd1(0x1ef)])return;const _0x210163=mars3d__namespace[_0x395dd1(0x1f2)][_0x395dd1(0x21c)]({'type':_0x395dd1(0x24f),'features':this['dataSet']['_data']});if(!_0x210163)return;return _0x3ac979!==null&&_0x3ac979!==void 0x0&&_0x3ac979[_0x395dd1(0x1d0)]?_0x210163:Cesium[_0x395dd1(0x1fd)]['fromDegrees'](_0x210163[_0x395dd1(0x1c8)],_0x210163[_0x395dd1(0x20d)],_0x210163[_0x395dd1(0x1bf)],_0x210163[_0x395dd1(0x245)]);}['_onMapClick'](_0xbeabcb){const _0x4377a4=_0xf74a2e;this[_0x4377a4(0x208)]=_0xbeabcb,this[_0x4377a4(0x22f)]&&this['_mapVRenderer'][_0x4377a4(0x1fb)](_0xbeabcb['windowPosition'],_0xbeabcb);}[_0xf74a2e(0x201)](_0x4c91dd){const _0x7c177=_0xf74a2e;this[_0x7c177(0x208)]=_0x4c91dd,this[_0x7c177(0x22f)]&&this[_0x7c177(0x22f)][_0x7c177(0x209)](_0x4c91dd[_0x7c177(0x1db)],_0x4c91dd);}['on'](_0x1634a3,_0x35a823,_0x35fd91){const _0x7b7626=_0xf74a2e;this[_0x7b7626(0x222)]['methods']=this['options'][_0x7b7626(0x1e7)]||{};if(_0x1634a3===mars3d__namespace['EventType']['click'])this['options'][_0x7b7626(0x1e7)][_0x7b7626(0x21e)]=_0x351476=>{const _0x3b39a0=_0x7b7626;_0x351476&&_0x35a823[_0x3b39a0(0x205)](_0x35fd91)({...this[_0x3b39a0(0x208)],'layer':this,'data':_0x351476});},this['_map']['on'](mars3d__namespace[_0x7b7626(0x1cc)][_0x7b7626(0x21e)],this[_0x7b7626(0x24d)],this);else _0x1634a3===mars3d__namespace[_0x7b7626(0x1cc)][_0x7b7626(0x21f)]&&(this['options']['methods']['mousemove']=_0xc4f481=>{const _0x6e5f23=_0x7b7626;_0xc4f481&&_0x35a823[_0x6e5f23(0x205)](_0x35fd91)({...this[_0x6e5f23(0x208)],'layer':this,'data':_0xc4f481});},this[_0x7b7626(0x249)]['on'](mars3d__namespace[_0x7b7626(0x1cc)]['mouseMove'],this[_0x7b7626(0x201)],this));return this;}['off'](_0x348e8d,_0x5857d9){const _0xd65e8f=_0xf74a2e;if(_0x348e8d===_0xd65e8f(0x21e)){var _0x338239;this[_0xd65e8f(0x249)]['off'](_0x348e8d,this[_0xd65e8f(0x24d)],this),(_0x338239=this[_0xd65e8f(0x222)][_0xd65e8f(0x1e7)])!==null&&_0x338239!==void 0x0&&_0x338239[_0xd65e8f(0x1c3)]&&delete this['options'][_0xd65e8f(0x1e7)][_0xd65e8f(0x21e)];}else{if(_0x348e8d===_0xd65e8f(0x21f)){var _0x266aab;this[_0xd65e8f(0x249)][_0xd65e8f(0x223)](_0x348e8d,this['_onMapMouseMove'],this),(_0x266aab=this['options']['methods'])!==null&&_0x266aab!==void 0x0&&_0x266aab['mousemove']&&delete this[_0xd65e8f(0x222)][_0xd65e8f(0x1e7)][_0xd65e8f(0x1c3)];}}return this;}}mars3d__namespace['LayerUtil'][_0xf74a2e(0x23a)](_0xf74a2e(0x240),MapVLayer),mars3d__namespace[_0xf74a2e(0x1f9)]['MapVLayer']=MapVLayer,exports['MapVLayer']=MapVLayer,Object[_0xf74a2e(0x1da)](mapv)[_0xf74a2e(0x254)](function(_0x5b8106){const _0x3e5c0f=_0xf74a2e;if(_0x5b8106!==_0x3e5c0f(0x1d6)&&!exports[_0x3e5c0f(0x259)](_0x5b8106))Object[_0x3e5c0f(0x21b)](exports,_0x5b8106,{'enumerable':!![],'get':function(){return mapv[_0x5b8106];}});}),Object[_0xf74a2e(0x21b)](exports,_0xf74a2e(0x1d4),{'value':!![]});
}));
