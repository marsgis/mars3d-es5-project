/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.4.10
 * 编译日期：2022-10-17 17:29:40
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x37c365=_0x1561;(function(_0x34fd7a,_0x3eb9e8){const _0x8028f3=_0x1561,_0x198b37=_0x34fd7a();while(!![]){try{const _0x5ceb15=-parseInt(_0x8028f3(0xfc))/0x1+parseInt(_0x8028f3(0x17f))/0x2*(-parseInt(_0x8028f3(0xee))/0x3)+-parseInt(_0x8028f3(0x144))/0x4+-parseInt(_0x8028f3(0x16c))/0x5+-parseInt(_0x8028f3(0x15c))/0x6+parseInt(_0x8028f3(0x13b))/0x7+-parseInt(_0x8028f3(0xf5))/0x8*(-parseInt(_0x8028f3(0x12e))/0x9);if(_0x5ceb15===_0x3eb9e8)break;else _0x198b37['push'](_0x198b37['shift']());}catch(_0x5de4f6){_0x198b37['push'](_0x198b37['shift']());}}}(_0x5ad9,0x77d8a));function _interopNamespace(_0x59929f){const _0xda23d9=_0x1561;if(_0x59929f&&_0x59929f[_0xda23d9(0x169)])return _0x59929f;var _0x41c07c=Object[_0xda23d9(0x130)](null);return _0x59929f&&Object[_0xda23d9(0x104)](_0x59929f)[_0xda23d9(0x17a)](function(_0x19fbee){const _0x5074ba=_0xda23d9;if(_0x19fbee!==_0x5074ba(0xfd)){var _0x3db8ea=Object['getOwnPropertyDescriptor'](_0x59929f,_0x19fbee);Object[_0x5074ba(0x15b)](_0x41c07c,_0x19fbee,_0x3db8ea['get']?_0x3db8ea:{'enumerable':!![],'get':function(){return _0x59929f[_0x19fbee];}});}}),_0x41c07c[_0xda23d9(0xfd)]=_0x59929f,_0x41c07c;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x37c365(0xe7)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x23fff0,_0x32b03f,_0x179fc6,_0x2701c1){const _0x59cdf6=_0x37c365;super(_0x23fff0,_0x32b03f,_0x179fc6);if(!BaseLayer$1)return;this[_0x59cdf6(0x186)]=_0x23fff0,this[_0x59cdf6(0x14e)]=_0x23fff0[_0x59cdf6(0x14e)],this['dataSet']=_0x32b03f,_0x179fc6=_0x179fc6||{},this[_0x59cdf6(0xef)](_0x179fc6),this['argCheck'](_0x179fc6),this[_0x59cdf6(0x189)](),this[_0x59cdf6(0x108)]=_0x2701c1,this[_0x59cdf6(0x134)]=!0x1,this[_0x59cdf6(0x149)]=_0x179fc6[_0x59cdf6(0x149)];}[_0x37c365(0x189)](){const _0x246a59=_0x37c365;this[_0x246a59(0x10e)]=window['devicePixelRatio']||0x1;}[_0x37c365(0x153)](){}[_0x37c365(0x17c)](){const _0x57c915=_0x37c365,_0x5a2a3b=this[_0x57c915(0x128)][_0x57c915(0x149)];this[_0x57c915(0x173)]()&&this[_0x57c915(0x176)]&&(this[_0x57c915(0xe0)]['step']=_0x5a2a3b[_0x57c915(0x171)][_0x57c915(0xe9)]);}[_0x37c365(0xe8)](){const _0x4211f2=_0x37c365;this[_0x4211f2(0x173)]()&&this[_0x4211f2(0x176)];}[_0x37c365(0x10d)](){const _0x117c1b=_0x37c365;return this['canvasLayer'][_0x117c1b(0x126)][_0x117c1b(0x10d)](this['context']);}[_0x37c365(0xef)](_0x15abdc){const _0x562a7e=_0x37c365;this['options']=_0x15abdc,this[_0x562a7e(0x13c)](_0x15abdc),this[_0x562a7e(0x162)]=this[_0x562a7e(0x128)][_0x562a7e(0x162)]||'2d',this[_0x562a7e(0x128)]['zIndex']&&this[_0x562a7e(0x108)]&&this[_0x562a7e(0x108)][_0x562a7e(0x100)]&&this['canvasLayer'][_0x562a7e(0x100)](this[_0x562a7e(0x128)][_0x562a7e(0x114)]),this[_0x562a7e(0x145)]();}[_0x37c365(0x127)](_0x2b6b2b){const _0x2b0c50=_0x37c365,_0x18346c=this[_0x2b0c50(0x14e)];if(this[_0x2b0c50(0x108)]&&!this['stopAniamation']){const _0x5d980b=this[_0x2b0c50(0x128)]['animation'],_0xda60da=this['getContext']();if(this[_0x2b0c50(0x173)]()){if(void 0x0===_0x2b6b2b)return void this['clear'](_0xda60da);this['context']==='2d'&&(_0xda60da[_0x2b0c50(0xe1)](),_0xda60da[_0x2b0c50(0x140)]=_0x2b0c50(0xf4),_0xda60da[_0x2b0c50(0xf1)]=_0x2b0c50(0x141),_0xda60da['fillRect'](0x0,0x0,_0xda60da[_0x2b0c50(0x126)][_0x2b0c50(0xec)],_0xda60da['canvas'][_0x2b0c50(0x18b)]),_0xda60da[_0x2b0c50(0x113)]());}else this[_0x2b0c50(0x12a)](_0xda60da);if(this['context']==='2d')for(const _0xa6675f in this[_0x2b0c50(0x128)]){_0xda60da[_0xa6675f]=this['options'][_0xa6675f];}else _0xda60da[_0x2b0c50(0x12a)](_0xda60da[_0x2b0c50(0x154)]);const _0xf66665={'transferCoordinate':function(_0x127ed5){const _0x3e5bbf=_0x2b0c50,_0x45bead=null;let _0x279824=_0x18346c['mapvFixedHeight'];_0x18346c[_0x3e5bbf(0x175)]&&(_0x279824=_0x18346c[_0x3e5bbf(0x16f)][_0x3e5bbf(0x129)](Cesium$1['Cartographic'][_0x3e5bbf(0xfe)](_0x127ed5[0x0],_0x127ed5[0x1])));const _0x2245af=Cesium$1[_0x3e5bbf(0x115)][_0x3e5bbf(0xfe)](_0x127ed5[0x0],_0x127ed5[0x1],_0x279824);if(!_0x2245af)return _0x45bead;const _0x520878=_0x18346c[_0x3e5bbf(0x15e)](_0x2245af);if(!_0x520878)return _0x45bead;if(_0x18346c[_0x3e5bbf(0x139)]&&_0x18346c[_0x3e5bbf(0x132)]===Cesium$1[_0x3e5bbf(0x187)][_0x3e5bbf(0x152)]){const _0x5e88da=new Cesium$1[(_0x3e5bbf(0x13a))](_0x18346c[_0x3e5bbf(0x16f)][_0x3e5bbf(0x121)],_0x18346c[_0x3e5bbf(0x102)][_0x3e5bbf(0x15f)]),_0x4d5df5=_0x5e88da[_0x3e5bbf(0x11f)](_0x2245af);if(!_0x4d5df5)return _0x45bead;}return[_0x520878['x'],_0x520878['y']];}};void 0x0!==_0x2b6b2b&&(_0xf66665[_0x2b0c50(0x10f)]=function(_0x47ed4e){const _0x66d57c=_0x2b0c50,_0x34223f=_0x5d980b['trails']||0xa;return!!(_0x2b6b2b&&_0x47ed4e['time']>_0x2b6b2b-_0x34223f&&_0x47ed4e[_0x66d57c(0x119)]<_0x2b6b2b);});const _0x24987d=this[_0x2b0c50(0x168)][_0x2b0c50(0x138)](_0xf66665);this[_0x2b0c50(0x17d)](_0x24987d),this[_0x2b0c50(0x128)]['unit']==='m'&&this[_0x2b0c50(0x128)][_0x2b0c50(0x15a)],this[_0x2b0c50(0x128)][_0x2b0c50(0x158)]=this[_0x2b0c50(0x128)][_0x2b0c50(0x15a)];const _0x15bd86=_0x18346c[_0x2b0c50(0x15e)](Cesium$1['Cartesian3'][_0x2b0c50(0xfe)](0x0,0x0));if(!_0x15bd86)return;this[_0x2b0c50(0x146)](_0xda60da,new mapv__namespace['DataSet'](_0x24987d),this[_0x2b0c50(0x128)],_0x15bd86),this[_0x2b0c50(0x128)][_0x2b0c50(0x109)]&&this['options'][_0x2b0c50(0x109)](_0x2b6b2b);}}[_0x37c365(0x163)](_0x160330,_0x5772c7){const _0x32181b=_0x37c365;let _0x5ebddf=_0x160330;_0x5ebddf&&_0x5ebddf['get']&&(_0x5ebddf=_0x5ebddf['get']()),void 0x0!==_0x5ebddf&&this[_0x32181b(0x168)]['set'](_0x5ebddf),super[_0x32181b(0x184)]({'options':_0x5772c7});}[_0x37c365(0x118)](_0x11426e,_0x206db2){const _0x40223f=_0x37c365;let _0x569656=_0x11426e;_0x11426e&&_0x11426e[_0x40223f(0x138)]&&(_0x569656=_0x11426e['get']()),this[_0x40223f(0x168)][_0x40223f(0x17e)](_0x569656),this[_0x40223f(0x184)]({'options':_0x206db2});}['getData'](){const _0x2e4a1a=_0x37c365;return this[_0x2e4a1a(0x168)];}[_0x37c365(0xff)](_0x1ea1ea){const _0x250f0e=_0x37c365;if(this[_0x250f0e(0x168)]){const _0x805b42=this[_0x250f0e(0x168)][_0x250f0e(0x138)]({'filter':function(_0x1cc8d1){const _0x445b1c=_0x250f0e;return _0x1ea1ea==null||typeof _0x1ea1ea!==_0x445b1c(0x10a)||!_0x1ea1ea(_0x1cc8d1);}});this[_0x250f0e(0x168)][_0x250f0e(0x161)](_0x805b42),this['update']({'options':null});}}[_0x37c365(0x180)](){const _0x46ec57=_0x37c365;this[_0x46ec57(0x168)]&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){const _0x12c211=_0x37c365;this['canvasLayer'][_0x12c211(0x135)]();}[_0x37c365(0x12a)](_0x1b7516){const _0x6c58b4=_0x37c365;_0x1b7516&&_0x1b7516[_0x6c58b4(0x155)]&&_0x1b7516[_0x6c58b4(0x155)](0x0,0x0,_0x1b7516[_0x6c58b4(0x126)][_0x6c58b4(0xec)],_0x1b7516[_0x6c58b4(0x126)][_0x6c58b4(0x18b)]);}['destroy'](){const _0x45ab89=_0x37c365;this[_0x45ab89(0x12a)](this[_0x45ab89(0x10d)]()),this[_0x45ab89(0x180)](),this['animator']&&this['animator'][_0x45ab89(0x182)](),this[_0x45ab89(0x176)]=null,this[_0x45ab89(0x108)]=null;}}function _0x5ad9(){const _0x589bfa=['Aw5PDerLDMLJzvbPEgvSuMf0Aw8','rxzLBNruExbL','AgvPz2H0','y2XPy2S','C3rLChm','C2f2zq','CMvTB3zLqwXSrgf0yq','Cg9ZAxrPB24','x2nHy2HLx2v2zw50','z2v0rgf0yq','AgfZt3DUuhjVCgvYDhK','x19WCM90B19F','yw5PBwf0B3jnB3zLzw5KrxzLBNq','C3rHCNq','DhjHBNnMzxjdB29YzgLUyxrL','qMfZzuXHEwvY','D2LKDgG','BwfYCZnKlw1HChy','otyYmufJrgLvta','Aw5PDa','ug9PBNq','zMLSBfn0EwXL','CMvZAxPL','zgf0yq','zgvZDgLUyxrPB24TB3v0','mJaZmdeZntjYyLDpv04','x29UtwfWtw91C2vnB3zL','x3jLC2v0','ChjVDg90ExbL','Eg1PBG','z2v0uMvJDgfUz2XL','vxrPBa','mZa3nti0rLHTvgXX','zgvMyxvSDa','zNjVBurLz3jLzxm','CMvTB3zLrgf0yq','C2v0wKLUzgv4','x2rHDgfdywnOzq','y2fTzxjH','6k+35BYv5ywLig1HChyG5BQtia','A2v5CW','twfWvKXHEwvY','C2nHBgu','zgvWDgHuzxn0','y2fUDMfZtgf5zxi','DxbKyxrLq2fSBgjHy2S','zNvUy3rPB24','C3r5Bgu','ChvZAa','z2v0q29UDgv4Da','zgv2AwnLugL4zwXsyxrPBW','zMLSDgvY','y2XPy2TfDMvUDa','Ew1HEa','y2fTzxjHtw92zvn0yxj0','CMvZDg9Yzq','EKLUzgv4','q2fYDgvZAwfUmW','CMvNAxn0zxi','y2fTzxjHtw92zuvUza','ywrKrgf0yq','DgLTzq','x2fKzgvKsg9VAW','x2nVB3jKAw5HDgvZ','Dw5IAw5KrxzLBNq','Ew1PBG','Bw91C2vnB3zL','AxnqB2LUDfzPC2LIBgu','txvSDgLqB2X5z29U','zwXSAxbZB2LK','D2LUzg93ug9ZAxrPB24','ug9SEwDVBG','zML4zwrizwLNAhq','x3nLDe9WDgLVBNniB29R','y2fUDMfZ','x2nHBNzHC1vWzgf0zq','B3b0Aw9UCW','z2v0sgvPz2H0','y2XLyxi','Dg9W','Bwv0Ag9KCW','zgvZDhjVEq','owvSyvjmvq','mhb4','y3jLyxrL','y2XHBxbuB0DYB3vUza','Bw9Kzq','x3nOB3DiB29R','C3rVCefUAwfTyxrPB24','zhjHDW','ywjZB2X1Dgu','x29Utw92zuvUzev2zw50','z2v0','BwfWDKrLChrOvgvZDa','rwXSAxbZB2LKywXpy2nSDwrLCG','ndG0nJu5qKTRtM5c','Aw5PDerHDgfsyw5Nzq','x3bVAw50zxjfDMvUDhm','B2zM','Bw91C2veB3DU','z2XVyMfSq29TCg9ZAxrLt3bLCMf0Aw9U','CMDIysGWlcaWlcaWlcaUmsK','CgfYzw50rwXLBwvUDa','rMvHDhvYzunVBgXLy3rPB24','mZm5odCXmLbwr3bSua','Aw5PDefUAw1HDg9Y','zhjHD0nVBNrLEhq','uMvJDgfUz2XL','x21VDw50zwriB29R','yw5PBwf0Aw9U','yMLUza','z2vVBwv0CNK','AxngB3jTyxq','Bgf5zxi','C2nLBMu','x21HCfzszw5KzxjLCG','tgf5zxjvDgLS','x2rHDge','u0nftKuZra','ywrKqw5PBwf0B3jfDMvUDa','q09mt1jFqLvgrKvsx0jjva','y2XLyxjszwn0','DhLWzq','y29Uy2f0','x3nPEMu','txvSDgLmAw5Lu3rYAw5N','C2L6zq','zgvMAw5LuhjVCgvYDhK','ndy3mZG3ngPOzK9TEG','x29Utw92zvn0yxj0rxzLBNq','y2fYDgvZAwfUvg9dyw52yxndB29YzgLUyxrLCW','Cg9ZAxrPB25xqW','CMvUzgvY','C2v0','y29UDgv4Da','DxbKyxrLrgf0yq','CMvTB3zL','yMLUzev2zw50','BgvUz3rO','z2v0rxH0zw50qNLhzw9ku09o','zgf0yvnLDa','x19LC01VzhvSzq','x3jLBw92zwriB29R','x29UtwfWq2XPy2S','ntK0nteWzMHywfv0','x21HCa','zgLZCgXHEq','z2XVyMu','BM9Uzq','C3rLChnsyw5Nzq','Cg9ZDfjLBMrLCG','AxnfBMfIBgvKvgLTzq','rgf0yvnLDa','BwfWDKf1Dg9izwLNAhq','yw5PBwf0B3i','tgLUzvn0CMLUzW','Bgf5zxjPza','Eg1HEa','zM9YrwfJAa','rg9TvxrPBa','yw5PBwf0B3jnB3zLC3rHCNrfDMvUDa','ChjVy2vZC0rHDge','ywrK','mZHrrLfRsvy','y2XLyxjeyxrH','Bw91C2vTB3zL','C3rVCa','x2nYzwf0zunHBNzHCW','DxbKyxrL','CMvTB3zLq2HPBgq','BwfW','u2nLBMvnB2rL','Cg9PBNrLCKv2zw50CW'];_0x5ad9=function(){return _0x589bfa;};return _0x5ad9();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x37c365(0x174)][_0x37c365(0xf8)][_0x37c365(0xea)]=function(_0x5a65e8,_0x5e9e6c,_0x217a18,_0x47a7a5){const _0x1a673e=_0x37c365;_0x47a7a5=_0x47a7a5||_0x1a673e(0x11b),_0x217a18=_0x217a18||'coordinates';for(let _0x371690=0x0;_0x371690<_0x5a65e8[_0x1a673e(0x166)];_0x371690++){const _0x1472a1=_0x5a65e8[_0x371690][_0x1a673e(0x14b)],_0xbab457=_0x1472a1[_0x217a18];switch(_0x1472a1[_0x1a673e(0x156)]){case _0x1a673e(0xf0):{const _0x4af0a9=_0x5e9e6c(_0xbab457);_0x4af0a9?_0x1472a1[_0x47a7a5]=_0x4af0a9:_0x1472a1[_0x47a7a5]=[-0x3e7,-0x3e7];}break;case _0x1a673e(0x177):{const _0x303c0a=[];for(let _0x531811=0x0;_0x531811<_0xbab457[_0x1a673e(0x166)];_0x531811++){const _0x39265e=_0x5e9e6c(_0xbab457[_0x531811]);_0x39265e&&_0x303c0a[_0x1a673e(0x10c)](_0x39265e);}_0x1472a1[_0x47a7a5]=_0x303c0a;}break;case _0x1a673e(0x159):case _0x1a673e(0x123):{const _0x5be51f=_0x2cdf90(_0xbab457);_0x1472a1[_0x47a7a5]=_0x5be51f;}break;case _0x1a673e(0x120):{const _0x39cda1=[];for(let _0x4ccbd2=0x0;_0x4ccbd2<_0xbab457[_0x1a673e(0x166)];_0x4ccbd2++){const _0x37a71c=_0x2cdf90(_0xbab457[_0x4ccbd2]);_0x37a71c['length']>0x0&&_0x39cda1[_0x1a673e(0x10c)](_0x37a71c);}_0x1472a1[_0x47a7a5]=_0x39cda1;}break;}}function _0x2cdf90(_0x54897c){const _0x19aad8=_0x1a673e,_0x3ca914=[];for(let _0x1294f6=0x0;_0x1294f6<_0x54897c['length'];_0x1294f6++){const _0x2cab51=_0x54897c[_0x1294f6],_0xedf4fd=[];for(let _0x20afd8=0x0;_0x20afd8<_0x2cab51['length'];_0x20afd8++){const _0x40f7c6=_0x5e9e6c(_0x2cab51[_0x20afd8]);_0x40f7c6&&_0xedf4fd[_0x19aad8(0x10c)](_0x40f7c6);}_0xedf4fd[_0x19aad8(0x166)]>0x0&&_0x3ca914[_0x19aad8(0x10c)](_0xedf4fd);}return _0x3ca914;}return _0x5a65e8;};else throw new Error(_0x37c365(0x103));const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x37c365(0xeb)];function _0x1561(_0x5ef0c6,_0x5e3cca){const _0x5ad9fa=_0x5ad9();return _0x1561=function(_0x1561cc,_0x5895a4){_0x1561cc=_0x1561cc-0xe0;let _0x510e30=_0x5ad9fa[_0x1561cc];if(_0x1561['IZIhSL']===undefined){var _0xd259dc=function(_0x59929f){const _0x41c07c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x19fbee='',_0x3db8ea='';for(let _0x23fff0=0x0,_0x32b03f,_0x179fc6,_0x2701c1=0x0;_0x179fc6=_0x59929f['charAt'](_0x2701c1++);~_0x179fc6&&(_0x32b03f=_0x23fff0%0x4?_0x32b03f*0x40+_0x179fc6:_0x179fc6,_0x23fff0++%0x4)?_0x19fbee+=String['fromCharCode'](0xff&_0x32b03f>>(-0x2*_0x23fff0&0x6)):0x0){_0x179fc6=_0x41c07c['indexOf'](_0x179fc6);}for(let _0x5a2a3b=0x0,_0x15abdc=_0x19fbee['length'];_0x5a2a3b<_0x15abdc;_0x5a2a3b++){_0x3db8ea+='%'+('00'+_0x19fbee['charCodeAt'](_0x5a2a3b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3db8ea);};_0x1561['NjRYel']=_0xd259dc,_0x5ef0c6=arguments,_0x1561['IZIhSL']=!![];}const _0x987d30=_0x5ad9fa[0x0],_0x5e6224=_0x1561cc+_0x987d30,_0x28c40e=_0x5ef0c6[_0x5e6224];return!_0x28c40e?(_0x510e30=_0x1561['NjRYel'](_0x510e30),_0x5ef0c6[_0x5e6224]=_0x510e30):_0x510e30=_0x28c40e,_0x510e30;},_0x1561(_0x5ef0c6,_0x5e3cca);}let divId=0x0;class MapVLayer extends BaseLayer{constructor(_0x1bf021,_0x114e2a){const _0x5441e7=_0x37c365;super(_0x1bf021),this[_0x5441e7(0x13d)]=this[_0x5441e7(0x128)][_0x5441e7(0x188)],this[_0x5441e7(0x168)]=_0x114e2a||new mapv__namespace[(_0x5441e7(0x174))](_0x1bf021[_0x5441e7(0xf3)]),this[_0x5441e7(0x126)]=null;}get[_0x37c365(0x188)](){const _0x4db31c=_0x37c365;return this[_0x4db31c(0x13d)];}set['pointerEvents'](_0xb76a72){const _0x16ff77=_0x37c365;this[_0x16ff77(0x13d)]=_0xb76a72,this[_0x16ff77(0x126)]&&(_0xb76a72?this[_0x16ff77(0x126)][_0x16ff77(0x10b)][_0x16ff77(0x188)]='all':this[_0x16ff77(0x126)]['style']['pointerEvents']=_0x16ff77(0x170));}[_0x37c365(0x133)](_0x4d22be){const _0x3613d6=_0x37c365;_0x4d22be?this[_0x3613d6(0x126)]['style'][_0x3613d6(0x16e)]='block':this[_0x3613d6(0x126)][_0x3613d6(0x10b)][_0x3613d6(0x16e)]='none';}[_0x37c365(0x148)](){const _0x15f39f=_0x37c365;this['_map'][_0x15f39f(0x14e)][_0x15f39f(0x139)]=this[_0x15f39f(0x128)][_0x15f39f(0x107)]??!![],this['_map'][_0x15f39f(0x14e)][_0x15f39f(0x175)]=this[_0x15f39f(0x128)][_0x15f39f(0x131)]??![],this[_0x15f39f(0x16d)][_0x15f39f(0x14e)]['mapvFixedHeight']=this['options'][_0x15f39f(0x124)]??0x0;}[_0x37c365(0x11a)](){const _0x303f89=_0x37c365;this['dataSet']&&(!this[_0x303f89(0x168)][_0x303f89(0x151)]||this[_0x303f89(0x168)][_0x303f89(0x151)][_0x303f89(0x166)]===0x0)&&(this[_0x303f89(0x168)][_0x303f89(0x151)]=[][_0x303f89(0x157)](this[_0x303f89(0x168)][_0x303f89(0x101)])),this[_0x303f89(0x14f)]=new MapVRenderer(this[_0x303f89(0x16d)],this[_0x303f89(0x168)],this[_0x303f89(0x128)],this),this['initDevicePixelRatio'](),this[_0x303f89(0x126)]=this[_0x303f89(0x183)](),this['render']=this[_0x303f89(0x160)][_0x303f89(0x14a)](this),this['bindEvent'](),this[_0x303f89(0xf7)]();}[_0x37c365(0x16a)](){const _0x1cbe24=_0x37c365;this[_0x1cbe24(0x11c)](),this[_0x1cbe24(0x14f)]&&(this[_0x1cbe24(0x14f)]['destroy'](),this[_0x1cbe24(0x14f)]=null),this[_0x1cbe24(0x126)][_0x1cbe24(0x142)][_0x1cbe24(0x185)](this[_0x1cbe24(0x126)]);}[_0x37c365(0x189)](){const _0x122e11=_0x37c365;this['devicePixelRatio']=window[_0x122e11(0x10e)]||0x1;}[_0x37c365(0x165)](){const _0x3d4df1=_0x37c365;var _0x10b177,_0x2a01a3,_0x37bbcc,_0x11029a;this['_map']['on'](mars3d__namespace['EventType'][_0x3d4df1(0x13f)],this[_0x3d4df1(0x15d)],this),this[_0x3d4df1(0x16d)]['on'](mars3d__namespace[_0x3d4df1(0x18a)][_0x3d4df1(0x112)],this['_onMoveStartEvent'],this),this[_0x3d4df1(0x16d)]['on'](mars3d__namespace[_0x3d4df1(0x18a)][_0x3d4df1(0x117)],this[_0x3d4df1(0x137)],this),(_0x10b177=this['options'])!==null&&_0x10b177!==void 0x0&&(_0x2a01a3=_0x10b177[_0x3d4df1(0x12c)])!==null&&_0x2a01a3!==void 0x0&&_0x2a01a3['click']&&this[_0x3d4df1(0x16d)]['on'](mars3d__namespace['EventType'][_0x3d4df1(0x18c)],this[_0x3d4df1(0x16b)],this),(_0x37bbcc=this['options'])!==null&&_0x37bbcc!==void 0x0&&(_0x11029a=_0x37bbcc[_0x3d4df1(0x12c)])!==null&&_0x11029a!==void 0x0&&_0x11029a['mousemove']&&this[_0x3d4df1(0x16d)]['on'](mars3d__namespace['EventType'][_0x3d4df1(0x11e)],this['_onMapMouseMove'],this);}[_0x37c365(0x11c)](){const _0x5282bc=_0x37c365;var _0x200c9e,_0x582395,_0x4734c1,_0x2578b9;this[_0x5282bc(0x16d)]['off'](mars3d__namespace['EventType'][_0x5282bc(0x13f)],this[_0x5282bc(0x15d)],this),this['_map']['off'](mars3d__namespace[_0x5282bc(0x18a)]['cameraMoveStart'],this[_0x5282bc(0x15d)],this),this[_0x5282bc(0x16d)][_0x5282bc(0x13e)](mars3d__namespace[_0x5282bc(0x18a)][_0x5282bc(0x117)],this[_0x5282bc(0x137)],this),this[_0x5282bc(0x16d)][_0x5282bc(0x13e)](mars3d__namespace[_0x5282bc(0x18a)][_0x5282bc(0x172)],this['_reset'],this),(_0x200c9e=this[_0x5282bc(0x128)])!==null&&_0x200c9e!==void 0x0&&(_0x582395=_0x200c9e[_0x5282bc(0x12c)])!==null&&_0x582395!==void 0x0&&_0x582395[_0x5282bc(0x18c)]&&this[_0x5282bc(0x16d)][_0x5282bc(0x13e)](mars3d__namespace[_0x5282bc(0x18a)][_0x5282bc(0x18c)],this[_0x5282bc(0x16b)],this),(_0x4734c1=this['options'])!==null&&_0x4734c1!==void 0x0&&(_0x2578b9=_0x4734c1['methods'])!==null&&_0x2578b9!==void 0x0&&_0x2578b9[_0x5282bc(0x181)]&&this[_0x5282bc(0x16d)][_0x5282bc(0x13e)](mars3d__namespace['EventType']['mouseMove'],this[_0x5282bc(0xf6)],this);}[_0x37c365(0x15d)](){const _0x319a07=_0x37c365;this[_0x319a07(0x14f)]&&(this[_0x319a07(0x14f)]['animatorMovestartEvent'](),this[_0x319a07(0x16d)][_0x319a07(0x13e)](mars3d__namespace[_0x319a07(0x18a)][_0x319a07(0x172)],this[_0x319a07(0xf7)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}[_0x37c365(0x137)](){const _0x4ee1e7=_0x37c365;this[_0x4ee1e7(0x14f)]&&(this[_0x4ee1e7(0x16d)][_0x4ee1e7(0x13e)](mars3d__namespace[_0x4ee1e7(0x18a)][_0x4ee1e7(0x172)],this[_0x4ee1e7(0xf7)],this),this['_mapVRenderer'][_0x4ee1e7(0xe8)](),this['_reset']());}[_0x37c365(0x125)](_0x5c1cf2,_0x3b5366){const _0x12dd7a=_0x37c365;this[_0x12dd7a(0x16a)](),this[_0x12dd7a(0x11a)]();}[_0x37c365(0x118)](_0x318f1d){const _0x8f94fa=_0x37c365;this[_0x8f94fa(0x14f)]&&this[_0x8f94fa(0x14f)]['addData'](_0x318f1d,this['options']);}['updateData'](_0x499285){const _0x5c981d=_0x37c365;this[_0x5c981d(0x14f)]&&this[_0x5c981d(0x14f)][_0x5c981d(0x163)](_0x499285,this[_0x5c981d(0x128)]);}[_0x37c365(0xe5)](){const _0x3270de=_0x37c365;return this['_mapVRenderer']&&(this['dataSet']=this[_0x3270de(0x14f)][_0x3270de(0xe5)]()),this[_0x3270de(0x168)];}[_0x37c365(0xff)](_0x1e1160){const _0x1cb3bf=_0x37c365;this[_0x1cb3bf(0x14f)]&&this[_0x1cb3bf(0x14f)][_0x1cb3bf(0xff)](_0x1e1160);}[_0x37c365(0xe2)](){const _0x152e68=_0x37c365;this[_0x152e68(0x14f)]&&this[_0x152e68(0x14f)]['clearData']();}[_0x37c365(0x183)](){const _0x1580c2=_0x37c365,_0x1ce70a=mars3d__namespace[_0x1580c2(0x17b)]['create']('canvas',_0x1580c2(0xed),this[_0x1580c2(0x16d)]['container']);_0x1ce70a['id']=this[_0x1580c2(0x128)][_0x1580c2(0x178)]||'mapv'+divId++,_0x1ce70a['style']['position']='absolute',_0x1ce70a[_0x1580c2(0x10b)][_0x1580c2(0x12b)]='0px',_0x1ce70a[_0x1580c2(0x10b)]['left']=_0x1580c2(0x12f),_0x1ce70a[_0x1580c2(0x10b)]['pointerEvents']=this[_0x1580c2(0x13d)]?'auto':'none',_0x1ce70a[_0x1580c2(0x10b)][_0x1580c2(0x114)]=this[_0x1580c2(0x128)][_0x1580c2(0x114)]||0x64,_0x1ce70a[_0x1580c2(0xec)]=parseInt(this[_0x1580c2(0x16d)][_0x1580c2(0x126)][_0x1580c2(0xec)]),_0x1ce70a['height']=parseInt(this[_0x1580c2(0x16d)]['canvas']['height']),_0x1ce70a[_0x1580c2(0x10b)][_0x1580c2(0xec)]=this[_0x1580c2(0x16d)][_0x1580c2(0x126)]['style']['width'],_0x1ce70a['style'][_0x1580c2(0x18b)]=this[_0x1580c2(0x16d)]['canvas'][_0x1580c2(0x10b)][_0x1580c2(0x18b)];if(this[_0x1580c2(0x128)][_0x1580c2(0x162)]==='2d'){const _0x575b4e=this[_0x1580c2(0x10e)];_0x1ce70a['getContext'](this[_0x1580c2(0x128)]['context'])[_0x1580c2(0x106)](_0x575b4e,_0x575b4e);}return _0x1ce70a;}[_0x37c365(0xf7)](){const _0x5c3f38=_0x37c365;this[_0x5c3f38(0xf2)](),this[_0x5c3f38(0x160)]();}[_0x37c365(0x135)](){this['_reset']();}[_0x37c365(0x164)](){const _0x2a2baf=_0x37c365;this['_mapVRenderer']&&(this[_0x2a2baf(0x14f)][_0x2a2baf(0x12d)](),this['_mapVRenderer']=null),this[_0x2a2baf(0x126)][_0x2a2baf(0x142)]['removeChild'](this[_0x2a2baf(0x126)]);}[_0x37c365(0x160)](){const _0x266e4e=_0x37c365;this[_0x266e4e(0x14f)][_0x266e4e(0x127)]();}[_0x37c365(0xf2)](){const _0x187f22=_0x37c365;if(this[_0x187f22(0x126)]){const _0x2bd6f8=this['canvas'];_0x2bd6f8[_0x187f22(0x10b)][_0x187f22(0xe3)]=_0x187f22(0x136),_0x2bd6f8[_0x187f22(0x10b)]['top']='0px',_0x2bd6f8[_0x187f22(0x10b)]['left']=_0x187f22(0x12f),_0x2bd6f8['width']=parseInt(this['_map'][_0x187f22(0x126)][_0x187f22(0xec)]),_0x2bd6f8[_0x187f22(0x18b)]=parseInt(this['_map'][_0x187f22(0x126)]['height']),_0x2bd6f8[_0x187f22(0x10b)][_0x187f22(0xec)]=this[_0x187f22(0x16d)][_0x187f22(0x126)]['style']['width'],_0x2bd6f8[_0x187f22(0x10b)]['height']=this[_0x187f22(0x16d)][_0x187f22(0x126)]['style'][_0x187f22(0x18b)];}}[_0x37c365(0xfa)](_0x5f1104){const _0x516982=_0x37c365;if(!this[_0x516982(0x168)]||!this[_0x516982(0x168)][_0x516982(0x151)])return;const _0x3c5ef2=mars3d__namespace[_0x516982(0xfb)][_0x516982(0x167)]({'type':_0x516982(0x143),'features':this[_0x516982(0x168)][_0x516982(0x151)]});if(!_0x3c5ef2)return;return _0x5f1104!==null&&_0x5f1104!==void 0x0&&_0x5f1104[_0x516982(0x14c)]?_0x3c5ef2:Cesium[_0x516982(0x147)][_0x516982(0xfe)](_0x3c5ef2[_0x516982(0xf9)],_0x3c5ef2[_0x516982(0x11d)],_0x3c5ef2[_0x516982(0x179)],_0x3c5ef2[_0x516982(0x111)]);}[_0x37c365(0x16b)](_0x543a5d){const _0x1ba16c=_0x37c365;this[_0x1ba16c(0xe4)]=_0x543a5d,this['_mapVRenderer']&&this['_mapVRenderer'][_0x1ba16c(0x110)](_0x543a5d[_0x1ba16c(0x122)],_0x543a5d);}[_0x37c365(0xf6)](_0x223d1e){const _0x4259e7=_0x37c365;this[_0x4259e7(0xe4)]=_0x223d1e,this[_0x4259e7(0x14f)]&&this[_0x4259e7(0x14f)]['mousemoveEvent'](_0x223d1e['windowPosition'],_0x223d1e);}['on'](_0x488286,_0x149ed5,_0xc8899f){const _0xe91979=_0x37c365;this[_0xe91979(0x128)][_0xe91979(0x12c)]=this['options'][_0xe91979(0x12c)]||{};if(_0x488286===mars3d__namespace[_0xe91979(0x18a)]['click'])this['options'][_0xe91979(0x12c)][_0xe91979(0x18c)]=_0x3dcf9f=>{const _0x35881b=_0xe91979;_0x3dcf9f&&_0x149ed5['bind'](_0xc8899f)({...this[_0x35881b(0xe4)],'layer':this,'data':_0x3dcf9f});},this['_map']['on'](mars3d__namespace['EventType'][_0xe91979(0x18c)],this[_0xe91979(0x16b)],this);else _0x488286===mars3d__namespace[_0xe91979(0x18a)][_0xe91979(0x11e)]&&(this[_0xe91979(0x128)]['methods']['mousemove']=_0x3c2d68=>{const _0x3768db=_0xe91979;_0x3c2d68&&_0x149ed5[_0x3768db(0x14a)](_0xc8899f)({...this[_0x3768db(0xe4)],'layer':this,'data':_0x3c2d68});},this[_0xe91979(0x16d)]['on'](mars3d__namespace[_0xe91979(0x18a)][_0xe91979(0x11e)],this[_0xe91979(0xf6)],this));return this;}[_0x37c365(0x13e)](_0x308522,_0x740467){const _0x2c554d=_0x37c365;if(_0x308522===_0x2c554d(0x18c)){var _0xa8be38;this[_0x2c554d(0x16d)][_0x2c554d(0x13e)](_0x308522,this['_onMapClick'],this),(_0xa8be38=this['options'][_0x2c554d(0x12c)])!==null&&_0xa8be38!==void 0x0&&_0xa8be38[_0x2c554d(0x181)]&&delete this['options'][_0x2c554d(0x12c)][_0x2c554d(0x18c)];}else{if(_0x308522===_0x2c554d(0x11e)){var _0x1718c3;this['_map'][_0x2c554d(0x13e)](_0x308522,this[_0x2c554d(0xf6)],this),(_0x1718c3=this[_0x2c554d(0x128)][_0x2c554d(0x12c)])!==null&&_0x1718c3!==void 0x0&&_0x1718c3[_0x2c554d(0x181)]&&delete this[_0x2c554d(0x128)][_0x2c554d(0x12c)][_0x2c554d(0x181)];}}return this;}}mars3d__namespace[_0x37c365(0x150)][_0x37c365(0x116)]('mapv',MapVLayer),mars3d__namespace[_0x37c365(0x14d)][_0x37c365(0x105)]=MapVLayer,exports[_0x37c365(0x105)]=MapVLayer,Object[_0x37c365(0x104)](mapv)['forEach'](function(_0x595dce){const _0x126282=_0x37c365;if(_0x595dce!=='default'&&!exports[_0x126282(0xe6)](_0x595dce))Object[_0x126282(0x15b)](exports,_0x595dce,{'enumerable':!![],'get':function(){return mapv[_0x595dce];}});}),Object[_0x37c365(0x15b)](exports,_0x37c365(0x169),{'value':!![]});
}));
