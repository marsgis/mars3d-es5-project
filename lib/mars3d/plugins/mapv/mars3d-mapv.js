/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.4.26
 * 编译日期：2023-03-09 16:01:20
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';var _0x23a62d=_0x1f56;(function(_0x3721f8,_0x49994a){var _0x1fb206={_0x293685:0x1f4,_0x8f627f:0x1d8,_0x52b507:0x19f,_0x40299d:0x1cb},_0x198640=_0x1f56,_0x2adb29=_0x3721f8();while(!![]){try{var _0x435aba=parseInt(_0x198640(0x1af))/0x1+-parseInt(_0x198640(0x1f2))/0x2+-parseInt(_0x198640(_0x1fb206._0x293685))/0x3*(-parseInt(_0x198640(0x1f1))/0x4)+-parseInt(_0x198640(0x1d7))/0x5+-parseInt(_0x198640(0x1b2))/0x6*(-parseInt(_0x198640(_0x1fb206._0x8f627f))/0x7)+-parseInt(_0x198640(0x196))/0x8*(parseInt(_0x198640(_0x1fb206._0x52b507))/0x9)+parseInt(_0x198640(_0x1fb206._0x40299d))/0xa;if(_0x435aba===_0x49994a)break;else _0x2adb29['push'](_0x2adb29['shift']());}catch(_0x4b3ab1){_0x2adb29['push'](_0x2adb29['shift']());}}}(_0x4b37,0x7a30d));function _interopNamespace(_0x39e00e){var _0x295aeb={_0x44097d:0x1b1,_0x11382b:0x187};if(_0x39e00e&&_0x39e00e['__esModule'])return _0x39e00e;var _0x2694f0=Object['create'](null);return _0x39e00e&&Object['keys'](_0x39e00e)['forEach'](function(_0x5d3cfa){var _0x405a26=_0x1f56;if(_0x5d3cfa!=='default'){var _0x169612=Object[_0x405a26(_0x295aeb._0x44097d)](_0x39e00e,_0x5d3cfa);Object[_0x405a26(_0x295aeb._0x11382b)](_0x2694f0,_0x5d3cfa,_0x169612['get']?_0x169612:{'enumerable':!![],'get':function(){return _0x39e00e[_0x5d3cfa];}});}}),_0x2694f0['default']=_0x39e00e,_0x2694f0;}function _0x1f56(_0x151740,_0x53c2b2){var _0x4b374c=_0x4b37();return _0x1f56=function(_0x1f56ab,_0x24a035){_0x1f56ab=_0x1f56ab-0x186;var _0x5859bd=_0x4b374c[_0x1f56ab];return _0x5859bd;},_0x1f56(_0x151740,_0x53c2b2);}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function ownKeys(_0xfaa22d,_0x2f861d){var _0x669d76=_0x1f56,_0x1abfc1=Object['keys'](_0xfaa22d);if(Object['getOwnPropertySymbols']){var _0x5846d3=Object['getOwnPropertySymbols'](_0xfaa22d);_0x2f861d&&(_0x5846d3=_0x5846d3['filter'](function(_0x25fdb8){var _0x27da17=_0x1f56;return Object[_0x27da17(0x1b1)](_0xfaa22d,_0x25fdb8)['enumerable'];})),_0x1abfc1['push'][_0x669d76(0x1a7)](_0x1abfc1,_0x5846d3);}return _0x1abfc1;}function _objectSpread2(_0x3d176c){var _0x564e4f={_0x3406ca:0x1b1},_0x2fcb66=_0x1f56;for(var _0x465927=0x1;_0x465927<arguments['length'];_0x465927++){var _0x5e14cf=null!=arguments[_0x465927]?arguments[_0x465927]:{};_0x465927%0x2?ownKeys(Object(_0x5e14cf),!0x0)['forEach'](function(_0x12f9d7){_defineProperty(_0x3d176c,_0x12f9d7,_0x5e14cf[_0x12f9d7]);}):Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x3d176c,Object[_0x2fcb66(0x1ba)](_0x5e14cf)):ownKeys(Object(_0x5e14cf))['forEach'](function(_0x31923a){var _0x1e7464=_0x2fcb66;Object['defineProperty'](_0x3d176c,_0x31923a,Object[_0x1e7464(_0x564e4f._0x3406ca)](_0x5e14cf,_0x31923a));});}return _0x3d176c;}function _classCallCheck(_0x4e9cb6,_0x417236){var _0x174d8d={_0x569eb6:0x1a8},_0x335421=_0x1f56;if(!(_0x4e9cb6 instanceof _0x417236))throw new TypeError(_0x335421(_0x174d8d._0x569eb6));}function _defineProperties(_0x5487f1,_0x1e0c72){var _0x420816=_0x1f56;for(var _0xe46cf3=0x0;_0xe46cf3<_0x1e0c72['length'];_0xe46cf3++){var _0x40d8e4=_0x1e0c72[_0xe46cf3];_0x40d8e4['enumerable']=_0x40d8e4['enumerable']||![],_0x40d8e4['configurable']=!![];if('value'in _0x40d8e4)_0x40d8e4['writable']=!![];Object[_0x420816(0x187)](_0x5487f1,_0x40d8e4['key'],_0x40d8e4);}}function _createClass(_0x5db4bf,_0x48fcd6,_0x562808){if(_0x48fcd6)_defineProperties(_0x5db4bf['prototype'],_0x48fcd6);if(_0x562808)_defineProperties(_0x5db4bf,_0x562808);return Object['defineProperty'](_0x5db4bf,'prototype',{'writable':![]}),_0x5db4bf;}function _defineProperty(_0x2efa31,_0x55f193,_0x2c26a1){return _0x55f193 in _0x2efa31?Object['defineProperty'](_0x2efa31,_0x55f193,{'value':_0x2c26a1,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x2efa31[_0x55f193]=_0x2c26a1,_0x2efa31;}function _inherits(_0xcb74b7,_0x476224){var _0x3eb44b={_0x22eb98:0x1e0},_0x333d42=_0x1f56;if(typeof _0x476224!=='function'&&_0x476224!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0xcb74b7['prototype']=Object[_0x333d42(0x1c6)](_0x476224&&_0x476224['prototype'],{'constructor':{'value':_0xcb74b7,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0xcb74b7,_0x333d42(_0x3eb44b._0x22eb98),{'writable':![]});if(_0x476224)_setPrototypeOf(_0xcb74b7,_0x476224);}function _0x4b37(){var _0x5a7672=['mouseMove','prototype','style','scene','click','0px','zIndex','getPrototypeOf','Cesium','unit','Util','stopAniamation','destroy','initDevicePixelRatio','clickEvent','getData','destination-out','keys','4jNWfbk','1361364fbGzSF','Cartesian3','245181ODjwCg','scale','clearData','mapvFixedHeight','setPrototypeOf','defineProperty','call','_reset','_pointerEvents','_onMapClick','length','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','off','LineString','mouseDown','updateData','SCENE3D','_onMoveStartEvent','transferCoordinate','push','344aQIhEt','fromDegrees','sham','cartesianToCanvasCoordinates','top','remove','initDataRange','EllipsoidalOccluder','bind','729NuIXVV','isEnabledTime','argCheck','mapvAutoHeight','clear','time','removeAllData','cameraMoveStart','apply','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','globe','width','postRender','context','layer','globalCompositeOperation','639227tSgipV','_map','getOwnPropertyDescriptor','6fgAsiX','canvas','pointerEvents','mousemove','options','trails','canvasLayer','getContext','getOwnPropertyDescriptors','_addedHook','_onMapMouseMove','_data','mousemoveEvent','methods','init','function','size','drawContext','cameraMoveEnd','animator','create','dataSet','_coordinates','_cache_event','devicePixelRatio','5403620NciQXd','updateCallback','animatorMovestartEvent','请引入\x20mapv\x20库\x20','animation','height','EventType','_mapVRenderer','get','_dataCache','block','_createCanvas','2803520gzqMrn','3388322maniGE','parentElement','processData','update','isPointVisible','clampToGround','mapv'];_0x4b37=function(){return _0x5a7672;};return _0x4b37();}function _getPrototypeOf(_0x46d154){var _0x5c6930={_0x319e7b:0x1e6},_0x4f96a8=_0x1f56;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x4f96a8(0x1e6)]['bind']():function _0x3af100(_0xead085){var _0x48e771=_0x4f96a8;return _0xead085['__proto__']||Object[_0x48e771(_0x5c6930._0x319e7b)](_0xead085);},_getPrototypeOf(_0x46d154);}function _setPrototypeOf(_0x3a155a,_0x470d4d){var _0x539ca3=_0x1f56;return _setPrototypeOf=Object[_0x539ca3(0x186)]?Object['setPrototypeOf']['bind']():function _0x5a97af(_0x5bc493,_0x5d0f86){return _0x5bc493['__proto__']=_0x5d0f86,_0x5bc493;},_setPrototypeOf(_0x3a155a,_0x470d4d);}function _isNativeReflectConstruct(){var _0x14109b={_0x73c838:0x198,_0x2ea7d6:0x1c1},_0x2d8283=_0x1f56;if(typeof Reflect==='undefined'||!Reflect['construct'])return![];if(Reflect['construct'][_0x2d8283(_0x14109b._0x73c838)])return![];if(typeof Proxy===_0x2d8283(_0x14109b._0x2ea7d6))return!![];try{return Boolean['prototype']['valueOf'][_0x2d8283(0x188)](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x36dbb7){return![];}}function _assertThisInitialized(_0x116950){if(_0x116950===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x116950;}function _possibleConstructorReturn(_0x33ffc0,_0x18a417){var _0x5c16a5={_0x2c1b80:0x18d},_0x3b669b=_0x1f56;if(_0x18a417&&(typeof _0x18a417==='object'||typeof _0x18a417===_0x3b669b(0x1c1)))return _0x18a417;else{if(_0x18a417!==void 0x0)throw new TypeError(_0x3b669b(_0x5c16a5._0x2c1b80));}return _assertThisInitialized(_0x33ffc0);}function _createSuper(_0x5c5a1b){var _0x167936=_isNativeReflectConstruct();return function _0x13569d(){var _0x241438=_getPrototypeOf(_0x5c5a1b),_0x142502;if(_0x167936){var _0x22ad10=_getPrototypeOf(this)['constructor'];_0x142502=Reflect['construct'](_0x241438,arguments,_0x22ad10);}else _0x142502=_0x241438['apply'](this,arguments);return _possibleConstructorReturn(this,_0x142502);};}function _superPropBase(_0x126dd4,_0x5b5f86){while(!Object['prototype']['hasOwnProperty']['call'](_0x126dd4,_0x5b5f86)){_0x126dd4=_getPrototypeOf(_0x126dd4);if(_0x126dd4===null)break;}return _0x126dd4;}function _get(){var _0x149f2f={_0x49bfc0:0x1d3},_0x2e74a=_0x1f56;return typeof Reflect!=='undefined'&&Reflect['get']?_get=Reflect['get'][_0x2e74a(0x19e)]():_get=function _0x248fc1(_0x5cdc76,_0x482e1f,_0x1abb12){var _0x2ef712=_0x2e74a,_0x538c0c=_superPropBase(_0x5cdc76,_0x482e1f);if(!_0x538c0c)return;var _0x3becfa=Object['getOwnPropertyDescriptor'](_0x538c0c,_0x482e1f);if(_0x3becfa['get'])return _0x3becfa[_0x2ef712(_0x149f2f._0x49bfc0)]['call'](arguments[_0x2ef712(0x18c)]<0x3?_0x5cdc76:_0x1abb12);return _0x3becfa['value'];},_get['apply'](this,arguments);}var Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function,MapVRenderer=function(_0x1782df){var _0x83a237={_0x2ded89:0x1ec,_0x4dc2f8:0x191,_0x55b2c5:0x1a3},_0x14b787={_0x291c68:0x1f6},_0x567ea0={_0x5d375a:0x1d0},_0x57f3e2={_0x59a427:0x1db},_0xcb11d6={_0x5bf506:0x1d3},_0xf83802={_0x3cadd5:0x1e2,_0x50a48b:0x1aa,_0x253eb2:0x1a3,_0x401856:0x1da,_0x278608:0x1c2,_0x283dc4:0x1c3,_0x256899:0x1b6,_0x4412ed:0x1cc},_0x241895={_0x54b4e7:0x1b7,_0x408345:0x1a4},_0x5b1de8={_0x20e266:0x19c,_0x109795:0x1b6,_0x21a5b9:0x1e5},_0x26204d={_0xaf4df7:0x1b6,_0x131862:0x1c5},_0x6a7202={_0x3b6375:0x1e2,_0x526ad3:0x1e2,_0x23de30:0x1c0,_0x58a9bb:0x1ec,_0x2247f2:0x1cf},_0x4339c=_0x1f56;_inherits(_0x4fe6ee,_0x1782df);var _0x49775f=_createSuper(_0x4fe6ee);function _0x4fe6ee(_0x6448d5,_0x2a47bd,_0x1958ab,_0x8c7b00){var _0x360333=_0x1f56,_0x22a697;_classCallCheck(this,_0x4fe6ee),_0x22a697=_0x49775f['call'](this,_0x6448d5,_0x2a47bd,_0x1958ab);if(!BaseLayer$1)return _possibleConstructorReturn(_0x22a697);return _0x22a697['map']=_0x6448d5,_0x22a697[_0x360333(_0x6a7202._0x3b6375)]=_0x6448d5[_0x360333(_0x6a7202._0x526ad3)],_0x22a697['dataSet']=_0x2a47bd,_0x1958ab=_0x1958ab||{},_0x22a697[_0x360333(_0x6a7202._0x23de30)](_0x1958ab),_0x22a697[_0x360333(0x1a1)](_0x1958ab),_0x22a697[_0x360333(_0x6a7202._0x58a9bb)](),_0x22a697['canvasLayer']=_0x8c7b00,_0x22a697[_0x360333(0x1ea)]=!0x1,_0x22a697['animation']=_0x1958ab[_0x360333(_0x6a7202._0x2247f2)],_0x22a697;}return _createClass(_0x4fe6ee,[{'key':_0x4339c(_0x83a237._0x2ded89),'value':function _0x44a687(){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}},{'key':'addAnimatorEvent','value':function _0x5f10d7(){}},{'key':'animatorMovestartEvent','value':function _0x5d06fc(){var _0x53d9b6=_0x4339c,_0x3d6478=this[_0x53d9b6(_0x26204d._0xaf4df7)]['animation'];this[_0x53d9b6(0x1a0)]()&&this[_0x53d9b6(_0x26204d._0x131862)]&&(this['steps']['step']=_0x3d6478['stepsRange']['start']);}},{'key':'animatorMoveendEvent','value':function _0xbde20c(){this['isEnabledTime']()&&this['animator'];}},{'key':_0x4339c(0x1b9),'value':function _0x26a04f(){var _0x1af51f=_0x4339c;return this[_0x1af51f(0x1b8)]['canvas']['getContext'](this[_0x1af51f(0x1ac)]);}},{'key':'init','value':function _0x31775e(_0xdc5b4f){var _0x5278de=_0x4339c;this['options']=_0xdc5b4f,this[_0x5278de(_0x5b1de8._0x20e266)](_0xdc5b4f),this['context']=this['options']['context']||'2d',this[_0x5278de(_0x5b1de8._0x109795)][_0x5278de(_0x5b1de8._0x21a5b9)]&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this['options']['zIndex']),this['initAnimator']();}},{'key':'_canvasUpdate','value':function _0x407c00(_0x4d0855){var _0x4d82d3={_0x5a19c6:0x1f7,_0x43be63:0x1a9,_0x2c5a2b:0x197},_0x40d8a2=_0x4339c,_0x425cde=this[_0x40d8a2(_0xf83802._0x3cadd5)];if(this['canvasLayer']&&!this['stopAniamation']){var _0x314226=this['options']['animation'],_0x139e67=this['getContext']();if(this[_0x40d8a2(0x1a0)]()){if(void 0x0===_0x4d0855)return void this['clear'](_0x139e67);this[_0x40d8a2(0x1ac)]==='2d'&&(_0x139e67['save'](),_0x139e67[_0x40d8a2(0x1ae)]=_0x40d8a2(0x1ef),_0x139e67['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x139e67['fillRect'](0x0,0x0,_0x139e67['canvas'][_0x40d8a2(_0xf83802._0x50a48b)],_0x139e67['canvas']['height']),_0x139e67['restore']());}else this['clear'](_0x139e67);if(this['context']==='2d')for(var _0x3db20e in this['options']){_0x139e67[_0x3db20e]=this['options'][_0x3db20e];}else _0x139e67[_0x40d8a2(_0xf83802._0x253eb2)](_0x139e67['COLOR_BUFFER_BIT']);var _0x1ed68f={'transferCoordinate':function _0x2fdd61(_0x2ce49a){var _0x164453=_0x40d8a2,_0x4e20ee=null,_0x68676d=_0x425cde[_0x164453(_0x4d82d3._0x5a19c6)];_0x425cde['mapvAutoHeight']&&(_0x68676d=_0x425cde[_0x164453(_0x4d82d3._0x43be63)]['getHeight'](Cesium$1['Cartographic'][_0x164453(_0x4d82d3._0x2c5a2b)](_0x2ce49a[0x0],_0x2ce49a[0x1])));var _0x34fe0c=Cesium$1['Cartesian3']['fromDegrees'](_0x2ce49a[0x0],_0x2ce49a[0x1],_0x68676d);if(!_0x34fe0c)return _0x4e20ee;var _0x3957fd=_0x425cde['cartesianToCanvasCoordinates'](_0x34fe0c);if(!_0x3957fd)return _0x4e20ee;if(_0x425cde['mapvDepthTest']&&_0x425cde['mode']===Cesium$1['SceneMode'][_0x164453(0x192)]){var _0x473846=new Cesium$1[(_0x164453(0x19d))](_0x425cde['globe']['ellipsoid'],_0x425cde['camera']['positionWC']),_0x52b21c=_0x473846[_0x164453(0x1dc)](_0x34fe0c);if(!_0x52b21c)return _0x4e20ee;}return[_0x3957fd['x'],_0x3957fd['y']];}};void 0x0!==_0x4d0855&&(_0x1ed68f['filter']=function(_0x236f5f){var _0x1237f5=_0x40d8a2,_0xa0eb04=_0x314226[_0x1237f5(_0x241895._0x54b4e7)]||0xa;return!!(_0x4d0855&&_0x236f5f[_0x1237f5(0x1a4)]>_0x4d0855-_0xa0eb04&&_0x236f5f[_0x1237f5(_0x241895._0x408345)]<_0x4d0855);});var _0x15cabd=this['dataSet']['get'](_0x1ed68f);this[_0x40d8a2(_0xf83802._0x401856)](_0x15cabd),this[_0x40d8a2(0x1b6)][_0x40d8a2(0x1e8)]==='m'&&this[_0x40d8a2(0x1b6)][_0x40d8a2(0x1c2)],this['options']['_size']=this['options'][_0x40d8a2(_0xf83802._0x278608)];var _0x1f2a6c=_0x425cde[_0x40d8a2(0x199)](Cesium$1[_0x40d8a2(0x1f3)]['fromDegrees'](0x0,0x0));if(!_0x1f2a6c)return;this[_0x40d8a2(_0xf83802._0x283dc4)](_0x139e67,new mapv__namespace['DataSet'](_0x15cabd),this[_0x40d8a2(_0xf83802._0x256899)],_0x1f2a6c),this['options'][_0x40d8a2(_0xf83802._0x4412ed)]&&this[_0x40d8a2(0x1b6)][_0x40d8a2(0x1cc)](_0x4d0855);}}},{'key':_0x4339c(_0x83a237._0x4dc2f8),'value':function _0x5a8754(_0x4420e5,_0x369e8c){var _0x569e1e=_0x4339c,_0x3a8421=_0x4420e5;_0x3a8421&&_0x3a8421[_0x569e1e(0x1d3)]&&(_0x3a8421=_0x3a8421[_0x569e1e(_0xcb11d6._0x5bf506)]()),void 0x0!==_0x3a8421&&this[_0x569e1e(0x1c7)]['set'](_0x3a8421),_get(_getPrototypeOf(_0x4fe6ee['prototype']),_0x569e1e(0x1db),this)['call'](this,{'options':_0x369e8c});}},{'key':'addData','value':function _0x2d1155(_0x2e9bfb,_0x42eff0){var _0x4a4223=_0x4339c,_0x4f08ae=_0x2e9bfb;_0x2e9bfb&&_0x2e9bfb['get']&&(_0x4f08ae=_0x2e9bfb['get']()),this['dataSet']['add'](_0x4f08ae),this[_0x4a4223(_0x57f3e2._0x59a427)]({'options':_0x42eff0});}},{'key':'getData','value':function _0x1ab9d2(){return this['dataSet'];}},{'key':'removeData','value':function _0x4cb5b3(_0x33834e){var _0x12cbe6=_0x4339c;if(this['dataSet']){var _0x34a4c8=this['dataSet']['get']({'filter':function _0xe7ff22(_0x4ec01b){return _0x33834e==null||typeof _0x33834e!=='function'||!_0x33834e(_0x4ec01b);}});this['dataSet']['set'](_0x34a4c8),this[_0x12cbe6(0x1db)]({'options':null});}}},{'key':'clearData','value':function _0x44b7c7(){var _0x68f0ab=_0x4339c;this['dataSet']&&this[_0x68f0ab(0x1c7)]['clear'](),this['update']({'options':null});}},{'key':'draw','value':function _0xa5cc37(){var _0x46aaa0=_0x4339c;this[_0x46aaa0(0x1b8)]['draw']();}},{'key':_0x4339c(_0x83a237._0x55b2c5),'value':function _0x275f25(_0x47f24c){var _0x501fd5=_0x4339c;_0x47f24c&&_0x47f24c['clearRect']&&_0x47f24c['clearRect'](0x0,0x0,_0x47f24c['canvas']['width'],_0x47f24c['canvas'][_0x501fd5(_0x567ea0._0x5d375a)]);}},{'key':'destroy','value':function _0x1f43a1(){var _0x8b8595=_0x4339c;this['clear'](this['getContext']()),this[_0x8b8595(_0x14b787._0x291c68)](),this[_0x8b8595(0x1c5)]&&this['animator']['stop'](),this[_0x8b8595(0x1c5)]=null,this[_0x8b8595(0x1b8)]=null;}}]),_0x4fe6ee;}(BaseLayer$1);if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype'][_0x23a62d(0x194)]=function(_0x38e0fa,_0xde6ecc,_0x2aaceb,_0xbc53fc){var _0x3ffc63={_0x255926:0x1c8,_0x31658b:0x18c},_0x230105={_0x11a72a:0x18c,_0x2fe7cf:0x195},_0x1291a6=_0x23a62d;_0xbc53fc=_0xbc53fc||_0x1291a6(_0x3ffc63._0x255926),_0x2aaceb=_0x2aaceb||'coordinates';for(var _0x1f9bb6=0x0;_0x1f9bb6<_0x38e0fa['length'];_0x1f9bb6++){var _0x52854a=_0x38e0fa[_0x1f9bb6]['geometry'],_0x37854a=_0x52854a[_0x2aaceb];switch(_0x52854a['type']){case'Point':{var _0x48f731=_0xde6ecc(_0x37854a);_0x48f731?_0x52854a[_0xbc53fc]=_0x48f731:_0x52854a[_0xbc53fc]=[-0x3e7,-0x3e7];}break;case _0x1291a6(0x18f):{var _0x5b46cf=[];for(var _0x3bea77=0x0;_0x3bea77<_0x37854a[_0x1291a6(_0x3ffc63._0x31658b)];_0x3bea77++){var _0x2bbedb=_0xde6ecc(_0x37854a[_0x3bea77]);_0x2bbedb&&_0x5b46cf['push'](_0x2bbedb);}_0x52854a[_0xbc53fc]=_0x5b46cf;}break;case'MultiLineString':case'Polygon':{var _0x5f4dca=_0x1001ce(_0x37854a);_0x52854a[_0xbc53fc]=_0x5f4dca;}break;case'MultiPolygon':{var _0x2c8192=[];for(var _0x50a25a=0x0;_0x50a25a<_0x37854a['length'];_0x50a25a++){var _0x53757b=_0x1001ce(_0x37854a[_0x50a25a]);_0x53757b['length']>0x0&&_0x2c8192['push'](_0x53757b);}_0x52854a[_0xbc53fc]=_0x2c8192;}break;}}function _0x1001ce(_0x2e929c){var _0x3b5ff3=_0x1291a6,_0x5885b0=[];for(var _0x57e460=0x0;_0x57e460<_0x2e929c[_0x3b5ff3(_0x230105._0x11a72a)];_0x57e460++){var _0x4bb99c=_0x2e929c[_0x57e460],_0x147d39=[];for(var _0x279cc8=0x0;_0x279cc8<_0x4bb99c['length'];_0x279cc8++){var _0x335a57=_0xde6ecc(_0x4bb99c[_0x279cc8]);_0x335a57&&_0x147d39['push'](_0x335a57);}_0x147d39['length']>0x0&&_0x5885b0[_0x3b5ff3(_0x230105._0x2fe7cf)](_0x147d39);}return _0x5885b0;}return _0x38e0fa;};else throw new Error(_0x23a62d(0x1ce));var Cesium=mars3d__namespace[_0x23a62d(0x1e7)],BaseLayer=mars3d__namespace[_0x23a62d(0x1ad)]['BaseLayer'],divId=0x0,MapVLayer=function(_0x5a8eb1){var _0x1ba60c={_0x430e95:0x1bb,_0x4c668a:0x1a5,_0xedda09:0x1d6,_0x59a396:0x18b,_0x510df0:0x18e},_0x53501b={_0x473b6d:0x18b,_0x15afec:0x1b6,_0x43cf21:0x18e},_0x5daad4={_0x4c5229:0x1e3},_0xa4437a={_0xb6d78d:0x1be},_0x2da099={_0x218cbb:0x1ed},_0x13418f={_0x1fad90:0x1c7},_0x363bf2={_0x4cbd98:0x1b3,_0x138f84:0x1e1,_0x284fe0:0x1b3,_0x2b27c3:0x1b3,_0x42d1bb:0x1e1},_0x46569f={_0x3538c5:0x1d2},_0xe51c6={_0x40f05d:0x1d9},_0x10f459={_0x2ab0ed:0x1b3,_0x3fc1b1:0x1e1,_0x5eea1f:0x1f5},_0x1147b1={_0x2733fc:0x1ee},_0x25325d={_0x5bc3ba:0x1d2},_0x16eb3b={_0x400749:0x1cd},_0x33a1bb={_0x39fc4e:0x18e,_0xc38a7a:0x193,_0x32090d:0x1a6,_0x7ae75d:0x1b6},_0x114572={_0x4f3496:0x190,_0x123f8e:0x1b6,_0x5e6f39:0x1bf,_0x20343a:0x1df},_0x4ef024={_0x2c98db:0x1ca},_0x2732d6={_0x1baa7d:0x1d2,_0x1e3e68:0x1b3},_0x17bfa6={_0x5c171c:0x1d4,_0x22faa0:0x1c7},_0x101ee0={_0x3f0c54:0x1e2,_0x1c1215:0x1b6,_0x24ae0b:0x1b6},_0x25fdf0={_0x55dd63:0x1d5,_0x1afc61:0x1b3},_0x112240={_0x2fbd5c:0x1e1},_0x35b96a={_0x60f811:0x1b6},_0x11359f=_0x23a62d;_inherits(_0x1cbc20,_0x5a8eb1);var _0xbad3f3=_createSuper(_0x1cbc20);function _0x1cbc20(_0x49d9a9,_0x1f5bf7){var _0x3487a6=_0x1f56,_0x1365c9;return _classCallCheck(this,_0x1cbc20),_0x1365c9=_0xbad3f3['call'](this,_0x49d9a9),_0x1365c9['_pointerEvents']=_0x1365c9[_0x3487a6(_0x35b96a._0x60f811)]['pointerEvents'],_0x1365c9['dataSet']=_0x1f5bf7||new mapv__namespace['DataSet'](_0x49d9a9['data']),_0x1365c9['canvas']=null,_0x1365c9;}return _createClass(_0x1cbc20,[{'key':'pointerEvents','get':function _0x176a8f(){return this['_pointerEvents'];},'set':function _0x25412b(_0x11428e){var _0x2bad87=_0x1f56;this[_0x2bad87(0x18a)]=_0x11428e,this['canvas']&&(_0x11428e?this['canvas'][_0x2bad87(_0x112240._0x2fbd5c)]['pointerEvents']='all':this['canvas']['style']['pointerEvents']='none');}},{'key':'_showHook','value':function _0x386fcc(_0x5ea07f){var _0x78429b=_0x1f56;_0x5ea07f?this['canvas']['style']['display']=_0x78429b(_0x25fdf0._0x55dd63):this[_0x78429b(_0x25fdf0._0x1afc61)]['style']['display']='none';}},{'key':'_mountedHook','value':function _0x453095(){var _0x2fe285=_0x1f56,_0x2e3bb6,_0x2f25d7,_0x52bf28;this['_map'][_0x2fe285(_0x101ee0._0x3f0c54)]['mapvDepthTest']=(_0x2e3bb6=this['options']['depthTest'])!==null&&_0x2e3bb6!==void 0x0?_0x2e3bb6:!![],this[_0x2fe285(0x1b0)]['scene'][_0x2fe285(0x1a2)]=(_0x2f25d7=this[_0x2fe285(_0x101ee0._0x1c1215)][_0x2fe285(0x1dd)])!==null&&_0x2f25d7!==void 0x0?_0x2f25d7:![],this['_map']['scene'][_0x2fe285(0x1f7)]=(_0x52bf28=this[_0x2fe285(_0x101ee0._0x24ae0b)]['fixedHeight'])!==null&&_0x52bf28!==void 0x0?_0x52bf28:0x0;}},{'key':_0x11359f(_0x1ba60c._0x430e95),'value':function _0x52e2d2(){var _0x3c06c9=_0x11359f;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet'][_0x3c06c9(0x1bd)]=[]['concat'](this['dataSet'][_0x3c06c9(_0x17bfa6._0x5c171c)])),this[_0x3c06c9(0x1d2)]=new MapVRenderer(this[_0x3c06c9(0x1b0)],this[_0x3c06c9(_0x17bfa6._0x22faa0)],this['options'],this),this[_0x3c06c9(0x1ec)](),this['canvas']=this['_createCanvas'](),this['render']=this['render'][_0x3c06c9(0x19e)](this),this['bindEvent'](),this[_0x3c06c9(0x189)]();}},{'key':'_removedHook','value':function _0x5be516(){var _0x2bd032=_0x11359f;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x2bd032(_0x2732d6._0x1baa7d)]['destroy'](),this['_mapVRenderer']=null),this[_0x2bd032(_0x2732d6._0x1e3e68)]['parentElement']['removeChild'](this['canvas']);}},{'key':'initDevicePixelRatio','value':function _0x114798(){var _0xe59138=_0x11359f;this['devicePixelRatio']=window[_0xe59138(_0x4ef024._0x2c98db)]||0x1;}},{'key':'bindEvent','value':function _0x478246(){var _0x2ab72e=_0x11359f,_0x4d2e5d,_0x1bac1a,_0x5eba01,_0x1eece8;this['_map']['on'](mars3d__namespace['EventType'][_0x2ab72e(_0x114572._0x4f3496)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x2ab72e(0x1d1)][_0x2ab72e(0x1c4)],this['_onMoveEndEvent'],this),(_0x4d2e5d=this[_0x2ab72e(_0x114572._0x123f8e)])!==null&&_0x4d2e5d!==void 0x0&&(_0x1bac1a=_0x4d2e5d['methods'])!==null&&_0x1bac1a!==void 0x0&&_0x1bac1a['click']&&this['_map']['on'](mars3d__namespace[_0x2ab72e(0x1d1)][_0x2ab72e(0x1e3)],this['_onMapClick'],this),(_0x5eba01=this['options'])!==null&&_0x5eba01!==void 0x0&&(_0x1eece8=_0x5eba01[_0x2ab72e(_0x114572._0x5e6f39)])!==null&&_0x1eece8!==void 0x0&&_0x1eece8['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0x2ab72e(_0x114572._0x20343a)],this['_onMapMouseMove'],this);}},{'key':'unbindEvent','value':function _0x303e97(){var _0x985a0b=_0x11359f,_0x1d29c6,_0x1d8ccb,_0x5e817b,_0x1e96fd;this['_map'][_0x985a0b(_0x33a1bb._0x39fc4e)](mars3d__namespace['EventType']['mouseDown'],this[_0x985a0b(_0x33a1bb._0xc38a7a)],this),this['_map']['off'](mars3d__namespace[_0x985a0b(0x1d1)][_0x985a0b(_0x33a1bb._0x32090d)],this['_onMoveStartEvent'],this),this['_map'][_0x985a0b(0x18e)](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map'][_0x985a0b(0x18e)](mars3d__namespace['EventType']['postRender'],this[_0x985a0b(0x189)],this),(_0x1d29c6=this[_0x985a0b(_0x33a1bb._0x7ae75d)])!==null&&_0x1d29c6!==void 0x0&&(_0x1d8ccb=_0x1d29c6['methods'])!==null&&_0x1d8ccb!==void 0x0&&_0x1d8ccb['click']&&this[_0x985a0b(0x1b0)][_0x985a0b(0x18e)](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x5e817b=this['options'])!==null&&_0x5e817b!==void 0x0&&(_0x1e96fd=_0x5e817b['methods'])!==null&&_0x1e96fd!==void 0x0&&_0x1e96fd['mousemove']&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x985a0b(0x1bc)],this);}},{'key':'_onMoveStartEvent','value':function _0x33a870(){var _0x57e3a0=_0x11359f;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x57e3a0(_0x16eb3b._0x400749)](),this[_0x57e3a0(0x1b0)][_0x57e3a0(0x18e)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace[_0x57e3a0(0x1d1)][_0x57e3a0(0x1ab)],this['_reset'],this));}},{'key':'_onMoveEndEvent','value':function _0x42c704(){var _0x30d8db=_0x11359f;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType'][_0x30d8db(0x1ab)],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}},{'key':'_setOptionsHook','value':function _0xca4a08(_0x24f54a,_0x5172bc){this['_removedHook'](),this['_addedHook']();}},{'key':'addData','value':function _0x5cea9f(_0x4e323e){var _0xb780aa=_0x11359f;this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x4e323e,this[_0xb780aa(0x1b6)]);}},{'key':_0x11359f(0x191),'value':function _0xed83cd(_0x25d2ba){var _0x4dd25f=_0x11359f;this['_mapVRenderer']&&this[_0x4dd25f(_0x25325d._0x5bc3ba)]['updateData'](_0x25d2ba,this['options']);}},{'key':'getData','value':function _0x11a395(){var _0x2ff1c6=_0x11359f;return this[_0x2ff1c6(0x1d2)]&&(this['dataSet']=this['_mapVRenderer'][_0x2ff1c6(_0x1147b1._0x2733fc)]()),this['dataSet'];}},{'key':'removeData','value':function _0x25c528(_0x242fbc){var _0x694e39=_0x11359f;this[_0x694e39(0x1d2)]&&this['_mapVRenderer']['removeData'](_0x242fbc);}},{'key':_0x11359f(_0x1ba60c._0x4c668a),'value':function _0x3f797b(){var _0x2527cf=_0x11359f;this[_0x2527cf(0x1d2)]&&this[_0x2527cf(0x1d2)]['clearData']();}},{'key':_0x11359f(_0x1ba60c._0xedda09),'value':function _0x1f8486(){var _0x3f33a6=_0x11359f,_0x27b545=mars3d__namespace['DomUtil']['create'](_0x3f33a6(_0x10f459._0x2ab0ed),'mars3d-mapv',this[_0x3f33a6(0x1b0)]['container']);_0x27b545['id']=this[_0x3f33a6(0x1b6)]['layerid']||_0x3f33a6(0x1de)+divId++,_0x27b545['style']['position']='absolute',_0x27b545['style'][_0x3f33a6(0x19a)]='0px',_0x27b545['style']['left']=_0x3f33a6(0x1e4),_0x27b545['style'][_0x3f33a6(0x1b4)]=this['_pointerEvents']?'auto':'none',_0x27b545['style']['zIndex']=this[_0x3f33a6(0x1b6)]['zIndex']||0x64,_0x27b545['width']=parseInt(this[_0x3f33a6(0x1b0)]['canvas']['width']),_0x27b545['height']=parseInt(this[_0x3f33a6(0x1b0)]['canvas']['height']),_0x27b545['style']['width']=this['_map']['canvas'][_0x3f33a6(_0x10f459._0x3fc1b1)]['width'],_0x27b545['style']['height']=this['_map'][_0x3f33a6(_0x10f459._0x2ab0ed)][_0x3f33a6(_0x10f459._0x3fc1b1)][_0x3f33a6(0x1d0)];if(this['options']['context']==='2d'){var _0x4dcf4e=this['devicePixelRatio'];_0x27b545[_0x3f33a6(0x1b9)](this[_0x3f33a6(0x1b6)]['context'])[_0x3f33a6(_0x10f459._0x5eea1f)](_0x4dcf4e,_0x4dcf4e);}return _0x27b545;}},{'key':'_reset','value':function _0x26145d(){this['resize'](),this['render']();}},{'key':'draw','value':function _0x14b7a7(){this['_reset']();}},{'key':_0x11359f(0x19b),'value':function _0x4f4d56(){var _0x591dd1=_0x11359f;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x591dd1(0x1eb)](),this['_mapVRenderer']=null),this['canvas'][_0x591dd1(_0xe51c6._0x40f05d)]['removeChild'](this['canvas']);}},{'key':'render','value':function _0x2f97d7(){var _0xec6217=_0x11359f;this[_0xec6217(_0x46569f._0x3538c5)]['_canvasUpdate']();}},{'key':'resize','value':function _0x36ac33(){var _0x299b47=_0x11359f;if(this['canvas']){var _0x55be7f=this[_0x299b47(_0x363bf2._0x4cbd98)];_0x55be7f['style']['position']='absolute',_0x55be7f['style']['top']=_0x299b47(0x1e4),_0x55be7f[_0x299b47(_0x363bf2._0x138f84)]['left']='0px',_0x55be7f['width']=parseInt(this['_map'][_0x299b47(_0x363bf2._0x284fe0)][_0x299b47(0x1aa)]),_0x55be7f['height']=parseInt(this['_map'][_0x299b47(_0x363bf2._0x2b27c3)]['height']),_0x55be7f[_0x299b47(0x1e1)]['width']=this['_map']['canvas'][_0x299b47(_0x363bf2._0x42d1bb)]['width'],_0x55be7f['style']['height']=this['_map']['canvas']['style']['height'];}}},{'key':'getRectangle','value':function _0x1e5ead(_0x110b28){var _0x193a26=_0x11359f;if(!this['dataSet']||!this['dataSet']['_data'])return;var _0xbbdb06=mars3d__namespace[_0x193a26(0x1e9)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0x193a26(_0x13418f._0x1fad90)]['_data']});if(!_0xbbdb06)return;return _0x110b28!==null&&_0x110b28!==void 0x0&&_0x110b28['isFormat']?_0xbbdb06:Cesium['Rectangle']['fromDegrees'](_0xbbdb06['xmin'],_0xbbdb06['ymin'],_0xbbdb06['xmax'],_0xbbdb06['ymax']);}},{'key':_0x11359f(_0x1ba60c._0x59a396),'value':function _0x10cf33(_0x327730){var _0x49ae80=_0x11359f;this['_cache_event']=_0x327730,this['_mapVRenderer']&&this[_0x49ae80(0x1d2)][_0x49ae80(_0x2da099._0x218cbb)](_0x327730['windowPosition'],_0x327730);}},{'key':'_onMapMouseMove','value':function _0x20c20b(_0x1f64bb){var _0x446b43=_0x11359f;this['_cache_event']=_0x1f64bb,this['_mapVRenderer']&&this['_mapVRenderer'][_0x446b43(_0xa4437a._0xb6d78d)](_0x1f64bb['windowPosition'],_0x1f64bb);}},{'key':'on','value':function _0x1f4674(_0x143853,_0x31036a,_0x1b166b){var _0x1e5c74={_0x4d91b5:0x19e},_0x2cd3b3=_0x11359f,_0x18ec71=this;this['options']['methods']=this['options']['methods']||{};if(_0x143853===mars3d__namespace['EventType'][_0x2cd3b3(0x1e3)])this['options']['methods'][_0x2cd3b3(_0x5daad4._0x4c5229)]=function(_0x4d5a5d){var _0x20da5c=_0x2cd3b3;_0x4d5a5d&&_0x31036a['bind'](_0x1b166b)(_objectSpread2(_objectSpread2({},_0x18ec71[_0x20da5c(0x1c9)]),{},{'layer':_0x18ec71,'data':_0x4d5a5d}));},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x143853===mars3d__namespace['EventType']['mouseMove']&&(this['options']['methods']['mousemove']=function(_0x58061f){var _0x3840e0=_0x2cd3b3;_0x58061f&&_0x31036a[_0x3840e0(_0x1e5c74._0x4d91b5)](_0x1b166b)(_objectSpread2(_objectSpread2({},_0x18ec71['_cache_event']),{},{'layer':_0x18ec71,'data':_0x58061f}));},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}},{'key':_0x11359f(_0x1ba60c._0x510df0),'value':function _0x22c20f(_0x257899,_0x2dc0cf){var _0x4b2025=_0x11359f;if(_0x257899==='click'){var _0x5de0a3;this['_map']['off'](_0x257899,this[_0x4b2025(_0x53501b._0x473b6d)],this),(_0x5de0a3=this[_0x4b2025(_0x53501b._0x15afec)]['methods'])!==null&&_0x5de0a3!==void 0x0&&_0x5de0a3['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x257899==='mouseMove'){var _0x5e250b;this['_map'][_0x4b2025(_0x53501b._0x43cf21)](_0x257899,this['_onMapMouseMove'],this),(_0x5e250b=this['options']['methods'])!==null&&_0x5e250b!==void 0x0&&_0x5e250b[_0x4b2025(0x1b5)]&&delete this['options']['methods']['mousemove'];}}return this;}}]),_0x1cbc20;}(BaseLayer);mars3d__namespace['LayerUtil']['register'](_0x23a62d(0x1de),MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,exports['MapVLayer']=MapVLayer,Object[_0x23a62d(0x1f0)](mapv)['forEach'](function(_0x25c4ab){if(_0x25c4ab!=='default'&&!exports['hasOwnProperty'](_0x25c4ab))Object['defineProperty'](exports,_0x25c4ab,{'enumerable':!![],'get':function(){return mapv[_0x25c4ab];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
