/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.2
 * 编译日期：2023-08-20 20:29:09
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0xcc6365=_0xeb4f;(function(_0x2c2de2,_0x3ada65){const _0x3f9bcc={_0x15c6b8:0x18b,_0x4c52d6:0x1b8,_0x1f1262:0x1e1,_0x2c1143:0x1c5,_0x229daf:0x1ee},_0x4d2e2b=_0xeb4f,_0x4d1ec3=_0x2c2de2();while(!![]){try{const _0xc1c7e8=-parseInt(_0x4d2e2b(_0x3f9bcc._0x15c6b8))/0x1+parseInt(_0x4d2e2b(0x1a4))/0x2*(-parseInt(_0x4d2e2b(0x1cc))/0x3)+-parseInt(_0x4d2e2b(_0x3f9bcc._0x4c52d6))/0x4+parseInt(_0x4d2e2b(_0x3f9bcc._0x1f1262))/0x5*(parseInt(_0x4d2e2b(_0x3f9bcc._0x2c1143))/0x6)+parseInt(_0x4d2e2b(0x1dd))/0x7+-parseInt(_0x4d2e2b(_0x3f9bcc._0x229daf))/0x8+parseInt(_0x4d2e2b(0x1b6))/0x9;if(_0xc1c7e8===_0x3ada65)break;else _0x4d1ec3['push'](_0x4d1ec3['shift']());}catch(_0x3c9edf){_0x4d1ec3['push'](_0x4d1ec3['shift']());}}}(_0x2893,0xa52e1));function _0xeb4f(_0x5479ac,_0x293c7f){const _0x289330=_0x2893();return _0xeb4f=function(_0xeb4ff9,_0x4a9be9){_0xeb4ff9=_0xeb4ff9-0x18a;let _0x2ddbb7=_0x289330[_0xeb4ff9];return _0x2ddbb7;},_0xeb4f(_0x5479ac,_0x293c7f);}function _interopNamespace(_0x355450){const _0x1a3ff4={_0x2c8e7e:0x1ac},_0x3104af=_0xeb4f;if(_0x355450&&_0x355450['__esModule'])return _0x355450;var _0x37527b=Object['create'](null);return _0x355450&&Object['keys'](_0x355450)[_0x3104af(0x1ef)](function(_0x579aff){const _0x25b15b=_0x3104af;if(_0x579aff!==_0x25b15b(0x1ea)){var _0x12bd76=Object['getOwnPropertyDescriptor'](_0x355450,_0x579aff);Object[_0x25b15b(0x1c4)](_0x37527b,_0x579aff,_0x12bd76[_0x25b15b(_0x1a3ff4._0x2c8e7e)]?_0x12bd76:{'enumerable':!![],'get':function(){return _0x355450[_0x579aff];}});}}),_0x37527b['default']=_0x355450,_0x37527b;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x154cf5,_0x43562a,_0x16503e,_0x4fe0f8){const _0x41d8ca={_0x33eb74:0x19f,_0x702f3c:0x1b1},_0xe0a99d=_0xeb4f;super(_0x154cf5,_0x43562a,_0x16503e);if(!BaseLayer$1)return;this['map']=_0x154cf5,this[_0xe0a99d(0x192)]=_0x154cf5['scene'],this[_0xe0a99d(0x1d3)]=_0x43562a,_0x16503e=_0x16503e||{},this['init'](_0x16503e),this['argCheck'](_0x16503e),this[_0xe0a99d(_0x41d8ca._0x33eb74)](),this['canvasLayer']=_0x4fe0f8,this[_0xe0a99d(0x1cf)]=!0x1,this[_0xe0a99d(_0x41d8ca._0x702f3c)]=_0x16503e[_0xe0a99d(_0x41d8ca._0x702f3c)];}[_0xcc6365(0x19f)](){const _0x2a6aa6={_0x4b58ba:0x1d5},_0x3a9d96=_0xcc6365;this['devicePixelRatio']=window[_0x3a9d96(_0x2a6aa6._0x4b58ba)]||0x1;}[_0xcc6365(0x1a7)](){}[_0xcc6365(0x1d1)](){const _0x4f95e5=_0xcc6365,_0x524e43=this[_0x4f95e5(0x1e0)]['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x524e43['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}[_0xcc6365(0x1a0)](){const _0x215fc6={_0x56d622:0x196},_0xbb39ea=_0xcc6365;return this[_0xbb39ea(_0x215fc6._0x56d622)]['canvas']['getContext'](this[_0xbb39ea(0x198)]);}[_0xcc6365(0x190)](_0x5ee5e7){const _0x3449c9={_0x16208b:0x1e0,_0x16dd5a:0x1e0,_0x3a31b9:0x196,_0x1f1daa:0x199,_0x40c277:0x18a},_0x3f9bdd=_0xcc6365;this['options']=_0x5ee5e7,this['initDataRange'](_0x5ee5e7),this['context']=this[_0x3f9bdd(_0x3449c9._0x16208b)]['context']||'2d',this[_0x3f9bdd(_0x3449c9._0x16dd5a)]['zIndex']&&this['canvasLayer']&&this[_0x3f9bdd(_0x3449c9._0x3a31b9)]['setZIndex']&&this['canvasLayer'][_0x3f9bdd(_0x3449c9._0x1f1daa)](this[_0x3f9bdd(0x1e0)]['zIndex']),this[_0x3f9bdd(_0x3449c9._0x40c277)]();}['_canvasUpdate'](_0xd192ba){const _0x582fba={_0x5b18e1:0x1a8,_0x5be219:0x198,_0x2d4d8c:0x1d9,_0x288e63:0x1c3,_0x552102:0x1b9,_0x3aab55:0x1eb,_0x2c5764:0x1c7},_0x2ba581={_0x5bce62:0x1ed},_0x43bdf2={_0xceac9e:0x1a3},_0xceecd6=_0xcc6365,_0x280969=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x36f013=this['options']['animation'],_0x2e33f3=this['getContext']();if(this[_0xceecd6(_0x582fba._0x5b18e1)]()){if(void 0x0===_0xd192ba)return void this[_0xceecd6(0x19d)](_0x2e33f3);this[_0xceecd6(_0x582fba._0x5be219)]==='2d'&&(_0x2e33f3['save'](),_0x2e33f3['globalCompositeOperation']='destination-out',_0x2e33f3[_0xceecd6(_0x582fba._0x2d4d8c)]='rgba(0,\x200,\x200,\x20.1)',_0x2e33f3['fillRect'](0x0,0x0,_0x2e33f3['canvas'][_0xceecd6(0x18f)],_0x2e33f3[_0xceecd6(0x1d0)]['height']),_0x2e33f3['restore']());}else this['clear'](_0x2e33f3);if(this['context']==='2d')for(const _0x47b7c1 in this['options']){_0x2e33f3[_0x47b7c1]=this['options'][_0x47b7c1];}else _0x2e33f3['clear'](_0x2e33f3[_0xceecd6(_0x582fba._0x288e63)]);const _0x235880={'transferCoordinate':function(_0xcdd317){const _0x57e16e=_0xceecd6,_0x3a4747=null;let _0x54363b=_0x280969[_0x57e16e(0x1e7)];_0x280969[_0x57e16e(0x1df)]&&(_0x54363b=_0x280969['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0xcdd317[0x0],_0xcdd317[0x1])));const _0x49838b=Cesium$1['Cartesian3']['fromDegrees'](_0xcdd317[0x0],_0xcdd317[0x1],_0x54363b);if(!_0x49838b)return _0x3a4747;const _0xdd8e8c=_0x280969['cartesianToCanvasCoordinates'](_0x49838b);if(!_0xdd8e8c)return _0x3a4747;if(_0x280969['mapvDepthTest']&&_0x280969['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x1aa38e=new Cesium$1[(_0x57e16e(0x1bb))](_0x280969['globe'][_0x57e16e(_0x43bdf2._0xceac9e)],_0x280969['camera']['positionWC']),_0xfa2f9c=_0x1aa38e['isPointVisible'](_0x49838b);if(!_0xfa2f9c)return _0x3a4747;}return[_0xdd8e8c['x'],_0xdd8e8c['y']];}};void 0x0!==_0xd192ba&&(_0x235880['filter']=function(_0x4d90b7){const _0x28c0d7=_0xceecd6,_0x29364a=_0x36f013[_0x28c0d7(_0x2ba581._0x5bce62)]||0xa;return!!(_0xd192ba&&_0x4d90b7['time']>_0xd192ba-_0x29364a&&_0x4d90b7['time']<_0xd192ba);});const _0x5fa4b9=this['dataSet'][_0xceecd6(0x1ac)](_0x235880);this['processData'](_0x5fa4b9),this['options']['unit']==='m'&&this['options'][_0xceecd6(_0x582fba._0x552102)],this['options']['_size']=this['options']['size'];const _0x70d589=_0x280969['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x70d589)return;this[_0xceecd6(_0x582fba._0x3aab55)](_0x2e33f3,new mapv__namespace['DataSet'](_0x5fa4b9),this['options'],_0x70d589),this['options'][_0xceecd6(_0x582fba._0x2c5764)]&&this['options'][_0xceecd6(0x1c7)](_0xd192ba);}}[_0xcc6365(0x1de)](_0x227ba4,_0x5ca2ff){let _0x14e949=_0x227ba4;_0x14e949&&_0x14e949['get']&&(_0x14e949=_0x14e949['get']()),void 0x0!==_0x14e949&&this['dataSet']['set'](_0x14e949),super['update']({'options':_0x5ca2ff});}['addData'](_0x3adefc,_0x9ddbd8){const _0x73c2d0={_0x572655:0x1d3},_0x35b07c=_0xcc6365;let _0x272f34=_0x3adefc;_0x3adefc&&_0x3adefc['get']&&(_0x272f34=_0x3adefc['get']()),this[_0x35b07c(_0x73c2d0._0x572655)][_0x35b07c(0x19c)](_0x272f34),this['update']({'options':_0x9ddbd8});}['getData'](){return this['dataSet'];}['removeData'](_0x1c2cbb){const _0x2ee05a={_0x2349d3:0x1a5},_0x3f6099=_0xcc6365;if(this['dataSet']){const _0xb2ce43=this['dataSet']['get']({'filter':function(_0x41987c){const _0x38cceb=_0xeb4f;return _0x1c2cbb==null||typeof _0x1c2cbb!==_0x38cceb(_0x2ee05a._0x2349d3)||!_0x1c2cbb(_0x41987c);}});this[_0x3f6099(0x1d3)]['set'](_0xb2ce43),this['update']({'options':null});}}['clearData'](){const _0x401185={_0x206400:0x19d},_0x14ef52=_0xcc6365;this['dataSet']&&this['dataSet'][_0x14ef52(_0x401185._0x206400)](),this['update']({'options':null});}[_0xcc6365(0x194)](){this['canvasLayer']['draw']();}['clear'](_0x5ec843){const _0x12cbe0=_0xcc6365;_0x5ec843&&_0x5ec843['clearRect']&&_0x5ec843['clearRect'](0x0,0x0,_0x5ec843['canvas'][_0x12cbe0(0x18f)],_0x5ec843['canvas']['height']);}['destroy'](){const _0x9b7a5a=_0xcc6365;this[_0x9b7a5a(0x19d)](this['getContext']()),this['clearData'](),this['animator']&&this['animator']['stop'](),this[_0x9b7a5a(0x1ca)]=null,this['canvasLayer']=null;}}function _0x2893(){const _0x5723e2=['clampToGround','7093926eKUWJH','mouseMove','1982924QNZund','size','_onMoveStartEvent','EllipsoidalOccluder','_cache_event','mousemove','removeChild','position','addData','_showHook','isFormat','COLOR_BUFFER_BIT','defineProperty','534DosHOL','remove','updateCallback','none','_mapVRenderer','animator','data','7872PBQZRE','getRectangle','coordinates','stopAniamation','canvas','animatorMovestartEvent','auto','dataSet','fixedHeight','devicePixelRatio','windowPosition','MapVLayer','0px','fillStyle','style','_onMapMouseMove','click','6809880skNkWT','updateData','mapvAutoHeight','options','54515TFtFMU','getData','render','left','destroy','keys','mapvFixedHeight','_coordinates','unbindEvent','default','drawContext','off','trails','5455456dPxsUi','forEach','pointerEvents','initAnimator','659389ooHBgr','xmin','Cesium','_reset','width','init','cameraMoveEnd','scene','type','draw','geometry','canvasLayer','Point','context','setZIndex','Rectangle','_addedHook','add','clear','height','initDevicePixelRatio','getContext','_onMapClick','Polygon','ellipsoid','166cNTJlQ','function','EventType','addAnimatorEvent','isEnabledTime','push','resize','_data','get','FeatureCollection','mousemoveEvent','postRender','methods','animation','LineString','_map','length'];_0x2893=function(){return _0x5723e2;};return _0x2893();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x3a9d6e,_0x4e2e86,_0x2180d8,_0x8c0488){const _0xf95e01={_0x4c9e87:0x193,_0x4fb5f0:0x1b2,_0x50e4ce:0x1a2,_0x3af79e:0x1b4,_0x39f468:0x1a9},_0x41c8cb={_0x300491:0x1b4},_0x382519=_0xcc6365;_0x8c0488=_0x8c0488||_0x382519(0x1e8),_0x2180d8=_0x2180d8||_0x382519(0x1ce);for(let _0x2fbc86=0x0;_0x2fbc86<_0x3a9d6e[_0x382519(0x1b4)];_0x2fbc86++){const _0xa5d071=_0x3a9d6e[_0x2fbc86][_0x382519(0x195)],_0x5bf5a6=_0xa5d071[_0x2180d8];switch(_0xa5d071[_0x382519(_0xf95e01._0x4c9e87)]){case _0x382519(0x197):{const _0x3c6224=_0x4e2e86(_0x5bf5a6);_0x3c6224?_0xa5d071[_0x8c0488]=_0x3c6224:_0xa5d071[_0x8c0488]=[-0x3e7,-0x3e7];}break;case _0x382519(_0xf95e01._0x4fb5f0):{const _0x251be6=[];for(let _0x40a19f=0x0;_0x40a19f<_0x5bf5a6['length'];_0x40a19f++){const _0x21d30b=_0x4e2e86(_0x5bf5a6[_0x40a19f]);_0x21d30b&&_0x251be6['push'](_0x21d30b);}_0xa5d071[_0x8c0488]=_0x251be6;}break;case'MultiLineString':case _0x382519(_0xf95e01._0x50e4ce):{const _0x30f5a1=_0x1b3bbe(_0x5bf5a6);_0xa5d071[_0x8c0488]=_0x30f5a1;}break;case'MultiPolygon':{const _0x1b9837=[];for(let _0x1b2e1d=0x0;_0x1b2e1d<_0x5bf5a6[_0x382519(_0xf95e01._0x3af79e)];_0x1b2e1d++){const _0x1af9d9=_0x1b3bbe(_0x5bf5a6[_0x1b2e1d]);_0x1af9d9['length']>0x0&&_0x1b9837[_0x382519(_0xf95e01._0x39f468)](_0x1af9d9);}_0xa5d071[_0x8c0488]=_0x1b9837;}break;}}function _0x1b3bbe(_0x2bef81){const _0x38861a=_0x382519,_0x480cc6=[];for(let _0x48124f=0x0;_0x48124f<_0x2bef81[_0x38861a(_0x41c8cb._0x300491)];_0x48124f++){const _0x22d6d1=_0x2bef81[_0x48124f],_0x3e24cd=[];for(let _0x52b663=0x0;_0x52b663<_0x22d6d1['length'];_0x52b663++){const _0x27325a=_0x4e2e86(_0x22d6d1[_0x52b663]);_0x27325a&&_0x3e24cd['push'](_0x27325a);}_0x3e24cd['length']>0x0&&_0x480cc6[_0x38861a(0x1a9)](_0x3e24cd);}return _0x480cc6;}return _0x3a9d6e;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0xcc6365(0x18d)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x106bd0,_0x4f1785){const _0x1e8e64={_0x15a047:0x1cb},_0x21322c=_0xcc6365;super(_0x106bd0),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x4f1785||new mapv__namespace['DataSet'](_0x106bd0[_0x21322c(_0x1e8e64._0x15a047)]),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x41bc2f){const _0x5227a9={_0x5777bc:0x1da,_0x31bd12:0x1f0,_0x100e6b:0x1c8},_0x251bbd=_0xcc6365;this['_pointerEvents']=_0x41bc2f,this['canvas']&&(_0x41bc2f?this['canvas'][_0x251bbd(_0x5227a9._0x5777bc)]['pointerEvents']='all':this['canvas']['style'][_0x251bbd(_0x5227a9._0x31bd12)]=_0x251bbd(_0x5227a9._0x100e6b));}[_0xcc6365(0x1c1)](_0x4b6736){const _0x180fb1={_0x16d0c1:0x1d0,_0x335b53:0x1c8},_0x2dd038=_0xcc6365;_0x4b6736?this[_0x2dd038(_0x180fb1._0x16d0c1)]['style']['display']='block':this['canvas']['style']['display']=_0x2dd038(_0x180fb1._0x335b53);}['_mountedHook'](){const _0x40b1d9={_0x3d2d46:0x1b3,_0x3381a2:0x1b5,_0x5583d7:0x1b3,_0x2b748d:0x1d4},_0x3dd582=_0xcc6365;this[_0x3dd582(0x1b3)]['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this[_0x3dd582(_0x40b1d9._0x3d2d46)]['scene']['mapvAutoHeight']=this['options'][_0x3dd582(_0x40b1d9._0x3381a2)]??![],this[_0x3dd582(_0x40b1d9._0x5583d7)][_0x3dd582(0x192)]['mapvFixedHeight']=this['options'][_0x3dd582(_0x40b1d9._0x2b748d)]??0x0;}['_addedHook'](){const _0x3e22e1={_0x297ab9:0x1b4,_0x479897:0x1d3,_0x10cb16:0x1e3,_0x3a2463:0x18e},_0xe0d8e2=_0xcc6365;this['dataSet']&&(!this[_0xe0d8e2(0x1d3)]['_data']||this['dataSet']['_data'][_0xe0d8e2(_0x3e22e1._0x297ab9)]===0x0)&&(this[_0xe0d8e2(_0x3e22e1._0x479897)]['_data']=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this[_0xe0d8e2(0x1d3)],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this[_0xe0d8e2(_0x3e22e1._0x10cb16)]['bind'](this),this['bindEvent'](),this[_0xe0d8e2(_0x3e22e1._0x3a2463)]();}['_removedHook'](){const _0x389747={_0x2c3a49:0x1e9,_0x3f1639:0x1e5},_0x4eacd5=_0xcc6365;this[_0x4eacd5(_0x389747._0x2c3a49)](),this['_mapVRenderer']&&(this['_mapVRenderer'][_0x4eacd5(_0x389747._0x3f1639)](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x2d68f5=_0xcc6365;this[_0x2d68f5(0x1d5)]=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x5ed5df={_0x387839:0x1b3,_0xda3e05:0x1ba,_0x6ce894:0x1a1,_0x1999f2:0x1a6},_0x598111=_0xcc6365;var _0x527131,_0x2cd33e,_0x2c536c,_0xb91a9;this[_0x598111(_0x5ed5df._0x387839)]['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x598111(_0x5ed5df._0xda3e05)],this),this[_0x598111(_0x5ed5df._0x387839)]['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x598111(0x191)],this['_onMoveEndEvent'],this),(_0x527131=this['options'])!==null&&_0x527131!==void 0x0&&(_0x2cd33e=_0x527131['methods'])!==null&&_0x2cd33e!==void 0x0&&_0x2cd33e['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this[_0x598111(_0x5ed5df._0x6ce894)],this),(_0x2c536c=this['options'])!==null&&_0x2c536c!==void 0x0&&(_0xb91a9=_0x2c536c[_0x598111(0x1b0)])!==null&&_0xb91a9!==void 0x0&&_0xb91a9['mousemove']&&this['_map']['on'](mars3d__namespace[_0x598111(_0x5ed5df._0x1999f2)][_0x598111(0x1b7)],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x5a72b5={_0x1c2954:0x1b3,_0x166884:0x1a6},_0x56b6f1=_0xcc6365;var _0x4f812,_0x37ced7,_0x341c80,_0x14e425;this['_map']['off'](mars3d__namespace[_0x56b6f1(0x1a6)]['mouseDown'],this['_onMoveStartEvent'],this),this[_0x56b6f1(_0x5a72b5._0x1c2954)]['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map'][_0x56b6f1(0x1ec)](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace[_0x56b6f1(_0x5a72b5._0x166884)][_0x56b6f1(0x1af)],this['_reset'],this),(_0x4f812=this['options'])!==null&&_0x4f812!==void 0x0&&(_0x37ced7=_0x4f812['methods'])!==null&&_0x37ced7!==void 0x0&&_0x37ced7['click']&&this['_map']['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x341c80=this['options'])!==null&&_0x341c80!==void 0x0&&(_0x14e425=_0x341c80[_0x56b6f1(0x1b0)])!==null&&_0x14e425!==void 0x0&&_0x14e425['mousemove']&&this['_map']['off'](mars3d__namespace['EventType'][_0x56b6f1(0x1b7)],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x12dabb={_0x20a160:0x1b3,_0x14a8ab:0x18e},_0x5430f7=_0xcc6365;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this[_0x5430f7(_0x12dabb._0x20a160)]['off'](mars3d__namespace['EventType']['postRender'],this[_0x5430f7(_0x12dabb._0x14a8ab)],this),this['_map']['on'](mars3d__namespace[_0x5430f7(0x1a6)]['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0xef75b5={_0x709506:0x1c9},_0x473c95=_0xcc6365;this[_0x473c95(_0xef75b5._0x709506)]&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x473c95(0x18e)],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x3dedad,_0x300525){const _0x372d76=_0xcc6365;this['_removedHook'](),this[_0x372d76(0x19b)]();}[_0xcc6365(0x1c0)](_0x288617){const _0x26b064={_0x48bffc:0x1c9},_0x3cf0d0=_0xcc6365;this[_0x3cf0d0(0x1c9)]&&this[_0x3cf0d0(_0x26b064._0x48bffc)]['addData'](_0x288617,this['options']);}['updateData'](_0x46915e){const _0x56ab17={_0x1ebbfb:0x1c9,_0x45890a:0x1de},_0xe310e9=_0xcc6365;this['_mapVRenderer']&&this[_0xe310e9(_0x56ab17._0x1ebbfb)][_0xe310e9(_0x56ab17._0x45890a)](_0x46915e,this['options']);}[_0xcc6365(0x1e2)](){const _0x5cdad5={_0x2b4790:0x1d3},_0x3ae732=_0xcc6365;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x3ae732(0x1e2)]()),this[_0x3ae732(_0x5cdad5._0x2b4790)];}['removeData'](_0x5c5edd){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x5c5edd);}['removeAllData'](){const _0x2f8eb4={_0x502c65:0x1c9},_0x4bef84=_0xcc6365;this[_0x4bef84(0x1c9)]&&this[_0x4bef84(_0x2f8eb4._0x502c65)]['clearData']();}['_createCanvas'](){const _0x596775={_0x3d0216:0x1e4,_0x745300:0x19e,_0x4acf6b:0x1d0,_0x644a67:0x198,_0x376552:0x1e0},_0x3d69b0=_0xcc6365,_0x57b689=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x57b689['id']=this['id'],_0x57b689['style'][_0x3d69b0(0x1bf)]='absolute',_0x57b689[_0x3d69b0(0x1da)]['top']=_0x3d69b0(0x1d8),_0x57b689['style'][_0x3d69b0(_0x596775._0x3d0216)]='0px',_0x57b689[_0x3d69b0(0x18f)]=parseInt(this['_map']['canvas']['width']),_0x57b689['height']=parseInt(this['_map']['canvas'][_0x3d69b0(0x19e)]),_0x57b689['style'][_0x3d69b0(0x18f)]=this['_map']['canvas']['style']['width'],_0x57b689['style'][_0x3d69b0(_0x596775._0x745300)]=this['_map'][_0x3d69b0(_0x596775._0x4acf6b)]['style']['height'],_0x57b689['style']['pointerEvents']=this['_pointerEvents']?_0x3d69b0(0x1d2):_0x3d69b0(0x1c8),_0x57b689['style']['zIndex']=this['options']['zIndex']??0x9;if(this['options'][_0x3d69b0(_0x596775._0x644a67)]==='2d'){const _0x97ae=this['devicePixelRatio'];_0x57b689['getContext'](this[_0x3d69b0(_0x596775._0x376552)]['context'])['scale'](_0x97ae,_0x97ae);}return _0x57b689;}['_reset'](){const _0x6d9b=_0xcc6365;this[_0x6d9b(0x1aa)](),this['render']();}[_0xcc6365(0x194)](){this['_reset']();}[_0xcc6365(0x1c6)](){const _0x4dbedd={_0x323ec2:0x1c9},_0x370ff2=_0xcc6365;this[_0x370ff2(_0x4dbedd._0x323ec2)]&&(this['_mapVRenderer'][_0x370ff2(0x1e5)](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x370ff2(0x1be)](this['canvas']);}['render'](){const _0x26b66d=_0xcc6365;this[_0x26b66d(0x1c9)]['_canvasUpdate']();}['resize'](){const _0x395ac8={_0x46ebd7:0x1b3,_0x3db5e3:0x1d0,_0x5b2490:0x19e},_0x487730=_0xcc6365;if(this['canvas']){const _0x4104fb=this['canvas'];_0x4104fb['style'][_0x487730(0x1bf)]='absolute',_0x4104fb['style']['top']='0px',_0x4104fb['style'][_0x487730(0x1e4)]='0px',_0x4104fb['width']=parseInt(this['_map']['canvas']['width']),_0x4104fb['height']=parseInt(this[_0x487730(_0x395ac8._0x46ebd7)]['canvas']['height']),_0x4104fb[_0x487730(0x1da)]['width']=this['_map'][_0x487730(_0x395ac8._0x3db5e3)]['style']['width'],_0x4104fb['style'][_0x487730(_0x395ac8._0x5b2490)]=this['_map']['canvas']['style']['height'];}}[_0xcc6365(0x1cd)](_0x2ac580){const _0x3b07f6={_0x38debd:0x1ab,_0x243a05:0x1ad,_0x3898f5:0x1d3,_0x4ce6b4:0x1c2,_0x550ed3:0x18c},_0x496bd1=_0xcc6365;if(!this['dataSet']||!this['dataSet'][_0x496bd1(_0x3b07f6._0x38debd)])return;const _0x151274=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':_0x496bd1(_0x3b07f6._0x243a05),'features':this[_0x496bd1(_0x3b07f6._0x3898f5)]['_data']});if(!_0x151274)return;return _0x2ac580!==null&&_0x2ac580!==void 0x0&&_0x2ac580[_0x496bd1(_0x3b07f6._0x4ce6b4)]?_0x151274:Cesium[_0x496bd1(0x19a)]['fromDegrees'](_0x151274[_0x496bd1(_0x3b07f6._0x550ed3)],_0x151274['ymin'],_0x151274['xmax'],_0x151274['ymax']);}['_onMapClick'](_0x212ae7){const _0x3e1669={_0x124a36:0x1d6},_0x2f6daa=_0xcc6365;this['_cache_event']=_0x212ae7,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x212ae7[_0x2f6daa(_0x3e1669._0x124a36)],_0x212ae7);}[_0xcc6365(0x1db)](_0x356548){const _0x1f721d=_0xcc6365;this['_cache_event']=_0x356548,this['_mapVRenderer']&&this['_mapVRenderer'][_0x1f721d(0x1ae)](_0x356548['windowPosition'],_0x356548);}['on'](_0x54f07f,_0x3dbbfb,_0x30f2f1){const _0x4a4a7e={_0x202448:0x1dc,_0x30ca33:0x1b3,_0x247d46:0x1e0,_0x47f736:0x1bd,_0x557555:0x1db},_0x5b20af=_0xcc6365;this['options']['methods']=this[_0x5b20af(0x1e0)]['methods']||{};if(_0x54f07f===mars3d__namespace['EventType']['click'])this['options']['methods'][_0x5b20af(_0x4a4a7e._0x202448)]=_0x307446=>{const _0x4e7214=_0x5b20af;_0x307446&&_0x3dbbfb['bind'](_0x30f2f1)({...this[_0x4e7214(0x1bc)],'layer':this,'data':_0x307446});},this[_0x5b20af(_0x4a4a7e._0x30ca33)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x54f07f===mars3d__namespace['EventType'][_0x5b20af(0x1b7)]&&(this[_0x5b20af(_0x4a4a7e._0x247d46)]['methods'][_0x5b20af(_0x4a4a7e._0x47f736)]=_0x171d29=>{_0x171d29&&_0x3dbbfb['bind'](_0x30f2f1)({...this['_cache_event'],'layer':this,'data':_0x171d29});},this[_0x5b20af(0x1b3)]['on'](mars3d__namespace['EventType'][_0x5b20af(0x1b7)],this[_0x5b20af(_0x4a4a7e._0x557555)],this));return this;}['off'](_0x1bf93d,_0x4cec8c){const _0x3c6842={_0x323013:0x1b3},_0x21affc=_0xcc6365;if(_0x1bf93d==='click'){var _0x1a3aca;this[_0x21affc(_0x3c6842._0x323013)]['off'](_0x1bf93d,this['_onMapClick'],this),(_0x1a3aca=this['options']['methods'])!==null&&_0x1a3aca!==void 0x0&&_0x1a3aca[_0x21affc(0x1bd)]&&delete this['options']['methods'][_0x21affc(0x1dc)];}else{if(_0x1bf93d==='mouseMove'){var _0x5ad132;this['_map'][_0x21affc(0x1ec)](_0x1bf93d,this['_onMapMouseMove'],this),(_0x5ad132=this['options']['methods'])!==null&&_0x5ad132!==void 0x0&&_0x5ad132['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0xcc6365(0x1d7)]=MapVLayer,Object[_0xcc6365(0x1e6)](mapv)['forEach'](function(_0x1f636c){const _0x55bd81=_0xcc6365;if(_0x1f636c!=='default'&&!exports['hasOwnProperty'](_0x1f636c))Object[_0x55bd81(0x1c4)](exports,_0x1f636c,{'enumerable':!![],'get':function(){return mapv[_0x1f636c];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
