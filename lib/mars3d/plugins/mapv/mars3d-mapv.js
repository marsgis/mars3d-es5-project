/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.5.15
 * 编译日期：2023-07-10 19:16:32
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0xaec244=_0x61e2;(function(_0x383f8a,_0x3d9cae){const _0x2a14c5={_0x306426:0x1ab,_0x2d60d3:0x15f},_0x536547=_0x61e2,_0x3c1f4e=_0x383f8a();while(!![]){try{const _0x31f9bd=parseInt(_0x536547(0x154))/0x1*(parseInt(_0x536547(0x1a4))/0x2)+-parseInt(_0x536547(0x162))/0x3+parseInt(_0x536547(_0x2a14c5._0x306426))/0x4*(-parseInt(_0x536547(0x184))/0x5)+-parseInt(_0x536547(0x15d))/0x6*(parseInt(_0x536547(0x166))/0x7)+parseInt(_0x536547(0x16c))/0x8*(parseInt(_0x536547(0x1b7))/0x9)+-parseInt(_0x536547(0x1b4))/0xa+parseInt(_0x536547(_0x2a14c5._0x2d60d3))/0xb;if(_0x31f9bd===_0x3d9cae)break;else _0x3c1f4e['push'](_0x3c1f4e['shift']());}catch(_0x5bdc1d){_0x3c1f4e['push'](_0x3c1f4e['shift']());}}}(_0x38ca,0x5570a));function _0x61e2(_0x4af111,_0x3e5cda){const _0x38cae0=_0x38ca();return _0x61e2=function(_0x61e2c9,_0x36f17b){_0x61e2c9=_0x61e2c9-0x152;let _0x104f69=_0x38cae0[_0x61e2c9];return _0x104f69;},_0x61e2(_0x4af111,_0x3e5cda);}function _interopNamespace(_0xdc0583){const _0x3d65ff={_0x40a51b:0x199,_0x5dd1b3:0x17c,_0x41dc3c:0x177},_0x152748=_0x61e2;if(_0xdc0583&&_0xdc0583[_0x152748(_0x3d65ff._0x40a51b)])return _0xdc0583;var _0x482b07=Object[_0x152748(_0x3d65ff._0x5dd1b3)](null);return _0xdc0583&&Object[_0x152748(0x189)](_0xdc0583)['forEach'](function(_0x35685d){const _0x2647d6=_0x152748;if(_0x35685d!=='default'){var _0x292c02=Object['getOwnPropertyDescriptor'](_0xdc0583,_0x35685d);Object[_0x2647d6(0x155)](_0x482b07,_0x35685d,_0x292c02['get']?_0x292c02:{'enumerable':!![],'get':function(){return _0xdc0583[_0x35685d];}});}}),_0x482b07[_0x152748(_0x3d65ff._0x41dc3c)]=_0xdc0583,_0x482b07;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0xaec244(0x163)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0xaec244(0x170)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x5b08b4,_0x40129c,_0x46d15e,_0x45fbfa){const _0x1615e2={_0x273da2:0x186,_0x5822ee:0x157},_0x496c65=_0xaec244;super(_0x5b08b4,_0x40129c,_0x46d15e);if(!BaseLayer$1)return;this['map']=_0x5b08b4,this[_0x496c65(_0x1615e2._0x273da2)]=_0x5b08b4['scene'],this['dataSet']=_0x40129c,_0x46d15e=_0x46d15e||{},this['init'](_0x46d15e),this['argCheck'](_0x46d15e),this['initDevicePixelRatio'](),this[_0x496c65(_0x1615e2._0x5822ee)]=_0x45fbfa,this['stopAniamation']=!0x1,this['animation']=_0x46d15e['animation'];}['initDevicePixelRatio'](){const _0x38f95a=_0xaec244;this['devicePixelRatio']=window[_0x38f95a(0x18b)]||0x1;}[_0xaec244(0x182)](){}['animatorMovestartEvent'](){const _0x2be279={_0x4edcd8:0x1ad},_0x39d8a1=_0xaec244,_0x130d19=this[_0x39d8a1(_0x2be279._0x4edcd8)]['animation'];this[_0x39d8a1(0x19a)]()&&this[_0x39d8a1(0x1b3)]&&(this['steps']['step']=_0x130d19['stepsRange'][_0x39d8a1(0x193)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){return this['canvasLayer']['canvas']['getContext'](this['context']);}['init'](_0x4127f9){const _0x27d7a1={_0x167685:0x18f},_0x5a8918=_0xaec244;this['options']=_0x4127f9,this['initDataRange'](_0x4127f9),this['context']=this['options']['context']||'2d',this['options']['zIndex']&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this['options']['zIndex']),this[_0x5a8918(_0x27d7a1._0x167685)]();}[_0xaec244(0x1a3)](_0x524b3d){const _0x109ba3={_0x3e2f95:0x1ad,_0x512b28:0x164,_0x2c99a4:0x1b6,_0x42bb09:0x187,_0x57383e:0x16a,_0x25ed1c:0x1ad,_0x4a12b3:0x191,_0x1b8383:0x1ad},_0x90374e={_0x5b7d89:0x16b},_0x589270={_0x4d2bac:0x172},_0x11e39b=_0xaec244,_0x53bc32=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x367977=this[_0x11e39b(_0x109ba3._0x3e2f95)]['animation'],_0x143451=this[_0x11e39b(0x1af)]();if(this['isEnabledTime']()){if(void 0x0===_0x524b3d)return void this[_0x11e39b(_0x109ba3._0x512b28)](_0x143451);this['context']==='2d'&&(_0x143451['save'](),_0x143451['globalCompositeOperation']='destination-out',_0x143451['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x143451[_0x11e39b(_0x109ba3._0x2c99a4)](0x0,0x0,_0x143451['canvas'][_0x11e39b(0x185)],_0x143451['canvas']['height']),_0x143451['restore']());}else this['clear'](_0x143451);if(this[_0x11e39b(_0x109ba3._0x42bb09)]==='2d')for(const _0x3040bc in this['options']){_0x143451[_0x3040bc]=this['options'][_0x3040bc];}else _0x143451['clear'](_0x143451['COLOR_BUFFER_BIT']);const _0x2374dd={'transferCoordinate':function(_0x5d8ff5){const _0x88605a=_0x11e39b,_0xa0da5c=null;let _0x3ce4ff=_0x53bc32['mapvFixedHeight'];_0x53bc32['mapvAutoHeight']&&(_0x3ce4ff=_0x53bc32['globe']['getHeight'](Cesium$1[_0x88605a(_0x589270._0x4d2bac)]['fromDegrees'](_0x5d8ff5[0x0],_0x5d8ff5[0x1])));const _0xa48059=Cesium$1['Cartesian3'][_0x88605a(0x191)](_0x5d8ff5[0x0],_0x5d8ff5[0x1],_0x3ce4ff);if(!_0xa48059)return _0xa0da5c;const _0x5e9807=_0x53bc32[_0x88605a(0x198)](_0xa48059);if(!_0x5e9807)return _0xa0da5c;if(_0x53bc32[_0x88605a(0x179)]&&_0x53bc32[_0x88605a(0x1a8)]===Cesium$1['SceneMode']['SCENE3D']){const _0x255d8d=new Cesium$1['EllipsoidalOccluder'](_0x53bc32['globe']['ellipsoid'],_0x53bc32[_0x88605a(0x19b)]['positionWC']),_0x5053b9=_0x255d8d['isPointVisible'](_0xa48059);if(!_0x5053b9)return _0xa0da5c;}return[_0x5e9807['x'],_0x5e9807['y']];}};void 0x0!==_0x524b3d&&(_0x2374dd['filter']=function(_0xb82d7a){const _0x2f479c=_0x11e39b,_0x953890=_0x367977[_0x2f479c(_0x90374e._0x5b7d89)]||0xa;return!!(_0x524b3d&&_0xb82d7a['time']>_0x524b3d-_0x953890&&_0xb82d7a[_0x2f479c(0x16e)]<_0x524b3d);});const _0x224d2c=this['dataSet'][_0x11e39b(_0x109ba3._0x57383e)](_0x2374dd);this['processData'](_0x224d2c),this[_0x11e39b(0x1ad)]['unit']==='m'&&this[_0x11e39b(_0x109ba3._0x25ed1c)][_0x11e39b(0x1aa)],this[_0x11e39b(0x1ad)]['_size']=this[_0x11e39b(0x1ad)]['size'];const _0x4bc0cf=_0x53bc32['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3'][_0x11e39b(_0x109ba3._0x4a12b3)](0x0,0x0));if(!_0x4bc0cf)return;this['drawContext'](_0x143451,new mapv__namespace['DataSet'](_0x224d2c),this['options'],_0x4bc0cf),this['options']['updateCallback']&&this[_0x11e39b(_0x109ba3._0x1b8383)]['updateCallback'](_0x524b3d);}}['updateData'](_0xe9d423,_0x38ccfc){const _0x2a4bf0={_0x119f42:0x168},_0x2951c3=_0xaec244;let _0x5096cf=_0xe9d423;_0x5096cf&&_0x5096cf['get']&&(_0x5096cf=_0x5096cf['get']()),void 0x0!==_0x5096cf&&this['dataSet'][_0x2951c3(0x160)](_0x5096cf),super[_0x2951c3(_0x2a4bf0._0x119f42)]({'options':_0x38ccfc});}[_0xaec244(0x19d)](_0x1ad316,_0x15ccaa){const _0x3bedd4={_0x43c234:0x168},_0x164726=_0xaec244;let _0x309940=_0x1ad316;_0x1ad316&&_0x1ad316['get']&&(_0x309940=_0x1ad316['get']()),this[_0x164726(0x161)]['add'](_0x309940),this[_0x164726(_0x3bedd4._0x43c234)]({'options':_0x15ccaa});}['getData'](){return this['dataSet'];}[_0xaec244(0x174)](_0x1c5ac8){const _0x5e35fd={_0x1fd408:0x161},_0x2dfc4a=_0xaec244;if(this[_0x2dfc4a(_0x5e35fd._0x1fd408)]){const _0x2a34e2=this['dataSet'][_0x2dfc4a(0x16a)]({'filter':function(_0x5e6f73){return _0x1c5ac8==null||typeof _0x1c5ac8!=='function'||!_0x1c5ac8(_0x5e6f73);}});this['dataSet']['set'](_0x2a34e2),this[_0x2dfc4a(0x168)]({'options':null});}}['clearData'](){const _0x2e9391={_0x5e8bb0:0x168},_0xd57c7e=_0xaec244;this['dataSet']&&this['dataSet'][_0xd57c7e(0x164)](),this[_0xd57c7e(_0x2e9391._0x5e8bb0)]({'options':null});}[_0xaec244(0x1a5)](){const _0x4d07b4={_0x4ad806:0x1a5},_0x954f94=_0xaec244;this['canvasLayer'][_0x954f94(_0x4d07b4._0x4ad806)]();}[_0xaec244(0x164)](_0x2bb36a){const _0x1df767={_0x5d6572:0x185,_0x2064c2:0x1ba},_0x5210b3=_0xaec244;_0x2bb36a&&_0x2bb36a['clearRect']&&_0x2bb36a['clearRect'](0x0,0x0,_0x2bb36a['canvas'][_0x5210b3(_0x1df767._0x5d6572)],_0x2bb36a[_0x5210b3(_0x1df767._0x2064c2)][_0x5210b3(0x175)]);}[_0xaec244(0x15c)](){const _0x479a63={_0x2d15e7:0x1af},_0x5c8401=_0xaec244;this[_0x5c8401(0x164)](this[_0x5c8401(_0x479a63._0x2d15e7)]()),this['clearData'](),this['animator']&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet'][_0xaec244(0x1b5)][_0xaec244(0x16d)]=function(_0xa3745,_0x416779,_0x155136,_0x4c4346){const _0x435a4f={_0x294539:0x18a},_0x401b38=_0xaec244;_0x4c4346=_0x4c4346||'_coordinates',_0x155136=_0x155136||'coordinates';for(let _0x389b25=0x0;_0x389b25<_0xa3745['length'];_0x389b25++){const _0xb44b89=_0xa3745[_0x389b25][_0x401b38(0x152)],_0xe06d05=_0xb44b89[_0x155136];switch(_0xb44b89['type']){case'Point':{const _0x3e15e7=_0x416779(_0xe06d05);_0x3e15e7?_0xb44b89[_0x4c4346]=_0x3e15e7:_0xb44b89[_0x4c4346]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x4c2ffb=[];for(let _0x18e550=0x0;_0x18e550<_0xe06d05['length'];_0x18e550++){const _0x5dfcab=_0x416779(_0xe06d05[_0x18e550]);_0x5dfcab&&_0x4c2ffb['push'](_0x5dfcab);}_0xb44b89[_0x4c4346]=_0x4c2ffb;}break;case _0x401b38(0x158):case _0x401b38(_0x435a4f._0x294539):{const _0x2b22ea=_0x343437(_0xe06d05);_0xb44b89[_0x4c4346]=_0x2b22ea;}break;case'MultiPolygon':{const _0xb9d430=[];for(let _0x33c0fd=0x0;_0x33c0fd<_0xe06d05['length'];_0x33c0fd++){const _0x319440=_0x343437(_0xe06d05[_0x33c0fd]);_0x319440[_0x401b38(0x15b)]>0x0&&_0xb9d430['push'](_0x319440);}_0xb44b89[_0x4c4346]=_0xb9d430;}break;}}function _0x343437(_0x39ae74){const _0x422332=_0x401b38,_0x501be8=[];for(let _0x6c1be7=0x0;_0x6c1be7<_0x39ae74['length'];_0x6c1be7++){const _0x1b048c=_0x39ae74[_0x6c1be7],_0x545779=[];for(let _0x1db224=0x0;_0x1db224<_0x1b048c[_0x422332(0x15b)];_0x1db224++){const _0x31958a=_0x416779(_0x1b048c[_0x1db224]);_0x31958a&&_0x545779['push'](_0x31958a);}_0x545779['length']>0x0&&_0x501be8['push'](_0x545779);}return _0x501be8;}return _0xa3745;};else throw new Error(_0xaec244(0x181));const Cesium=mars3d__namespace[_0xaec244(0x163)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x50a5a9,_0x372baf){const _0xed258a=_0xaec244;super(_0x50a5a9),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x372baf||new mapv__namespace['DataSet'](_0x50a5a9[_0xed258a(0x194)]),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x4c3b14){const _0x34d8e6={_0x50cad1:0x19c,_0x45df95:0x1ba,_0x2129a5:0x19e},_0x52d8ba=_0xaec244;this[_0x52d8ba(_0x34d8e6._0x50cad1)]=_0x4c3b14,this['canvas']&&(_0x4c3b14?this[_0x52d8ba(_0x34d8e6._0x45df95)][_0x52d8ba(0x17b)]['pointerEvents']='all':this['canvas']['style'][_0x52d8ba(_0x34d8e6._0x2129a5)]='none');}['_showHook'](_0x257aeb){const _0x5480b4={_0xe7297e:0x17b},_0x4fdbcc=_0xaec244;_0x257aeb?this['canvas']['style']['display']='block':this[_0x4fdbcc(0x1ba)][_0x4fdbcc(_0x5480b4._0xe7297e)][_0x4fdbcc(0x1b8)]='none';}[_0xaec244(0x18c)](){const _0x416968={_0x433b61:0x153,_0x1f891a:0x169},_0x2e205e=_0xaec244;this['_map']['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene'][_0x2e205e(0x17d)]=this[_0x2e205e(0x1ad)][_0x2e205e(_0x416968._0x433b61)]??![],this['_map']['scene']['mapvFixedHeight']=this['options'][_0x2e205e(_0x416968._0x1f891a)]??0x0;}['_addedHook'](){const _0x39a17c={_0x24a444:0x161,_0x448560:0x1ac,_0x5bc5da:0x15a},_0x2f67fa=_0xaec244;this['dataSet']&&(!this[_0x2f67fa(_0x39a17c._0x24a444)]['_data']||this['dataSet']['_data']['length']===0x0)&&(this[_0x2f67fa(0x161)]['_data']=[]['concat'](this['dataSet']['_dataCache'])),this[_0x2f67fa(_0x39a17c._0x448560)]=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this[_0x2f67fa(0x15a)]=this[_0x2f67fa(_0x39a17c._0x5bc5da)]['bind'](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0xe3793c=_0xaec244;this[_0xe3793c(0x178)](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0xaec244(0x18e)](){const _0x5f173b={_0x593379:0x1a2},_0x2f7fcd=_0xaec244;var _0x4ab684,_0x2f3ad2;this[_0x2f7fcd(0x18d)]['on'](mars3d__namespace['EventType'][_0x2f7fcd(0x1a9)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x2f7fcd(_0x5f173b._0x593379)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x2f7fcd(0x167)][_0x2f7fcd(0x176)],this['_onMoveEndEvent'],this),(_0x4ab684=this[_0x2f7fcd(0x1ad)])!==null&&_0x4ab684!==void 0x0&&(_0x4ab684=_0x4ab684['methods'])!==null&&_0x4ab684!==void 0x0&&_0x4ab684['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x2f3ad2=this['options'])!==null&&_0x2f3ad2!==void 0x0&&(_0x2f3ad2=_0x2f3ad2['methods'])!==null&&_0x2f3ad2!==void 0x0&&_0x2f3ad2['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0x2f7fcd(0x19f)],this[_0x2f7fcd(0x159)],this);}[_0xaec244(0x178)](){const _0x5e7e07={_0x1192f9:0x167,_0x502dad:0x18d,_0x53af88:0x16f,_0x39488b:0x1ad,_0x4bd36a:0x18d,_0x49bfac:0x18d,_0x388044:0x19f},_0x557909=_0xaec244;var _0x2fa415,_0x5556c9;this['_map']['off'](mars3d__namespace[_0x557909(_0x5e7e07._0x1192f9)]['mouseDown'],this['_onMoveStartEvent'],this),this[_0x557909(_0x5e7e07._0x502dad)]['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map'][_0x557909(_0x5e7e07._0x53af88)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x2fa415=this[_0x557909(_0x5e7e07._0x39488b)])!==null&&_0x2fa415!==void 0x0&&(_0x2fa415=_0x2fa415['methods'])!==null&&_0x2fa415!==void 0x0&&_0x2fa415['click']&&this[_0x557909(_0x5e7e07._0x4bd36a)]['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x5556c9=this[_0x557909(_0x5e7e07._0x39488b)])!==null&&_0x5556c9!==void 0x0&&(_0x5556c9=_0x5556c9['methods'])!==null&&_0x5556c9!==void 0x0&&_0x5556c9[_0x557909(0x1b0)]&&this[_0x557909(_0x5e7e07._0x49bfac)]['off'](mars3d__namespace['EventType'][_0x557909(_0x5e7e07._0x388044)],this['_onMapMouseMove'],this);}[_0xaec244(0x1b9)](){const _0xdcabc4={_0x551f6b:0x1ac,_0x614d87:0x18d,_0x1bf50a:0x196},_0x5300bf=_0xaec244;this['_mapVRenderer']&&(this[_0x5300bf(_0xdcabc4._0x551f6b)]['animatorMovestartEvent'](),this[_0x5300bf(_0xdcabc4._0x614d87)]['off'](mars3d__namespace['EventType'][_0x5300bf(_0xdcabc4._0x1bf50a)],this['_reset'],this),this['_map']['on'](mars3d__namespace[_0x5300bf(0x167)][_0x5300bf(0x196)],this['_reset'],this));}['_onMoveEndEvent'](){const _0xd24413={_0x5e8514:0x196},_0x1e1751=_0xaec244;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType'][_0x1e1751(_0xd24413._0x5e8514)],this[_0x1e1751(0x190)],this),this[_0x1e1751(0x1ac)]['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x859f1a,_0x758de7){this['_removedHook'](),this['_addedHook']();}['addData'](_0x5a50fd){const _0x1c99ec={_0x56ca9f:0x19d},_0x2c61d0=_0xaec244;this['_mapVRenderer']&&this['_mapVRenderer'][_0x2c61d0(_0x1c99ec._0x56ca9f)](_0x5a50fd,this['options']);}['updateData'](_0x6cf8d6){const _0x3439f7=_0xaec244;this['_mapVRenderer']&&this['_mapVRenderer'][_0x3439f7(0x1b1)](_0x6cf8d6,this['options']);}[_0xaec244(0x1a0)](){const _0xe8e29c={_0x98affd:0x161},_0x338dd8=_0xaec244;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x338dd8(0x1a0)]()),this[_0x338dd8(_0xe8e29c._0x98affd)];}['removeData'](_0x24a0ce){const _0x373c52=_0xaec244;this['_mapVRenderer']&&this[_0x373c52(0x1ac)]['removeData'](_0x24a0ce);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x10dd84={_0x3d5053:0x17f,_0xa5aeb1:0x192,_0x5b50d8:0x197,_0x411bef:0x1ba,_0x1de7f9:0x175,_0x5228d7:0x17a,_0xb0368f:0x1ad},_0x229a58=_0xaec244,_0x3e9b4a=mars3d__namespace[_0x229a58(0x1ae)][_0x229a58(0x17c)]('canvas','mars3d-mapv',this['_map'][_0x229a58(_0x10dd84._0x3d5053)]);_0x3e9b4a['id']=this['id'],_0x3e9b4a['style'][_0x229a58(_0x10dd84._0xa5aeb1)]='absolute',_0x3e9b4a['style']['top']=_0x229a58(_0x10dd84._0x5b50d8),_0x3e9b4a[_0x229a58(0x17b)]['left']='0px',_0x3e9b4a[_0x229a58(0x185)]=parseInt(this['_map'][_0x229a58(0x1ba)][_0x229a58(0x185)]),_0x3e9b4a['height']=parseInt(this['_map'][_0x229a58(_0x10dd84._0x411bef)]['height']),_0x3e9b4a['style']['width']=this['_map'][_0x229a58(_0x10dd84._0x411bef)]['style']['width'],_0x3e9b4a['style'][_0x229a58(_0x10dd84._0x1de7f9)]=this['_map'][_0x229a58(_0x10dd84._0x411bef)][_0x229a58(0x17b)][_0x229a58(0x175)],_0x3e9b4a['style']['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x3e9b4a['style']['zIndex']=this['options'][_0x229a58(_0x10dd84._0x5228d7)]??0x9;if(this['options']['context']==='2d'){const _0x25b08c=this['devicePixelRatio'];_0x3e9b4a['getContext'](this[_0x229a58(_0x10dd84._0xb0368f)]['context'])[_0x229a58(0x171)](_0x25b08c,_0x25b08c);}return _0x3e9b4a;}['_reset'](){const _0x50aedc={_0x224d7d:0x15a},_0x1b8747=_0xaec244;this['resize'](),this[_0x1b8747(_0x50aedc._0x224d7d)]();}['draw'](){this['_reset']();}['remove'](){const _0x568e8a={_0x4f35a6:0x1ac,_0x4d3358:0x15c},_0x46c229=_0xaec244;this['_mapVRenderer']&&(this[_0x46c229(_0x568e8a._0x4f35a6)][_0x46c229(_0x568e8a._0x4d3358)](),this[_0x46c229(0x1ac)]=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['render'](){const _0x51265f=_0xaec244;this[_0x51265f(0x1ac)]['_canvasUpdate']();}['resize'](){const _0x57b9f7={_0x559e57:0x17b},_0x44f207=_0xaec244;if(this['canvas']){const _0x4a6116=this['canvas'];_0x4a6116[_0x44f207(_0x57b9f7._0x559e57)]['position']='absolute',_0x4a6116[_0x44f207(_0x57b9f7._0x559e57)]['top']='0px',_0x4a6116[_0x44f207(0x17b)][_0x44f207(0x15e)]='0px',_0x4a6116['width']=parseInt(this['_map']['canvas']['width']),_0x4a6116['height']=parseInt(this['_map'][_0x44f207(0x1ba)]['height']),_0x4a6116['style'][_0x44f207(0x185)]=this[_0x44f207(0x18d)]['canvas']['style']['width'],_0x4a6116['style']['height']=this['_map']['canvas']['style']['height'];}}['getRectangle'](_0x158b6c){const _0x56ca9c={_0x46d1a9:0x195,_0x4e1c8b:0x156,_0xf044d3:0x165},_0x4aeab5=_0xaec244;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x2bc644=mars3d__namespace[_0x4aeab5(0x1b2)]['getExtentByGeoJSON']({'type':_0x4aeab5(0x188),'features':this['dataSet'][_0x4aeab5(0x183)]});if(!_0x2bc644)return;return _0x158b6c!==null&&_0x158b6c!==void 0x0&&_0x158b6c[_0x4aeab5(_0x56ca9c._0x46d1a9)]?_0x2bc644:Cesium[_0x4aeab5(_0x56ca9c._0x4e1c8b)]['fromDegrees'](_0x2bc644['xmin'],_0x2bc644['ymin'],_0x2bc644['xmax'],_0x2bc644[_0x4aeab5(_0x56ca9c._0xf044d3)]);}['_onMapClick'](_0x450fee){const _0x4c5d7a={_0x4fbdc7:0x180},_0x22e133=_0xaec244;this['_cache_event']=_0x450fee,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x450fee[_0x22e133(_0x4c5d7a._0x4fbdc7)],_0x450fee);}[_0xaec244(0x159)](_0x137496){const _0x18b638={_0xf3f0fc:0x180},_0x3112a5=_0xaec244;this[_0x3112a5(0x173)]=_0x137496,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x137496[_0x3112a5(_0x18b638._0xf3f0fc)],_0x137496);}['on'](_0x359dad,_0x387c65,_0x25ed74){const _0x468c04={_0x1fd8aa:0x1a1,_0x35a0eb:0x167},_0xf3d337=_0xaec244;this['options']['methods']=this[_0xf3d337(0x1ad)]['methods']||{};if(_0x359dad===mars3d__namespace['EventType']['click'])this['options'][_0xf3d337(_0x468c04._0x1fd8aa)]['click']=_0x4e211b=>{_0x4e211b&&_0x387c65['bind'](_0x25ed74)({...this['_cache_event'],'layer':this,'data':_0x4e211b});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x359dad===mars3d__namespace[_0xf3d337(_0x468c04._0x35a0eb)]['mouseMove']&&(this['options'][_0xf3d337(_0x468c04._0x1fd8aa)]['mousemove']=_0x434154=>{_0x434154&&_0x387c65['bind'](_0x25ed74)({...this['_cache_event'],'layer':this,'data':_0x434154});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x40edc4,_0x1e4457){const _0x51476c={_0x37b588:0x16f,_0x1c2037:0x1b0},_0x100edf=_0xaec244;if(_0x40edc4==='click'){var _0x40489b;this['_map'][_0x100edf(_0x51476c._0x37b588)](_0x40edc4,this[_0x100edf(0x1a6)],this),(_0x40489b=this['options'][_0x100edf(0x1a1)])!==null&&_0x40489b!==void 0x0&&_0x40489b['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x40edc4==='mouseMove'){var _0x13290;this['_map'][_0x100edf(0x16f)](_0x40edc4,this['_onMapMouseMove'],this),(_0x13290=this['options']['methods'])!==null&&_0x13290!==void 0x0&&_0x13290[_0x100edf(_0x51476c._0x1c2037)]&&delete this['options']['methods'][_0x100edf(0x1b0)];}}return this;}}mars3d__namespace[_0xaec244(0x1bb)]['register'](_0xaec244(0x17e),MapVLayer),mars3d__namespace[_0xaec244(0x1a7)]['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x480d80){const _0x387211={_0x143ada:0x177},_0x3e6f89=_0xaec244;if(_0x480d80!==_0x3e6f89(_0x387211._0x143ada)&&!exports['hasOwnProperty'](_0x480d80))Object['defineProperty'](exports,_0x480d80,{'enumerable':!![],'get':function(){return mapv[_0x480d80];}});}),Object[_0xaec244(0x155)](exports,'__esModule',{'value':!![]});function _0x38ca(){const _0x3166fc=['style','create','mapvAutoHeight','mapv','container','windowPosition','请引入\x20mapv\x20库\x20','addAnimatorEvent','_data','5BDjKcV','width','scene','context','FeatureCollection','keys','Polygon','devicePixelRatio','_mountedHook','_map','bindEvent','initAnimator','_reset','fromDegrees','position','start','data','isFormat','postRender','0px','cartesianToCanvasCoordinates','__esModule','isEnabledTime','camera','_pointerEvents','addData','pointerEvents','mouseMove','getData','methods','cameraMoveStart','_canvasUpdate','58NJqAWp','draw','_onMapClick','layer','mode','mouseDown','size','943956YuVDsG','_mapVRenderer','options','DomUtil','getContext','mousemove','updateData','Util','animator','2888900yCAxsW','prototype','fillRect','27gbKMIG','display','_onMoveStartEvent','canvas','LayerUtil','geometry','clampToGround','14851VImQfM','defineProperty','Rectangle','canvasLayer','MultiLineString','_onMapMouseMove','render','length','destroy','2310qWPoHN','left','15696912bmnCiT','set','dataSet','1947861mmMjVp','Cesium','clear','ymax','8883awDgaF','EventType','update','fixedHeight','get','trails','413392ZfhYeb','transferCoordinate','time','off','__proto__','scale','Cartographic','_cache_event','removeData','height','cameraMoveEnd','default','unbindEvent','mapvDepthTest','zIndex'];_0x38ca=function(){return _0x3166fc;};return _0x38ca();}
}));
