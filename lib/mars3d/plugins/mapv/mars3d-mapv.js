/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.8
 * 编译日期：2024-03-25 20:25:07
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';function _0x53e1(_0x35e0b5,_0x3bd944){const _0x4ada22=_0x4ada();return _0x53e1=function(_0x53e1ce,_0x36a5f4){_0x53e1ce=_0x53e1ce-0x1e8;let _0x5b1eca=_0x4ada22[_0x53e1ce];return _0x5b1eca;},_0x53e1(_0x35e0b5,_0x3bd944);}const _0x5c7393=_0x53e1;(function(_0x27a28f,_0x2c8382){const _0x57ae9d={_0x55a629:0x252,_0x3e174d:0x244,_0x30cdaa:0x20c,_0x30eb1c:0x23d},_0x4539a2=_0x53e1,_0x4b44c2=_0x27a28f();while(!![]){try{const _0x46c652=-parseInt(_0x4539a2(_0x57ae9d._0x55a629))/0x1+-parseInt(_0x4539a2(_0x57ae9d._0x3e174d))/0x2+-parseInt(_0x4539a2(0x201))/0x3+parseInt(_0x4539a2(0x235))/0x4+parseInt(_0x4539a2(_0x57ae9d._0x30cdaa))/0x5+-parseInt(_0x4539a2(0x20b))/0x6*(parseInt(_0x4539a2(_0x57ae9d._0x30eb1c))/0x7)+parseInt(_0x4539a2(0x240))/0x8;if(_0x46c652===_0x2c8382)break;else _0x4b44c2['push'](_0x4b44c2['shift']());}catch(_0x725648){_0x4b44c2['push'](_0x4b44c2['shift']());}}}(_0x4ada,0x47184));function _interopNamespace(_0x416865){const _0x15e1e5=_0x53e1;if(_0x416865&&_0x416865[_0x15e1e5(0x218)])return _0x416865;var _0x4758f3=Object['create'](null);return _0x416865&&Object[_0x15e1e5(0x223)](_0x416865)['forEach'](function(_0x24c95b){const _0x5b6fec=_0x15e1e5;if(_0x24c95b!=='default'){var _0x112a27=Object[_0x5b6fec(0x20e)](_0x416865,_0x24c95b);Object['defineProperty'](_0x4758f3,_0x24c95b,_0x112a27['get']?_0x112a27:{'enumerable':!![],'get':function(){return _0x416865[_0x24c95b];}});}}),_0x4758f3['default']=_0x416865,_0x4758f3;}function _0x4ada(){const _0x409bae=['options','get','height','unbindEvent','1604892jSTjWp','type','baiduMapLayer','_setOptionsHook','_data','_canvasUpdate','click','zIndex','385wFVSpR','set','length','5303536pEDCKd','scene','default','style','309828ECsBcI','off','pointCountMin','getData','_mapVRenderer','mousemoveEvent','maxSize','mousemove','clearData','updateCallback','mapv','trails','devicePixelRatio','_reset','277631ajqOhu','isEnabledTime','_removedHook','fromDegrees','_dataCache','canvasLayer','dataSet','time','fixedHeight','pointerEvents','steps','rgba(0,\x200,\x200,\x20.1)','layer','push','clusterDataSet','filter','Util','cluster_id','register','_pointerEvents','getHeight','Cartesian3','SCENE3D','_onMapClick','getColor','_coordinates','1123464quQUht','setZIndex','width','mouseDown','methods','animatorMovestartEvent','mouseMove','mapvFixedHeight','canvas','positionWC','930CWQbiy','212985uYicAi','COLOR_BUFFER_BIT','getOwnPropertyDescriptor','camera','top','unit','_onMapMouseMove','hasOwnProperty','ellipsoid','animation','EventType','step','__esModule','getExtentByGeoJSON','LineString','0px','none','bind','forEach','point_count','defineProperty','initDevicePixelRatio','remove','keys','destination-out','_map','_createCanvas','MapVLayer','minSize','fillStyle','Cartographic','clear','mode','updateData','draw','_onMoveStartEvent','supercluster'];_0x4ada=function(){return _0x409bae;};return _0x4ada();}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x5c7393(0x237)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x1f8565,_0x586947,_0x4356d7,_0x368f21){const _0x6ba455=_0x5c7393;super(_0x1f8565,_0x586947,_0x4356d7);if(!BaseLayer$1)return;this['map']=_0x1f8565,this['scene']=_0x1f8565[_0x6ba455(0x241)],this['dataSet']=_0x586947,_0x4356d7=_0x4356d7||{},this['init'](_0x4356d7),this['argCheck'](_0x4356d7),this['initDevicePixelRatio'](),this['canvasLayer']=_0x368f21,this['stopAniamation']=!0x1,this['animation']=_0x4356d7[_0x6ba455(0x215)];}['initDevicePixelRatio'](){const _0x126c5d={_0x5033b3:0x250},_0x1e5d2a=_0x5c7393;this[_0x1e5d2a(_0x126c5d._0x5033b3)]=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x195635={_0x2b25df:0x1f1,_0x14257b:0x217},_0x5493f8=_0x5c7393,_0x4248c3=this['options']['animation'];this[_0x5493f8(0x1e8)]()&&this['animator']&&(this[_0x5493f8(_0x195635._0x2b25df)][_0x5493f8(_0x195635._0x14257b)]=_0x4248c3['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x543e50=_0x5c7393;return this['canvasLayer'][_0x543e50(0x209)]['getContext'](this['context']);}['init'](_0xfd846a){const _0x22103e={_0x264326:0x202},_0x321189=_0x5c7393;this['options']=_0xfd846a,this['initDataRange'](_0xfd846a),this['context']=this['options']['context']||'2d',Cesium$1['defined'](this[_0x321189(0x231)]['zIndex'])&&this[_0x321189(0x1ec)]&&this[_0x321189(0x1ec)][_0x321189(_0x22103e._0x264326)]&&this['canvasLayer']['setZIndex'](this['options'][_0x321189(0x23c)]),this['initAnimator']();}[_0x5c7393(0x23a)](_0x2f7f66){const _0x3479a3={_0x1a7abe:0x1f2,_0x5ded73:0x22b,_0x4561e1:0x230,_0x25c471:0x1f8,_0x2bad84:0x21f,_0x373c19:0x1ff,_0x22a0f3:0x1f5,_0x2afc90:0x231,_0x175246:0x231,_0x16afe3:0x24d},_0x4f14d2={_0x5d8d0f:0x1ee},_0x18deda={_0xa2efd4:0x1fb,_0x37ab2a:0x22a,_0x2b0c43:0x1ea,_0x1e5b51:0x22c,_0x13130f:0x1fd,_0x13b95c:0x20f,_0x1b438a:0x20a},_0x49e538=_0x5c7393;if(!this['canvasLayer']||this['stopAniamation'])return;const _0x518967=this['scene'],_0x289831=this['options']['animation'],_0x55f4dd=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x2f7f66)return void this['clear'](_0x55f4dd);this['context']==='2d'&&(_0x55f4dd['save'](),_0x55f4dd['globalCompositeOperation']=_0x49e538(0x224),_0x55f4dd[_0x49e538(0x229)]=_0x49e538(_0x3479a3._0x1a7abe),_0x55f4dd['fillRect'](0x0,0x0,_0x55f4dd['canvas']['width'],_0x55f4dd['canvas']['height']),_0x55f4dd['restore']());}else this[_0x49e538(0x22b)](_0x55f4dd);if(this['context']==='2d')for(const _0x34388a in this['options']){_0x55f4dd[_0x34388a]=this[_0x49e538(0x231)][_0x34388a];}else _0x55f4dd[_0x49e538(_0x3479a3._0x5ded73)](_0x55f4dd[_0x49e538(0x20d)]);const _0x5e8e72={'transferCoordinate':function(_0x193e91){const _0x29c3f5=_0x49e538,_0x515fe3=null;let _0x3fa03c=_0x518967['mapvFixedHeight'];_0x518967['mapvAutoHeight']&&(_0x3fa03c=_0x518967[_0x29c3f5(_0x18deda._0xa2efd4)](Cesium$1[_0x29c3f5(_0x18deda._0x37ab2a)]['fromDegrees'](_0x193e91[0x0],_0x193e91[0x1])));const _0x3a204d=Cesium$1['Cartesian3'][_0x29c3f5(_0x18deda._0x2b0c43)](_0x193e91[0x0],_0x193e91[0x1],_0x3fa03c);if(!_0x3a204d)return _0x515fe3;const _0x17ac51=_0x518967['cartesianToCanvasCoordinates'](_0x3a204d);if(!_0x17ac51)return _0x515fe3;if(_0x518967['mapvDepthTest']&&_0x518967[_0x29c3f5(_0x18deda._0x1e5b51)]===Cesium$1['SceneMode'][_0x29c3f5(_0x18deda._0x13130f)]){const _0x5406d9=new Cesium$1['EllipsoidalOccluder'](_0x518967['globe'][_0x29c3f5(0x214)],_0x518967[_0x29c3f5(_0x18deda._0x13b95c)][_0x29c3f5(_0x18deda._0x1b438a)]),_0x154eb7=_0x5406d9['isPointVisible'](_0x3a204d);if(!_0x154eb7)return _0x515fe3;}return[_0x17ac51['x'],_0x17ac51['y']];}};void 0x0!==_0x2f7f66&&(_0x5e8e72[_0x49e538(0x1f6)]=function(_0x1061c2){const _0x53e147=_0x49e538,_0x57c200=_0x289831[_0x53e147(0x24f)]||0xa;return!!(_0x2f7f66&&_0x1061c2[_0x53e147(_0x4f14d2._0x5d8d0f)]>_0x2f7f66-_0x57c200&&_0x1061c2['time']<_0x2f7f66);});let _0x1a1d2b;if(this['options'][_0x49e538(0x22e)]==='cluster'&&(!this[_0x49e538(0x231)]['maxClusterZoom']||this['options']['maxClusterZoom']>=this['getZoom']())){this['map']['getExtent']();const _0x10c09e=this['getZoom'](),_0x2d47f5=this['supercluster']['getClusters']([-0xb4,-0x5a,0xb4,0x5a],_0x10c09e);this['pointCountMax']=this['supercluster']['trees'][_0x10c09e]['max'],this['pointCountMin']=this[_0x49e538(_0x3479a3._0x4561e1)]['trees'][_0x10c09e]['min'];let _0x3b825b={},_0x4e2839=null,_0x555cd6=null;this['pointCountMax']===this['pointCountMin']?(_0x4e2839=this['options']['fillStyle'],_0x555cd6=this['options']['minSize']||0x8):_0x3b825b=new mapv__namespace['utilDataRangeIntensity']({'min':this[_0x49e538(0x246)],'max':this['pointCountMax'],'minSize':this[_0x49e538(0x231)][_0x49e538(0x228)]||0x8,'maxSize':this['options'][_0x49e538(0x24a)]||0x1e,'gradient':this['options']['gradient']});for(let _0x42e76e=0x0;_0x42e76e<_0x2d47f5[_0x49e538(0x23f)];_0x42e76e++){const _0x526599=_0x2d47f5[_0x42e76e];_0x526599['properties']&&_0x526599['properties'][_0x49e538(_0x3479a3._0x25c471)]?(_0x2d47f5[_0x42e76e]['size']=_0x555cd6||_0x3b825b['getSize'](_0x526599['properties'][_0x49e538(_0x3479a3._0x2bad84)]),_0x2d47f5[_0x42e76e]['fillStyle']=_0x4e2839||_0x3b825b[_0x49e538(_0x3479a3._0x373c19)](_0x526599['properties']['point_count'])):_0x2d47f5[_0x42e76e]['size']=this['options']['size'];}this['clusterDataSet'][_0x49e538(0x23e)](_0x2d47f5),_0x1a1d2b=this[_0x49e538(_0x3479a3._0x22a0f3)]['get'](_0x5e8e72);}else _0x1a1d2b=this['dataSet']['get'](_0x5e8e72);this['processData'](_0x1a1d2b);this[_0x49e538(_0x3479a3._0x2afc90)][_0x49e538(0x211)]==='m'&&this['options']['size']&&(this['options']['_size']=this['options']['size']);const _0x10bfd6=_0x518967['cartesianToCanvasCoordinates'](Cesium$1[_0x49e538(0x1fc)]['fromDegrees'](0x0,0x0));if(!_0x10bfd6)return;this['drawContext'](_0x55f4dd,new mapv__namespace['DataSet'](_0x1a1d2b),this[_0x49e538(_0x3479a3._0x175246)],_0x10bfd6),this['options'][_0x49e538(_0x3479a3._0x16afe3)]&&this['options']['updateCallback'](_0x2f7f66);}[_0x5c7393(0x22d)](_0x33365c,_0x1a6483){const _0x17dca6={_0x4617ca:0x232},_0x3a24aa=_0x5c7393;let _0x1dc9d7=_0x33365c;_0x1dc9d7&&_0x1dc9d7[_0x3a24aa(_0x17dca6._0x4617ca)]&&(_0x1dc9d7=_0x1dc9d7['get']()),void 0x0!==_0x1dc9d7&&this[_0x3a24aa(0x1ed)][_0x3a24aa(0x23e)](_0x1dc9d7),super['update']({'options':_0x1a6483});}['addData'](_0xc8ecec,_0x1f58bb){let _0x288fe9=_0xc8ecec;_0xc8ecec&&_0xc8ecec['get']&&(_0x288fe9=_0xc8ecec['get']()),this['dataSet']['add'](_0x288fe9),this['update']({'options':_0x1f58bb});}['getData'](){return this['dataSet'];}['removeData'](_0x1d0d6c){const _0x3140e4=_0x5c7393;if(this['dataSet']){const _0x2d1d15=this['dataSet']['get']({'filter':function(_0x425c0e){return _0x1d0d6c==null||typeof _0x1d0d6c!=='function'||!_0x1d0d6c(_0x425c0e);}});this[_0x3140e4(0x1ed)]['set'](_0x2d1d15),this['update']({'options':null});}}[_0x5c7393(0x24c)](){const _0x5c58bc={_0x20b53c:0x1ed},_0x2732b1=_0x5c7393;this[_0x2732b1(_0x5c58bc._0x20b53c)]&&this[_0x2732b1(_0x5c58bc._0x20b53c)][_0x2732b1(0x22b)](),this['update']({'options':null});}[_0x5c7393(0x22e)](){this['canvasLayer']['draw']();}['clear'](_0x29f6c0){const _0xf2ec8b={_0x383483:0x203},_0x3bf7c1=_0x5c7393;_0x29f6c0&&_0x29f6c0['clearRect']&&_0x29f6c0['clearRect'](0x0,0x0,_0x29f6c0['canvas'][_0x3bf7c1(_0xf2ec8b._0x383483)],_0x29f6c0['canvas']['height']);}['getZoom'](){return this['map']['level'];}['destroy'](){this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x349e91,_0x3aeb50,_0x5e72e1,_0x5d17f0){const _0x342c17={_0x10c3cb:0x200,_0x3c5685:0x1f4},_0x4e6920=_0x5c7393;_0x5d17f0=_0x5d17f0||_0x4e6920(_0x342c17._0x10c3cb),_0x5e72e1=_0x5e72e1||'coordinates';for(let _0x2ffea1=0x0;_0x2ffea1<_0x349e91['length'];_0x2ffea1++){const _0x37a0c8=_0x349e91[_0x2ffea1]['geometry'],_0x3359c5=_0x37a0c8[_0x5e72e1];switch(_0x37a0c8[_0x4e6920(0x236)]){case'Point':{const _0x337973=_0x3aeb50(_0x3359c5);_0x337973?_0x37a0c8[_0x5d17f0]=_0x337973:_0x37a0c8[_0x5d17f0]=[-0x3e7,-0x3e7];}break;case _0x4e6920(0x21a):{const _0x18f35e=[];for(let _0x373817=0x0;_0x373817<_0x3359c5['length'];_0x373817++){const _0x3dae41=_0x3aeb50(_0x3359c5[_0x373817]);_0x3dae41&&_0x18f35e[_0x4e6920(_0x342c17._0x3c5685)](_0x3dae41);}_0x37a0c8[_0x5d17f0]=_0x18f35e;}break;case'MultiLineString':case'Polygon':{const _0x16a05d=_0x221e2b(_0x3359c5);_0x37a0c8[_0x5d17f0]=_0x16a05d;}break;case'MultiPolygon':{const _0x292471=[];for(let _0x3f7d96=0x0;_0x3f7d96<_0x3359c5['length'];_0x3f7d96++){const _0x51f9b8=_0x221e2b(_0x3359c5[_0x3f7d96]);_0x51f9b8['length']>0x0&&_0x292471['push'](_0x51f9b8);}_0x37a0c8[_0x5d17f0]=_0x292471;}break;}}function _0x221e2b(_0x1730df){const _0x1231f3=[];for(let _0x417078=0x0;_0x417078<_0x1730df['length'];_0x417078++){const _0x203874=_0x1730df[_0x417078],_0x287ae0=[];for(let _0x499bdc=0x0;_0x499bdc<_0x203874['length'];_0x499bdc++){const _0x3b8e70=_0x3aeb50(_0x203874[_0x499bdc]);_0x3b8e70&&_0x287ae0['push'](_0x3b8e70);}_0x287ae0['length']>0x0&&_0x1231f3['push'](_0x287ae0);}return _0x1231f3;}return _0x349e91;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x5c7393(0x1f3)]['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x4f8194,_0x1adc06){const _0x47d77a={_0x544341:0x1ed},_0x923361=_0x5c7393;super(_0x4f8194),this['_pointerEvents']=this['options']['pointerEvents'],this[_0x923361(_0x47d77a._0x544341)]=_0x1adc06||new mapv__namespace['DataSet'](_0x4f8194['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set[_0x5c7393(0x1f0)](_0x3f8157){const _0x21fe34=_0x5c7393;this[_0x21fe34(0x1fa)]=_0x3f8157,this['canvas']&&(_0x3f8157?this['canvas']['style']['pointerEvents']='all':this['canvas']['style']['pointerEvents']='none');}['_showHook'](_0x5d5bf2){const _0x62de5={_0x5711a5:0x209},_0x159040=_0x5c7393;_0x5d5bf2?this['canvas']['style']['display']='block':this[_0x159040(_0x62de5._0x5711a5)]['style']['display']='none';}['_mountedHook'](){const _0x361ab0={_0x383434:0x1ef},_0x2ba6f0=_0x5c7393;this['_map']['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this['_map']['scene'][_0x2ba6f0(0x208)]=this['options'][_0x2ba6f0(_0x361ab0._0x383434)]??0x0;}['_addedHook'](){const _0x1cbf4f={_0x304f7e:0x239,_0x1830c9:0x23f,_0x5dae0d:0x1eb},_0x1bf847=_0x5c7393;this['dataSet']&&(!this['dataSet'][_0x1bf847(_0x1cbf4f._0x304f7e)]||this['dataSet'][_0x1bf847(0x239)][_0x1bf847(_0x1cbf4f._0x1830c9)]===0x0)&&(this['dataSet'][_0x1bf847(0x239)]=[]['concat'](this['dataSet'][_0x1bf847(_0x1cbf4f._0x5dae0d)])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0x5cb1c6=_0x5c7393;this[_0x5cb1c6(0x234)](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x5c7393(0x221)](){const _0xf2c469={_0xb7cdb1:0x250},_0x1bfc4a=_0x5c7393;this['devicePixelRatio']=window[_0x1bfc4a(_0xf2c469._0xb7cdb1)]||0x1;}['bindEvent'](){const _0x103b1a={_0x146996:0x204,_0x3e3930:0x225,_0x163efc:0x216,_0x5dc351:0x1fe},_0x866f6b=_0x5c7393;var _0x430e9f,_0x2b1dd4;this['_map']['on'](mars3d__namespace['EventType'][_0x866f6b(_0x103b1a._0x146996)],this['_onMoveStartEvent'],this),this[_0x866f6b(_0x103b1a._0x3e3930)]['on'](mars3d__namespace[_0x866f6b(_0x103b1a._0x163efc)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x430e9f=this['options'])!==null&&_0x430e9f!==void 0x0&&(_0x430e9f=_0x430e9f['methods'])!==null&&_0x430e9f!==void 0x0&&_0x430e9f['click']&&this[_0x866f6b(0x225)]['on'](mars3d__namespace['EventType']['click'],this[_0x866f6b(_0x103b1a._0x5dc351)],this),(_0x2b1dd4=this[_0x866f6b(0x231)])!==null&&_0x2b1dd4!==void 0x0&&(_0x2b1dd4=_0x2b1dd4['methods'])!==null&&_0x2b1dd4!==void 0x0&&_0x2b1dd4['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x40e50e={_0x4c10e2:0x231,_0x3b9ede:0x205,_0x1d258e:0x23b,_0x53aa2b:0x216},_0x238681=_0x5c7393;var _0x584eb5,_0x34cb19;this['_map'][_0x238681(0x245)](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x584eb5=this[_0x238681(_0x40e50e._0x4c10e2)])!==null&&_0x584eb5!==void 0x0&&(_0x584eb5=_0x584eb5[_0x238681(_0x40e50e._0x3b9ede)])!==null&&_0x584eb5!==void 0x0&&_0x584eb5[_0x238681(_0x40e50e._0x1d258e)]&&this['_map']['off'](mars3d__namespace[_0x238681(_0x40e50e._0x53aa2b)]['click'],this['_onMapClick'],this),(_0x34cb19=this[_0x238681(_0x40e50e._0x4c10e2)])!==null&&_0x34cb19!==void 0x0&&(_0x34cb19=_0x34cb19['methods'])!==null&&_0x34cb19!==void 0x0&&_0x34cb19['mousemove']&&this['_map'][_0x238681(0x245)](mars3d__namespace['EventType']['mouseMove'],this[_0x238681(0x212)],this);}[_0x5c7393(0x22f)](){const _0x5548a1={_0xfa5b9e:0x206,_0x1b4619:0x245},_0x285b14=_0x5c7393;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x285b14(_0x5548a1._0xfa5b9e)](),this['_map'][_0x285b14(_0x5548a1._0x1b4619)](mars3d__namespace['EventType']['postRender'],this[_0x285b14(0x251)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x1f827a=_0x5c7393;this['_mapVRenderer']&&(this['_map'][_0x1f827a(0x245)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this[_0x1f827a(0x251)]());}[_0x5c7393(0x238)](_0x31fb22,_0x2bdc19){const _0x3b71bb=_0x5c7393;this[_0x3b71bb(0x1e9)](),this['_addedHook']();}['addData'](_0x169572){const _0x342179={_0x4b529e:0x248},_0x3b5ed5=_0x5c7393;this['_mapVRenderer']&&this[_0x3b5ed5(_0x342179._0x4b529e)]['addData'](_0x169572,this['options']);}['updateData'](_0x49e12c){const _0x47a65f={_0x542279:0x248,_0x3ca51c:0x231},_0x5166ae=_0x5c7393;this['_mapVRenderer']&&this[_0x5166ae(_0x47a65f._0x542279)]['updateData'](_0x49e12c,this[_0x5166ae(_0x47a65f._0x3ca51c)]);}[_0x5c7393(0x247)](){const _0x33d483={_0x4af6f8:0x1ed},_0x157b2e=_0x5c7393;return this[_0x157b2e(0x248)]&&(this[_0x157b2e(_0x33d483._0x4af6f8)]=this['_mapVRenderer'][_0x157b2e(0x247)]()),this['dataSet'];}['removeData'](_0x26199a){const _0x55b6ba={_0x3f5a41:0x248},_0x4dc5fd=_0x5c7393;this['_mapVRenderer']&&this[_0x4dc5fd(_0x55b6ba._0x3f5a41)]['removeData'](_0x26199a);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}[_0x5c7393(0x226)](){const _0x19a4d5={_0x45cf90:0x243,_0x14c7d5:0x243,_0x65aef2:0x209,_0x3e560d:0x21c,_0xf8d4fd:0x231,_0x337ec8:0x23c},_0x51eec4=_0x5c7393,_0x5d5231=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x5d5231['id']=this['id'],_0x5d5231['style']['position']='absolute',_0x5d5231['style'][_0x51eec4(0x210)]='0px',_0x5d5231[_0x51eec4(_0x19a4d5._0x45cf90)]['left']='0px',_0x5d5231['width']=parseInt(this['_map'][_0x51eec4(0x209)]['width']),_0x5d5231['height']=parseInt(this[_0x51eec4(0x225)]['canvas']['height']),_0x5d5231[_0x51eec4(_0x19a4d5._0x14c7d5)][_0x51eec4(0x203)]=this['_map'][_0x51eec4(0x209)]['style']['width'],_0x5d5231['style']['height']=this['_map'][_0x51eec4(_0x19a4d5._0x65aef2)]['style']['height'],_0x5d5231['style']['pointerEvents']=this['_pointerEvents']?'auto':_0x51eec4(_0x19a4d5._0x3e560d),_0x5d5231['style'][_0x51eec4(0x23c)]=this[_0x51eec4(_0x19a4d5._0xf8d4fd)][_0x51eec4(_0x19a4d5._0x337ec8)]??0x9;if(this[_0x51eec4(_0x19a4d5._0xf8d4fd)]['context']==='2d'){const _0x59f14c=this[_0x51eec4(0x250)];_0x5d5231['getContext'](this[_0x51eec4(0x231)]['context'])['scale'](_0x59f14c,_0x59f14c);}return _0x5d5231;}['_reset'](){this['resize'](),this['render']();}['draw'](){const _0x27a7ff=_0x5c7393;this[_0x27a7ff(0x251)]();}[_0x5c7393(0x222)](){const _0x1b18db={_0x2b2726:0x248,_0x154cb1:0x209},_0x392228=_0x5c7393;this[_0x392228(_0x1b18db._0x2b2726)]&&(this[_0x392228(0x248)]['destroy'](),this['_mapVRenderer']=null),this[_0x392228(_0x1b18db._0x154cb1)]['parentElement']['removeChild'](this['canvas']);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x5884f6={_0x1c9c98:0x243,_0x1d3439:0x21b,_0x45f527:0x203,_0x389101:0x225,_0x249921:0x233},_0x1bc1f3=_0x5c7393;if(this[_0x1bc1f3(0x209)]){const _0x5ce4c4=this['canvas'];_0x5ce4c4[_0x1bc1f3(_0x5884f6._0x1c9c98)]['position']='absolute',_0x5ce4c4['style']['top']=_0x1bc1f3(_0x5884f6._0x1d3439),_0x5ce4c4['style']['left']='0px',_0x5ce4c4[_0x1bc1f3(0x203)]=parseInt(this['_map']['canvas'][_0x1bc1f3(_0x5884f6._0x45f527)]),_0x5ce4c4[_0x1bc1f3(0x233)]=parseInt(this['_map']['canvas']['height']),_0x5ce4c4['style']['width']=this['_map'][_0x1bc1f3(0x209)][_0x1bc1f3(0x243)][_0x1bc1f3(0x203)],_0x5ce4c4[_0x1bc1f3(0x243)]['height']=this[_0x1bc1f3(_0x5884f6._0x389101)]['canvas']['style'][_0x1bc1f3(_0x5884f6._0x249921)];}}['getRectangle'](_0xb59f1c){const _0x2f7e72={_0x179448:0x1f7},_0x150353=_0x5c7393;if(!this[_0x150353(0x1ed)]||!this['dataSet'][_0x150353(0x239)])return;const _0x8ddd65=mars3d__namespace[_0x150353(_0x2f7e72._0x179448)][_0x150353(0x219)]({'type':'FeatureCollection','features':this[_0x150353(0x1ed)]['_data']});if(!_0x8ddd65)return;return _0xb59f1c!==null&&_0xb59f1c!==void 0x0&&_0xb59f1c['isFormat']?_0x8ddd65:Cesium['Rectangle']['fromDegrees'](_0x8ddd65['xmin'],_0x8ddd65['ymin'],_0x8ddd65['xmax'],_0x8ddd65['ymax']);}['_onMapClick'](_0x26bb09){const _0x9a7640={_0x4261ce:0x248},_0x2883b0=_0x5c7393;this['_cache_event']=_0x26bb09,this['_mapVRenderer']&&this[_0x2883b0(_0x9a7640._0x4261ce)]['clickEvent'](_0x26bb09['windowPosition'],_0x26bb09);}[_0x5c7393(0x212)](_0x4c65c9){const _0x33d75b={_0x33eb89:0x248,_0x5aedbc:0x249},_0x4f7a82=_0x5c7393;this['_cache_event']=_0x4c65c9,this[_0x4f7a82(_0x33d75b._0x33eb89)]&&this['_mapVRenderer'][_0x4f7a82(_0x33d75b._0x5aedbc)](_0x4c65c9['windowPosition'],_0x4c65c9);}['on'](_0x498388,_0x498439,_0x3f9290){const _0x4c0898=_0x5c7393;this['options'][_0x4c0898(0x205)]=this['options']['methods']||{};if(_0x498388===mars3d__namespace['EventType']['click'])this['options']['methods']['click']=_0x279344=>{const _0x2be44d=_0x4c0898;_0x279344&&_0x498439[_0x2be44d(0x21d)](_0x3f9290)({...this['_cache_event'],'layer':this,'data':_0x279344});},this['_map']['on'](mars3d__namespace[_0x4c0898(0x216)]['click'],this['_onMapClick'],this);else _0x498388===mars3d__namespace['EventType'][_0x4c0898(0x207)]&&(this['options']['methods']['mousemove']=_0xbf4997=>{const _0x594ecf=_0x4c0898;_0xbf4997&&_0x498439[_0x594ecf(0x21d)](_0x3f9290)({...this['_cache_event'],'layer':this,'data':_0xbf4997});},this['_map']['on'](mars3d__namespace['EventType'][_0x4c0898(0x207)],this['_onMapMouseMove'],this));return this;}[_0x5c7393(0x245)](_0xb9a8eb,_0x23f03c){const _0x51a3ae={_0x371684:0x245,_0x31d281:0x231,_0x19998d:0x24b,_0x1aac63:0x245,_0x1941ce:0x231,_0x51cae2:0x205},_0x4b60c4=_0x5c7393;if(_0xb9a8eb===_0x4b60c4(0x23b)){var _0x297339;this['_map'][_0x4b60c4(_0x51a3ae._0x371684)](_0xb9a8eb,this['_onMapClick'],this),(_0x297339=this[_0x4b60c4(_0x51a3ae._0x31d281)]['methods'])!==null&&_0x297339!==void 0x0&&_0x297339[_0x4b60c4(_0x51a3ae._0x19998d)]&&delete this['options']['methods']['click'];}else{if(_0xb9a8eb==='mouseMove'){var _0x34c5f2;this['_map'][_0x4b60c4(_0x51a3ae._0x1aac63)](_0xb9a8eb,this['_onMapMouseMove'],this),(_0x34c5f2=this['options']['methods'])!==null&&_0x34c5f2!==void 0x0&&_0x34c5f2['mousemove']&&delete this[_0x4b60c4(_0x51a3ae._0x1941ce)][_0x4b60c4(_0x51a3ae._0x51cae2)]['mousemove'];}}return this;}}mars3d__namespace['LayerUtil'][_0x5c7393(0x1f9)]('mapv',MapVLayer),mars3d__namespace['layer'][_0x5c7393(0x227)]=MapVLayer,mars3d__namespace[_0x5c7393(0x24e)]=mapv__namespace,exports[_0x5c7393(0x227)]=MapVLayer,Object['keys'](mapv)[_0x5c7393(0x21e)](function(_0x25158d){const _0x4bda05={_0x192478:0x220},_0x238fda=_0x5c7393;if(_0x25158d!==_0x238fda(0x242)&&!exports[_0x238fda(0x213)](_0x25158d))Object[_0x238fda(_0x4bda05._0x192478)](exports,_0x25158d,{'enumerable':!![],'get':function(){return mapv[_0x25158d];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
