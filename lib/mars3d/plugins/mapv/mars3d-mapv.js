/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.5
 * 编译日期：2023-09-08 17:15:55
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x57e995=_0x12b3;(function(_0x37be6f,_0x17f248){const _0x31e037={_0x492872:0x1fd,_0x52372e:0x216,_0x4a0622:0x1ba,_0x3b838d:0x1c6,_0x4b09f5:0x1cc,_0x4a42d1:0x215},_0x5b4894=_0x12b3,_0x1e903d=_0x37be6f();while(!![]){try{const _0x5e6dca=-parseInt(_0x5b4894(0x1cb))/0x1+-parseInt(_0x5b4894(0x1bb))/0x2*(-parseInt(_0x5b4894(0x1b7))/0x3)+parseInt(_0x5b4894(0x214))/0x4*(-parseInt(_0x5b4894(_0x31e037._0x492872))/0x5)+-parseInt(_0x5b4894(_0x31e037._0x52372e))/0x6*(parseInt(_0x5b4894(_0x31e037._0x4a0622))/0x7)+parseInt(_0x5b4894(_0x31e037._0x3b838d))/0x8*(-parseInt(_0x5b4894(0x1dd))/0x9)+-parseInt(_0x5b4894(_0x31e037._0x4b09f5))/0xa*(parseInt(_0x5b4894(0x1dc))/0xb)+parseInt(_0x5b4894(0x1c1))/0xc*(parseInt(_0x5b4894(_0x31e037._0x4a42d1))/0xd);if(_0x5e6dca===_0x17f248)break;else _0x1e903d['push'](_0x1e903d['shift']());}catch(_0x40c485){_0x1e903d['push'](_0x1e903d['shift']());}}}(_0x11cf,0xed91c));function _interopNamespace(_0x3e6fc8){const _0x5deb88={_0x534d29:0x209,_0x1208ae:0x1bf},_0x32867c=_0x12b3;if(_0x3e6fc8&&_0x3e6fc8['__esModule'])return _0x3e6fc8;var _0x44bd91=Object['create'](null);return _0x3e6fc8&&Object['keys'](_0x3e6fc8)[_0x32867c(_0x5deb88._0x534d29)](function(_0x8fe01e){const _0xea2dff=_0x32867c;if(_0x8fe01e!==_0xea2dff(0x1bf)){var _0x4fbe12=Object['getOwnPropertyDescriptor'](_0x3e6fc8,_0x8fe01e);Object['defineProperty'](_0x44bd91,_0x8fe01e,_0x4fbe12['get']?_0x4fbe12:{'enumerable':!![],'get':function(){return _0x3e6fc8[_0x8fe01e];}});}}),_0x44bd91[_0x32867c(_0x5deb88._0x1208ae)]=_0x3e6fc8,_0x44bd91;}function _0x12b3(_0x14ef04,_0x2e5ec7){const _0x11cfd1=_0x11cf();return _0x12b3=function(_0x12b335,_0x33799e){_0x12b335=_0x12b335-0x1b1;let _0x1e5dc9=_0x11cfd1[_0x12b335];return _0x1e5dc9;},_0x12b3(_0x14ef04,_0x2e5ec7);}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;function _0x11cf(){const _0x213c67=['steps','596387aWrvMJ','15803523SRxTmF','parentElement','_onMoveEndEvent','scale','push','height','methods','size','xmax','left','animatorMoveendEvent','0px','position','_onMapClick','isEnabledTime','fixedHeight','canvasLayer','ymax','context','resize','setZIndex','Point','scene','options','_onMapMouseMove','clear','clearData','LayerUtil','animation','addData','argCheck','off','3185DzqsoE','clearRect','zIndex','absolute','render','Cartesian3','none','MapVLayer','_pointerEvents','_coordinates','style','dataSet','forEach','depthTest','init','_data','_map','fromDegrees','windowPosition','get','canvas','isFormat','removeChild','1328NFEfrs','26hiqxvi','6vWzSWn','transferCoordinate','COLOR_BUFFER_BIT','mars3d-mapv','set','devicePixelRatio','postRender','top','3NCSHZA','DataSet','removeData','884877sMVwuK','2796842kLjenN','animator','_addedHook','processData','default','_mapVRenderer','21289344JnRVKC','SceneMode','initDevicePixelRatio','coordinates','bind','8yieSTj','_removedHook','__esModule','bindEvent','function','1825502kIXroQ','10VdNvwO','width','length','type','_reset','_onMoveStartEvent','all','map','click','Util','EventType','defineProperty','getContext','globe','getRectangle'];_0x11cf=function(){return _0x213c67;};return _0x11cf();}class MapVRenderer extends BaseLayer$1{constructor(_0x518fb2,_0x20b3ed,_0xc74a6b,_0x5df074){const _0x24d109={_0xff917e:0x1d3,_0x246e59:0x1f3,_0x457a82:0x1fb},_0x188c4e=_0x12b3;super(_0x518fb2,_0x20b3ed,_0xc74a6b);if(!BaseLayer$1)return;this[_0x188c4e(_0x24d109._0xff917e)]=_0x518fb2,this['scene']=_0x518fb2[_0x188c4e(_0x24d109._0x246e59)],this['dataSet']=_0x20b3ed,_0xc74a6b=_0xc74a6b||{},this[_0x188c4e(0x20b)](_0xc74a6b),this[_0x188c4e(_0x24d109._0x457a82)](_0xc74a6b),this['initDevicePixelRatio'](),this[_0x188c4e(0x1ed)]=_0x5df074,this['stopAniamation']=!0x1,this['animation']=_0xc74a6b['animation'];}[_0x57e995(0x1c3)](){const _0x5f1fe4={_0x9ee64d:0x1b4},_0x50c6a5=_0x57e995;this['devicePixelRatio']=window[_0x50c6a5(_0x5f1fe4._0x9ee64d)]||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0xc7e1b7={_0x224fb3:0x1f9,_0x5aa0f6:0x1eb,_0x4d95c7:0x1bc},_0x57661a=_0x57e995,_0x962e2e=this['options'][_0x57661a(_0xc7e1b7._0x224fb3)];this[_0x57661a(_0xc7e1b7._0x5aa0f6)]()&&this[_0x57661a(_0xc7e1b7._0x4d95c7)]&&(this[_0x57661a(0x1db)]['step']=_0x962e2e['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}[_0x57e995(0x1d8)](){const _0x2337ff=_0x57e995;return this['canvasLayer'][_0x2337ff(0x211)]['getContext'](this[_0x2337ff(0x1ef)]);}['init'](_0x1fce41){const _0x571ed4={_0x16049e:0x1f1},_0x44799d=_0x57e995;this['options']=_0x1fce41,this['initDataRange'](_0x1fce41),this['context']=this['options']['context']||'2d',this[_0x44799d(0x1f4)]['zIndex']&&this['canvasLayer']&&this['canvasLayer'][_0x44799d(_0x571ed4._0x16049e)]&&this['canvasLayer']['setZIndex'](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0xd85031){const _0x245b22={_0x5e8471:0x1f3,_0x39f5f5:0x1f6,_0x1916d2:0x1f4,_0x2eab0b:0x1e4},_0x271361={_0x2cc2ac:0x202,_0x29e37a:0x1c2,_0x49f11b:0x1d9},_0x1ecc31=_0x57e995,_0x5b8f09=this[_0x1ecc31(_0x245b22._0x5e8471)];if(this[_0x1ecc31(0x1ed)]&&!this['stopAniamation']){const _0x480782=this['options']['animation'],_0x5adda2=this[_0x1ecc31(0x1d8)]();if(this['isEnabledTime']()){if(void 0x0===_0xd85031)return void this[_0x1ecc31(0x1f6)](_0x5adda2);this[_0x1ecc31(0x1ef)]==='2d'&&(_0x5adda2['save'](),_0x5adda2['globalCompositeOperation']='destination-out',_0x5adda2['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x5adda2['fillRect'](0x0,0x0,_0x5adda2['canvas']['width'],_0x5adda2['canvas']['height']),_0x5adda2['restore']());}else this[_0x1ecc31(_0x245b22._0x39f5f5)](_0x5adda2);if(this['context']==='2d')for(const _0x20e512 in this['options']){_0x5adda2[_0x20e512]=this[_0x1ecc31(0x1f4)][_0x20e512];}else _0x5adda2['clear'](_0x5adda2[_0x1ecc31(0x1b1)]);const _0x5b12db={'transferCoordinate':function(_0x45d346){const _0x22aef8=_0x1ecc31,_0x49f6cb=null;let _0x1474c1=_0x5b8f09['mapvFixedHeight'];_0x5b8f09['mapvAutoHeight']&&(_0x1474c1=_0x5b8f09['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x45d346[0x0],_0x45d346[0x1])));const _0x5194c0=Cesium$1[_0x22aef8(_0x271361._0x2cc2ac)][_0x22aef8(0x20e)](_0x45d346[0x0],_0x45d346[0x1],_0x1474c1);if(!_0x5194c0)return _0x49f6cb;const _0x7f9789=_0x5b8f09['cartesianToCanvasCoordinates'](_0x5194c0);if(!_0x7f9789)return _0x49f6cb;if(_0x5b8f09['mapvDepthTest']&&_0x5b8f09['mode']===Cesium$1[_0x22aef8(_0x271361._0x29e37a)]['SCENE3D']){const _0x508c51=new Cesium$1['EllipsoidalOccluder'](_0x5b8f09[_0x22aef8(_0x271361._0x49f11b)]['ellipsoid'],_0x5b8f09['camera']['positionWC']),_0x2eb34b=_0x508c51['isPointVisible'](_0x5194c0);if(!_0x2eb34b)return _0x49f6cb;}return[_0x7f9789['x'],_0x7f9789['y']];}};void 0x0!==_0xd85031&&(_0x5b12db['filter']=function(_0x202abc){const _0x4bfdbf=_0x480782['trails']||0xa;return!!(_0xd85031&&_0x202abc['time']>_0xd85031-_0x4bfdbf&&_0x202abc['time']<_0xd85031);});const _0x4a9b9e=this[_0x1ecc31(0x208)]['get'](_0x5b12db);this[_0x1ecc31(0x1be)](_0x4a9b9e),this['options']['unit']==='m'&&this['options']['size'],this[_0x1ecc31(_0x245b22._0x1916d2)]['_size']=this['options'][_0x1ecc31(_0x245b22._0x2eab0b)];const _0x5996bd=_0x5b8f09['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3'][_0x1ecc31(0x20e)](0x0,0x0));if(!_0x5996bd)return;this['drawContext'](_0x5adda2,new mapv__namespace['DataSet'](_0x4a9b9e),this['options'],_0x5996bd),this['options']['updateCallback']&&this['options']['updateCallback'](_0xd85031);}}['updateData'](_0x4931e6,_0x16d092){const _0x40aae2=_0x57e995;let _0x1eac9e=_0x4931e6;_0x1eac9e&&_0x1eac9e[_0x40aae2(0x210)]&&(_0x1eac9e=_0x1eac9e['get']()),void 0x0!==_0x1eac9e&&this['dataSet']['set'](_0x1eac9e),super['update']({'options':_0x16d092});}['addData'](_0x5a9505,_0x30fe1b){let _0x2848a8=_0x5a9505;_0x5a9505&&_0x5a9505['get']&&(_0x2848a8=_0x5a9505['get']()),this['dataSet']['add'](_0x2848a8),this['update']({'options':_0x30fe1b});}['getData'](){const _0x5afdf8=_0x57e995;return this[_0x5afdf8(0x208)];}[_0x57e995(0x1b9)](_0x2433da){const _0x164457={_0x28d25d:0x1ca},_0x4d6e26=_0x57e995;if(this['dataSet']){const _0x473ca5=this['dataSet']['get']({'filter':function(_0x579361){const _0x48083e=_0x12b3;return _0x2433da==null||typeof _0x2433da!==_0x48083e(_0x164457._0x28d25d)||!_0x2433da(_0x579361);}});this['dataSet'][_0x4d6e26(0x1b3)](_0x473ca5),this['update']({'options':null});}}['clearData'](){const _0x50a405={_0x695dfe:0x208},_0x1b3b21=_0x57e995;this[_0x1b3b21(_0x50a405._0x695dfe)]&&this['dataSet'][_0x1b3b21(0x1f6)](),this['update']({'options':null});}['draw'](){this['canvasLayer']['draw']();}['clear'](_0x3b5895){const _0x27b6a8={_0x3c3b8d:0x1e2},_0x1927fc=_0x57e995;_0x3b5895&&_0x3b5895[_0x1927fc(0x1fe)]&&_0x3b5895['clearRect'](0x0,0x0,_0x3b5895['canvas']['width'],_0x3b5895['canvas'][_0x1927fc(_0x27b6a8._0x3c3b8d)]);}['destroy'](){const _0xe8fcc0={_0x18fc66:0x1d8,_0x4a3e89:0x1f7},_0x1e1e3f=_0x57e995;this['clear'](this[_0x1e1e3f(_0xe8fcc0._0x18fc66)]()),this[_0x1e1e3f(_0xe8fcc0._0x4a3e89)](),this['animator']&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x57e995(0x1b8)]['prototype'][_0x57e995(0x217)]=function(_0x1bd136,_0x304eeb,_0x1b34ef,_0x4efb85){const _0x18c4d7={_0x1a4733:0x1c4,_0x545593:0x1f2,_0x355cb1:0x1ce,_0x3fd0bf:0x1e1},_0x703dc3=_0x57e995;_0x4efb85=_0x4efb85||_0x703dc3(0x206),_0x1b34ef=_0x1b34ef||_0x703dc3(_0x18c4d7._0x1a4733);for(let _0x42b448=0x0;_0x42b448<_0x1bd136['length'];_0x42b448++){const _0x36346c=_0x1bd136[_0x42b448]['geometry'],_0x391285=_0x36346c[_0x1b34ef];switch(_0x36346c[_0x703dc3(0x1cf)]){case _0x703dc3(_0x18c4d7._0x545593):{const _0x99d7f0=_0x304eeb(_0x391285);_0x99d7f0?_0x36346c[_0x4efb85]=_0x99d7f0:_0x36346c[_0x4efb85]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x520236=[];for(let _0x1d2c53=0x0;_0x1d2c53<_0x391285[_0x703dc3(0x1ce)];_0x1d2c53++){const _0x1f63a3=_0x304eeb(_0x391285[_0x1d2c53]);_0x1f63a3&&_0x520236['push'](_0x1f63a3);}_0x36346c[_0x4efb85]=_0x520236;}break;case'MultiLineString':case'Polygon':{const _0x344203=_0x3b32aa(_0x391285);_0x36346c[_0x4efb85]=_0x344203;}break;case'MultiPolygon':{const _0x3a6207=[];for(let _0x2e9ad8=0x0;_0x2e9ad8<_0x391285['length'];_0x2e9ad8++){const _0x379b4c=_0x3b32aa(_0x391285[_0x2e9ad8]);_0x379b4c[_0x703dc3(_0x18c4d7._0x355cb1)]>0x0&&_0x3a6207[_0x703dc3(_0x18c4d7._0x3fd0bf)](_0x379b4c);}_0x36346c[_0x4efb85]=_0x3a6207;}break;}}function _0x3b32aa(_0x2a983b){const _0x2f9bcc=[];for(let _0x2dc493=0x0;_0x2dc493<_0x2a983b['length'];_0x2dc493++){const _0xe3ba43=_0x2a983b[_0x2dc493],_0x1243e7=[];for(let _0x246c1f=0x0;_0x246c1f<_0xe3ba43['length'];_0x246c1f++){const _0x3817ee=_0x304eeb(_0xe3ba43[_0x246c1f]);_0x3817ee&&_0x1243e7['push'](_0x3817ee);}_0x1243e7['length']>0x0&&_0x2f9bcc['push'](_0x1243e7);}return _0x2f9bcc;}return _0x1bd136;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x19e460,_0xa5e5cc){const _0x51aea8=_0x57e995;super(_0x19e460),this['_pointerEvents']=this[_0x51aea8(0x1f4)]['pointerEvents'],this['dataSet']=_0xa5e5cc||new mapv__namespace['DataSet'](_0x19e460['data']),this['canvas']=null;}get['pointerEvents'](){const _0x51db6b=_0x57e995;return this[_0x51db6b(0x205)];}set['pointerEvents'](_0x336a2f){const _0x41e41c={_0x3ac4fd:0x1d2},_0x37e927=_0x57e995;this['_pointerEvents']=_0x336a2f,this['canvas']&&(_0x336a2f?this['canvas']['style']['pointerEvents']=_0x37e927(_0x41e41c._0x3ac4fd):this[_0x37e927(0x211)]['style']['pointerEvents']='none');}['_showHook'](_0x4e1653){const _0x34d59b={_0x4302fc:0x207,_0x12a6e7:0x211,_0x372b1a:0x207},_0x27e400=_0x57e995;_0x4e1653?this['canvas'][_0x27e400(_0x34d59b._0x4302fc)]['display']='block':this[_0x27e400(_0x34d59b._0x12a6e7)][_0x27e400(_0x34d59b._0x372b1a)]['display']='none';}['_mountedHook'](){const _0x264a69={_0x151e0e:0x20a,_0x55554f:0x20d,_0x17c80a:0x1ec},_0x2e8291=_0x57e995;this[_0x2e8291(0x20d)]['scene']['mapvDepthTest']=this[_0x2e8291(0x1f4)][_0x2e8291(_0x264a69._0x151e0e)]??!![],this['_map']['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this[_0x2e8291(_0x264a69._0x55554f)]['scene']['mapvFixedHeight']=this['options'][_0x2e8291(_0x264a69._0x17c80a)]??0x0;}['_addedHook'](){const _0x52fe1a={_0x3b27f1:0x201,_0x31be44:0x1d0},_0x32e94f=_0x57e995;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet']['_data']=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x32e94f(0x20d)],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this[_0x32e94f(0x211)]=this['_createCanvas'](),this[_0x32e94f(0x201)]=this[_0x32e94f(_0x52fe1a._0x3b27f1)][_0x32e94f(0x1c5)](this),this[_0x32e94f(0x1c9)](),this[_0x32e94f(_0x52fe1a._0x31be44)]();}['_removedHook'](){const _0x382b0e=_0x57e995;this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x382b0e(0x1de)]['removeChild'](this['canvas']);}[_0x57e995(0x1c3)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x57e995(0x1c9)](){const _0x5be991={_0x56230c:0x1d6,_0x17df5c:0x1f4,_0x4271fd:0x20d},_0x23fa28=_0x57e995;var _0x3b301a,_0x4105b7,_0x26baca,_0x51e95c;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x23fa28(0x1d1)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x3b301a=this['options'])!==null&&_0x3b301a!==void 0x0&&(_0x4105b7=_0x3b301a[_0x23fa28(0x1e3)])!==null&&_0x4105b7!==void 0x0&&_0x4105b7['click']&&this['_map']['on'](mars3d__namespace[_0x23fa28(_0x5be991._0x56230c)][_0x23fa28(0x1d4)],this['_onMapClick'],this),(_0x26baca=this[_0x23fa28(_0x5be991._0x17df5c)])!==null&&_0x26baca!==void 0x0&&(_0x51e95c=_0x26baca['methods'])!==null&&_0x51e95c!==void 0x0&&_0x51e95c['mousemove']&&this[_0x23fa28(_0x5be991._0x4271fd)]['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x23fa28(0x1f5)],this);}['unbindEvent'](){const _0x1d83e2={_0x306f51:0x1df,_0x275e8b:0x1b5,_0x1cad25:0x1fc,_0x4f519a:0x1d6,_0xab2e3c:0x1f5},_0x2b68c8=_0x57e995;var _0x5dd34b,_0x5a5137,_0x12a365,_0x35b5d7;this['_map']['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x2b68c8(0x1d6)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x2b68c8(0x20d)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x2b68c8(_0x1d83e2._0x306f51)],this),this['_map'][_0x2b68c8(0x1fc)](mars3d__namespace['EventType'][_0x2b68c8(_0x1d83e2._0x275e8b)],this['_reset'],this),(_0x5dd34b=this[_0x2b68c8(0x1f4)])!==null&&_0x5dd34b!==void 0x0&&(_0x5a5137=_0x5dd34b['methods'])!==null&&_0x5a5137!==void 0x0&&_0x5a5137['click']&&this['_map']['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x12a365=this[_0x2b68c8(0x1f4)])!==null&&_0x12a365!==void 0x0&&(_0x35b5d7=_0x12a365['methods'])!==null&&_0x35b5d7!==void 0x0&&_0x35b5d7['mousemove']&&this['_map'][_0x2b68c8(_0x1d83e2._0x1cad25)](mars3d__namespace[_0x2b68c8(_0x1d83e2._0x4f519a)]['mouseMove'],this[_0x2b68c8(_0x1d83e2._0xab2e3c)],this);}['_onMoveStartEvent'](){const _0x1b32cf={_0x20903a:0x1c0,_0x27df38:0x1b5,_0x41d76f:0x1d0,_0x3bd99e:0x1d0},_0x176be4=_0x57e995;this['_mapVRenderer']&&(this[_0x176be4(_0x1b32cf._0x20903a)]['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType'][_0x176be4(_0x1b32cf._0x27df38)],this[_0x176be4(_0x1b32cf._0x41d76f)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this[_0x176be4(_0x1b32cf._0x3bd99e)],this));}['_onMoveEndEvent'](){const _0x1264f4={_0x4f8a72:0x1d6,_0x38d998:0x1e7},_0xa6c92d=_0x57e995;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace[_0xa6c92d(_0x1264f4._0x4f8a72)]['postRender'],this['_reset'],this),this['_mapVRenderer'][_0xa6c92d(_0x1264f4._0x38d998)](),this['_reset']());}['_setOptionsHook'](_0x4da091,_0x373aea){const _0x296ae4={_0x22bd93:0x1c7,_0x121a6b:0x1bd},_0x307b86=_0x57e995;this[_0x307b86(_0x296ae4._0x22bd93)](),this[_0x307b86(_0x296ae4._0x121a6b)]();}['addData'](_0x1e6668){const _0x48a0a7=_0x57e995;this[_0x48a0a7(0x1c0)]&&this['_mapVRenderer'][_0x48a0a7(0x1fa)](_0x1e6668,this['options']);}['updateData'](_0x54369b){const _0x40432b=_0x57e995;this['_mapVRenderer']&&this[_0x40432b(0x1c0)]['updateData'](_0x54369b,this['options']);}['getData'](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}[_0x57e995(0x1b9)](_0x29b8a6){const _0x4aa480={_0x43373f:0x1b9},_0x26d284=_0x57e995;this[_0x26d284(0x1c0)]&&this['_mapVRenderer'][_0x26d284(_0x4aa480._0x43373f)](_0x29b8a6);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x1c0c4e={_0x17c224:0x211,_0x279d0d:0x1e2,_0xb20a49:0x20d,_0x3d3e9b:0x203,_0x49b28f:0x1e0},_0x5c92c1=_0x57e995,_0x5bd956=mars3d__namespace['DomUtil']['create']('canvas',_0x5c92c1(0x1b2),this[_0x5c92c1(0x20d)]['container']);_0x5bd956['id']=this['id'],_0x5bd956[_0x5c92c1(0x207)][_0x5c92c1(0x1e9)]='absolute',_0x5bd956['style'][_0x5c92c1(0x1b6)]='0px',_0x5bd956['style'][_0x5c92c1(0x1e6)]='0px',_0x5bd956['width']=parseInt(this['_map'][_0x5c92c1(_0x1c0c4e._0x17c224)]['width']),_0x5bd956[_0x5c92c1(_0x1c0c4e._0x279d0d)]=parseInt(this['_map'][_0x5c92c1(0x211)][_0x5c92c1(_0x1c0c4e._0x279d0d)]),_0x5bd956['style']['width']=this['_map']['canvas']['style']['width'],_0x5bd956[_0x5c92c1(0x207)][_0x5c92c1(0x1e2)]=this[_0x5c92c1(_0x1c0c4e._0xb20a49)]['canvas']['style'][_0x5c92c1(0x1e2)],_0x5bd956['style']['pointerEvents']=this['_pointerEvents']?'auto':_0x5c92c1(_0x1c0c4e._0x3d3e9b),_0x5bd956[_0x5c92c1(0x207)][_0x5c92c1(0x1ff)]=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x5bb652=this['devicePixelRatio'];_0x5bd956[_0x5c92c1(0x1d8)](this['options']['context'])[_0x5c92c1(_0x1c0c4e._0x49b28f)](_0x5bb652,_0x5bb652);}return _0x5bd956;}['_reset'](){const _0x4dffea={_0x2cbbad:0x1f0},_0x47053f=_0x57e995;this[_0x47053f(_0x4dffea._0x2cbbad)](),this[_0x47053f(0x201)]();}['draw'](){this['_reset']();}['remove'](){const _0x31d54e={_0xbb11fb:0x1c0,_0x495223:0x1de,_0x464c27:0x213,_0x314912:0x211},_0x4257fe=_0x57e995;this[_0x4257fe(0x1c0)]&&(this[_0x4257fe(_0x31d54e._0xbb11fb)]['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x4257fe(_0x31d54e._0x495223)][_0x4257fe(_0x31d54e._0x464c27)](this[_0x4257fe(_0x31d54e._0x314912)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x46e3c2={_0x257fd0:0x1e6,_0x3c3fff:0x211,_0x12b212:0x1e2},_0xe5e2f8=_0x57e995;if(this['canvas']){const _0x3394b0=this['canvas'];_0x3394b0['style'][_0xe5e2f8(0x1e9)]=_0xe5e2f8(0x200),_0x3394b0['style']['top']='0px',_0x3394b0['style'][_0xe5e2f8(_0x46e3c2._0x257fd0)]=_0xe5e2f8(0x1e8),_0x3394b0[_0xe5e2f8(0x1cd)]=parseInt(this['_map']['canvas']['width']),_0x3394b0['height']=parseInt(this['_map'][_0xe5e2f8(_0x46e3c2._0x3c3fff)][_0xe5e2f8(_0x46e3c2._0x12b212)]),_0x3394b0['style']['width']=this[_0xe5e2f8(0x20d)][_0xe5e2f8(0x211)]['style']['width'],_0x3394b0[_0xe5e2f8(0x207)]['height']=this['_map']['canvas']['style']['height'];}}[_0x57e995(0x1da)](_0x545dbf){const _0x1dcec2={_0x8b9b2d:0x208,_0x451151:0x1e5,_0x7e6f2:0x1ee},_0xb81a01=_0x57e995;if(!this[_0xb81a01(_0x1dcec2._0x8b9b2d)]||!this['dataSet'][_0xb81a01(0x20c)])return;const _0x2da04a=mars3d__namespace[_0xb81a01(0x1d5)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x2da04a)return;return _0x545dbf!==null&&_0x545dbf!==void 0x0&&_0x545dbf[_0xb81a01(0x212)]?_0x2da04a:Cesium['Rectangle']['fromDegrees'](_0x2da04a['xmin'],_0x2da04a['ymin'],_0x2da04a[_0xb81a01(_0x1dcec2._0x451151)],_0x2da04a[_0xb81a01(_0x1dcec2._0x7e6f2)]);}[_0x57e995(0x1ea)](_0x77784){const _0x3ff443=_0x57e995;this['_cache_event']=_0x77784,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x77784[_0x3ff443(0x20f)],_0x77784);}['_onMapMouseMove'](_0x624d57){const _0x191b58={_0x3d2f08:0x20f},_0x4362d4=_0x57e995;this['_cache_event']=_0x624d57,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x624d57[_0x4362d4(_0x191b58._0x3d2f08)],_0x624d57);}['on'](_0x55642b,_0xc57fc5,_0xe68b03){const _0x23a605={_0x34371b:0x1e3,_0x1dd2bf:0x1f4},_0x2f4a72={_0x17c36c:0x1c5},_0x29c10e=_0x57e995;this[_0x29c10e(0x1f4)]['methods']=this[_0x29c10e(0x1f4)][_0x29c10e(_0x23a605._0x34371b)]||{};if(_0x55642b===mars3d__namespace['EventType']['click'])this['options']['methods']['click']=_0xbb2961=>{_0xbb2961&&_0xc57fc5['bind'](_0xe68b03)({...this['_cache_event'],'layer':this,'data':_0xbb2961});},this[_0x29c10e(0x20d)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x55642b===mars3d__namespace[_0x29c10e(0x1d6)]['mouseMove']&&(this[_0x29c10e(_0x23a605._0x1dd2bf)][_0x29c10e(_0x23a605._0x34371b)]['mousemove']=_0x14784c=>{const _0x50c9bd=_0x29c10e;_0x14784c&&_0xc57fc5[_0x50c9bd(_0x2f4a72._0x17c36c)](_0xe68b03)({...this['_cache_event'],'layer':this,'data':_0x14784c});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}[_0x57e995(0x1fc)](_0x4e3f67,_0x3d4767){const _0x4d72c0={_0x4fee67:0x1e3,_0x59e807:0x20d},_0x2689fb=_0x57e995;if(_0x4e3f67==='click'){var _0x512c7c;this['_map'][_0x2689fb(0x1fc)](_0x4e3f67,this['_onMapClick'],this),(_0x512c7c=this['options'][_0x2689fb(_0x4d72c0._0x4fee67)])!==null&&_0x512c7c!==void 0x0&&_0x512c7c['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x4e3f67==='mouseMove'){var _0x3c5507;this[_0x2689fb(_0x4d72c0._0x59e807)]['off'](_0x4e3f67,this['_onMapMouseMove'],this),(_0x3c5507=this['options']['methods'])!==null&&_0x3c5507!==void 0x0&&_0x3c5507['mousemove']&&delete this[_0x2689fb(0x1f4)]['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x57e995(0x1f8)]['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x57e995(0x204)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x1ee228){if(_0x1ee228!=='default'&&!exports['hasOwnProperty'](_0x1ee228))Object['defineProperty'](exports,_0x1ee228,{'enumerable':!![],'get':function(){return mapv[_0x1ee228];}});}),Object[_0x57e995(0x1d7)](exports,_0x57e995(0x1c8),{'value':!![]});
}));
