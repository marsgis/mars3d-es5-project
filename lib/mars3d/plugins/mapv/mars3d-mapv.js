/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.0
 * 编译日期：2023-08-04 12:48:00
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x1abb2e=_0x4bcc;(function(_0x4d719e,_0x516bc1){const _0x482aa3={_0x2d4b19:0x1ef,_0x3165dd:0x201,_0x2ea98e:0x1bc,_0x29cc50:0x1de,_0x8d0f88:0x1cc,_0x578254:0x1e3,_0x3cec75:0x1cf},_0x5e4572=_0x4bcc,_0x547299=_0x4d719e();while(!![]){try{const _0x3d8ddb=parseInt(_0x5e4572(0x1f7))/0x1*(parseInt(_0x5e4572(0x1cd))/0x2)+parseInt(_0x5e4572(_0x482aa3._0x2d4b19))/0x3*(parseInt(_0x5e4572(_0x482aa3._0x3165dd))/0x4)+-parseInt(_0x5e4572(_0x482aa3._0x2ea98e))/0x5+parseInt(_0x5e4572(_0x482aa3._0x29cc50))/0x6+-parseInt(_0x5e4572(_0x482aa3._0x8d0f88))/0x7+parseInt(_0x5e4572(0x1ad))/0x8+parseInt(_0x5e4572(_0x482aa3._0x578254))/0x9*(parseInt(_0x5e4572(_0x482aa3._0x3cec75))/0xa);if(_0x3d8ddb===_0x516bc1)break;else _0x547299['push'](_0x547299['shift']());}catch(_0x382d04){_0x547299['push'](_0x547299['shift']());}}}(_0xb707,0xc94f6));function _interopNamespace(_0xd899ee){if(_0xd899ee&&_0xd899ee['__esModule'])return _0xd899ee;var _0x321572=Object['create'](null);return _0xd899ee&&Object['keys'](_0xd899ee)['forEach'](function(_0x10bca8){if(_0x10bca8!=='default'){var _0x457d28=Object['getOwnPropertyDescriptor'](_0xd899ee,_0x10bca8);Object['defineProperty'](_0x321572,_0x10bca8,_0x457d28['get']?_0x457d28:{'enumerable':!![],'get':function(){return _0xd899ee[_0x10bca8];}});}}),_0x321572['default']=_0xd899ee,_0x321572;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x4bcc(_0x6fde76,_0x7c3c3a){const _0xb70719=_0xb707();return _0x4bcc=function(_0x4bcc31,_0x51533f){_0x4bcc31=_0x4bcc31-0x1a7;let _0x349f08=_0xb70719[_0x4bcc31];return _0x349f08;},_0x4bcc(_0x6fde76,_0x7c3c3a);}const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x1abb2e(0x1da)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x2dbd94,_0x44e5d0,_0x585fe4,_0x3bc09a){const _0x39d5f6={_0x330336:0x1f3},_0x5bc484=_0x1abb2e;super(_0x2dbd94,_0x44e5d0,_0x585fe4);if(!BaseLayer$1)return;this['map']=_0x2dbd94,this['scene']=_0x2dbd94['scene'],this['dataSet']=_0x44e5d0,_0x585fe4=_0x585fe4||{},this['init'](_0x585fe4),this[_0x5bc484(_0x39d5f6._0x330336)](_0x585fe4),this['initDevicePixelRatio'](),this['canvasLayer']=_0x3bc09a,this[_0x5bc484(0x1fd)]=!0x1,this['animation']=_0x585fe4['animation'];}[_0x1abb2e(0x1fc)](){const _0x4e02f8=_0x1abb2e;this[_0x4e02f8(0x1e8)]=window['devicePixelRatio']||0x1;}[_0x1abb2e(0x1bb)](){}[_0x1abb2e(0x202)](){const _0x5baf1a={_0x55e34b:0x1fb},_0x340b3d=_0x1abb2e,_0x1a1514=this[_0x340b3d(0x1f6)][_0x340b3d(0x1be)];this[_0x340b3d(0x1e9)]()&&this['animator']&&(this[_0x340b3d(_0x5baf1a._0x55e34b)]['step']=_0x1a1514['stepsRange']['start']);}[_0x1abb2e(0x1c8)](){const _0x4cdf75={_0x3c8483:0x1e9},_0x451bd8=_0x1abb2e;this[_0x451bd8(_0x4cdf75._0x3c8483)]()&&this['animator'];}[_0x1abb2e(0x1dd)](){const _0xcb9a18=_0x1abb2e;return this['canvasLayer'][_0xcb9a18(0x200)][_0xcb9a18(0x1dd)](this[_0xcb9a18(0x1d4)]);}['init'](_0x2b5465){const _0x25a30f={_0x5540cf:0x1f6,_0x182025:0x1eb},_0x1e09da=_0x1abb2e;this['options']=_0x2b5465,this['initDataRange'](_0x2b5465),this['context']=this[_0x1e09da(_0x25a30f._0x5540cf)]['context']||'2d',this[_0x1e09da(_0x25a30f._0x5540cf)]['zIndex']&&this['canvasLayer']&&this[_0x1e09da(_0x25a30f._0x182025)]['setZIndex']&&this['canvasLayer'][_0x1e09da(0x1e0)](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x7596a2){const _0x5a4634={_0x18be2f:0x1d4,_0x6acc2c:0x1ac,_0x314f11:0x1e2,_0x35104a:0x1b4},_0x138eb1={_0x564af4:0x1c2,_0x76202e:0x1ce},_0x5e6006={_0x1af78d:0x204,_0x283a92:0x1a7},_0x376400=_0x1abb2e,_0x323f82=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x1906eb=this['options']['animation'],_0x2d70ce=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x7596a2)return void this[_0x376400(0x1fa)](_0x2d70ce);this[_0x376400(_0x5a4634._0x18be2f)]==='2d'&&(_0x2d70ce[_0x376400(_0x5a4634._0x6acc2c)](),_0x2d70ce['globalCompositeOperation']=_0x376400(0x1cb),_0x2d70ce['fillStyle']=_0x376400(0x1fe),_0x2d70ce['fillRect'](0x0,0x0,_0x2d70ce[_0x376400(0x200)]['width'],_0x2d70ce['canvas']['height']),_0x2d70ce['restore']());}else this[_0x376400(0x1fa)](_0x2d70ce);if(this['context']==='2d')for(const _0x4c2fc4 in this['options']){_0x2d70ce[_0x4c2fc4]=this['options'][_0x4c2fc4];}else _0x2d70ce['clear'](_0x2d70ce['COLOR_BUFFER_BIT']);const _0x135d1b={'transferCoordinate':function(_0x5d3ac5){const _0x296815=_0x376400,_0xd44ce6=null;let _0x187c1e=_0x323f82['mapvFixedHeight'];_0x323f82['mapvAutoHeight']&&(_0x187c1e=_0x323f82[_0x296815(0x204)]['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x5d3ac5[0x0],_0x5d3ac5[0x1])));const _0x5a7bf8=Cesium$1['Cartesian3']['fromDegrees'](_0x5d3ac5[0x0],_0x5d3ac5[0x1],_0x187c1e);if(!_0x5a7bf8)return _0xd44ce6;const _0x4f0f11=_0x323f82['cartesianToCanvasCoordinates'](_0x5a7bf8);if(!_0x4f0f11)return _0xd44ce6;if(_0x323f82['mapvDepthTest']&&_0x323f82['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x2e3d17=new Cesium$1['EllipsoidalOccluder'](_0x323f82[_0x296815(_0x5e6006._0x1af78d)][_0x296815(0x1d7)],_0x323f82[_0x296815(_0x5e6006._0x283a92)]['positionWC']),_0x1a0341=_0x2e3d17['isPointVisible'](_0x5a7bf8);if(!_0x1a0341)return _0xd44ce6;}return[_0x4f0f11['x'],_0x4f0f11['y']];}};void 0x0!==_0x7596a2&&(_0x135d1b['filter']=function(_0x4a47eb){const _0x20bbae=_0x376400,_0xe44e43=_0x1906eb[_0x20bbae(_0x138eb1._0x564af4)]||0xa;return!!(_0x7596a2&&_0x4a47eb['time']>_0x7596a2-_0xe44e43&&_0x4a47eb[_0x20bbae(_0x138eb1._0x76202e)]<_0x7596a2);});const _0x10318b=this[_0x376400(_0x5a4634._0x314f11)]['get'](_0x135d1b);this['processData'](_0x10318b),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x41c261=_0x323f82['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3'][_0x376400(0x205)](0x0,0x0));if(!_0x41c261)return;this['drawContext'](_0x2d70ce,new mapv__namespace['DataSet'](_0x10318b),this['options'],_0x41c261),this[_0x376400(0x1f6)][_0x376400(_0x5a4634._0x35104a)]&&this['options']['updateCallback'](_0x7596a2);}}['updateData'](_0x57adde,_0x3649f1){const _0x55898c={_0x273302:0x1ae},_0x4d793e=_0x1abb2e;let _0x510c01=_0x57adde;_0x510c01&&_0x510c01['get']&&(_0x510c01=_0x510c01['get']()),void 0x0!==_0x510c01&&this['dataSet']['set'](_0x510c01),super[_0x4d793e(_0x55898c._0x273302)]({'options':_0x3649f1});}['addData'](_0x42fdde,_0x470487){const _0x42f892={_0xd56100:0x1c0,_0x198349:0x1b5},_0xcd7f33=_0x1abb2e;let _0x200b43=_0x42fdde;_0x42fdde&&_0x42fdde[_0xcd7f33(_0x42f892._0xd56100)]&&(_0x200b43=_0x42fdde['get']()),this['dataSet'][_0xcd7f33(_0x42f892._0x198349)](_0x200b43),this['update']({'options':_0x470487});}['getData'](){return this['dataSet'];}[_0x1abb2e(0x1aa)](_0x5422dc){if(this['dataSet']){const _0x16ea18=this['dataSet']['get']({'filter':function(_0x4b3f0c){return _0x5422dc==null||typeof _0x5422dc!=='function'||!_0x5422dc(_0x4b3f0c);}});this['dataSet']['set'](_0x16ea18),this['update']({'options':null});}}['clearData'](){const _0x5b64eb={_0x1f5c89:0x1fa},_0x56215c=_0x1abb2e;this[_0x56215c(0x1e2)]&&this['dataSet'][_0x56215c(_0x5b64eb._0x1f5c89)](),this[_0x56215c(0x1ae)]({'options':null});}[_0x1abb2e(0x1d9)](){const _0x38b498={_0x4b0ebb:0x1d9},_0x49eca7=_0x1abb2e;this['canvasLayer'][_0x49eca7(_0x38b498._0x4b0ebb)]();}['clear'](_0x1d2d0f){const _0x50505f=_0x1abb2e;_0x1d2d0f&&_0x1d2d0f['clearRect']&&_0x1d2d0f['clearRect'](0x0,0x0,_0x1d2d0f[_0x50505f(0x200)]['width'],_0x1d2d0f['canvas']['height']);}['destroy'](){const _0x16c4cf={_0x58a0fc:0x1fa,_0x48b0d1:0x1d0},_0xeebb3b=_0x1abb2e;this[_0xeebb3b(_0x16c4cf._0x58a0fc)](this[_0xeebb3b(0x1dd)]()),this['clearData'](),this[_0xeebb3b(_0x16c4cf._0x48b0d1)]&&this['animator']['stop'](),this[_0xeebb3b(_0x16c4cf._0x48b0d1)]=null,this[_0xeebb3b(0x1eb)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x1abb2e(0x1ea)])mapv__namespace[_0x1abb2e(0x1ea)][_0x1abb2e(0x1b0)]['transferCoordinate']=function(_0x42191e,_0x3dfbfb,_0x2daa81,_0x5d52a3){const _0x8fee1b={_0x406a14:0x1e4},_0x4445cd=_0x1abb2e;_0x5d52a3=_0x5d52a3||_0x4445cd(0x1ed),_0x2daa81=_0x2daa81||'coordinates';for(let _0x36cc5c=0x0;_0x36cc5c<_0x42191e['length'];_0x36cc5c++){const _0x47f978=_0x42191e[_0x36cc5c]['geometry'],_0x5b1009=_0x47f978[_0x2daa81];switch(_0x47f978['type']){case'Point':{const _0x3e150b=_0x3dfbfb(_0x5b1009);_0x3e150b?_0x47f978[_0x5d52a3]=_0x3e150b:_0x47f978[_0x5d52a3]=[-0x3e7,-0x3e7];}break;case _0x4445cd(0x1c7):{const _0x5107d3=[];for(let _0x5c4b8d=0x0;_0x5c4b8d<_0x5b1009[_0x4445cd(0x1e4)];_0x5c4b8d++){const _0x24bb37=_0x3dfbfb(_0x5b1009[_0x5c4b8d]);_0x24bb37&&_0x5107d3['push'](_0x24bb37);}_0x47f978[_0x5d52a3]=_0x5107d3;}break;case'MultiLineString':case'Polygon':{const _0x22155c=_0x20f366(_0x5b1009);_0x47f978[_0x5d52a3]=_0x22155c;}break;case'MultiPolygon':{const _0x3cf15f=[];for(let _0x347bb9=0x0;_0x347bb9<_0x5b1009['length'];_0x347bb9++){const _0x459d8b=_0x20f366(_0x5b1009[_0x347bb9]);_0x459d8b[_0x4445cd(_0x8fee1b._0x406a14)]>0x0&&_0x3cf15f['push'](_0x459d8b);}_0x47f978[_0x5d52a3]=_0x3cf15f;}break;}}function _0x20f366(_0x19ec76){const _0x22b619=_0x4445cd,_0x246966=[];for(let _0x280efb=0x0;_0x280efb<_0x19ec76['length'];_0x280efb++){const _0x26d36c=_0x19ec76[_0x280efb],_0x50c5f5=[];for(let _0x18ac31=0x0;_0x18ac31<_0x26d36c[_0x22b619(0x1e4)];_0x18ac31++){const _0x5accb8=_0x3dfbfb(_0x26d36c[_0x18ac31]);_0x5accb8&&_0x50c5f5['push'](_0x5accb8);}_0x50c5f5['length']>0x0&&_0x246966[_0x22b619(0x1b2)](_0x50c5f5);}return _0x246966;}return _0x42191e;};else throw new Error(_0x1abb2e(0x1f0));function _0xb707(){const _0x13f404=['push','_mapVRenderer','updateCallback','add','_reset','windowPosition','unbindEvent','mouseDown','methods','addAnimatorEvent','6497890hxjuBD','absolute','animation','_mountedHook','get','_onMapMouseMove','trails','removeAllData','_pointerEvents','cameraMoveStart','depthTest','LineString','animatorMoveendEvent','mouseMove','scale','destination-out','4609003uaaeTx','2519662FCjLSM','time','1689780lEQBRk','animator','EventType','mousemove','forEach','context','updateData','container','ellipsoid','Cesium','draw','__proto__','LayerUtil','ymin','getContext','4093458pzxJoU','width','setZIndex','click','dataSet','18IZaUcO','length','style','_addedHook','_onMapClick','devicePixelRatio','isEnabledTime','DataSet','canvasLayer','top','_coordinates','addData','4185JIsojR','请引入\x20mapv\x20库\x20','position','_data','argCheck','off','destroy','options','1cZkBge','render','_cache_event','clear','steps','initDevicePixelRatio','stopAniamation','rgba(0,\x200,\x200,\x20.1)','parentElement','canvas','396RpyhZa','animatorMovestartEvent','_map','globe','fromDegrees','camera','none','mapv','removeData','scene','save','2915504JlDiNl','update','__esModule','prototype','mapvFixedHeight'];_0xb707=function(){return _0x13f404;};return _0xb707();}const Cesium=mars3d__namespace[_0x1abb2e(0x1d8)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x4c343c,_0x5be1ed){const _0x599726=_0x1abb2e;super(_0x4c343c),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x5be1ed||new mapv__namespace['DataSet'](_0x4c343c['data']),this[_0x599726(0x200)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x1fefdf){const _0x4febe0={_0x13bf2e:0x1c4,_0x272c5c:0x200},_0x1e360b=_0x1abb2e;this[_0x1e360b(_0x4febe0._0x13bf2e)]=_0x1fefdf,this[_0x1e360b(_0x4febe0._0x272c5c)]&&(_0x1fefdf?this['canvas']['style']['pointerEvents']='all':this['canvas']['style']['pointerEvents']=_0x1e360b(0x1a8));}['_showHook'](_0x1f43a7){_0x1f43a7?this['canvas']['style']['display']='block':this['canvas']['style']['display']='none';}[_0x1abb2e(0x1bf)](){const _0x21c1b4={_0x420ecf:0x1c6,_0x477c17:0x1ab,_0x42b849:0x1f6,_0x1377e6:0x203,_0x2c6c13:0x1b1},_0x2537cd=_0x1abb2e;this['_map'][_0x2537cd(0x1ab)]['mapvDepthTest']=this['options'][_0x2537cd(_0x21c1b4._0x420ecf)]??!![],this['_map'][_0x2537cd(_0x21c1b4._0x477c17)]['mapvAutoHeight']=this[_0x2537cd(_0x21c1b4._0x42b849)]['clampToGround']??![],this[_0x2537cd(_0x21c1b4._0x1377e6)][_0x2537cd(0x1ab)][_0x2537cd(_0x21c1b4._0x2c6c13)]=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x13103a={_0x3a44d6:0x1f2,_0x1ce6e4:0x203,_0x2b8d2f:0x1e2,_0x61371b:0x200},_0x5589fb=_0x1abb2e;this['dataSet']&&(!this['dataSet'][_0x5589fb(_0x13103a._0x3a44d6)]||this['dataSet']['_data']['length']===0x0)&&(this[_0x5589fb(0x1e2)]['_data']=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x5589fb(_0x13103a._0x1ce6e4)],this[_0x5589fb(_0x13103a._0x2b8d2f)],this['options'],this),this['initDevicePixelRatio'](),this[_0x5589fb(_0x13103a._0x61371b)]=this['_createCanvas'](),this[_0x5589fb(0x1f8)]=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0x2d9ce2={_0x53392c:0x1b8,_0x291dac:0x1f5},_0x19ccec=_0x1abb2e;this[_0x19ccec(_0x2d9ce2._0x53392c)](),this['_mapVRenderer']&&(this['_mapVRenderer'][_0x19ccec(_0x2d9ce2._0x291dac)](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x2c56f1={_0x3cc4a5:0x1d1,_0x38b5df:0x1b9,_0x5d6ce7:0x203,_0x49ad9c:0x1e7,_0x107c96:0x1ba},_0xddbf39=_0x1abb2e;var _0x17fef6,_0x2e0ad3,_0x176b27,_0x363598;this['_map']['on'](mars3d__namespace[_0xddbf39(_0x2c56f1._0x3cc4a5)][_0xddbf39(_0x2c56f1._0x38b5df)],this['_onMoveStartEvent'],this),this[_0xddbf39(_0x2c56f1._0x5d6ce7)]['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x17fef6=this['options'])!==null&&_0x17fef6!==void 0x0&&(_0x2e0ad3=_0x17fef6[_0xddbf39(0x1ba)])!==null&&_0x2e0ad3!==void 0x0&&_0x2e0ad3['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this[_0xddbf39(_0x2c56f1._0x49ad9c)],this),(_0x176b27=this[_0xddbf39(0x1f6)])!==null&&_0x176b27!==void 0x0&&(_0x363598=_0x176b27[_0xddbf39(_0x2c56f1._0x107c96)])!==null&&_0x363598!==void 0x0&&_0x363598['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x282e95={_0x346f05:0x203,_0x10dae6:0x1d1,_0x26abc5:0x1c5,_0x2dc13e:0x1d1},_0x2f294e=_0x1abb2e;var _0x58ea2c,_0x376cad,_0xde861d,_0x43e306;this[_0x2f294e(_0x282e95._0x346f05)]['off'](mars3d__namespace[_0x2f294e(0x1d1)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x2f294e(_0x282e95._0x10dae6)][_0x2f294e(_0x282e95._0x26abc5)],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x58ea2c=this['options'])!==null&&_0x58ea2c!==void 0x0&&(_0x376cad=_0x58ea2c['methods'])!==null&&_0x376cad!==void 0x0&&_0x376cad['click']&&this['_map'][_0x2f294e(0x1f4)](mars3d__namespace[_0x2f294e(_0x282e95._0x2dc13e)]['click'],this['_onMapClick'],this),(_0xde861d=this['options'])!==null&&_0xde861d!==void 0x0&&(_0x43e306=_0xde861d['methods'])!==null&&_0x43e306!==void 0x0&&_0x43e306['mousemove']&&this['_map']['off'](mars3d__namespace['EventType'][_0x2f294e(0x1c9)],this[_0x2f294e(0x1c1)],this);}['_onMoveStartEvent'](){const _0x35c2e6={_0x5a9891:0x1f4},_0x86df2d=_0x1abb2e;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this[_0x86df2d(0x203)][_0x86df2d(_0x35c2e6._0x5a9891)](mars3d__namespace[_0x86df2d(0x1d1)]['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this[_0x86df2d(0x1b6)],this));}['_onMoveEndEvent'](){const _0x29f21e={_0x1d5f8f:0x1f4},_0x566193=_0x1abb2e;this['_mapVRenderer']&&(this['_map'][_0x566193(_0x29f21e._0x1d5f8f)](mars3d__namespace['EventType']['postRender'],this[_0x566193(0x1b6)],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x84478,_0x36710b){const _0x510c6f={_0x46ed4e:0x1e6},_0xa423ec=_0x1abb2e;this['_removedHook'](),this[_0xa423ec(_0x510c6f._0x46ed4e)]();}[_0x1abb2e(0x1ee)](_0x899fb8){const _0xc9ebdc={_0xd0b939:0x1b3},_0x3b7844=_0x1abb2e;this[_0x3b7844(_0xc9ebdc._0xd0b939)]&&this[_0x3b7844(0x1b3)]['addData'](_0x899fb8,this[_0x3b7844(0x1f6)]);}[_0x1abb2e(0x1d5)](_0x10c652){const _0x11e3da={_0x5dabe8:0x1f6},_0x3b8344=_0x1abb2e;this['_mapVRenderer']&&this[_0x3b8344(0x1b3)]['updateData'](_0x10c652,this[_0x3b8344(_0x11e3da._0x5dabe8)]);}['getData'](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x28dfa7){const _0x2b791b={_0x2d899b:0x1b3},_0x64eef7=_0x1abb2e;this['_mapVRenderer']&&this[_0x64eef7(_0x2b791b._0x2d899b)]['removeData'](_0x28dfa7);}[_0x1abb2e(0x1c3)](){const _0x2ccb08={_0x4ee227:0x1b3},_0x55a0b8=_0x1abb2e;this[_0x55a0b8(_0x2ccb08._0x4ee227)]&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x50594a={_0x1126a1:0x1d6,_0x5d9803:0x1e5,_0x338215:0x203,_0x263452:0x1df,_0x373dc9:0x1f6,_0x186878:0x1ca},_0x5b0645=_0x1abb2e,_0x3e4714=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map'][_0x5b0645(_0x50594a._0x1126a1)]);_0x3e4714['id']=this['id'],_0x3e4714[_0x5b0645(_0x50594a._0x5d9803)]['position']=_0x5b0645(0x1bd),_0x3e4714['style']['top']='0px',_0x3e4714['style']['left']='0px',_0x3e4714[_0x5b0645(0x1df)]=parseInt(this[_0x5b0645(_0x50594a._0x338215)][_0x5b0645(0x200)]['width']),_0x3e4714['height']=parseInt(this['_map']['canvas']['height']),_0x3e4714['style']['width']=this['_map']['canvas']['style'][_0x5b0645(_0x50594a._0x263452)],_0x3e4714['style']['height']=this[_0x5b0645(_0x50594a._0x338215)][_0x5b0645(0x200)]['style']['height'],_0x3e4714['style']['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x3e4714['style']['zIndex']=this['options']['zIndex']??0x9;if(this[_0x5b0645(0x1f6)][_0x5b0645(0x1d4)]==='2d'){const _0x56a48e=this['devicePixelRatio'];_0x3e4714['getContext'](this[_0x5b0645(_0x50594a._0x373dc9)]['context'])[_0x5b0645(_0x50594a._0x186878)](_0x56a48e,_0x56a48e);}return _0x3e4714;}['_reset'](){this['resize'](),this['render']();}[_0x1abb2e(0x1d9)](){this['_reset']();}['remove'](){const _0x1fb30d={_0x384b0c:0x1f5,_0x531c28:0x1ff},_0x3d335e=_0x1abb2e;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x3d335e(_0x1fb30d._0x384b0c)](),this[_0x3d335e(0x1b3)]=null),this['canvas'][_0x3d335e(_0x1fb30d._0x531c28)]['removeChild'](this['canvas']);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x2200f7={_0x3bdd78:0x1f1,_0x54df63:0x1ec,_0x40a996:0x200,_0x1af5a9:0x1df},_0x2e3f14=_0x1abb2e;if(this['canvas']){const _0x40fc7=this[_0x2e3f14(0x200)];_0x40fc7['style'][_0x2e3f14(_0x2200f7._0x3bdd78)]='absolute',_0x40fc7['style'][_0x2e3f14(_0x2200f7._0x54df63)]='0px',_0x40fc7['style']['left']='0px',_0x40fc7[_0x2e3f14(0x1df)]=parseInt(this['_map'][_0x2e3f14(_0x2200f7._0x40a996)][_0x2e3f14(_0x2200f7._0x1af5a9)]),_0x40fc7['height']=parseInt(this['_map']['canvas']['height']),_0x40fc7['style']['width']=this['_map'][_0x2e3f14(0x200)]['style']['width'],_0x40fc7['style']['height']=this['_map']['canvas']['style']['height'];}}['getRectangle'](_0x5b77a4){const _0xe17a7e=_0x1abb2e;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x3daa13=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0xe17a7e(0x1e2)][_0xe17a7e(0x1f2)]});if(!_0x3daa13)return;return _0x5b77a4!==null&&_0x5b77a4!==void 0x0&&_0x5b77a4['isFormat']?_0x3daa13:Cesium['Rectangle']['fromDegrees'](_0x3daa13['xmin'],_0x3daa13[_0xe17a7e(0x1dc)],_0x3daa13['xmax'],_0x3daa13['ymax']);}['_onMapClick'](_0x45b73e){const _0x4b2b35={_0x4925b6:0x1b3},_0xe11807=_0x1abb2e;this['_cache_event']=_0x45b73e,this[_0xe11807(_0x4b2b35._0x4925b6)]&&this['_mapVRenderer']['clickEvent'](_0x45b73e['windowPosition'],_0x45b73e);}['_onMapMouseMove'](_0x4675fc){const _0x2733e={_0x32b1c1:0x1f9,_0x3b012d:0x1b7},_0x56c7dd=_0x1abb2e;this[_0x56c7dd(_0x2733e._0x32b1c1)]=_0x4675fc,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x4675fc[_0x56c7dd(_0x2733e._0x3b012d)],_0x4675fc);}['on'](_0x1bc268,_0x18cba0,_0x54ec21){const _0xf1bc46={_0x938530:0x1ba,_0xab2296:0x1e1,_0x21db6c:0x203,_0x52d65b:0x1e7,_0x50f855:0x1d1,_0xf45f84:0x1c1},_0x154b8c=_0x1abb2e;this['options']['methods']=this['options']['methods']||{};if(_0x1bc268===mars3d__namespace['EventType']['click'])this[_0x154b8c(0x1f6)][_0x154b8c(_0xf1bc46._0x938530)][_0x154b8c(_0xf1bc46._0xab2296)]=_0x7edbff=>{_0x7edbff&&_0x18cba0['bind'](_0x54ec21)({...this['_cache_event'],'layer':this,'data':_0x7edbff});},this[_0x154b8c(_0xf1bc46._0x21db6c)]['on'](mars3d__namespace['EventType']['click'],this[_0x154b8c(_0xf1bc46._0x52d65b)],this);else _0x1bc268===mars3d__namespace[_0x154b8c(_0xf1bc46._0x50f855)]['mouseMove']&&(this['options']['methods'][_0x154b8c(0x1d2)]=_0x5a5278=>{const _0x1c7298=_0x154b8c;_0x5a5278&&_0x18cba0['bind'](_0x54ec21)({...this[_0x1c7298(0x1f9)],'layer':this,'data':_0x5a5278});},this['_map']['on'](mars3d__namespace['EventType'][_0x154b8c(0x1c9)],this[_0x154b8c(_0xf1bc46._0xf45f84)],this));return this;}['off'](_0x4d8f32,_0x247595){const _0x37fc0d={_0x5a3223:0x1d2,_0x5976a4:0x1e1,_0x71134e:0x1c1},_0x46e1c1=_0x1abb2e;if(_0x4d8f32==='click'){var _0x42bae0;this['_map'][_0x46e1c1(0x1f4)](_0x4d8f32,this['_onMapClick'],this),(_0x42bae0=this['options'][_0x46e1c1(0x1ba)])!==null&&_0x42bae0!==void 0x0&&_0x42bae0[_0x46e1c1(_0x37fc0d._0x5a3223)]&&delete this['options']['methods'][_0x46e1c1(_0x37fc0d._0x5976a4)];}else{if(_0x4d8f32==='mouseMove'){var _0x59e6cb;this['_map']['off'](_0x4d8f32,this[_0x46e1c1(_0x37fc0d._0x71134e)],this),(_0x59e6cb=this[_0x46e1c1(0x1f6)][_0x46e1c1(0x1ba)])!==null&&_0x59e6cb!==void 0x0&&_0x59e6cb[_0x46e1c1(0x1d2)]&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x1abb2e(0x1db)]['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x1abb2e(0x1a9)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)[_0x1abb2e(0x1d3)](function(_0xc01830){if(_0xc01830!=='default'&&!exports['hasOwnProperty'](_0xc01830))Object['defineProperty'](exports,_0xc01830,{'enumerable':!![],'get':function(){return mapv[_0xc01830];}});}),Object['defineProperty'](exports,_0x1abb2e(0x1af),{'value':!![]});
}));
