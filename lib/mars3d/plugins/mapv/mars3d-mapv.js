/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.1
 * 编译日期：2023-08-14 21:33:27
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';function _0x433a(){const _0x3670af=['bind','Cartographic','stop','fromDegrees','_map','length','container','getData','cartesianToCanvasCoordinates','BaseLayer','323710gfpvus','canvasLayer','trails','24OwgJMq','context','_addedHook','default','defineProperty','mapvDepthTest','__esModule','unit','click','display','MultiLineString','argCheck','geometry','baiduMapLayer','start','methods','addAnimatorEvent','4456HFVKdc','render','save','0px','removeChild','pointerEvents','clearData','_onMoveEndEvent','请引入\x20mapv\x20库\x20','119460SEQOrq','mars3d-mapv','mapvAutoHeight','none','EventType','mapvFixedHeight','position','keys','resize','initDevicePixelRatio','cameraMoveEnd','dataSet','style','destroy','LayerUtil','left','scene','hasOwnProperty','options','_onMapMouseMove','getContext','height','126BQOWPQ','DataSet','165688dJfGif','top','postRender','get','bindEvent','1342qdlZxo','6mLYMCH','isFormat','658WrgEQv','COLOR_BUFFER_BIT','_createCanvas','__proto__','532776LxGXBD','update','canvas','isEnabledTime','animator','rgba(0,\x200,\x200,\x20.1)','_data','windowPosition','draw','coordinates','Rectangle','prototype','width','33366hOXKoK','unbindEvent','_showHook','2653600jITacW','register','mouseMove','_cache_event','clear','_pointerEvents','create','off','_onMapClick','fillRect','animation','push','mousemove','LineString','_mapVRenderer','_reset'];_0x433a=function(){return _0x3670af;};return _0x433a();}const _0x2cf377=_0x406f;(function(_0x353382,_0x3c1e0e){const _0x5e888f={_0x16a37e:0x102,_0x1c2285:0x108,_0xd3bbff:0xb0,_0x4e721f:0xd0,_0x49fd99:0xb3,_0x4be032:0x9f,_0x2c95cd:0x100,_0x44ca24:0xea},_0x33f7fe=_0x406f,_0x438ae7=_0x353382();while(!![]){try{const _0x51748=parseInt(_0x33f7fe(_0x5e888f._0x16a37e))/0x1*(parseInt(_0x33f7fe(_0x5e888f._0x1c2285))/0x2)+-parseInt(_0x33f7fe(_0x5e888f._0xd3bbff))/0x3*(-parseInt(_0x33f7fe(_0x5e888f._0x4e721f))/0x4)+parseInt(_0x33f7fe(_0x5e888f._0x49fd99))/0x5+-parseInt(_0x33f7fe(0xa3))/0x6+parseInt(_0x33f7fe(_0x5e888f._0x4be032))/0x7*(parseInt(_0x33f7fe(0xe1))/0x8)+-parseInt(_0x33f7fe(_0x5e888f._0x2c95cd))/0x9*(-parseInt(_0x33f7fe(0xcd))/0xa)+parseInt(_0x33f7fe(0x107))/0xb*(-parseInt(_0x33f7fe(_0x5e888f._0x44ca24))/0xc);if(_0x51748===_0x3c1e0e)break;else _0x438ae7['push'](_0x438ae7['shift']());}catch(_0x3c9c8d){_0x438ae7['push'](_0x438ae7['shift']());}}}(_0x433a,0x4873a));function _interopNamespace(_0xcf04bb){const _0x332cc9={_0x498a75:0xd6},_0x5d356b={_0x5a0da5:0x105},_0x490dd4=_0x406f;if(_0xcf04bb&&_0xcf04bb[_0x490dd4(_0x332cc9._0x498a75)])return _0xcf04bb;var _0x3d4ca6=Object[_0x490dd4(0xb9)](null);return _0xcf04bb&&Object[_0x490dd4(0xf1)](_0xcf04bb)['forEach'](function(_0x3b4e49){const _0x2782e7=_0x490dd4;if(_0x3b4e49!=='default'){var _0x11d4a8=Object['getOwnPropertyDescriptor'](_0xcf04bb,_0x3b4e49);Object['defineProperty'](_0x3d4ca6,_0x3b4e49,_0x11d4a8[_0x2782e7(_0x5d356b._0x5a0da5)]?_0x11d4a8:{'enumerable':!![],'get':function(){return _0xcf04bb[_0x3b4e49];}});}}),_0x3d4ca6['default']=_0xcf04bb,_0x3d4ca6;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x406f(_0x29f1dd,_0x396405){const _0x433a02=_0x433a();return _0x406f=function(_0x406f30,_0x1ddd80){_0x406f30=_0x406f30-0x9f;let _0x35408d=_0x433a02[_0x406f30];return _0x35408d;},_0x406f(_0x29f1dd,_0x396405);}const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x2cf377(0xdd)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x2cf377(0xa2)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0xa39f26,_0xa36edf,_0x3a9c56,_0x3518b0){const _0x138a93={_0x5a7723:0xf3,_0x3895f6:0xce,_0x3d3481:0xbd},_0x1fbcb6=_0x2cf377;super(_0xa39f26,_0xa36edf,_0x3a9c56);if(!BaseLayer$1)return;this['map']=_0xa39f26,this['scene']=_0xa39f26[_0x1fbcb6(0xfa)],this[_0x1fbcb6(0xf5)]=_0xa36edf,_0x3a9c56=_0x3a9c56||{},this['init'](_0x3a9c56),this[_0x1fbcb6(0xdb)](_0x3a9c56),this[_0x1fbcb6(_0x138a93._0x5a7723)](),this[_0x1fbcb6(_0x138a93._0x3895f6)]=_0x3518b0,this['stopAniamation']=!0x1,this[_0x1fbcb6(_0x138a93._0x3d3481)]=_0x3a9c56['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x2cf377(0xe0)](){}['animatorMovestartEvent'](){const _0x5e1969={_0x57b07e:0xbd,_0x4e9fa9:0xa6},_0x4c7b16=_0x2cf377,_0x2ec218=this['options'][_0x4c7b16(_0x5e1969._0x57b07e)];this[_0x4c7b16(_0x5e1969._0x4e9fa9)]()&&this['animator']&&(this['steps']['step']=_0x2ec218['stepsRange'][_0x4c7b16(0xde)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}[_0x2cf377(0xfe)](){const _0x1231ef={_0x251b4f:0xd1},_0x22a215=_0x2cf377;return this['canvasLayer']['canvas']['getContext'](this[_0x22a215(_0x1231ef._0x251b4f)]);}['init'](_0x36fdd7){const _0x40139f={_0x25380b:0xfc,_0x428bc:0xfc},_0x3dae3a=_0x2cf377;this[_0x3dae3a(_0x40139f._0x25380b)]=_0x36fdd7,this['initDataRange'](_0x36fdd7),this[_0x3dae3a(0xd1)]=this[_0x3dae3a(0xfc)][_0x3dae3a(0xd1)]||'2d',this[_0x3dae3a(_0x40139f._0x428bc)]['zIndex']&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this[_0x3dae3a(0xce)]['setZIndex'](this[_0x3dae3a(0xfc)]['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x40c9e8){const _0x361172={_0x2fd098:0xe3,_0x301f21:0xb7,_0xd261a:0xa0,_0xb4538d:0xc6},_0x99f557={_0x3bb9fe:0xc4,_0x50aa07:0xcb},_0x3c3d3d=_0x2cf377,_0x162ddb=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x204fa2=this[_0x3c3d3d(0xfc)]['animation'],_0x1c8b7a=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x40c9e8)return void this['clear'](_0x1c8b7a);this['context']==='2d'&&(_0x1c8b7a[_0x3c3d3d(_0x361172._0x2fd098)](),_0x1c8b7a['globalCompositeOperation']='destination-out',_0x1c8b7a['fillStyle']=_0x3c3d3d(0xa8),_0x1c8b7a[_0x3c3d3d(0xbc)](0x0,0x0,_0x1c8b7a['canvas'][_0x3c3d3d(0xaf)],_0x1c8b7a['canvas'][_0x3c3d3d(0xff)]),_0x1c8b7a['restore']());}else this[_0x3c3d3d(_0x361172._0x301f21)](_0x1c8b7a);if(this['context']==='2d')for(const _0x484c35 in this['options']){_0x1c8b7a[_0x484c35]=this['options'][_0x484c35];}else _0x1c8b7a['clear'](_0x1c8b7a[_0x3c3d3d(_0x361172._0xd261a)]);const _0x32f71d={'transferCoordinate':function(_0xddd912){const _0x2a791d=_0x3c3d3d,_0x333394=null;let _0x508a99=_0x162ddb[_0x2a791d(0xef)];_0x162ddb['mapvAutoHeight']&&(_0x508a99=_0x162ddb['globe']['getHeight'](Cesium$1[_0x2a791d(_0x99f557._0x3bb9fe)]['fromDegrees'](_0xddd912[0x0],_0xddd912[0x1])));const _0x2f9bcb=Cesium$1['Cartesian3'][_0x2a791d(0xc6)](_0xddd912[0x0],_0xddd912[0x1],_0x508a99);if(!_0x2f9bcb)return _0x333394;const _0x435add=_0x162ddb[_0x2a791d(_0x99f557._0x50aa07)](_0x2f9bcb);if(!_0x435add)return _0x333394;if(_0x162ddb[_0x2a791d(0xd5)]&&_0x162ddb['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x86bf22=new Cesium$1['EllipsoidalOccluder'](_0x162ddb['globe']['ellipsoid'],_0x162ddb['camera']['positionWC']),_0x3bcb33=_0x86bf22['isPointVisible'](_0x2f9bcb);if(!_0x3bcb33)return _0x333394;}return[_0x435add['x'],_0x435add['y']];}};void 0x0!==_0x40c9e8&&(_0x32f71d['filter']=function(_0x59cc0c){const _0x3f9393=_0x3c3d3d,_0x4dd383=_0x204fa2[_0x3f9393(0xcf)]||0xa;return!!(_0x40c9e8&&_0x59cc0c['time']>_0x40c9e8-_0x4dd383&&_0x59cc0c['time']<_0x40c9e8);});const _0x6fa2a0=this['dataSet']['get'](_0x32f71d);this['processData'](_0x6fa2a0),this['options'][_0x3c3d3d(0xd7)]==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x11e228=_0x162ddb['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3'][_0x3c3d3d(_0x361172._0xb4538d)](0x0,0x0));if(!_0x11e228)return;this['drawContext'](_0x1c8b7a,new mapv__namespace[(_0x3c3d3d(0x101))](_0x6fa2a0),this['options'],_0x11e228),this['options']['updateCallback']&&this[_0x3c3d3d(0xfc)]['updateCallback'](_0x40c9e8);}}['updateData'](_0x3f63ca,_0xe7d375){const _0x1df51e={_0x537232:0x105,_0x5d35aa:0xf5},_0x1e622a=_0x2cf377;let _0x2596a8=_0x3f63ca;_0x2596a8&&_0x2596a8[_0x1e622a(_0x1df51e._0x537232)]&&(_0x2596a8=_0x2596a8[_0x1e622a(_0x1df51e._0x537232)]()),void 0x0!==_0x2596a8&&this[_0x1e622a(_0x1df51e._0x5d35aa)]['set'](_0x2596a8),super['update']({'options':_0xe7d375});}['addData'](_0x210571,_0x430902){const _0x42980e={_0x177cf9:0xa4},_0x552641=_0x2cf377;let _0x18ab82=_0x210571;_0x210571&&_0x210571['get']&&(_0x18ab82=_0x210571[_0x552641(0x105)]()),this[_0x552641(0xf5)]['add'](_0x18ab82),this[_0x552641(_0x42980e._0x177cf9)]({'options':_0x430902});}[_0x2cf377(0xca)](){return this['dataSet'];}['removeData'](_0x379851){const _0x2e6833=_0x2cf377;if(this['dataSet']){const _0x2e1318=this[_0x2e6833(0xf5)]['get']({'filter':function(_0x2c583e){return _0x379851==null||typeof _0x379851!=='function'||!_0x379851(_0x2c583e);}});this['dataSet']['set'](_0x2e1318),this['update']({'options':null});}}[_0x2cf377(0xe7)](){const _0x25784f={_0x32445b:0xf5,_0x25a1db:0xb7},_0x7dd6c3=_0x2cf377;this['dataSet']&&this[_0x7dd6c3(_0x25784f._0x32445b)][_0x7dd6c3(_0x25784f._0x25a1db)](),this['update']({'options':null});}['draw'](){const _0x4db37c={_0x51c043:0xab},_0x468a14=_0x2cf377;this['canvasLayer'][_0x468a14(_0x4db37c._0x51c043)]();}['clear'](_0x4f5e28){const _0x424c14=_0x2cf377;_0x4f5e28&&_0x4f5e28['clearRect']&&_0x4f5e28['clearRect'](0x0,0x0,_0x4f5e28['canvas'][_0x424c14(0xaf)],_0x4f5e28['canvas']['height']);}['destroy'](){const _0x4135d0={_0xaf914a:0xb7,_0x27517d:0xfe,_0x40ebfe:0xa7},_0x25e7bd=_0x2cf377;this[_0x25e7bd(_0x4135d0._0xaf914a)](this[_0x25e7bd(_0x4135d0._0x27517d)]()),this['clearData'](),this['animator']&&this[_0x25e7bd(0xa7)][_0x25e7bd(0xc5)](),this[_0x25e7bd(_0x4135d0._0x40ebfe)]=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x2cf377(0x101)][_0x2cf377(0xae)]['transferCoordinate']=function(_0x413383,_0x112675,_0x5f0c65,_0x15b694){const _0x1f1139={_0x22fd5b:0xac,_0x2404e8:0xdc,_0x18c9a0:0xda},_0x388f25=_0x2cf377;_0x15b694=_0x15b694||'_coordinates',_0x5f0c65=_0x5f0c65||_0x388f25(_0x1f1139._0x22fd5b);for(let _0x48daa0=0x0;_0x48daa0<_0x413383['length'];_0x48daa0++){const _0x1cfdf5=_0x413383[_0x48daa0][_0x388f25(_0x1f1139._0x2404e8)],_0x2ce111=_0x1cfdf5[_0x5f0c65];switch(_0x1cfdf5['type']){case'Point':{const _0x561fd3=_0x112675(_0x2ce111);_0x561fd3?_0x1cfdf5[_0x15b694]=_0x561fd3:_0x1cfdf5[_0x15b694]=[-0x3e7,-0x3e7];}break;case _0x388f25(0xc0):{const _0x5a4e5a=[];for(let _0x564311=0x0;_0x564311<_0x2ce111['length'];_0x564311++){const _0x21eedb=_0x112675(_0x2ce111[_0x564311]);_0x21eedb&&_0x5a4e5a['push'](_0x21eedb);}_0x1cfdf5[_0x15b694]=_0x5a4e5a;}break;case _0x388f25(_0x1f1139._0x18c9a0):case'Polygon':{const _0x5a7b77=_0x5ddd27(_0x2ce111);_0x1cfdf5[_0x15b694]=_0x5a7b77;}break;case'MultiPolygon':{const _0x37e6f9=[];for(let _0x56d723=0x0;_0x56d723<_0x2ce111[_0x388f25(0xc8)];_0x56d723++){const _0x3be5fa=_0x5ddd27(_0x2ce111[_0x56d723]);_0x3be5fa['length']>0x0&&_0x37e6f9['push'](_0x3be5fa);}_0x1cfdf5[_0x15b694]=_0x37e6f9;}break;}}function _0x5ddd27(_0x38a564){const _0x17b4f1=_0x388f25,_0x560fd2=[];for(let _0x5e7bb6=0x0;_0x5e7bb6<_0x38a564['length'];_0x5e7bb6++){const _0x4bd64b=_0x38a564[_0x5e7bb6],_0xf8e2e7=[];for(let _0x531600=0x0;_0x531600<_0x4bd64b['length'];_0x531600++){const _0x555b53=_0x112675(_0x4bd64b[_0x531600]);_0x555b53&&_0xf8e2e7['push'](_0x555b53);}_0xf8e2e7['length']>0x0&&_0x560fd2[_0x17b4f1(0xbe)](_0xf8e2e7);}return _0x560fd2;}return _0x413383;};else throw new Error(_0x2cf377(0xe9));const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x2cf377(0xcc)];class MapVLayer extends BaseLayer{constructor(_0x124429,_0x38b2e8){const _0x5052ed={_0x39054f:0xf5,_0x542b94:0xa5},_0x3682bb=_0x2cf377;super(_0x124429),this['_pointerEvents']=this['options']['pointerEvents'],this[_0x3682bb(_0x5052ed._0x39054f)]=_0x38b2e8||new mapv__namespace['DataSet'](_0x124429['data']),this[_0x3682bb(_0x5052ed._0x542b94)]=null;}get[_0x2cf377(0xe6)](){return this['_pointerEvents'];}set['pointerEvents'](_0x34b431){const _0x33cc85={_0x41f46a:0xe6,_0x3e5f37:0xa5},_0x23963d=_0x2cf377;this['_pointerEvents']=_0x34b431,this['canvas']&&(_0x34b431?this['canvas'][_0x23963d(0xf6)][_0x23963d(_0x33cc85._0x41f46a)]='all':this[_0x23963d(_0x33cc85._0x3e5f37)]['style']['pointerEvents']='none');}[_0x2cf377(0xb2)](_0x325c12){const _0x36f5e3={_0x14ab93:0xed},_0x1867ac=_0x2cf377;_0x325c12?this['canvas']['style'][_0x1867ac(0xd9)]='block':this['canvas']['style']['display']=_0x1867ac(_0x36f5e3._0x14ab93);}['_mountedHook'](){const _0x1de30a={_0x246048:0xec},_0x324543=_0x2cf377;this['_map']['scene'][_0x324543(0xd5)]=this['options']['depthTest']??!![],this[_0x324543(0xc7)]['scene'][_0x324543(_0x1de30a._0x246048)]=this['options']['clampToGround']??![],this['_map']['scene']['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x5e0cad={_0x12e94e:0xa9},_0x48a978=_0x2cf377;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet'][_0x48a978(_0x5e0cad._0x12e94e)]['length']===0x0)&&(this['dataSet'][_0x48a978(0xa9)]=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x48a978(0xc7)],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this[_0x48a978(0xa5)]=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0x3e04bd={_0x398ff0:0xc1,_0x1e04d6:0xf7},_0x272927=_0x2cf377;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x272927(_0x3e04bd._0x398ff0)][_0x272927(_0x3e04bd._0x1e04d6)](),this['_mapVRenderer']=null),this[_0x272927(0xa5)]['parentElement']['removeChild'](this[_0x272927(0xa5)]);}[_0x2cf377(0xf3)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x2cf377(0x106)](){const _0x2c8fb0={_0x1a2387:0xc7,_0x31007e:0xc7,_0x34a794:0xdf,_0x27e36b:0xd8,_0x16feb0:0xbb,_0x26ba48:0xfc,_0x47eeb4:0xb5},_0x2a4073=_0x2cf377;var _0x9e023b,_0x351585,_0x47a2a3,_0x2db86d;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this[_0x2a4073(_0x2c8fb0._0x1a2387)]['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x2a4073(_0x2c8fb0._0x31007e)]['on'](mars3d__namespace['EventType'][_0x2a4073(0xf4)],this['_onMoveEndEvent'],this),(_0x9e023b=this['options'])!==null&&_0x9e023b!==void 0x0&&(_0x351585=_0x9e023b[_0x2a4073(_0x2c8fb0._0x34a794)])!==null&&_0x351585!==void 0x0&&_0x351585['click']&&this[_0x2a4073(_0x2c8fb0._0x31007e)]['on'](mars3d__namespace['EventType'][_0x2a4073(_0x2c8fb0._0x27e36b)],this[_0x2a4073(_0x2c8fb0._0x16feb0)],this),(_0x47a2a3=this[_0x2a4073(_0x2c8fb0._0x26ba48)])!==null&&_0x47a2a3!==void 0x0&&(_0x2db86d=_0x47a2a3['methods'])!==null&&_0x2db86d!==void 0x0&&_0x2db86d[_0x2a4073(0xbf)]&&this['_map']['on'](mars3d__namespace['EventType'][_0x2a4073(_0x2c8fb0._0x47eeb4)],this[_0x2a4073(0xfd)],this);}[_0x2cf377(0xb1)](){const _0x4898ed={_0x57b58b:0xee,_0x2768bf:0xba,_0x35a5ec:0xee,_0x1de125:0xdf},_0x452abe=_0x2cf377;var _0x26418a,_0x29a8de,_0x24f19e,_0x1ba635;this[_0x452abe(0xc7)]['off'](mars3d__namespace[_0x452abe(_0x4898ed._0x57b58b)]['mouseDown'],this['_onMoveStartEvent'],this),this[_0x452abe(0xc7)]['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map'][_0x452abe(0xba)](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x452abe(0xe8)],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x26418a=this['options'])!==null&&_0x26418a!==void 0x0&&(_0x29a8de=_0x26418a['methods'])!==null&&_0x29a8de!==void 0x0&&_0x29a8de[_0x452abe(0xd8)]&&this['_map'][_0x452abe(_0x4898ed._0x2768bf)](mars3d__namespace[_0x452abe(_0x4898ed._0x35a5ec)]['click'],this['_onMapClick'],this),(_0x24f19e=this[_0x452abe(0xfc)])!==null&&_0x24f19e!==void 0x0&&(_0x1ba635=_0x24f19e[_0x452abe(_0x4898ed._0x1de125)])!==null&&_0x1ba635!==void 0x0&&_0x1ba635['mousemove']&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x452abe(0xfd)],this);}['_onMoveStartEvent'](){const _0x2872ee={_0x1b35fa:0xc1,_0x3d0d3a:0xc7,_0x15e224:0xc2},_0x423d3e=_0x2cf377;this['_mapVRenderer']&&(this[_0x423d3e(_0x2872ee._0x1b35fa)]['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x423d3e(_0x2872ee._0x3d0d3a)]['on'](mars3d__namespace['EventType'][_0x423d3e(0x104)],this[_0x423d3e(_0x2872ee._0x15e224)],this));}[_0x2cf377(0xe8)](){const _0x4df837={_0x3adb00:0x104,_0x45f39f:0xc1},_0x19dde7=_0x2cf377;this[_0x19dde7(0xc1)]&&(this['_map']['off'](mars3d__namespace[_0x19dde7(0xee)][_0x19dde7(_0x4df837._0x3adb00)],this['_reset'],this),this[_0x19dde7(_0x4df837._0x45f39f)]['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x4b0d8b,_0x2fcd41){const _0x199ce9={_0x67130d:0xd2},_0x4e1a80=_0x2cf377;this['_removedHook'](),this[_0x4e1a80(_0x199ce9._0x67130d)]();}['addData'](_0x2a9c92){const _0x12a4f2={_0x20ee5f:0xc1},_0x5d5eb5=_0x2cf377;this['_mapVRenderer']&&this[_0x5d5eb5(_0x12a4f2._0x20ee5f)]['addData'](_0x2a9c92,this['options']);}['updateData'](_0x3d1729){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x3d1729,this['options']);}[_0x2cf377(0xca)](){const _0x45b343={_0x5d99de:0xca},_0x737ea4=_0x2cf377;return this[_0x737ea4(0xc1)]&&(this['dataSet']=this['_mapVRenderer'][_0x737ea4(_0x45b343._0x5d99de)]()),this['dataSet'];}['removeData'](_0x12738c){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x12738c);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}[_0x2cf377(0xa1)](){const _0x3f8f8b={_0x2c488b:0xeb,_0x2e8451:0xc9,_0x12aac5:0xa5,_0x32a29a:0xa5},_0x5c8f7f=_0x2cf377,_0x1dc2b0=mars3d__namespace['DomUtil'][_0x5c8f7f(0xb9)]('canvas',_0x5c8f7f(_0x3f8f8b._0x2c488b),this['_map'][_0x5c8f7f(_0x3f8f8b._0x2e8451)]);_0x1dc2b0['id']=this['id'],_0x1dc2b0['style'][_0x5c8f7f(0xf0)]='absolute',_0x1dc2b0[_0x5c8f7f(0xf6)][_0x5c8f7f(0x103)]='0px',_0x1dc2b0['style']['left']='0px',_0x1dc2b0['width']=parseInt(this['_map'][_0x5c8f7f(_0x3f8f8b._0x12aac5)]['width']),_0x1dc2b0[_0x5c8f7f(0xff)]=parseInt(this[_0x5c8f7f(0xc7)][_0x5c8f7f(0xa5)][_0x5c8f7f(0xff)]),_0x1dc2b0[_0x5c8f7f(0xf6)]['width']=this['_map'][_0x5c8f7f(_0x3f8f8b._0x32a29a)]['style'][_0x5c8f7f(0xaf)],_0x1dc2b0['style']['height']=this[_0x5c8f7f(0xc7)]['canvas']['style']['height'],_0x1dc2b0['style']['pointerEvents']=this[_0x5c8f7f(0xb8)]?'auto':_0x5c8f7f(0xed),_0x1dc2b0['style']['zIndex']=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x31a056=this['devicePixelRatio'];_0x1dc2b0['getContext'](this[_0x5c8f7f(0xfc)]['context'])['scale'](_0x31a056,_0x31a056);}return _0x1dc2b0;}['_reset'](){const _0x7e1cb0={_0x50ffc9:0xe2},_0x2c48c2=_0x2cf377;this['resize'](),this[_0x2c48c2(_0x7e1cb0._0x50ffc9)]();}[_0x2cf377(0xab)](){this['_reset']();}['remove'](){const _0x42ba7d={_0x52e88c:0xc1,_0x3a8e0c:0xe5},_0x826b14=_0x2cf377;this[_0x826b14(_0x42ba7d._0x52e88c)]&&(this['_mapVRenderer']['destroy'](),this[_0x826b14(0xc1)]=null),this['canvas']['parentElement'][_0x826b14(_0x42ba7d._0x3a8e0c)](this['canvas']);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}[_0x2cf377(0xf2)](){const _0x1649c0={_0x23bcd0:0xf9,_0x185c95:0xf6,_0x5d5b07:0xff},_0x139b1b=_0x2cf377;if(this['canvas']){const _0x51db65=this['canvas'];_0x51db65['style']['position']='absolute',_0x51db65['style']['top']=_0x139b1b(0xe4),_0x51db65['style'][_0x139b1b(_0x1649c0._0x23bcd0)]='0px',_0x51db65['width']=parseInt(this[_0x139b1b(0xc7)]['canvas']['width']),_0x51db65['height']=parseInt(this[_0x139b1b(0xc7)]['canvas']['height']),_0x51db65['style']['width']=this[_0x139b1b(0xc7)][_0x139b1b(0xa5)]['style']['width'],_0x51db65[_0x139b1b(_0x1649c0._0x185c95)]['height']=this['_map']['canvas'][_0x139b1b(_0x1649c0._0x185c95)][_0x139b1b(_0x1649c0._0x5d5b07)];}}['getRectangle'](_0x165206){const _0x39d205={_0x3c8e49:0xa9},_0x4bf693=_0x2cf377;if(!this['dataSet']||!this['dataSet'][_0x4bf693(_0x39d205._0x3c8e49)])return;const _0x5c7492=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x5c7492)return;return _0x165206!==null&&_0x165206!==void 0x0&&_0x165206[_0x4bf693(0x109)]?_0x5c7492:Cesium[_0x4bf693(0xad)]['fromDegrees'](_0x5c7492['xmin'],_0x5c7492['ymin'],_0x5c7492['xmax'],_0x5c7492['ymax']);}[_0x2cf377(0xbb)](_0x57b8a9){this['_cache_event']=_0x57b8a9,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x57b8a9['windowPosition'],_0x57b8a9);}['_onMapMouseMove'](_0x3fa53c){const _0xede85b={_0x2ded90:0xb6,_0xfcc7ec:0xaa},_0xe3d31c=_0x2cf377;this[_0xe3d31c(_0xede85b._0x2ded90)]=_0x3fa53c,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x3fa53c[_0xe3d31c(_0xede85b._0xfcc7ec)],_0x3fa53c);}['on'](_0x57612e,_0x122b8f,_0x585445){const _0x36fa40={_0x303979:0xdf,_0x7a6ffc:0xb5},_0x22b242=_0x2cf377;this[_0x22b242(0xfc)]['methods']=this['options']['methods']||{};if(_0x57612e===mars3d__namespace['EventType']['click'])this['options'][_0x22b242(_0x36fa40._0x303979)]['click']=_0x165a52=>{_0x165a52&&_0x122b8f['bind'](_0x585445)({...this['_cache_event'],'layer':this,'data':_0x165a52});},this[_0x22b242(0xc7)]['on'](mars3d__namespace[_0x22b242(0xee)]['click'],this['_onMapClick'],this);else _0x57612e===mars3d__namespace['EventType']['mouseMove']&&(this['options'][_0x22b242(0xdf)][_0x22b242(0xbf)]=_0x30ccbc=>{const _0x4aa592=_0x22b242;_0x30ccbc&&_0x122b8f[_0x4aa592(0xc3)](_0x585445)({...this['_cache_event'],'layer':this,'data':_0x30ccbc});},this['_map']['on'](mars3d__namespace[_0x22b242(0xee)][_0x22b242(_0x36fa40._0x7a6ffc)],this['_onMapMouseMove'],this));return this;}['off'](_0x55149b,_0x3b0c16){const _0x2a3310={_0x3f0faf:0xd8,_0x3e668c:0xbb,_0x9c1b33:0xfc},_0x5dd529=_0x2cf377;if(_0x55149b===_0x5dd529(_0x2a3310._0x3f0faf)){var _0x31cbe8;this['_map']['off'](_0x55149b,this[_0x5dd529(_0x2a3310._0x3e668c)],this),(_0x31cbe8=this['options']['methods'])!==null&&_0x31cbe8!==void 0x0&&_0x31cbe8['mousemove']&&delete this[_0x5dd529(_0x2a3310._0x9c1b33)]['methods']['click'];}else{if(_0x55149b==='mouseMove'){var _0x5939b6;this['_map']['off'](_0x55149b,this['_onMapMouseMove'],this),(_0x5939b6=this[_0x5dd529(0xfc)]['methods'])!==null&&_0x5939b6!==void 0x0&&_0x5939b6['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x2cf377(0xf8)][_0x2cf377(0xb4)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x2cf377(0xf1)](mapv)['forEach'](function(_0x10be31){const _0x376052=_0x2cf377;if(_0x10be31!==_0x376052(0xd3)&&!exports[_0x376052(0xfb)](_0x10be31))Object['defineProperty'](exports,_0x10be31,{'enumerable':!![],'get':function(){return mapv[_0x10be31];}});}),Object[_0x2cf377(0xd4)](exports,_0x2cf377(0xd6),{'value':!![]});
}));
