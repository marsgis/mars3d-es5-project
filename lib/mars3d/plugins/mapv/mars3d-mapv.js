/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.4.20
 * 编译日期：2023-01-10 12:56:07
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';var _0x11f94d=_0x10c0;(function(_0x3ff7ee,_0x4c85b0){var _0x3c7b61={_0x58cfbc:0xf5,_0x7d77d6:0x103,_0x5bc220:0x114,_0x3ed461:0x15a,_0x40fb33:0x144,_0x4b3fd5:0x148},_0x5a2dc6=_0x10c0,_0x1d86c4=_0x3ff7ee();while(!![]){try{var _0x331649=-parseInt(_0x5a2dc6(0xfe))/0x1+-parseInt(_0x5a2dc6(0xf6))/0x2+-parseInt(_0x5a2dc6(_0x3c7b61._0x58cfbc))/0x3+-parseInt(_0x5a2dc6(_0x3c7b61._0x7d77d6))/0x4*(-parseInt(_0x5a2dc6(0x155))/0x5)+parseInt(_0x5a2dc6(_0x3c7b61._0x5bc220))/0x6*(parseInt(_0x5a2dc6(_0x3c7b61._0x3ed461))/0x7)+parseInt(_0x5a2dc6(_0x3c7b61._0x40fb33))/0x8+-parseInt(_0x5a2dc6(_0x3c7b61._0x4b3fd5))/0x9*(-parseInt(_0x5a2dc6(0x108))/0xa);if(_0x331649===_0x4c85b0)break;else _0x1d86c4['push'](_0x1d86c4['shift']());}catch(_0x20a11a){_0x1d86c4['push'](_0x1d86c4['shift']());}}}(_0xa0a9,0x35d04));function _interopNamespace(_0x16c911){var _0x563096={_0x34ebc7:0xfa},_0x193344={_0x43c429:0x112},_0x4178ea=_0x10c0;if(_0x16c911&&_0x16c911[_0x4178ea(_0x563096._0x34ebc7)])return _0x16c911;var _0x3164f6=Object['create'](null);return _0x16c911&&Object['keys'](_0x16c911)['forEach'](function(_0x5553ed){var _0x2f4d4c=_0x4178ea;if(_0x5553ed!=='default'){var _0x127dfc=Object[_0x2f4d4c(_0x193344._0x43c429)](_0x16c911,_0x5553ed);Object[_0x2f4d4c(0x14f)](_0x3164f6,_0x5553ed,_0x127dfc[_0x2f4d4c(0x122)]?_0x127dfc:{'enumerable':!![],'get':function(){return _0x16c911[_0x5553ed];}});}}),_0x3164f6['default']=_0x16c911,_0x3164f6;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function ownKeys(_0x3cd5fe,_0x5c298e){var _0x387f04={_0x5d084d:0x100},_0xbd2ad0=_0x10c0,_0x524725=Object['keys'](_0x3cd5fe);if(Object['getOwnPropertySymbols']){var _0x5ca7e0=Object['getOwnPropertySymbols'](_0x3cd5fe);_0x5c298e&&(_0x5ca7e0=_0x5ca7e0[_0xbd2ad0(0x10a)](function(_0x40b957){return Object['getOwnPropertyDescriptor'](_0x3cd5fe,_0x40b957)['enumerable'];})),_0x524725[_0xbd2ad0(_0x387f04._0x5d084d)]['apply'](_0x524725,_0x5ca7e0);}return _0x524725;}function _objectSpread2(_0x108c0f){var _0x5d539a={_0x1cd659:0x14f};for(var _0x437517=0x1;_0x437517<arguments['length'];_0x437517++){var _0x122282=null!=arguments[_0x437517]?arguments[_0x437517]:{};_0x437517%0x2?ownKeys(Object(_0x122282),!0x0)['forEach'](function(_0x5cfd49){_defineProperty(_0x108c0f,_0x5cfd49,_0x122282[_0x5cfd49]);}):Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x108c0f,Object['getOwnPropertyDescriptors'](_0x122282)):ownKeys(Object(_0x122282))['forEach'](function(_0x246983){var _0x3238c7=_0x10c0;Object[_0x3238c7(_0x5d539a._0x1cd659)](_0x108c0f,_0x246983,Object['getOwnPropertyDescriptor'](_0x122282,_0x246983));});}return _0x108c0f;}function _classCallCheck(_0x31a9cd,_0x54609c){var _0x2402b1=_0x10c0;if(!(_0x31a9cd instanceof _0x54609c))throw new TypeError(_0x2402b1(0x13d));}function _defineProperties(_0x43a771,_0x1ad625){var _0x16018e=_0x10c0;for(var _0x4aec57=0x0;_0x4aec57<_0x1ad625['length'];_0x4aec57++){var _0x3396ec=_0x1ad625[_0x4aec57];_0x3396ec[_0x16018e(0x113)]=_0x3396ec['enumerable']||![],_0x3396ec['configurable']=!![];if('value'in _0x3396ec)_0x3396ec['writable']=!![];Object['defineProperty'](_0x43a771,_0x3396ec['key'],_0x3396ec);}}function _createClass(_0x4e4955,_0x42cf0b,_0x392f5c){if(_0x42cf0b)_defineProperties(_0x4e4955['prototype'],_0x42cf0b);if(_0x392f5c)_defineProperties(_0x4e4955,_0x392f5c);return Object['defineProperty'](_0x4e4955,'prototype',{'writable':![]}),_0x4e4955;}function _0x10c0(_0x4413bf,_0x2dd3d4){var _0xa0a9c8=_0xa0a9();return _0x10c0=function(_0x10c04d,_0x244a96){_0x10c04d=_0x10c04d-0xf0;var _0x30e191=_0xa0a9c8[_0x10c04d];return _0x30e191;},_0x10c0(_0x4413bf,_0x2dd3d4);}function _defineProperty(_0x42a337,_0x3b317e,_0x5909be){return _0x3b317e in _0x42a337?Object['defineProperty'](_0x42a337,_0x3b317e,{'value':_0x5909be,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x42a337[_0x3b317e]=_0x5909be,_0x42a337;}function _inherits(_0x55f149,_0x30ebd8){var _0x42e70d={_0x1b9bbe:0x163},_0x427962=_0x10c0;if(typeof _0x30ebd8!=='function'&&_0x30ebd8!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x55f149['prototype']=Object[_0x427962(0xf4)](_0x30ebd8&&_0x30ebd8[_0x427962(_0x42e70d._0x1b9bbe)],{'constructor':{'value':_0x55f149,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x55f149,'prototype',{'writable':![]});if(_0x30ebd8)_setPrototypeOf(_0x55f149,_0x30ebd8);}function _getPrototypeOf(_0xf46d9a){var _0xde4cb6={_0x2150df:0x119},_0xb8365=_0x10c0;return _getPrototypeOf=Object[_0xb8365(0x13f)]?Object['getPrototypeOf']['bind']():function _0x3ce74d(_0x84b2a9){var _0x12f9bc=_0xb8365;return _0x84b2a9[_0x12f9bc(_0xde4cb6._0x2150df)]||Object[_0x12f9bc(0x12f)](_0x84b2a9);},_getPrototypeOf(_0xf46d9a);}function _setPrototypeOf(_0x418462,_0x7f8f68){var _0x30d2d5={_0x1287ba:0x119};return _setPrototypeOf=Object['setPrototypeOf']?Object['setPrototypeOf']['bind']():function _0x43a69b(_0x31fd60,_0x462730){var _0x230867=_0x10c0;return _0x31fd60[_0x230867(_0x30d2d5._0x1287ba)]=_0x462730,_0x31fd60;},_setPrototypeOf(_0x418462,_0x7f8f68);}function _isNativeReflectConstruct(){var _0x168020={_0x85bad4:0x111,_0x116d01:0x150},_0x53171a=_0x10c0;if(typeof Reflect==='undefined'||!Reflect['construct'])return![];if(Reflect[_0x53171a(_0x168020._0x85bad4)][_0x53171a(0x101)])return![];if(typeof Proxy===_0x53171a(0x13e))return!![];try{return Boolean['prototype']['valueOf'][_0x53171a(_0x168020._0x116d01)](Reflect[_0x53171a(_0x168020._0x85bad4)](Boolean,[],function(){})),!![];}catch(_0x4b7a3c){return![];}}function _assertThisInitialized(_0x2a2e34){if(_0x2a2e34===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x2a2e34;}function _possibleConstructorReturn(_0x53f268,_0x2e3383){var _0x11af2b=_0x10c0;if(_0x2e3383&&(typeof _0x2e3383===_0x11af2b(0x156)||typeof _0x2e3383==='function'))return _0x2e3383;else{if(_0x2e3383!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x53f268);}function _createSuper(_0x48f46c){var _0x19d2ca=_isNativeReflectConstruct();return function _0x1bab7d(){var _0x1148c2=_0x10c0,_0x3c9326=_getPrototypeOf(_0x48f46c),_0x508a2e;if(_0x19d2ca){var _0x1b1a94=_getPrototypeOf(this)[_0x1148c2(0x110)];_0x508a2e=Reflect['construct'](_0x3c9326,arguments,_0x1b1a94);}else _0x508a2e=_0x3c9326['apply'](this,arguments);return _possibleConstructorReturn(this,_0x508a2e);};}function _superPropBase(_0x3700e9,_0x32fc88){var _0x273e68={_0x2a1a75:0x163},_0x1c3758=_0x10c0;while(!Object[_0x1c3758(_0x273e68._0x2a1a75)][_0x1c3758(0x104)][_0x1c3758(0x150)](_0x3700e9,_0x32fc88)){_0x3700e9=_getPrototypeOf(_0x3700e9);if(_0x3700e9===null)break;}return _0x3700e9;}function _get(){var _0x426c96={_0x323324:0x112},_0x53e308=_0x10c0;return typeof Reflect!=='undefined'&&Reflect[_0x53e308(0x122)]?_get=Reflect['get']['bind']():_get=function _0x3e9af9(_0x3f768c,_0x3b1238,_0x44b69e){var _0x5a04fe=_0x53e308,_0x3a441d=_superPropBase(_0x3f768c,_0x3b1238);if(!_0x3a441d)return;var _0x589cac=Object[_0x5a04fe(_0x426c96._0x323324)](_0x3a441d,_0x3b1238);if(_0x589cac['get'])return _0x589cac[_0x5a04fe(0x122)][_0x5a04fe(0x150)](arguments['length']<0x3?_0x3f768c:_0x44b69e);return _0x589cac['value'];},_get['apply'](this,arguments);}var Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x11f94d(0xf7)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function,MapVRenderer=function(_0x14a5d8){var _0x4e3314={_0x13cb70:0x135},_0x29a484={_0x3897a6:0x131,_0x3aa4e0:0x15b},_0x1848e1={_0x18d9b0:0x115},_0x563993={_0x2c68b1:0xf0,_0x346b5b:0x14b},_0x2c921a={_0x175931:0xf0,_0x51f5fb:0x11a,_0x1777ce:0x15d},_0x5ed7c1={_0x5a8ca1:0xf0},_0x39f83d={_0x2dc64e:0x122},_0x3bed7a={_0x21bab9:0x11a},_0x4cdb67={_0x57f0a7:0x10b,_0x18a45e:0xf8,_0xe805f:0x11e},_0x5c7368={_0x99084b:0x142,_0x33a02e:0x10e},_0x3bc890={_0x14a5cf:0x135},_0x40a8e2={_0x2b8db3:0x128},_0x457e99={_0x454964:0x150,_0x4e76bc:0x121},_0x2f34cd=_0x11f94d;_inherits(_0xd7956c,_0x14a5d8);var _0x2afe65=_createSuper(_0xd7956c);function _0xd7956c(_0x344b3f,_0x338df9,_0x29d25c,_0x22fa6a){var _0x152931=_0x10c0,_0x281f06;_classCallCheck(this,_0xd7956c),_0x281f06=_0x2afe65[_0x152931(_0x457e99._0x454964)](this,_0x344b3f,_0x338df9,_0x29d25c);if(!BaseLayer$1)return _possibleConstructorReturn(_0x281f06);return _0x281f06['map']=_0x344b3f,_0x281f06[_0x152931(0x107)]=_0x344b3f['scene'],_0x281f06['dataSet']=_0x338df9,_0x29d25c=_0x29d25c||{},_0x281f06[_0x152931(_0x457e99._0x4e76bc)](_0x29d25c),_0x281f06[_0x152931(0x14c)](_0x29d25c),_0x281f06['initDevicePixelRatio'](),_0x281f06['canvasLayer']=_0x22fa6a,_0x281f06['stopAniamation']=!0x1,_0x281f06['animation']=_0x29d25c['animation'],_0x281f06;}return _createClass(_0xd7956c,[{'key':'initDevicePixelRatio','value':function _0xecd8a1(){var _0x51e89a=_0x10c0;this[_0x51e89a(0x160)]=window['devicePixelRatio']||0x1;}},{'key':'addAnimatorEvent','value':function _0x507433(){}},{'key':_0x2f34cd(0x14a),'value':function _0x3b35c5(){var _0x5faf3b=_0x2f34cd,_0x53ad85=this['options']['animation'];this[_0x5faf3b(0x10b)]()&&this['animator']&&(this['steps']['step']=_0x53ad85['stepsRange']['start']);}},{'key':_0x2f34cd(0x120),'value':function _0x42bdd7(){var _0x4523ff=_0x2f34cd;this['isEnabledTime']()&&this[_0x4523ff(_0x40a8e2._0x2b8db3)];}},{'key':'getContext','value':function _0x42721d(){var _0x1c2bfc=_0x2f34cd;return this[_0x1c2bfc(_0x3bc890._0x14a5cf)]['canvas'][_0x1c2bfc(0x134)](this['context']);}},{'key':'init','value':function _0x31401f(_0x2d52e6){var _0x586f86=_0x2f34cd;this[_0x586f86(0x11e)]=_0x2d52e6,this['initDataRange'](_0x2d52e6),this['context']=this['options']['context']||'2d',this['options']['zIndex']&&this['canvasLayer']&&this['canvasLayer'][_0x586f86(_0x5c7368._0x99084b)]&&this['canvasLayer'][_0x586f86(0x142)](this[_0x586f86(0x11e)]['zIndex']),this[_0x586f86(_0x5c7368._0x33a02e)]();}},{'key':_0x2f34cd(0x147),'value':function _0x490ca3(_0x195654){var _0x2f3e00={_0x2134a4:0x162,_0x163695:0x152,_0x5f3d79:0x125},_0x179f88=_0x2f34cd,_0x2adc93=this['scene'];if(this[_0x179f88(0x135)]&&!this['stopAniamation']){var _0x581637=this['options']['animation'],_0x33a7f0=this['getContext']();if(this[_0x179f88(_0x4cdb67._0x57f0a7)]()){if(void 0x0===_0x195654)return void this['clear'](_0x33a7f0);this['context']==='2d'&&(_0x33a7f0['save'](),_0x33a7f0['globalCompositeOperation']='destination-out',_0x33a7f0['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x33a7f0[_0x179f88(0x14e)](0x0,0x0,_0x33a7f0['canvas']['width'],_0x33a7f0['canvas']['height']),_0x33a7f0['restore']());}else this['clear'](_0x33a7f0);if(this[_0x179f88(0x13c)]==='2d')for(var _0x45eab2 in this['options']){_0x33a7f0[_0x45eab2]=this['options'][_0x45eab2];}else _0x33a7f0[_0x179f88(0x14b)](_0x33a7f0['COLOR_BUFFER_BIT']);var _0x1279c5={'transferCoordinate':function _0x31c1ed(_0x249ba3){var _0x29b0ae=_0x179f88,_0x55986c=null,_0x80f3d0=_0x2adc93['mapvFixedHeight'];_0x2adc93['mapvAutoHeight']&&(_0x80f3d0=_0x2adc93['globe']['getHeight'](Cesium$1['Cartographic'][_0x29b0ae(_0x2f3e00._0x2134a4)](_0x249ba3[0x0],_0x249ba3[0x1])));var _0x4d3c87=Cesium$1[_0x29b0ae(0x153)]['fromDegrees'](_0x249ba3[0x0],_0x249ba3[0x1],_0x80f3d0);if(!_0x4d3c87)return _0x55986c;var _0x213123=_0x2adc93[_0x29b0ae(0xf3)](_0x4d3c87);if(!_0x213123)return _0x55986c;if(_0x2adc93['mapvDepthTest']&&_0x2adc93[_0x29b0ae(0x130)]===Cesium$1['SceneMode']['SCENE3D']){var _0x2948a7=new Cesium$1[(_0x29b0ae(_0x2f3e00._0x163695))](_0x2adc93['globe'][_0x29b0ae(_0x2f3e00._0x5f3d79)],_0x2adc93['camera'][_0x29b0ae(0x11c)]),_0x59e3af=_0x2948a7['isPointVisible'](_0x4d3c87);if(!_0x59e3af)return _0x55986c;}return[_0x213123['x'],_0x213123['y']];}};void 0x0!==_0x195654&&(_0x1279c5[_0x179f88(0x10a)]=function(_0x29b905){var _0x56b088=_0x581637['trails']||0xa;return!!(_0x195654&&_0x29b905['time']>_0x195654-_0x56b088&&_0x29b905['time']<_0x195654);});var _0xb79d93=this['dataSet'][_0x179f88(0x122)](_0x1279c5);this[_0x179f88(0x154)](_0xb79d93),this[_0x179f88(0x11e)]['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];var _0x5d0d7c=_0x2adc93['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x5d0d7c)return;this[_0x179f88(_0x4cdb67._0x18a45e)](_0x33a7f0,new mapv__namespace['DataSet'](_0xb79d93),this[_0x179f88(_0x4cdb67._0xe805f)],_0x5d0d7c),this['options']['updateCallback']&&this['options']['updateCallback'](_0x195654);}}},{'key':'updateData','value':function _0x1727e3(_0x2247ff,_0x87dc82){var _0x252fe9=_0x2f34cd,_0x4b6e67=_0x2247ff;_0x4b6e67&&_0x4b6e67['get']&&(_0x4b6e67=_0x4b6e67['get']()),void 0x0!==_0x4b6e67&&this['dataSet'][_0x252fe9(_0x3bed7a._0x21bab9)](_0x4b6e67),_get(_getPrototypeOf(_0xd7956c[_0x252fe9(0x163)]),'update',this)['call'](this,{'options':_0x87dc82});}},{'key':'addData','value':function _0x254fcf(_0x48a55c,_0x267c58){var _0x3eb1b1=_0x2f34cd,_0x42ac05=_0x48a55c;_0x48a55c&&_0x48a55c['get']&&(_0x42ac05=_0x48a55c[_0x3eb1b1(_0x39f83d._0x2dc64e)]()),this['dataSet'][_0x3eb1b1(0x151)](_0x42ac05),this['update']({'options':_0x267c58});}},{'key':'getData','value':function _0x40f83c(){var _0x3c2657=_0x2f34cd;return this[_0x3c2657(_0x5ed7c1._0x5a8ca1)];}},{'key':'removeData','value':function _0x4e8904(_0x53faf1){var _0x3ab921=_0x2f34cd;if(this['dataSet']){var _0x6689db=this['dataSet']['get']({'filter':function _0xea7d72(_0x12171b){var _0x1c04de=_0x10c0;return _0x53faf1==null||typeof _0x53faf1!==_0x1c04de(0x13e)||!_0x53faf1(_0x12171b);}});this[_0x3ab921(_0x2c921a._0x175931)][_0x3ab921(_0x2c921a._0x51f5fb)](_0x6689db),this[_0x3ab921(_0x2c921a._0x1777ce)]({'options':null});}}},{'key':'clearData','value':function _0x67d1bd(){var _0xd033ab=_0x2f34cd;this[_0xd033ab(_0x563993._0x2c68b1)]&&this[_0xd033ab(0xf0)][_0xd033ab(_0x563993._0x346b5b)](),this['update']({'options':null});}},{'key':_0x2f34cd(0x115),'value':function _0x5642a4(){var _0x3924fb=_0x2f34cd;this['canvasLayer'][_0x3924fb(_0x1848e1._0x18d9b0)]();}},{'key':'clear','value':function _0x68e097(_0x41c264){var _0xbe1453=_0x2f34cd;_0x41c264&&_0x41c264['clearRect']&&_0x41c264[_0xbe1453(_0x29a484._0x3897a6)](0x0,0x0,_0x41c264['canvas']['width'],_0x41c264['canvas'][_0xbe1453(_0x29a484._0x3aa4e0)]);}},{'key':'destroy','value':function _0x3f5ad6(){var _0x528da9=_0x2f34cd;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this['animator']['stop'](),this['animator']=null,this[_0x528da9(_0x4e3314._0x13cb70)]=null;}}]),_0xd7956c;}(BaseLayer$1);if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x11f94d(0x145)]['prototype']['transferCoordinate']=function(_0xe53b34,_0x2298e5,_0x3f1669,_0x15d910){var _0x47b67c={_0x5a070a:0x137},_0x38ef53={_0x249c0e:0x12a,_0x3fe9ba:0x100},_0x49c045=_0x11f94d;_0x15d910=_0x15d910||_0x49c045(0x139),_0x3f1669=_0x3f1669||'coordinates';for(var _0x29b4c7=0x0;_0x29b4c7<_0xe53b34['length'];_0x29b4c7++){var _0x2caa4b=_0xe53b34[_0x29b4c7]['geometry'],_0x1a99ee=_0x2caa4b[_0x3f1669];switch(_0x2caa4b['type']){case'Point':{var _0x31786c=_0x2298e5(_0x1a99ee);_0x31786c?_0x2caa4b[_0x15d910]=_0x31786c:_0x2caa4b[_0x15d910]=[-0x3e7,-0x3e7];}break;case _0x49c045(_0x47b67c._0x5a070a):{var _0x3e37d9=[];for(var _0x497ffc=0x0;_0x497ffc<_0x1a99ee['length'];_0x497ffc++){var _0x358666=_0x2298e5(_0x1a99ee[_0x497ffc]);_0x358666&&_0x3e37d9['push'](_0x358666);}_0x2caa4b[_0x15d910]=_0x3e37d9;}break;case _0x49c045(0x146):case'Polygon':{var _0x14a50e=_0x2ad8b7(_0x1a99ee);_0x2caa4b[_0x15d910]=_0x14a50e;}break;case _0x49c045(0x118):{var _0x4c1294=[];for(var _0x260dc6=0x0;_0x260dc6<_0x1a99ee['length'];_0x260dc6++){var _0x1f2a89=_0x2ad8b7(_0x1a99ee[_0x260dc6]);_0x1f2a89[_0x49c045(0x12a)]>0x0&&_0x4c1294['push'](_0x1f2a89);}_0x2caa4b[_0x15d910]=_0x4c1294;}break;}}function _0x2ad8b7(_0x5dce42){var _0x967d11=_0x49c045,_0x2800f6=[];for(var _0x5c3ea3=0x0;_0x5c3ea3<_0x5dce42['length'];_0x5c3ea3++){var _0x10c5f5=_0x5dce42[_0x5c3ea3],_0x22beda=[];for(var _0x454f3a=0x0;_0x454f3a<_0x10c5f5[_0x967d11(_0x38ef53._0x249c0e)];_0x454f3a++){var _0x9ea2b9=_0x2298e5(_0x10c5f5[_0x454f3a]);_0x9ea2b9&&_0x22beda[_0x967d11(_0x38ef53._0x3fe9ba)](_0x9ea2b9);}_0x22beda['length']>0x0&&_0x2800f6['push'](_0x22beda);}return _0x2800f6;}return _0xe53b34;};else throw new Error(_0x11f94d(0xf9));function _0xa0a9(){var _0x2b3c5c=['create','1124505XVWHst','623030XFZIPJ','baiduMapLayer','drawContext','请引入\x20mapv\x20库\x20','__esModule','width','_showHook','_onMoveEndEvent','9532tvOEZW','_reset','push','sham','methods','1560620WsjKgu','hasOwnProperty','keys','cameraMoveStart','scene','580310jYVkaG','mousemove','filter','isEnabledTime','mapvFixedHeight','style','initAnimator','removeChild','constructor','construct','getOwnPropertyDescriptor','enumerable','12juxELQ','draw','destroy','ymax','MultiPolygon','__proto__','set','top','positionWC','_mapVRenderer','options','updateData','animatorMoveendEvent','init','get','_onMoveStartEvent','bindEvent','ellipsoid','resize','removeAllData','animator','zIndex','length','_onMapMouseMove','getData','none','removeData','getPrototypeOf','mode','clearRect','register','0px','getContext','canvasLayer','remove','LineString','_data','_coordinates','position','bind','context','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','function','setPrototypeOf','mouseMove','_onMapClick','setZIndex','isFormat','2731152coWace','DataSet','MultiLineString','_canvasUpdate','27NZgVmO','off','animatorMovestartEvent','clear','argCheck','auto','fillRect','defineProperty','call','add','EllipsoidalOccluder','Cartesian3','processData','5uuLedM','object','xmax','_map','unbindEvent','37310WTIBsb','height','_cache_event','update','EventType','pointerEvents','devicePixelRatio','canvas','fromDegrees','prototype','dataSet','getExtentByGeoJSON','click','cartesianToCanvasCoordinates'];_0xa0a9=function(){return _0x2b3c5c;};return _0xa0a9();}var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'],divId=0x0,MapVLayer=function(_0x5802db){var _0x586328={_0x184b84:0xfc,_0x229278:0x136,_0x3eb525:0x126},_0x519177={_0xe92129:0x158,_0x32fa48:0x140,_0x44dbfd:0x12b},_0x283fda={_0x15daf0:0x11e,_0x1255f4:0xf2,_0x431da6:0x15e,_0x20a909:0x109},_0x67d936={_0x2559cf:0x15c,_0x3edc95:0x11d},_0x135a2e={_0x35e166:0xf0,_0x54f320:0x143},_0x1a4dda={_0x476743:0x161,_0x3ca9d1:0x133,_0x3387f4:0x15b,_0x227ab7:0xfb,_0x530838:0x10d},_0x2a3bdb={_0x170cd4:0x147},_0x4f3bde={_0x422067:0x11d,_0x194945:0x10f,_0x11f64f:0x161},_0xf521e7={_0x279867:0xff},_0x3ff23b={_0x4f49ec:0x126},_0xd13168={_0x1f742a:0x10d,_0x1780cc:0x11b,_0x4ba1fd:0x10d,_0xdd976a:0x15f,_0x1989bb:0x129,_0x5c8437:0x13c},_0x5a61a7={_0x5346fe:0x12e},_0x365b3a={_0x1b425d:0x12c,_0x4650fb:0xf0},_0x4999f3={_0x32d8c9:0x11d},_0x1308a4={_0x20d1e2:0x11d,_0x1479cd:0xff},_0x3a0b25={_0x4a7f5c:0x14a},_0x4edf26={_0x3d5cfc:0x149,_0xbe9eef:0x123,_0xcbd1b5:0x158,_0x1be479:0x15e,_0x28d930:0x102,_0x125038:0x109},_0x211c13={_0x22d23b:0x15e,_0x5db550:0x12b},_0x79d23a={_0xa5b3f0:0x116},_0x514a05={_0x30d2f2:0xf0,_0xcf8927:0x11d},_0x4834ae={_0x424b8d:0x107,_0x2bf639:0x11e,_0x5496ba:0x10c},_0x49c932={_0x4adf1a:0x12d},_0x16fe75={_0x7c8dee:0x10d},_0x1d485c=_0x11f94d;_inherits(_0x3654f6,_0x5802db);var _0x224cbb=_createSuper(_0x3654f6);function _0x3654f6(_0x18412a,_0xee2a15){var _0x421bd4=_0x10c0,_0x602451;return _classCallCheck(this,_0x3654f6),_0x602451=_0x224cbb['call'](this,_0x18412a),_0x602451['_pointerEvents']=_0x602451['options'][_0x421bd4(0x15f)],_0x602451['dataSet']=_0xee2a15||new mapv__namespace['DataSet'](_0x18412a['data']),_0x602451[_0x421bd4(0x161)]=null,_0x602451;}return _createClass(_0x3654f6,[{'key':'pointerEvents','get':function _0x267db8(){return this['_pointerEvents'];},'set':function _0x4a05a5(_0x5d6465){var _0x2a6cdb=_0x10c0;this['_pointerEvents']=_0x5d6465,this['canvas']&&(_0x5d6465?this['canvas']['style'][_0x2a6cdb(0x15f)]='all':this['canvas'][_0x2a6cdb(_0x16fe75._0x7c8dee)]['pointerEvents']='none');}},{'key':_0x1d485c(_0x586328._0x184b84),'value':function _0x3588d3(_0x2a8c8e){var _0x199e54=_0x1d485c;_0x2a8c8e?this['canvas']['style']['display']='block':this['canvas'][_0x199e54(0x10d)]['display']=_0x199e54(_0x49c932._0x4adf1a);}},{'key':'_mountedHook','value':function _0x386199(){var _0x8e6050=_0x1d485c,_0x5d63e0,_0x408469,_0x5f3a4b;this['_map'][_0x8e6050(_0x4834ae._0x424b8d)]['mapvDepthTest']=(_0x5d63e0=this[_0x8e6050(_0x4834ae._0x2bf639)]['depthTest'])!==null&&_0x5d63e0!==void 0x0?_0x5d63e0:!![],this['_map']['scene']['mapvAutoHeight']=(_0x408469=this['options']['clampToGround'])!==null&&_0x408469!==void 0x0?_0x408469:![],this['_map']['scene'][_0x8e6050(_0x4834ae._0x5496ba)]=(_0x5f3a4b=this['options']['fixedHeight'])!==null&&_0x5f3a4b!==void 0x0?_0x5f3a4b:0x0;}},{'key':'_addedHook','value':function _0x44d189(){var _0x3e2593=_0x1d485c;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data'][_0x3e2593(0x12a)]===0x0)&&(this[_0x3e2593(_0x514a05._0x30d2f2)]['_data']=[]['concat'](this[_0x3e2593(0xf0)]['_dataCache'])),this[_0x3e2593(_0x514a05._0xcf8927)]=new MapVRenderer(this['_map'],this[_0x3e2593(0xf0)],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}},{'key':'_removedHook','value':function _0x6d99f7(){var _0x28590f=_0x1d485c;this[_0x28590f(0x159)](),this['_mapVRenderer']&&(this['_mapVRenderer'][_0x28590f(_0x79d23a._0xa5b3f0)](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}},{'key':'initDevicePixelRatio','value':function _0x3d2cc3(){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}},{'key':_0x1d485c(0x124),'value':function _0x40da1e(){var _0x18b2b4=_0x1d485c,_0xfefb59,_0x2b4fc8,_0x224f0c,_0x36a713;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x18b2b4(_0x211c13._0x22d23b)][_0x18b2b4(0x106)],this[_0x18b2b4(0x123)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0xfefb59=this['options'])!==null&&_0xfefb59!==void 0x0&&(_0x2b4fc8=_0xfefb59['methods'])!==null&&_0x2b4fc8!==void 0x0&&_0x2b4fc8['click']&&this[_0x18b2b4(0x158)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x224f0c=this['options'])!==null&&_0x224f0c!==void 0x0&&(_0x36a713=_0x224f0c['methods'])!==null&&_0x36a713!==void 0x0&&_0x36a713['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x18b2b4(_0x211c13._0x5db550)],this);}},{'key':'unbindEvent','value':function _0x248507(){var _0x5666c2=_0x1d485c,_0x477bad,_0x483543,_0x1683bd,_0x2f5f28;this['_map'][_0x5666c2(_0x4edf26._0x3d5cfc)](mars3d__namespace['EventType']['mouseDown'],this[_0x5666c2(_0x4edf26._0xbe9eef)],this),this[_0x5666c2(_0x4edf26._0xcbd1b5)]['off'](mars3d__namespace[_0x5666c2(_0x4edf26._0x1be479)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x477bad=this['options'])!==null&&_0x477bad!==void 0x0&&(_0x483543=_0x477bad[_0x5666c2(_0x4edf26._0x28d930)])!==null&&_0x483543!==void 0x0&&_0x483543['click']&&this['_map']['off'](mars3d__namespace['EventType'][_0x5666c2(0xf2)],this['_onMapClick'],this),(_0x1683bd=this['options'])!==null&&_0x1683bd!==void 0x0&&(_0x2f5f28=_0x1683bd['methods'])!==null&&_0x2f5f28!==void 0x0&&_0x2f5f28[_0x5666c2(_0x4edf26._0x125038)]&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}},{'key':'_onMoveStartEvent','value':function _0x359cc0(){var _0x24a919=_0x1d485c;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x24a919(_0x3a0b25._0x4a7f5c)](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x24a919(0xff)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}},{'key':_0x1d485c(0xfd),'value':function _0x4e872b(){var _0x66ba27=_0x1d485c;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x66ba27(_0x1308a4._0x20d1e2)]['animatorMoveendEvent'](),this[_0x66ba27(_0x1308a4._0x1479cd)]());}},{'key':'_setOptionsHook','value':function _0x1bafb7(_0x5a7e0d,_0x106b2f){this['_removedHook'](),this['_addedHook']();}},{'key':'addData','value':function _0x59d8ac(_0x2f47cc){var _0x21651b=_0x1d485c;this['_mapVRenderer']&&this[_0x21651b(0x11d)]['addData'](_0x2f47cc,this['options']);}},{'key':_0x1d485c(0x11f),'value':function _0xeb594(_0x2fdc23){var _0x506a16=_0x1d485c;this[_0x506a16(_0x4999f3._0x32d8c9)]&&this['_mapVRenderer'][_0x506a16(0x11f)](_0x2fdc23,this['options']);}},{'key':'getData','value':function _0x1e9e72(){var _0x3e4ebc=_0x1d485c;return this['_mapVRenderer']&&(this[_0x3e4ebc(0xf0)]=this['_mapVRenderer'][_0x3e4ebc(_0x365b3a._0x1b425d)]()),this[_0x3e4ebc(_0x365b3a._0x4650fb)];}},{'key':'removeData','value':function _0x2756ed(_0x59ba01){var _0x1f7726=_0x1d485c;this['_mapVRenderer']&&this['_mapVRenderer'][_0x1f7726(_0x5a61a7._0x5346fe)](_0x59ba01);}},{'key':_0x1d485c(0x127),'value':function _0x484bda(){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}},{'key':'_createCanvas','value':function _0x528f48(){var _0xae8d8e=_0x1d485c,_0x2826ec=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x2826ec['id']=this['options']['layerid']||'mapv'+divId++,_0x2826ec[_0xae8d8e(_0xd13168._0x1f742a)][_0xae8d8e(0x13a)]='absolute',_0x2826ec['style'][_0xae8d8e(_0xd13168._0x1780cc)]='0px',_0x2826ec['style']['left']=_0xae8d8e(0x133),_0x2826ec[_0xae8d8e(_0xd13168._0x4ba1fd)][_0xae8d8e(_0xd13168._0xdd976a)]=this['_pointerEvents']?_0xae8d8e(0x14d):'none',_0x2826ec[_0xae8d8e(_0xd13168._0x1f742a)][_0xae8d8e(_0xd13168._0x1989bb)]=this['options']['zIndex']||0x64,_0x2826ec['width']=parseInt(this[_0xae8d8e(0x158)]['canvas']['width']),_0x2826ec['height']=parseInt(this['_map']['canvas']['height']),_0x2826ec['style']['width']=this['_map']['canvas']['style']['width'],_0x2826ec[_0xae8d8e(0x10d)]['height']=this['_map'][_0xae8d8e(0x161)]['style'][_0xae8d8e(0x15b)];if(this['options'][_0xae8d8e(_0xd13168._0x5c8437)]==='2d'){var _0x5c9f81=this['devicePixelRatio'];_0x2826ec['getContext'](this[_0xae8d8e(0x11e)]['context'])['scale'](_0x5c9f81,_0x5c9f81);}return _0x2826ec;}},{'key':'_reset','value':function _0x1cd63d(){var _0x41a9b4=_0x1d485c;this[_0x41a9b4(_0x3ff23b._0x4f49ec)](),this['render']();}},{'key':'draw','value':function _0x85e3f4(){var _0x36e6a6=_0x1d485c;this[_0x36e6a6(_0xf521e7._0x279867)]();}},{'key':_0x1d485c(_0x586328._0x229278),'value':function _0x4d711f(){var _0x21bf19=_0x1d485c;this[_0x21bf19(_0x4f3bde._0x422067)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x21bf19(_0x4f3bde._0x194945)](this[_0x21bf19(_0x4f3bde._0x11f64f)]);}},{'key':'render','value':function _0x54f756(){var _0x3708e2=_0x1d485c;this['_mapVRenderer'][_0x3708e2(_0x2a3bdb._0x170cd4)]();}},{'key':_0x1d485c(_0x586328._0x3eb525),'value':function _0xf540fd(){var _0x59474f=_0x1d485c;if(this[_0x59474f(_0x1a4dda._0x476743)]){var _0xa2001b=this['canvas'];_0xa2001b['style']['position']='absolute',_0xa2001b['style']['top']='0px',_0xa2001b['style']['left']=_0x59474f(_0x1a4dda._0x3ca9d1),_0xa2001b['width']=parseInt(this['_map']['canvas']['width']),_0xa2001b['height']=parseInt(this['_map']['canvas'][_0x59474f(_0x1a4dda._0x3387f4)]),_0xa2001b['style']['width']=this['_map']['canvas']['style'][_0x59474f(_0x1a4dda._0x227ab7)],_0xa2001b[_0x59474f(0x10d)]['height']=this['_map']['canvas'][_0x59474f(_0x1a4dda._0x530838)]['height'];}}},{'key':'getRectangle','value':function _0x5c4b8c(_0x1f7400){var _0x1328a4=_0x1d485c;if(!this['dataSet']||!this['dataSet']['_data'])return;var _0x39ef70=mars3d__namespace['Util'][_0x1328a4(0xf1)]({'type':'FeatureCollection','features':this[_0x1328a4(_0x135a2e._0x35e166)][_0x1328a4(0x138)]});if(!_0x39ef70)return;return _0x1f7400!==null&&_0x1f7400!==void 0x0&&_0x1f7400[_0x1328a4(_0x135a2e._0x54f320)]?_0x39ef70:Cesium['Rectangle']['fromDegrees'](_0x39ef70['xmin'],_0x39ef70['ymin'],_0x39ef70[_0x1328a4(0x157)],_0x39ef70[_0x1328a4(0x117)]);}},{'key':'_onMapClick','value':function _0x5d9727(_0x28504c){var _0x592cae=_0x1d485c;this[_0x592cae(_0x67d936._0x2559cf)]=_0x28504c,this['_mapVRenderer']&&this[_0x592cae(_0x67d936._0x3edc95)]['clickEvent'](_0x28504c['windowPosition'],_0x28504c);}},{'key':'_onMapMouseMove','value':function _0x20d63e(_0x3afc39){var _0x56946e=_0x1d485c;this['_cache_event']=_0x3afc39,this[_0x56946e(0x11d)]&&this['_mapVRenderer']['mousemoveEvent'](_0x3afc39['windowPosition'],_0x3afc39);}},{'key':'on','value':function _0x29a71e(_0x30d39a,_0x20e601,_0x4248b9){var _0xff1896=_0x1d485c,_0x4debb7=this;this[_0xff1896(_0x283fda._0x15daf0)]['methods']=this['options']['methods']||{};if(_0x30d39a===mars3d__namespace['EventType']['click'])this['options']['methods'][_0xff1896(_0x283fda._0x1255f4)]=function(_0x21f685){var _0x3a2338=_0xff1896;_0x21f685&&_0x20e601[_0x3a2338(0x13b)](_0x4248b9)(_objectSpread2(_objectSpread2({},_0x4debb7['_cache_event']),{},{'layer':_0x4debb7,'data':_0x21f685}));},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x30d39a===mars3d__namespace[_0xff1896(_0x283fda._0x431da6)][_0xff1896(0x140)]&&(this['options']['methods'][_0xff1896(_0x283fda._0x20a909)]=function(_0x2d6ca5){_0x2d6ca5&&_0x20e601['bind'](_0x4248b9)(_objectSpread2(_objectSpread2({},_0x4debb7['_cache_event']),{},{'layer':_0x4debb7,'data':_0x2d6ca5}));},this['_map']['on'](mars3d__namespace['EventType'][_0xff1896(0x140)],this[_0xff1896(0x12b)],this));return this;}},{'key':'off','value':function _0x2eea13(_0x1a379a,_0x51efb4){var _0x5bc3bf=_0x1d485c;if(_0x1a379a==='click'){var _0x2c1d2c;this[_0x5bc3bf(_0x519177._0xe92129)]['off'](_0x1a379a,this[_0x5bc3bf(0x141)],this),(_0x2c1d2c=this['options'][_0x5bc3bf(0x102)])!==null&&_0x2c1d2c!==void 0x0&&_0x2c1d2c['mousemove']&&delete this[_0x5bc3bf(0x11e)][_0x5bc3bf(0x102)]['click'];}else{if(_0x1a379a===_0x5bc3bf(_0x519177._0x32fa48)){var _0x3a13d5;this['_map']['off'](_0x1a379a,this[_0x5bc3bf(_0x519177._0x44dbfd)],this),(_0x3a13d5=this['options']['methods'])!==null&&_0x3a13d5!==void 0x0&&_0x3a13d5['mousemove']&&delete this[_0x5bc3bf(0x11e)]['methods']['mousemove'];}}return this;}}]),_0x3654f6;}(BaseLayer);mars3d__namespace['LayerUtil'][_0x11f94d(0x132)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,exports['MapVLayer']=MapVLayer,Object[_0x11f94d(0x105)](mapv)['forEach'](function(_0x1b7083){if(_0x1b7083!=='default'&&!exports['hasOwnProperty'](_0x1b7083))Object['defineProperty'](exports,_0x1b7083,{'enumerable':!![],'get':function(){return mapv[_0x1b7083];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
