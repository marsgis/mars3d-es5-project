/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.3
 * 编译日期：2022-08-09 13:25:57
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x4ca385=_0x2dcd;(function(_0x27cb8d,_0x584513){var _0x500421=_0x2dcd,_0x4c8b99=_0x27cb8d();while(!![]){try{var _0x172480=-parseInt(_0x500421(0x22c))/0x1+-parseInt(_0x500421(0x21b))/0x2*(parseInt(_0x500421(0x20d))/0x3)+-parseInt(_0x500421(0x267))/0x4*(-parseInt(_0x500421(0x247))/0x5)+-parseInt(_0x500421(0x1db))/0x6*(-parseInt(_0x500421(0x264))/0x7)+-parseInt(_0x500421(0x24c))/0x8*(-parseInt(_0x500421(0x200))/0x9)+-parseInt(_0x500421(0x242))/0xa+parseInt(_0x500421(0x25e))/0xb;if(_0x172480===_0x584513)break;else _0x4c8b99['push'](_0x4c8b99['shift']());}catch(_0x378ca5){_0x4c8b99['push'](_0x4c8b99['shift']());}}}(_0x23db,0xc6085));function _interopNamespace(_0x2c0c69){var _0xca8cef=_0x2dcd;if(_0x2c0c69&&_0x2c0c69[_0xca8cef(0x220)])return _0x2c0c69;var _0x238889=Object[_0xca8cef(0x1e5)](null);return _0x2c0c69&&Object[_0xca8cef(0x1e2)](_0x2c0c69)[_0xca8cef(0x268)](function(_0x1f859a){var _0x3f78b0=_0xca8cef;if(_0x1f859a!==_0x3f78b0(0x245)){var _0x2ad271=Object[_0x3f78b0(0x222)](_0x2c0c69,_0x1f859a);Object[_0x3f78b0(0x236)](_0x238889,_0x1f859a,_0x2ad271[_0x3f78b0(0x209)]?_0x2ad271:{'enumerable':!![],'get':function(){return _0x2c0c69[_0x1f859a];}});}}),_0x238889[_0xca8cef(0x245)]=_0x2c0c69,_0x238889;}function _0x23db(){var _0x54c742=['Bwf4','ug9PBNruCMfUCW','z3jHBNvSyxjPDhK','ywrKr3jHCgHPyW','x2XHC3rFBujVDw5KCW','nJG3mJyZnvH1q0fVua','CMvK','x21HCa','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','AgvPz2H0','qMfZzuXHEwvY','n0TNwfL0zW','CMDIkdaSmcWWkq','D3jPDgfIBgu','mtzpsgrSBxe','zM9YrwfJAa','zMX5vg8','Bgf5zxi','A2v5','ChG7AgvPz2H0oG','DMfSDwvpzG','yxbWBhK','C3r5Bgu','C2v0ug9ZAxrPB25Z','Cg9PBNrZ','y29VCMrPBMf0zxm','nJy3otu3oeDruMLftq','Ew1PBG','ChjVDg90ExbL','CMDIysG','uMvJDgfUz2XL','twf0zxjPywW','y29UDgfPBMvY','A2v5CW','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','y3jLyxrL','zgvMAw5LuhjVCgvYDgLLCW','Dw5PzM9YBxm','ChG7','z2v0vMfSDwvbDa','x19WCM90B19F','zNjVBurLz3jLzxm','y2fSBa','x3nLDe9WDgLVBNniB29R','x3jLBw92zwriB29R','EwvSBg93','x2DYyxbOAwm','Eg1PBG','CMvNAxn0zxi','x2XHEwvY','rg9TvxrPBa','y29UzMLNDxjL','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','ywrKug9ZAxrPB24','Bg9UBgf0mM1LCMnHDg9Y','x2nYzwf0zufYy0DYyxbOAwm','x3jLy3rHBMDSzq','z3jHCgHPyW','yMX1CG','x2XHC3rFAgvHDerHDge','q29SB3i','C3bSAxroDw0','ouHhzvrisG','Bgf0','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','Bg5N','x2HLyxq','zNvUy3rPB24','tgf5zxjvDgLS','DMfSDwu','vxrPBa','z2v0','Aw1Hz2u','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','CMDIkde0mcWXndaSmtqWkq','nNzit3vqBG','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','Bwf4q2fUDMfZu2L6zq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','C2v0uhjVDg90ExbLt2y','BwLU','BwvYz2u','y3r4','ywjZ','C2HVDW','uMvJDgfUz2XLuhjPBwL0AxzL','yxjJ','yxjJuMfKAxvZu2nHBgu','CM91BMq','mtaZnZCZogDfq1L5zW','vKvsvevyx0zpuK1bva','x2nYzwf0zuDYyxbOAwm','Dw5KzwzPBMvK','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','x19LC01VzhvSzq','quXxqvLt','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','uKvqtefdrq','s0vfua','zMX5vg9cEufUAw1HDgLVBKvUza','Ew1HEa','y2XPzw50v2LKDgG','z3jHzgLLBNrbCMm','y2fUDMfZ','x3bVC2L0Aw9UCW','yM9KEq','mta3mdeWoejwB25UAW','CMDIkdiXnIWYmtySmJe2kq','BwLUq2fUDMfZu2L6zq','z2v0sw1Hz2veyxrH','yNvTCe1HCa','zM9YBwf0uMvJDgfUz2XL','zgL2','zMLSDgvY','u3rLBMnPBe9WzxjHDgLVBG','x2DLDefYy0HLyxrdyw52yxm','zgvMAw5LuhjVCgvYDhK','y29Uy2f0','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','yMX1zq','yxjJqMX1CLnJywXL','x2DLDeHLyxrdyw52yxm','y2XPzw50sgvPz2H0','zgLMzKHLAwDODa','q2fYDgvZAwfUmG','Cg9ZAxrPB25Z','zw51BwvYywjSzq','x3jLBMrLCMvY','odu1ode0mfLMuvHizG','CMvJDgfUz2XL','u3rLBMnPBez1BMn0Aw9U','zgvMyxvSDa','C2HHBq','nJC1mJe1wNfiAKjZ','BgvUz3rO','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','tg5Ntgf0ug9PBNq','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','mte5nZi2ndHguKL5DeG','B3b0Aw9UCW','AgvHDfn0EwXL','x21cB3vUzhnnyxG','CMDIkdi1nsWYntuSmJu1kq','x3nJywXL','y2XLyxi','ChvZAa','y29UC3rYDwn0','Eg1HEa','z2v0uhjVDg90ExbLt2y','ug9SEvv0AwW','BwvYy2f0B3iYBg9UBgf0'];_0x23db=function(){return _0x54c742;};return _0x23db();}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x52f809,_0x3a09cd){var _0x31fb7f=_0x2dcd,_0xeccf61=Object[_0x31fb7f(0x1e2)](_0x52f809);if(Object[_0x31fb7f(0x1f6)]){var _0x5b246c=Object[_0x31fb7f(0x1f6)](_0x52f809);_0x3a09cd&&(_0x5b246c=_0x5b246c[_0x31fb7f(0x233)](function(_0xe09dd0){var _0x548905=_0x31fb7f;return Object[_0x548905(0x222)](_0x52f809,_0xe09dd0)[_0x548905(0x240)];})),_0xeccf61[_0x31fb7f(0x253)][_0x31fb7f(0x26e)](_0xeccf61,_0x5b246c);}return _0xeccf61;}function _objectSpread2(_0x1bbc28){var _0x2514ec=_0x2dcd;for(var _0x4445af=0x1;_0x4445af<arguments[_0x2514ec(0x248)];_0x4445af++){var _0x1a8b44=null!=arguments[_0x4445af]?arguments[_0x4445af]:{};_0x4445af%0x2?ownKeys(Object(_0x1a8b44),!0x0)[_0x2514ec(0x268)](function(_0x2fe969){_defineProperty(_0x1bbc28,_0x2fe969,_0x1a8b44[_0x2fe969]);}):Object[_0x2514ec(0x238)]?Object[_0x2514ec(0x1e6)](_0x1bbc28,Object[_0x2514ec(0x238)](_0x1a8b44)):ownKeys(Object(_0x1a8b44))[_0x2514ec(0x268)](function(_0x2ff6a1){var _0x195922=_0x2514ec;Object['defineProperty'](_0x1bbc28,_0x2ff6a1,Object[_0x195922(0x222)](_0x1a8b44,_0x2ff6a1));});}return _0x1bbc28;}function _classCallCheck(_0x511ae4,_0x40cde4){var _0x1de61a=_0x2dcd;if(!(_0x511ae4 instanceof _0x40cde4))throw new TypeError(_0x1de61a(0x1e3));}function _0x2dcd(_0x340639,_0x93de56){var _0x23db5a=_0x23db();return _0x2dcd=function(_0x2dcd3a,_0x4f9ac7){_0x2dcd3a=_0x2dcd3a-0x1da;var _0x3c824f=_0x23db5a[_0x2dcd3a];if(_0x2dcd['LCJPkG']===undefined){var _0x2eb30c=function(_0x2c0c69){var _0x238889='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x1f859a='',_0x2ad271='';for(var _0x52f809=0x0,_0x3a09cd,_0xeccf61,_0x5b246c=0x0;_0xeccf61=_0x2c0c69['charAt'](_0x5b246c++);~_0xeccf61&&(_0x3a09cd=_0x52f809%0x4?_0x3a09cd*0x40+_0xeccf61:_0xeccf61,_0x52f809++%0x4)?_0x1f859a+=String['fromCharCode'](0xff&_0x3a09cd>>(-0x2*_0x52f809&0x6)):0x0){_0xeccf61=_0x238889['indexOf'](_0xeccf61);}for(var _0xe09dd0=0x0,_0x1bbc28=_0x1f859a['length'];_0xe09dd0<_0x1bbc28;_0xe09dd0++){_0x2ad271+='%'+('00'+_0x1f859a['charCodeAt'](_0xe09dd0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2ad271);};_0x2dcd['vwSKAB']=_0x2eb30c,_0x340639=arguments,_0x2dcd['LCJPkG']=!![];}var _0x597bd4=_0x23db5a[0x0],_0xdc3762=_0x2dcd3a+_0x597bd4,_0x834565=_0x340639[_0xdc3762];return!_0x834565?(_0x3c824f=_0x2dcd['vwSKAB'](_0x3c824f),_0x340639[_0xdc3762]=_0x3c824f):_0x3c824f=_0x834565,_0x3c824f;},_0x2dcd(_0x340639,_0x93de56);}function _defineProperties(_0x3d27d0,_0x563bc1){var _0x6aded5=_0x2dcd;for(var _0x2c5b36=0x0;_0x2c5b36<_0x563bc1[_0x6aded5(0x248)];_0x2c5b36++){var _0x4a2019=_0x563bc1[_0x2c5b36];_0x4a2019['enumerable']=_0x4a2019[_0x6aded5(0x240)]||![],_0x4a2019['configurable']=!![];if('value'in _0x4a2019)_0x4a2019[_0x6aded5(0x266)]=!![];Object['defineProperty'](_0x3d27d0,_0x4a2019[_0x6aded5(0x26b)],_0x4a2019);}}function _createClass(_0x41d241,_0x203455,_0x6043c9){var _0x48a1fb=_0x2dcd;if(_0x203455)_defineProperties(_0x41d241[_0x48a1fb(0x1dd)],_0x203455);if(_0x6043c9)_defineProperties(_0x41d241,_0x6043c9);return Object['defineProperty'](_0x41d241,_0x48a1fb(0x1dd),{'writable':![]}),_0x41d241;}function _defineProperty(_0x393eb9,_0x50d82,_0x419d19){var _0x30549b=_0x2dcd;return _0x50d82 in _0x393eb9?Object[_0x30549b(0x236)](_0x393eb9,_0x50d82,{'value':_0x419d19,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x393eb9[_0x50d82]=_0x419d19,_0x393eb9;}function _inherits(_0x10647b,_0x3ced83){var _0x19ec46=_0x2dcd;if(typeof _0x3ced83!==_0x19ec46(0x205)&&_0x3ced83!==null)throw new TypeError(_0x19ec46(0x24b));_0x10647b[_0x19ec46(0x1dd)]=Object[_0x19ec46(0x1e5)](_0x3ced83&&_0x3ced83['prototype'],{'constructor':{'value':_0x10647b,'writable':!![],'configurable':!![]}}),Object[_0x19ec46(0x236)](_0x10647b,_0x19ec46(0x1dd),{'writable':![]});if(_0x3ced83)_setPrototypeOf(_0x10647b,_0x3ced83);}function _getPrototypeOf(_0x34d97c){var _0x1c649c=_0x2dcd;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x1c649c(0x256)]:function _0x2b574b(_0x45c330){var _0x3c79db=_0x1c649c;return _0x45c330['__proto__']||Object[_0x3c79db(0x256)](_0x45c330);},_getPrototypeOf(_0x34d97c);}function _setPrototypeOf(_0x5967a3,_0x396690){var _0x477e37=_0x2dcd;return _setPrototypeOf=Object[_0x477e37(0x211)]||function _0x39c88e(_0x37d411,_0x1fcb9a){var _0x2fe551=_0x477e37;return _0x37d411[_0x2fe551(0x1ea)]=_0x1fcb9a,_0x37d411;},_setPrototypeOf(_0x5967a3,_0x396690);}function _isNativeReflectConstruct(){var _0x3c65c7=_0x2dcd;if(typeof Reflect===_0x3c65c7(0x21e)||!Reflect['construct'])return![];if(Reflect[_0x3c65c7(0x254)][_0x3c65c7(0x246)])return![];if(typeof Proxy===_0x3c65c7(0x205))return!![];try{return Boolean[_0x3c65c7(0x1dd)][_0x3c65c7(0x26d)][_0x3c65c7(0x1ec)](Reflect[_0x3c65c7(0x254)](Boolean,[],function(){})),!![];}catch(_0x12d1b8){return![];}}function _assertThisInitialized(_0x3e0a12){var _0x472367=_0x2dcd;if(_0x3e0a12===void 0x0)throw new ReferenceError(_0x472367(0x20e));return _0x3e0a12;}function _possibleConstructorReturn(_0x353d11,_0x2a8b24){var _0x2b8766=_0x2dcd;if(_0x2a8b24&&(typeof _0x2a8b24==='object'||typeof _0x2a8b24===_0x2b8766(0x205)))return _0x2a8b24;else{if(_0x2a8b24!==void 0x0)throw new TypeError(_0x2b8766(0x1e4));}return _assertThisInitialized(_0x353d11);}function _createSuper(_0x48ee5a){var _0x1c1cab=_isNativeReflectConstruct();return function _0x528720(){var _0x166489=_0x2dcd,_0x422fb=_getPrototypeOf(_0x48ee5a),_0x423ed7;if(_0x1c1cab){var _0x5cd702=_getPrototypeOf(this)['constructor'];_0x423ed7=Reflect['construct'](_0x422fb,arguments,_0x5cd702);}else _0x423ed7=_0x422fb[_0x166489(0x26e)](this,arguments);return _possibleConstructorReturn(this,_0x423ed7);};}var HeatMaterial=_0x4ca385(0x210);if(!h337__namespace[_0x4ca385(0x1e5)])throw new Error(_0x4ca385(0x21f));var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x4ca385(0x263)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x4ca385(0x239),0.6:'green',0.8:_0x4ca385(0x1ef),0.9:_0x4ca385(0x25f)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x4ca385(0x21c)]},HeatLayer=function(_0x30151d){var _0x3d3ee2=_0x4ca385;_inherits(_0x4e7add,_0x30151d);var _0x2e8aed=_createSuper(_0x4e7add);function _0x4e7add(){var _0x5f3642=_0x2dcd,_0x5b66a7,_0x450ca8,_0x2d538d,_0x259b10=arguments[_0x5f3642(0x248)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x4e7add),_0x2d538d=_0x2e8aed[_0x5f3642(0x1ec)](this,_0x259b10),_0x2d538d['options'][_0x5f3642(0x20f)]=(_0x5b66a7=_0x2d538d['options']['maxCanvasSize'])!==null&&_0x5b66a7!==void 0x0?_0x5b66a7:document['body'][_0x5f3642(0x227)],_0x2d538d[_0x5f3642(0x24d)]['maxCanvasSize']=Math[_0x5f3642(0x212)](_0x2d538d[_0x5f3642(0x24d)][_0x5f3642(0x20f)],0x1388),_0x2d538d[_0x5f3642(0x24d)][_0x5f3642(0x22e)]=(_0x450ca8=_0x2d538d['options'][_0x5f3642(0x22e)])!==null&&_0x450ca8!==void 0x0?_0x450ca8:document[_0x5f3642(0x22b)][_0x5f3642(0x23c)],_0x2d538d[_0x5f3642(0x24d)][_0x5f3642(0x22e)]=Math[_0x5f3642(0x259)](_0x2d538d[_0x5f3642(0x24d)][_0x5f3642(0x22e)],0x2bc),_0x2d538d[_0x5f3642(0x24d)][_0x5f3642(0x24e)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x2d538d[_0x5f3642(0x24d)][_0x5f3642(0x24e)]||{}),_0x2d538d[_0x5f3642(0x24d)]['style']=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x2d538d[_0x5f3642(0x24d)][_0x5f3642(0x26f)]||{}),_0x2d538d;}return _createClass(_0x4e7add,[{'key':_0x3d3ee2(0x26a),'get':function _0x15f86a(){var _0x3e2e32=_0x3d3ee2;return this[_0x3e2e32(0x1f3)];}},{'key':_0x3d3ee2(0x24e),'get':function _0x1b60d5(){var _0x2aaa9c=_0x3d3ee2;return this[_0x2aaa9c(0x24d)]['heatStyle'];},'set':function _0x423352(_0x18e311){var _0x5031fd=_0x3d3ee2;this['options'][_0x5031fd(0x24e)]=mars3d__namespace[_0x5031fd(0x208)][_0x5031fd(0x213)](this[_0x5031fd(0x24d)][_0x5031fd(0x24e)],_0x18e311),this[_0x5031fd(0x204)]&&(this[_0x5031fd(0x204)][_0x5031fd(0x1f5)](this[_0x5031fd(0x24d)][_0x5031fd(0x24e)]),this[_0x5031fd(0x202)](!![]));}},{'key':_0x3d3ee2(0x26f),'get':function _0x5f4d9f(){var _0x407021=_0x3d3ee2;return this[_0x407021(0x24d)][_0x407021(0x26f)];},'set':function _0x4a7e06(_0x34b977){var _0x126ee4=_0x3d3ee2;this[_0x126ee4(0x24d)]['style']=mars3d__namespace[_0x126ee4(0x208)][_0x126ee4(0x213)](this[_0x126ee4(0x24d)][_0x126ee4(0x26f)],_0x34b977);}},{'key':_0x3d3ee2(0x23f),'get':function _0x15039e(){var _0x1b8157=_0x3d3ee2;return this[_0x1b8157(0x22a)];},'set':function _0x746eee(_0x3e9c1e){this['setPositions'](_0x3e9c1e);}},{'key':_0x3d3ee2(0x1da),'get':function _0x8a9028(){var _0x5cd663=_0x3d3ee2,_0x5ed711=[];return this[_0x5cd663(0x271)][_0x5cd663(0x268)](function(_0x20b297){var _0x482761=_0x5cd663;_0x5ed711[_0x482761(0x253)](_0x20b297['toArray']());}),_0x5ed711;}},{'key':_0x3d3ee2(0x243),'get':function _0x4f3a57(){var _0x46ca55=_0x3d3ee2;return this[_0x46ca55(0x1fa)];}},{'key':_0x3d3ee2(0x1ed),'value':function _0x478b12(_0x36bdbb){var _0x17b5f1=_0x3d3ee2;_0x36bdbb[_0x17b5f1(0x23f)]&&(this[_0x17b5f1(0x23f)]=_0x36bdbb[_0x17b5f1(0x23f)]);}},{'key':'_mountedHook','value':function _0x3c058c(){var _0x3061e2=_0x3d3ee2;this[_0x3061e2(0x1f3)]=new mars3d__namespace[(_0x3061e2(0x26a))]['GraphicLayer']({'private':!![]});}},{'key':'_addedHook','value':function _0x1c2bf4(){var _0x25dc27=_0x3d3ee2;this[_0x25dc27(0x260)]['addLayer'](this[_0x25dc27(0x1f3)]),this[_0x25dc27(0x24d)][_0x25dc27(0x23f)]&&(this[_0x25dc27(0x23f)]=this[_0x25dc27(0x24d)][_0x25dc27(0x23f)]),this[_0x25dc27(0x24d)][_0x25dc27(0x269)]&&this[_0x25dc27(0x225)]();}},{'key':_0x3d3ee2(0x1ee),'value':function _0x14a62d(){var _0x340ae1=_0x3d3ee2;this[_0x340ae1(0x24e)][_0x340ae1(0x1e1)]&&(mars3d__namespace['DomUtil']['remove'](this[_0x340ae1(0x24e)]['container']),delete this['heatStyle'][_0x340ae1(0x1e1)]),this[_0x340ae1(0x252)](),this[_0x340ae1(0x260)]['removeLayer'](this[_0x340ae1(0x1f3)]);}},{'key':_0x3d3ee2(0x1f7),'value':function _0x55815a(_0x549ac1,_0x59bcc7){var _0x2952cc=_0x3d3ee2;this[_0x2952cc(0x22a)]=this[_0x2952cc(0x22a)]||[],this['_positions']['push'](_0x549ac1),this[_0x2952cc(0x202)](_0x59bcc7);}},{'key':_0x3d3ee2(0x270),'value':function _0x2df9e2(_0x16cfb4,_0x2bbded){var _0x908af4=_0x3d3ee2;this['_positions']=_0x16cfb4,this[_0x908af4(0x202)](_0x2bbded);}},{'key':_0x3d3ee2(0x252),'value':function _0x1c5783(){var _0x38f1c5=_0x3d3ee2;this['_graphic']&&(this['_layer']['removeGraphic'](this[_0x38f1c5(0x1f0)],!![]),delete this[_0x38f1c5(0x1f0)]);}},{'key':_0x3d3ee2(0x202),'value':function _0x2244b4(_0x1c362c){var _0x24b866=_0x3d3ee2;if(!this[_0x24b866(0x216)]||!this[_0x24b866(0x260)]||!this[_0x24b866(0x23f)]||this[_0x24b866(0x23f)][_0x24b866(0x248)]===0x0)return this;var _0x57f9a8=this[_0x24b866(0x23b)]();return this[_0x24b866(0x26f)][_0x24b866(0x218)]?this[_0x24b866(0x1f0)]&&_0x1c362c?(this[_0x24b866(0x1f0)][_0x24b866(0x1e7)]['image']=_0x57f9a8,this[_0x24b866(0x1f0)]['uniforms'][_0x24b866(0x230)]=this[_0x24b866(0x235)]()):this[_0x24b866(0x1f9)](_0x57f9a8):this[_0x24b866(0x1f0)]&&_0x1c362c?this[_0x24b866(0x1f0)][_0x24b866(0x1e7)][_0x24b866(0x20a)]=_0x57f9a8:this[_0x24b866(0x21d)](_0x57f9a8),this;}},{'key':_0x3d3ee2(0x21d),'value':function _0x3c79fb(_0x5a8fd7){var _0x4a5aec=_0x3d3ee2;this[_0x4a5aec(0x252)](),this[_0x4a5aec(0x1f0)]=new mars3d__namespace[(_0x4a5aec(0x1fb))][(_0x4a5aec(0x217))](_objectSpread2(_objectSpread2({},this[_0x4a5aec(0x24d)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x4a5aec(0x261))]({'material':new Cesium[(_0x4a5aec(0x1e0))]({'fabric':{'uniforms':{'image':_0x5a8fd7},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x4a5aec(0x1f3)][_0x4a5aec(0x25c)](this[_0x4a5aec(0x1f0)]);}},{'key':_0x3d3ee2(0x1f9),'value':function _0x4f4804(_0xf3de50){var _0x5c1d31=_0x3d3ee2,_0x1a7cb8;this['clear']();var _0x15053c=Cesium['RenderState']['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x5c1d31(0x244)][_0x5c1d31(0x221)],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0x5c1d31(0x234)][_0x5c1d31(0x224)],'zPass':Cesium['StencilOperation'][_0x5c1d31(0x223)]},'backFunction':Cesium[_0x5c1d31(0x244)][_0x5c1d31(0x221)],'backOperation':{'fail':Cesium[_0x5c1d31(0x234)]['KEEP'],'zFail':Cesium[_0x5c1d31(0x234)][_0x5c1d31(0x224)],'zPass':Cesium[_0x5c1d31(0x234)][_0x5c1d31(0x223)]},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState']['ALPHA_BLEND']}),_0x68dfd2=Math['floor']((_0x1a7cb8=this[_0x5c1d31(0x26f)][_0x5c1d31(0x23d)])!==null&&_0x1a7cb8!==void 0x0?_0x1a7cb8:this[_0x5c1d31(0x24f)]*0.02)+0.1;this['style'][_0x5c1d31(0x23d)]&&delete this['style']['diffHeight'];var _0x2f7751=(this[_0x5c1d31(0x26f)][_0x5c1d31(0x1ff)],0x64),_0x5740b2=Math[_0x5c1d31(0x259)](this[_0x5c1d31(0x1fa)][_0x5c1d31(0x262)],this[_0x5c1d31(0x1fa)]['width']);this[_0x5c1d31(0x26f)][_0x5c1d31(0x25b)]=_0x5740b2/=_0x2f7751,this[_0x5c1d31(0x1f0)]=new mars3d__namespace[(_0x5c1d31(0x1fb))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x5c1d31(0x1fa)],'appearance':new Cesium[(_0x5c1d31(0x261))]({'aboveGround':!![],'renderState':_0x15053c,'material':new Cesium[(_0x5c1d31(0x1e0))]({'fabric':{'uniforms':{'image':_0xf3de50,'repeat':new Cesium[(_0x5c1d31(0x23e))](0x1,0x1),'color':new Cesium[(_0x5c1d31(0x1fe))](0x1,0x1,0x1,0.01),'bumpMap':this[_0x5c1d31(0x235)]()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x5c1d31(0x20b)[_0x5c1d31(0x237)](_0x68dfd2,_0x5c1d31(0x249)),'flat':!![]})})),this[_0x5c1d31(0x1f3)][_0x5c1d31(0x25c)](this[_0x5c1d31(0x1f0)]);}},{'key':'getRectangle','value':function _0x1046bc(_0x253474){var _0x897020=_0x3d3ee2;return _0x253474!==null&&_0x253474!==void 0x0&&_0x253474['isFormat']&&this['_rectangle']?mars3d__namespace[_0x897020(0x257)][_0x897020(0x231)](this[_0x897020(0x1fa)]):this[_0x897020(0x1fa)];}},{'key':_0x3d3ee2(0x23b),'value':function _0x5606cb(){var _0x9807af=_0x3d3ee2,_0x424665=this,_0x2b7689,_0x200821,_0x2f3737,_0x4284b7,_0x278880=this[_0x9807af(0x22a)],_0xc9ad5b=[],_0x283cc8,_0x24bc3b,_0xf58217,_0x168463;_0x278880['forEach'](function(_0x41f87b){var _0x54c6c0=_0x9807af,_0x13bb9c=mars3d__namespace[_0x54c6c0(0x24a)]['parse'](_0x41f87b);if(!_0x13bb9c)return;_0x13bb9c['value']=_0x41f87b[_0x54c6c0(0x207)]||0x1,!_0x424665['options']['rectangle']&&(_0x283cc8===undefined?(_0x283cc8=_0x13bb9c['lng'],_0x24bc3b=_0x13bb9c[_0x54c6c0(0x203)],_0xf58217=_0x13bb9c[_0x54c6c0(0x201)],_0x168463=_0x13bb9c[_0x54c6c0(0x201)]):(_0x283cc8=Math[_0x54c6c0(0x212)](_0x283cc8,_0x13bb9c[_0x54c6c0(0x203)]),_0x24bc3b=Math[_0x54c6c0(0x259)](_0x24bc3b,_0x13bb9c[_0x54c6c0(0x203)]),_0xf58217=Math[_0x54c6c0(0x212)](_0xf58217,_0x13bb9c[_0x54c6c0(0x201)]),_0x168463=Math['max'](_0x168463,_0x13bb9c[_0x54c6c0(0x201)]))),_0xc9ad5b[_0x54c6c0(0x253)](_0x13bb9c);});var _0x5b820f=this[_0x9807af(0x24d)][_0x9807af(0x243)]||{'xmin':_0x283cc8,'xmax':_0x24bc3b,'ymin':_0xf58217,'ymax':_0x168463},_0x5684a9=getMercatorBounds(_0x5b820f),_0x3c08f2=Math[_0x9807af(0x215)](_0x5684a9['xmax']-_0x5684a9[_0x9807af(0x1f1)]),_0x403ffc=Math[_0x9807af(0x215)](_0x5684a9['ymax']-_0x5684a9[_0x9807af(0x1dc)]),_0x25dc66=Math[_0x9807af(0x259)](_0x3c08f2,_0x403ffc),_0x12e465=Math['min'](_0x3c08f2,_0x403ffc);this[_0x9807af(0x24f)]=_0x25dc66;var _0x54f82c=0x1;if(_0x25dc66>this[_0x9807af(0x24d)]['maxCanvasSize'])_0x54f82c=_0x25dc66/this[_0x9807af(0x24d)][_0x9807af(0x20f)],_0x12e465/_0x54f82c<this[_0x9807af(0x24d)]['minCanvasSize']&&(_0x54f82c=_0x12e465/this[_0x9807af(0x24d)][_0x9807af(0x22e)]);else _0x12e465<this['options']['minCanvasSize']&&(_0x54f82c=_0x12e465/this['options'][_0x9807af(0x22e)],_0x25dc66/_0x54f82c>this[_0x9807af(0x24d)][_0x9807af(0x20f)]&&(_0x54f82c=_0x25dc66/this[_0x9807af(0x24d)]['maxCanvasSize']));var _0x6e76f9=this[_0x9807af(0x24e)]['radius']*1.5,_0x1a617c=_0x3c08f2/_0x54f82c+_0x6e76f9*0x2,_0x4b6109=_0x403ffc/_0x54f82c+_0x6e76f9*0x2,_0x56c440=_0x6e76f9*_0x54f82c;_0x5684a9[_0x9807af(0x1f1)]-=_0x56c440,_0x5684a9['ymin']-=_0x56c440,_0x5684a9[_0x9807af(0x255)]+=_0x56c440,_0x5684a9['ymax']+=_0x56c440,this['_scale']=_0x54f82c,_0x5b820f=geLatLngBounds(_0x5684a9),this[_0x9807af(0x1fa)]=Cesium[_0x9807af(0x1df)][_0x9807af(0x1eb)](_0x5b820f['xmin'],_0x5b820f['ymin'],_0x5b820f['xmax'],_0x5b820f[_0x9807af(0x226)]);var _0x304ad7=(_0x2b7689=_0xc9ad5b[0x0]['value'])!==null&&_0x2b7689!==void 0x0?_0x2b7689:0x1,_0x282254=(_0x200821=_0xc9ad5b[0x0][_0x9807af(0x207)])!==null&&_0x200821!==void 0x0?_0x200821:0x0,_0x5485fb=[];_0xc9ad5b[_0x9807af(0x268)](function(_0x1c6609){var _0x4de2f7=_0x9807af,_0x56f5b8=mars3d__namespace['PointTrans'][_0x4de2f7(0x1f8)]([_0x1c6609[_0x4de2f7(0x203)],_0x1c6609['lat']]),_0xcdb45=_0x1c6609[_0x4de2f7(0x207)]||0x1,_0x59f5d6=Math[_0x4de2f7(0x21a)]((_0x56f5b8[0x0]-_0x5684a9[_0x4de2f7(0x1f1)])/_0x54f82c),_0xc3f47a=Math[_0x4de2f7(0x21a)]((_0x5684a9['ymax']-_0x56f5b8[0x1])/_0x54f82c);_0x304ad7=Math[_0x4de2f7(0x259)](_0x304ad7,_0xcdb45),_0x282254=Math[_0x4de2f7(0x212)](_0x282254,_0xcdb45),_0x5485fb['push']({'x':_0x59f5d6,'y':_0xc3f47a,'value':_0xcdb45});});var _0x420149={'min':(_0x2f3737=this[_0x9807af(0x24d)]['min'])!==null&&_0x2f3737!==void 0x0?_0x2f3737:_0x282254,'max':(_0x4284b7=this[_0x9807af(0x24d)][_0x9807af(0x259)])!==null&&_0x4284b7!==void 0x0?_0x4284b7:_0x304ad7,'data':_0x5485fb};this[_0x9807af(0x1fd)]=_0x420149;(!this[_0x9807af(0x25d)]||_0x5684a9[_0x9807af(0x1f1)]!==this[_0x9807af(0x25d)][_0x9807af(0x1f1)]||_0x5684a9[_0x9807af(0x1dc)]!==this['_last_mBounds'][_0x9807af(0x1dc)]||_0x5684a9[_0x9807af(0x255)]!==this[_0x9807af(0x25d)][_0x9807af(0x255)]||_0x5684a9['ymax']!==this[_0x9807af(0x25d)]['ymax'])&&(this[_0x9807af(0x25d)]=_0x5684a9,!this[_0x9807af(0x24e)][_0x9807af(0x1e1)]&&(this['heatStyle']['container']=mars3d__namespace[_0x9807af(0x1f4)][_0x9807af(0x1e5)](_0x9807af(0x232),'mars3d-heatmap\x20mars3d-hideDiv',this['_map'][_0x9807af(0x1e1)])),this[_0x9807af(0x24e)][_0x9807af(0x1e1)][_0x9807af(0x26f)]['cssText']='width:'[_0x9807af(0x237)](_0x1a617c,_0x9807af(0x26c))[_0x9807af(0x237)](_0x4b6109,_0x9807af(0x1e8)),!this[_0x9807af(0x204)]?this[_0x9807af(0x204)]=h337__namespace[_0x9807af(0x1e5)](this[_0x9807af(0x24e)]):this[_0x9807af(0x204)][_0x9807af(0x1f5)](this[_0x9807af(0x24e)]));this[_0x9807af(0x204)]['setData'](_0x420149);var _0xb224c1=mars3d__namespace[_0x9807af(0x1f4)]['copyCanvas'](this['_heat']['_renderer'][_0x9807af(0x229)]);return _0xb224c1;}},{'key':_0x3d3ee2(0x235),'value':function _0x533359(){var _0x45f80c=_0x3d3ee2;this[_0x45f80c(0x204)][_0x45f80c(0x1f5)]({'radius':this[_0x45f80c(0x24e)]['radius']*this['style'][_0x45f80c(0x219)],'blur':this[_0x45f80c(0x24e)][_0x45f80c(0x1fc)]*this[_0x45f80c(0x26f)][_0x45f80c(0x23a)],'gradient':this[_0x45f80c(0x24e)][_0x45f80c(0x228)]||{0.25:_0x45f80c(0x265),0.55:_0x45f80c(0x20c),0.85:_0x45f80c(0x22d),0x1:_0x45f80c(0x250)}});var _0x1aa86e=mars3d__namespace[_0x45f80c(0x1f4)]['copyCanvas'](this[_0x45f80c(0x204)]['_renderer'][_0x45f80c(0x229)]);return this['_heat'][_0x45f80c(0x1f5)](this[_0x45f80c(0x24d)][_0x45f80c(0x24e)]),_0x1aa86e;}},{'key':'getPointData','value':function _0x567386(_0x56521f){var _0x54f9de=_0x3d3ee2,_0x1ce654=mars3d__namespace['LngLatPoint']['parse'](_0x56521f);if(!_0x1ce654)return{};var _0x205121=mars3d__namespace[_0x54f9de(0x25a)][_0x54f9de(0x1f8)]([_0x1ce654[_0x54f9de(0x203)],_0x1ce654[_0x54f9de(0x201)]]),_0x3e4368=this[_0x54f9de(0x25d)],_0x511a12=Math[_0x54f9de(0x21a)]((_0x205121[0x0]-_0x3e4368[_0x54f9de(0x1f1)])/this[_0x54f9de(0x251)]),_0x3ce784=Math[_0x54f9de(0x21a)]((_0x3e4368[_0x54f9de(0x226)]-_0x205121[0x1])/this[_0x54f9de(0x251)]),_0x4fd973=this[_0x54f9de(0x204)][_0x54f9de(0x1e9)]({'x':_0x511a12,'y':_0x3ce784}),_0x426072=this['_heat'][_0x54f9de(0x241)][_0x54f9de(0x214)][_0x54f9de(0x22f)](_0x511a12-0x1,_0x3ce784-0x1,0x1,0x1)['data'];return{'x':_0x511a12,'y':_0x3ce784,'value':_0x4fd973,'color':_0x54f9de(0x1de)+_0x426072[0x0]+','+_0x426072[0x1]+','+_0x426072[0x2]+','+_0x426072[0x3]+')'};}}]),_0x4e7add;}(BaseLayer);mars3d__namespace[_0x4ca385(0x26a)]['HeatLayer']=HeatLayer,mars3d__namespace[_0x4ca385(0x206)][_0x4ca385(0x1f2)]('heat',HeatLayer);function getMercatorBounds(_0x194e99){var _0x395060=_0x4ca385,_0x25dd35=mars3d__namespace[_0x395060(0x25a)][_0x395060(0x1f8)]([_0x194e99['xmin'],_0x194e99['ymin']]),_0x3df56e=mars3d__namespace[_0x395060(0x25a)]['lonlat2mercator']([_0x194e99['xmax'],_0x194e99['ymax']]);return{'xmin':_0x25dd35[0x0],'ymin':_0x25dd35[0x1],'xmax':_0x3df56e[0x0],'ymax':_0x3df56e[0x1]};}function geLatLngBounds(_0x1faf13){var _0x3243d1=_0x4ca385,_0x1b68cb=mars3d__namespace[_0x3243d1(0x25a)][_0x3243d1(0x258)]([_0x1faf13[_0x3243d1(0x1f1)],_0x1faf13[_0x3243d1(0x1dc)]]),_0x1bbd3a=mars3d__namespace[_0x3243d1(0x25a)][_0x3243d1(0x258)]([_0x1faf13['xmax'],_0x1faf13[_0x3243d1(0x226)]]);return{'xmin':_0x1b68cb[0x0],'ymin':_0x1b68cb[0x1],'xmax':_0x1bbd3a[0x0],'ymax':_0x1bbd3a[0x1]};}exports['HeatLayer']=HeatLayer,Object['defineProperty'](exports,_0x4ca385(0x220),{'value':!![]});
}));
