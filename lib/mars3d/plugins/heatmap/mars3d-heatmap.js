/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.0
 * 编译日期：2022-07-15 14:36:10
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x2b06df=_0x3397;(function(_0x2bec0f,_0x258d2f){var _0x2aa120=_0x3397,_0x5d2581=_0x2bec0f();while(!![]){try{var _0x5898b6=parseInt(_0x2aa120(0x192))/0x1*(-parseInt(_0x2aa120(0x1ee))/0x2)+parseInt(_0x2aa120(0x206))/0x3*(-parseInt(_0x2aa120(0x208))/0x4)+parseInt(_0x2aa120(0x1c4))/0x5+parseInt(_0x2aa120(0x1aa))/0x6+parseInt(_0x2aa120(0x221))/0x7*(-parseInt(_0x2aa120(0x1e9))/0x8)+-parseInt(_0x2aa120(0x1c3))/0x9+-parseInt(_0x2aa120(0x20f))/0xa*(-parseInt(_0x2aa120(0x18b))/0xb);if(_0x5898b6===_0x258d2f)break;else _0x5d2581['push'](_0x5d2581['shift']());}catch(_0x205ece){_0x5d2581['push'](_0x5d2581['shift']());}}}(_0x4248,0x2c912));function _interopNamespace(_0x3aebcc){var _0x5d58e4=_0x3397;if(_0x3aebcc&&_0x3aebcc[_0x5d58e4(0x1cb)])return _0x3aebcc;var _0x3bc42a=Object[_0x5d58e4(0x1da)](null);return _0x3aebcc&&Object[_0x5d58e4(0x1ed)](_0x3aebcc)[_0x5d58e4(0x1fd)](function(_0x3f7c4b){var _0x3cc2cc=_0x5d58e4;if(_0x3f7c4b!==_0x3cc2cc(0x1b9)){var _0x2fdddf=Object[_0x3cc2cc(0x21d)](_0x3aebcc,_0x3f7c4b);Object['defineProperty'](_0x3bc42a,_0x3f7c4b,_0x2fdddf['get']?_0x2fdddf:{'enumerable':!![],'get':function(){return _0x3aebcc[_0x3f7c4b];}});}}),_0x3bc42a[_0x5d58e4(0x1b9)]=_0x3aebcc,_0x3bc42a;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x2229b3,_0x223ffe){var _0x34ffea=_0x3397,_0x12f87d=Object[_0x34ffea(0x1ed)](_0x2229b3);if(Object[_0x34ffea(0x1a0)]){var _0x1ea437=Object['getOwnPropertySymbols'](_0x2229b3);_0x223ffe&&(_0x1ea437=_0x1ea437[_0x34ffea(0x216)](function(_0x3b7d70){var _0x125fe8=_0x34ffea;return Object[_0x125fe8(0x21d)](_0x2229b3,_0x3b7d70)[_0x125fe8(0x1bb)];})),_0x12f87d[_0x34ffea(0x1a2)][_0x34ffea(0x1f8)](_0x12f87d,_0x1ea437);}return _0x12f87d;}function _objectSpread2(_0x5649b2){var _0x54e369=_0x3397;for(var _0x5e27bf=0x1;_0x5e27bf<arguments[_0x54e369(0x1bd)];_0x5e27bf++){var _0x1c7fbd=null!=arguments[_0x5e27bf]?arguments[_0x5e27bf]:{};_0x5e27bf%0x2?ownKeys(Object(_0x1c7fbd),!0x0)[_0x54e369(0x1fd)](function(_0x2ed888){_defineProperty(_0x5649b2,_0x2ed888,_0x1c7fbd[_0x2ed888]);}):Object[_0x54e369(0x224)]?Object['defineProperties'](_0x5649b2,Object[_0x54e369(0x224)](_0x1c7fbd)):ownKeys(Object(_0x1c7fbd))[_0x54e369(0x1fd)](function(_0x309cfd){Object['defineProperty'](_0x5649b2,_0x309cfd,Object['getOwnPropertyDescriptor'](_0x1c7fbd,_0x309cfd));});}return _0x5649b2;}function _0x3397(_0x5e730c,_0x37d23f){var _0x4248a2=_0x4248();return _0x3397=function(_0x3397b4,_0x212bb5){_0x3397b4=_0x3397b4-0x189;var _0x586b2a=_0x4248a2[_0x3397b4];if(_0x3397['eJfpXr']===undefined){var _0x5f5dcb=function(_0x3aebcc){var _0x3bc42a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x3f7c4b='',_0x2fdddf='';for(var _0x2229b3=0x0,_0x223ffe,_0x12f87d,_0x1ea437=0x0;_0x12f87d=_0x3aebcc['charAt'](_0x1ea437++);~_0x12f87d&&(_0x223ffe=_0x2229b3%0x4?_0x223ffe*0x40+_0x12f87d:_0x12f87d,_0x2229b3++%0x4)?_0x3f7c4b+=String['fromCharCode'](0xff&_0x223ffe>>(-0x2*_0x2229b3&0x6)):0x0){_0x12f87d=_0x3bc42a['indexOf'](_0x12f87d);}for(var _0x3b7d70=0x0,_0x5649b2=_0x3f7c4b['length'];_0x3b7d70<_0x5649b2;_0x3b7d70++){_0x2fdddf+='%'+('00'+_0x3f7c4b['charCodeAt'](_0x3b7d70)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2fdddf);};_0x3397['EnoTdM']=_0x5f5dcb,_0x5e730c=arguments,_0x3397['eJfpXr']=!![];}var _0x481a8f=_0x4248a2[0x0],_0x43c5ec=_0x3397b4+_0x481a8f,_0x378706=_0x5e730c[_0x43c5ec];return!_0x378706?(_0x586b2a=_0x3397['EnoTdM'](_0x586b2a),_0x5e730c[_0x43c5ec]=_0x586b2a):_0x586b2a=_0x378706,_0x586b2a;},_0x3397(_0x5e730c,_0x37d23f);}function _classCallCheck(_0x3ce492,_0x12a676){var _0x4c1c3f=_0x3397;if(!(_0x3ce492 instanceof _0x12a676))throw new TypeError(_0x4c1c3f(0x21c));}function _defineProperties(_0x1f77a8,_0xe51451){var _0x2b3910=_0x3397;for(var _0x257024=0x0;_0x257024<_0xe51451[_0x2b3910(0x1bd)];_0x257024++){var _0x30384f=_0xe51451[_0x257024];_0x30384f[_0x2b3910(0x1bb)]=_0x30384f[_0x2b3910(0x1bb)]||![],_0x30384f['configurable']=!![];if(_0x2b3910(0x1ab)in _0x30384f)_0x30384f['writable']=!![];Object[_0x2b3910(0x1b8)](_0x1f77a8,_0x30384f[_0x2b3910(0x1ac)],_0x30384f);}}function _createClass(_0x106527,_0x38117e,_0x46ae33){var _0x2258ac=_0x3397;if(_0x38117e)_defineProperties(_0x106527[_0x2258ac(0x210)],_0x38117e);if(_0x46ae33)_defineProperties(_0x106527,_0x46ae33);return Object[_0x2258ac(0x1b8)](_0x106527,_0x2258ac(0x210),{'writable':![]}),_0x106527;}function _defineProperty(_0x40a185,_0x5c5b07,_0x1072dd){return _0x5c5b07 in _0x40a185?Object['defineProperty'](_0x40a185,_0x5c5b07,{'value':_0x1072dd,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x40a185[_0x5c5b07]=_0x1072dd,_0x40a185;}function _inherits(_0x42837d,_0x29ff63){var _0x4e3427=_0x3397;if(typeof _0x29ff63!=='function'&&_0x29ff63!==null)throw new TypeError(_0x4e3427(0x1b4));_0x42837d[_0x4e3427(0x210)]=Object[_0x4e3427(0x1da)](_0x29ff63&&_0x29ff63[_0x4e3427(0x210)],{'constructor':{'value':_0x42837d,'writable':!![],'configurable':!![]}}),Object[_0x4e3427(0x1b8)](_0x42837d,_0x4e3427(0x210),{'writable':![]});if(_0x29ff63)_setPrototypeOf(_0x42837d,_0x29ff63);}function _getPrototypeOf(_0x50ec0b){var _0x232f9e=_0x3397;return _getPrototypeOf=Object[_0x232f9e(0x19d)]?Object['getPrototypeOf']:function _0x3bdbc4(_0x388c0d){var _0x2c2f1b=_0x232f9e;return _0x388c0d[_0x2c2f1b(0x1f0)]||Object['getPrototypeOf'](_0x388c0d);},_getPrototypeOf(_0x50ec0b);}function _setPrototypeOf(_0x5966d1,_0x183820){var _0x74d6ce=_0x3397;return _setPrototypeOf=Object[_0x74d6ce(0x19d)]||function _0x5b0c81(_0x480ef4,_0x2bde7b){var _0x1d8219=_0x74d6ce;return _0x480ef4[_0x1d8219(0x1f0)]=_0x2bde7b,_0x480ef4;},_setPrototypeOf(_0x5966d1,_0x183820);}function _0x4248(){var _0x514240=['D2LKDgG','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','yMX1zq','Eg1HEa','Bwf4','zMX5vg9cEufUAw1HDgLVBKvUza','Dg9bCNjHEq','mtfntNr5r2e','x21VDw50zwriB29R','quXqsefFqKXftKq','ywjZ','uMvJDgfUz2XLuhjPBwL0AxzL','y29UDgfPBMvY','quXxqvLt','mJe3AKfTs1Po','y29UC3rYDwn0B3i','zMX5vg8','CMDIkdi1nsWYntuSmJu1kq','ug9PBNruCMfUCW','CgfYC2u','sgvHDeXHEwvY','AgvPz2H0','zgL2','CMDIkdiXnIWYmtySmJe2kq','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','C2v0uhjVDg90ExbLt2y','y29UzMLNDxjL','Ew1HEa','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','q2vZAxvT','ChvZAa','B2jQzwn0','x2DLDefYy0HLyxrdyw52yxm','x2HLyxq','uKvqtefdrq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','zNvUy3rPB24','Bwf4q2fUDMfZu2L6zq','mtu1otu2mMXhDNHmEq','DMfSDwu','A2v5','ywrKr3jHCgHPyW','Bgf0','yNvTCe1HCa','C3r5Bgu','zgLMzKHLAwDODa','ywrKug9ZAxrPB24','CMvTB3zLtgf5zxi','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','u3rLBMnPBe9WzxjHDgLVBG','z3jHzgLLBNrbCMm','x3nJywXL','zgvMAw5LuhjVCgvYDhK','zgvMyxvSDa','AgvHDa','zw51BwvYywjSzq','CMvTB3zL','BgvUz3rO','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','ug9SEvv0AwW','C2v0ug9ZAxrPB25Z','x2XHC3rFBujVDw5KCW','BwLU','mJK3ntK0rhnbEM14','mtCXmtm1B0jXCvDK','AgvHDfn0EwXL','y2XPzw50v2LKDgG','z2v0vMfSDwvbDa','Dw5KzwzPBMvK','x2nYzwf0zuDYyxbOAwm','C2HVDW','x19LC01VzhvSzq','y29UC3rYDwn0','Bgf5zxi','x3jLy3rHBMDSzq','Ew1PBG','Cg9ZAxrPB25Z','z2v0sw1Hz2veyxrH','x2DLDeHLyxrdyw52yxm','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','rg9TvxrPBa','y29Uy2f0','x2nYzwf0zufYy0DYyxbOAwm','q29SB3i','BwvYz2u','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','y3jLyxrL','B3b0Aw9UCW','BwvYy2f0B3iYBg9UBgf0','x3jLBw92zwriB29R','y3nZvgv4Da','Bg5N','CMDIkde0mcWXndaSmtqWkq','y29WEunHBNzHCW','x3nLDe9WDgLVBNniB29R','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','x2XHEwvY','Cg9PBNrZ','CMvK','Bg9UBgf0mM1LCMnHDg9Y','ywrKtgf5zxi','mtC5mJHtAwTvshy','Aw1Hz2u','yM9KEq','x2fKzgvKsg9VAW','A2v5CW','mJu4mKXLuefIva','Eg1PBG','x19WCM90B19F','CMDIysG','C2HHBq','vxrPBa','twf0zxjPywW','s0vfua','z2v0uMvJDgfUz2XL','x2DYyxbOAwm','yxbWBhK','D2LKDgG6','yxjJ','y2XLyxi','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','zM9YrwfJAa','zMXVB3i','y2fSBa','C2v0rgf0yq','y29VCMrPBMf0zxm','CMDIkdaSmcWWkq','tgf5zxjvDgLS','yMX1CG','u3rLBMnPBez1BMn0Aw9U','ndi1ntyYs0z6DMnL','z2v0ug9PBNreyxrH','ng9yCKDUwa','BwLUq2fUDMfZu2L6zq','Dw5PzM9YBxm','x3bVC2L0Aw9UCW','z3jHBNvSyxjPDhK','zgf0yq','ChG7','nduXmdi3meDlz0TTEa','ChjVDg90ExbL','tg5Ntgf0ug9PBNq','q2fYDgvZAwfUmG','x3jLBMrLCMvY','CMfKAxvZ','y2fUDMfZ','zMLSDgvY','DMfSDwvpzG','z3jLzw4','z3jHCgHPyW','qMXLBMrPBMDtDgf0zq','yxjJuMfKAxvZu2nHBgu','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','x2XHC3rFAgvHDerHDge','x21HCa','CM91BMq','mZm2zuvWD053','CMvJDgfUz2XL'];_0x4248=function(){return _0x514240;};return _0x4248();}function _isNativeReflectConstruct(){var _0xa396c9=_0x3397;if(typeof Reflect===_0xa396c9(0x1c8)||!Reflect[_0xa396c9(0x1cc)])return![];if(Reflect[_0xa396c9(0x1cc)][_0xa396c9(0x1f2)])return![];if(typeof Proxy===_0xa396c9(0x1a8))return!![];try{return Boolean[_0xa396c9(0x210)][_0xa396c9(0x217)][_0xa396c9(0x1ff)](Reflect[_0xa396c9(0x1cc)](Boolean,[],function(){})),!![];}catch(_0x240557){return![];}}function _assertThisInitialized(_0x349066){if(_0x349066===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x349066;}function _possibleConstructorReturn(_0x35ae2e,_0x247bb9){var _0xd24bfc=_0x3397;if(_0x247bb9&&(typeof _0x247bb9===_0xd24bfc(0x1a3)||typeof _0x247bb9===_0xd24bfc(0x1a8)))return _0x247bb9;else{if(_0x247bb9!==void 0x0)throw new TypeError(_0xd24bfc(0x1e3));}return _assertThisInitialized(_0x35ae2e);}function _createSuper(_0x450703){var _0x492c95=_isNativeReflectConstruct();return function _0x39c663(){var _0x53b65f=_0x3397,_0x4c5078=_getPrototypeOf(_0x450703),_0x153ee3;if(_0x492c95){var _0x4bda57=_getPrototypeOf(this)[_0x53b65f(0x193)];_0x153ee3=Reflect['construct'](_0x4c5078,arguments,_0x4bda57);}else _0x153ee3=_0x4c5078['apply'](this,arguments);return _possibleConstructorReturn(this,_0x153ee3);};}var HeatMaterial=_0x2b06df(0x1a7);if(!h337__namespace['create'])throw new Error('请引入\x20heatmap.js\x20库\x20');var Cesium=mars3d__namespace[_0x2b06df(0x1a1)],BaseLayer=mars3d__namespace[_0x2b06df(0x1cd)]['BaseLayer'],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x2b06df(0x225),0.6:_0x2b06df(0x218),0.8:'yellow',0.9:_0x2b06df(0x1e6)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x2b06df(0x1be)]['VERTEX_FORMAT']},HeatLayer=function(_0x45a087){var _0x31c17b=_0x2b06df;_inherits(_0x3a0a07,_0x45a087);var _0x272f0b=_createSuper(_0x3a0a07);function _0x3a0a07(){var _0x1aa4ed=_0x3397,_0x1debeb,_0x2f212f,_0x42ab00,_0x27f0f9=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x3a0a07),_0x42ab00=_0x272f0b[_0x1aa4ed(0x1ff)](this,_0x27f0f9),_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x1a9)]=(_0x1debeb=_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x1a9)])!==null&&_0x1debeb!==void 0x0?_0x1debeb:document[_0x1aa4ed(0x1eb)][_0x1aa4ed(0x1c6)],_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x1a9)]=Math[_0x1aa4ed(0x1c2)](_0x42ab00[_0x1aa4ed(0x1db)]['maxCanvasSize'],0x1388),_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x209)]=(_0x2f212f=_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x209)])!==null&&_0x2f212f!==void 0x0?_0x2f212f:document[_0x1aa4ed(0x1eb)]['clientHeight'],_0x42ab00[_0x1aa4ed(0x1db)]['minCanvasSize']=Math[_0x1aa4ed(0x227)](_0x42ab00['options'][_0x1aa4ed(0x209)],0x2bc),_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x1c5)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x1c5)]||{}),_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x1b0)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x42ab00[_0x1aa4ed(0x1db)][_0x1aa4ed(0x1b0)]||{}),_0x42ab00;}return _createClass(_0x3a0a07,[{'key':_0x31c17b(0x1cd),'get':function _0x465f22(){return this['_layer'];}},{'key':_0x31c17b(0x1c5),'get':function _0x3d865c(){var _0x5265cf=_0x31c17b;return this[_0x5265cf(0x1db)]['heatStyle'];},'set':function _0x59ee67(_0x960022){var _0x13c290=_0x31c17b;this[_0x13c290(0x1db)][_0x13c290(0x1c5)]=mars3d__namespace['Util'][_0x13c290(0x1d8)](this['options']['heatStyle'],_0x960022),this[_0x13c290(0x1a5)]&&(this[_0x13c290(0x1a5)][_0x13c290(0x19e)](this[_0x13c290(0x1db)][_0x13c290(0x1c5)]),this['_updatePositionsHook'](!![]));}},{'key':'style','get':function _0x37bcaa(){var _0x2097dc=_0x31c17b;return this[_0x2097dc(0x1db)][_0x2097dc(0x1b0)];},'set':function _0x5cb515(_0x552778){var _0x1d0855=_0x31c17b;this[_0x1d0855(0x1db)][_0x1d0855(0x1b0)]=mars3d__namespace[_0x1d0855(0x1f3)]['merge'](this[_0x1d0855(0x1db)][_0x1d0855(0x1b0)],_0x552778);}},{'key':_0x31c17b(0x1d0),'get':function _0x7aba0(){var _0x3882f1=_0x31c17b;return this[_0x3882f1(0x20b)];},'set':function _0x3246c4(_0x5457d2){var _0x23b710=_0x31c17b;this[_0x23b710(0x1c0)](_0x5457d2);}},{'key':_0x31c17b(0x201),'get':function _0x2a90c8(){var _0x17c4d1=_0x31c17b,_0xc77048=[];return this[_0x17c4d1(0x1e5)][_0x17c4d1(0x1fd)](function(_0x5d44b7){var _0x22ea56=_0x17c4d1;_0xc77048['push'](_0x5d44b7[_0x22ea56(0x18a)]());}),_0xc77048;}},{'key':_0x31c17b(0x222),'get':function _0x2c940d(){var _0x536784=_0x31c17b;return this[_0x536784(0x1ce)];}},{'key':_0x31c17b(0x1e2),'value':function _0x45c4df(_0x3d7870){var _0xfb2105=_0x31c17b;_0x3d7870['positions']&&(this[_0xfb2105(0x1d0)]=_0x3d7870[_0xfb2105(0x1d0)]);}},{'key':_0x31c17b(0x18c),'value':function _0x44a675(){var _0x4c80dd=_0x31c17b;this[_0x4c80dd(0x1e4)]=new mars3d__namespace['layer']['GraphicLayer']({'private':!![]});}},{'key':_0x31c17b(0x1ec),'value':function _0x3bffbc(){var _0x106e69=_0x31c17b;this[_0x106e69(0x21f)][_0x106e69(0x1e8)](this['_layer']),this[_0x106e69(0x1db)][_0x106e69(0x1d0)]&&(this[_0x106e69(0x1d0)]=this['options']['positions']),this['options'][_0x106e69(0x194)]&&this[_0x106e69(0x189)]();}},{'key':_0x31c17b(0x1dd),'value':function _0x57d913(){var _0x453415=_0x31c17b;this['heatStyle'][_0x453415(0x190)]&&(mars3d__namespace['DomUtil'][_0x453415(0x1bc)](this[_0x453415(0x1c5)][_0x453415(0x190)]),delete this[_0x453415(0x1c5)][_0x453415(0x190)]),this['clear'](),this[_0x453415(0x21f)][_0x453415(0x1b3)](this[_0x453415(0x1e4)]);}},{'key':_0x31c17b(0x1b2),'value':function _0x390c41(_0x2b032b,_0x39d35a){var _0x586a6d=_0x31c17b;this['_positions']=this[_0x586a6d(0x20b)]||[],this[_0x586a6d(0x20b)][_0x586a6d(0x1a2)](_0x2b032b),this[_0x586a6d(0x1d3)](_0x39d35a);}},{'key':'setPositions','value':function _0x2104ed(_0x1aff20,_0x514820){var _0x315ea0=_0x31c17b;this[_0x315ea0(0x20b)]=_0x1aff20,this[_0x315ea0(0x1d3)](_0x514820);}},{'key':_0x31c17b(0x1fb),'value':function _0x587156(){var _0xfa5053=_0x31c17b;this[_0xfa5053(0x1f7)]&&(this[_0xfa5053(0x1e4)]['removeGraphic'](this[_0xfa5053(0x1f7)],!![]),delete this['_graphic']);}},{'key':_0x31c17b(0x1d3),'value':function _0x5a9967(_0x4a6207){var _0x2dfbb2=_0x31c17b;if(!this[_0x2dfbb2(0x1ca)]||!this[_0x2dfbb2(0x21f)]||!this['positions']||this[_0x2dfbb2(0x1d0)][_0x2dfbb2(0x1bd)]===0x0)return this;var _0xe1072c=this[_0x2dfbb2(0x1d2)]();return this[_0x2dfbb2(0x1b0)][_0x2dfbb2(0x1fa)]?this['_graphic']&&_0x4a6207?(this[_0x2dfbb2(0x1f7)][_0x2dfbb2(0x20a)]['image']=_0xe1072c,this['_graphic'][_0x2dfbb2(0x20a)][_0x2dfbb2(0x1af)]=this[_0x2dfbb2(0x1a4)]()):this[_0x2dfbb2(0x1d6)](_0xe1072c):this['_graphic']&&_0x4a6207?this[_0x2dfbb2(0x1f7)][_0x2dfbb2(0x20a)][_0x2dfbb2(0x1ea)]=_0xe1072c:this[_0x2dfbb2(0x1c9)](_0xe1072c),this;}},{'key':'_createGraphic','value':function _0x131046(_0x4ecd68){var _0x42f06d=_0x31c17b;this[_0x42f06d(0x1fb)](),this['_graphic']=new mars3d__namespace[(_0x42f06d(0x219))][(_0x42f06d(0x18f))](_objectSpread2(_objectSpread2({},this[_0x42f06d(0x1db)]),{},{'rectangle':this[_0x42f06d(0x1ce)],'appearance':new Cesium[(_0x42f06d(0x1be))]({'material':new Cesium[(_0x42f06d(0x1f4))]({'fabric':{'uniforms':{'image':_0x4ecd68},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x42f06d(0x1e4)][_0x42f06d(0x1ad)](this['_graphic']);}},{'key':_0x31c17b(0x1d6),'value':function _0xbae121(_0xf52220){var _0x2b9e3e=_0x31c17b,_0x4e8720;this['clear']();var _0x3d3700=Cesium['RenderState']['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x2b9e3e(0x205)][_0x2b9e3e(0x191)],'frontOperation':{'fail':Cesium[_0x2b9e3e(0x1b5)][_0x2b9e3e(0x1f5)],'zFail':Cesium['StencilOperation'][_0x2b9e3e(0x1f5)],'zPass':Cesium[_0x2b9e3e(0x1b5)]['REPLACE']},'backFunction':Cesium['StencilFunction'][_0x2b9e3e(0x191)],'backOperation':{'fail':Cesium[_0x2b9e3e(0x1b5)][_0x2b9e3e(0x1f5)],'zFail':Cesium[_0x2b9e3e(0x1b5)][_0x2b9e3e(0x1f5)],'zPass':Cesium['StencilOperation'][_0x2b9e3e(0x1a6)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x2b9e3e(0x21a)][_0x2b9e3e(0x18d)]}),_0x4cad1d=Math[_0x2b9e3e(0x1fe)]((_0x4e8720=this[_0x2b9e3e(0x1b0)][_0x2b9e3e(0x1b1)])!==null&&_0x4e8720!==void 0x0?_0x4e8720:this['_mBoundsMax']*0.02)+0.1;this['style'][_0x2b9e3e(0x1b1)]&&delete this[_0x2b9e3e(0x1b0)][_0x2b9e3e(0x1b1)];var _0x273e0c=(this[_0x2b9e3e(0x1b0)]['splitNum'],0x64),_0x3be0b4=Math[_0x2b9e3e(0x227)](this[_0x2b9e3e(0x1ce)][_0x2b9e3e(0x199)],this[_0x2b9e3e(0x1ce)][_0x2b9e3e(0x223)]);this[_0x2b9e3e(0x1b0)][_0x2b9e3e(0x20c)]=_0x3be0b4/=_0x273e0c,this[_0x2b9e3e(0x1f7)]=new mars3d__namespace[(_0x2b9e3e(0x219))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x2b9e3e(0x1db)]),{},{'rectangle':this[_0x2b9e3e(0x1ce)],'appearance':new Cesium[(_0x2b9e3e(0x1be))]({'aboveGround':!![],'renderState':_0x3d3700,'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0xf52220,'repeat':new Cesium[(_0x2b9e3e(0x212))](0x1,0x1),'color':new Cesium[(_0x2b9e3e(0x1d7))](0x1,0x1,0x1,0.01),'bumpMap':this[_0x2b9e3e(0x1a4)]()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x2b9e3e(0x19c)[_0x2b9e3e(0x1d5)](_0x4cad1d,_0x2b9e3e(0x1fc)),'flat':!![]})})),this[_0x2b9e3e(0x1e4)][_0x2b9e3e(0x1ad)](this[_0x2b9e3e(0x1f7)]);}},{'key':_0x31c17b(0x1f6),'value':function _0x19fb21(_0x3a06ac){var _0x357698=_0x31c17b;return _0x3a06ac!==null&&_0x3a06ac!==void 0x0&&_0x3a06ac['isFormat']&&this[_0x357698(0x1ce)]?mars3d__namespace[_0x357698(0x1bf)]['formatRectangle'](this['_rectangle']):this['_rectangle'];}},{'key':_0x31c17b(0x1d2),'value':function _0x14b758(){var _0xf2ec6a=_0x31c17b,_0x187e3b=this,_0x1875bd,_0x4ec84f,_0x5b3ac8,_0x48f35b,_0x344cdc=this[_0xf2ec6a(0x20b)],_0x5c10aa=[],_0x5489f2,_0x528b63,_0x27da91,_0x5346b;_0x344cdc[_0xf2ec6a(0x1fd)](function(_0x5b8ef4){var _0x487af1=_0xf2ec6a,_0x598576=mars3d__namespace[_0x487af1(0x211)][_0x487af1(0x197)](_0x5b8ef4);if(!_0x598576)return;_0x598576[_0x487af1(0x1ab)]=_0x5b8ef4['value']||0x1,!_0x187e3b[_0x487af1(0x1db)]['rectangle']&&(_0x5489f2===undefined?(_0x5489f2=_0x598576['lng'],_0x528b63=_0x598576[_0x487af1(0x1df)],_0x27da91=_0x598576[_0x487af1(0x1ae)],_0x5346b=_0x598576[_0x487af1(0x1ae)]):(_0x5489f2=Math[_0x487af1(0x1c2)](_0x5489f2,_0x598576[_0x487af1(0x1df)]),_0x528b63=Math[_0x487af1(0x227)](_0x528b63,_0x598576[_0x487af1(0x1df)]),_0x27da91=Math[_0x487af1(0x1c2)](_0x27da91,_0x598576[_0x487af1(0x1ae)]),_0x5346b=Math[_0x487af1(0x227)](_0x5346b,_0x598576[_0x487af1(0x1ae)]))),_0x5c10aa[_0x487af1(0x1a2)](_0x598576);});var _0x247e58=this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x222)]||{'xmin':_0x5489f2,'xmax':_0x528b63,'ymin':_0x27da91,'ymax':_0x5346b},_0x44f6f7=getMercatorBounds(_0x247e58),_0x3deec1=Math[_0xf2ec6a(0x18e)](_0x44f6f7['xmax']-_0x44f6f7['xmin']),_0x46a359=Math[_0xf2ec6a(0x18e)](_0x44f6f7[_0xf2ec6a(0x19f)]-_0x44f6f7['ymin']),_0x54b842=Math[_0xf2ec6a(0x227)](_0x3deec1,_0x46a359),_0x16bac3=Math[_0xf2ec6a(0x1c2)](_0x3deec1,_0x46a359);this['_mBoundsMax']=_0x54b842;var _0x4d81f3=0x1;if(_0x54b842>this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x1a9)])_0x4d81f3=_0x54b842/this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x1a9)],_0x16bac3/_0x4d81f3<this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x209)]&&(_0x4d81f3=_0x16bac3/this[_0xf2ec6a(0x1db)]['minCanvasSize']);else _0x16bac3<this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x209)]&&(_0x4d81f3=_0x16bac3/this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x209)],_0x54b842/_0x4d81f3>this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x1a9)]&&(_0x4d81f3=_0x54b842/this[_0xf2ec6a(0x1db)]['maxCanvasSize']));var _0x5575c5=this[_0xf2ec6a(0x1c5)][_0xf2ec6a(0x214)]*1.5,_0x1d36df=_0x3deec1/_0x4d81f3+_0x5575c5*0x2,_0x3d4c12=_0x46a359/_0x4d81f3+_0x5575c5*0x2,_0x3b7d87=_0x5575c5*_0x4d81f3;_0x44f6f7[_0xf2ec6a(0x1ef)]-=_0x3b7d87,_0x44f6f7[_0xf2ec6a(0x1cf)]-=_0x3b7d87,_0x44f6f7[_0xf2ec6a(0x226)]+=_0x3b7d87,_0x44f6f7[_0xf2ec6a(0x19f)]+=_0x3b7d87,this[_0xf2ec6a(0x1b7)]=_0x4d81f3,_0x247e58=geLatLngBounds(_0x44f6f7),this['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x247e58[_0xf2ec6a(0x1ef)],_0x247e58['ymin'],_0x247e58[_0xf2ec6a(0x226)],_0x247e58[_0xf2ec6a(0x19f)]);var _0x27cb5e=(_0x1875bd=_0x5c10aa[0x0][_0xf2ec6a(0x1ab)])!==null&&_0x1875bd!==void 0x0?_0x1875bd:0x1,_0x5667eb=(_0x4ec84f=_0x5c10aa[0x0][_0xf2ec6a(0x1ab)])!==null&&_0x4ec84f!==void 0x0?_0x4ec84f:0x0,_0x1c7cdf=[];_0x5c10aa['forEach'](function(_0x44f442){var _0x2493d3=_0xf2ec6a,_0x554104=mars3d__namespace[_0x2493d3(0x196)][_0x2493d3(0x1e7)]([_0x44f442['lng'],_0x44f442[_0x2493d3(0x1ae)]]),_0x2bc8dc=_0x44f442[_0x2493d3(0x1ab)]||0x1,_0x379b30=Math[_0x2493d3(0x220)]((_0x554104[0x0]-_0x44f6f7['xmin'])/_0x4d81f3),_0x5a34ba=Math[_0x2493d3(0x220)]((_0x44f6f7[_0x2493d3(0x19f)]-_0x554104[0x1])/_0x4d81f3);_0x27cb5e=Math[_0x2493d3(0x227)](_0x27cb5e,_0x2bc8dc),_0x5667eb=Math['min'](_0x5667eb,_0x2bc8dc),_0x1c7cdf[_0x2493d3(0x1a2)]({'x':_0x379b30,'y':_0x5a34ba,'value':_0x2bc8dc});});var _0x1c0697={'min':(_0x5b3ac8=this[_0xf2ec6a(0x1db)]['min'])!==null&&_0x5b3ac8!==void 0x0?_0x5b3ac8:_0x5667eb,'max':(_0x48f35b=this[_0xf2ec6a(0x1db)][_0xf2ec6a(0x227)])!==null&&_0x48f35b!==void 0x0?_0x48f35b:_0x27cb5e,'data':_0x1c7cdf};this[_0xf2ec6a(0x21e)]=_0x1c0697;(!this[_0xf2ec6a(0x1c1)]||_0x44f6f7[_0xf2ec6a(0x1ef)]!==this[_0xf2ec6a(0x1c1)][_0xf2ec6a(0x1ef)]||_0x44f6f7[_0xf2ec6a(0x1cf)]!==this['_last_mBounds'][_0xf2ec6a(0x1cf)]||_0x44f6f7['xmax']!==this[_0xf2ec6a(0x1c1)]['xmax']||_0x44f6f7['ymax']!==this[_0xf2ec6a(0x1c1)][_0xf2ec6a(0x19f)])&&(this[_0xf2ec6a(0x1c1)]=_0x44f6f7,!this[_0xf2ec6a(0x1c5)]['container']&&(this['heatStyle']['container']=mars3d__namespace['DomUtil'][_0xf2ec6a(0x1da)](_0xf2ec6a(0x19a),_0xf2ec6a(0x1d9),this['_map'][_0xf2ec6a(0x190)])),this['heatStyle'][_0xf2ec6a(0x190)][_0xf2ec6a(0x1b0)][_0xf2ec6a(0x1de)]=_0xf2ec6a(0x1f9)['concat'](_0x1d36df,'px;height:')[_0xf2ec6a(0x1d5)](_0x3d4c12,_0xf2ec6a(0x20e)),!this[_0xf2ec6a(0x1a5)]?this[_0xf2ec6a(0x1a5)]=h337__namespace['create'](this[_0xf2ec6a(0x1c5)]):this['_heat'][_0xf2ec6a(0x19e)](this[_0xf2ec6a(0x1c5)]));this[_0xf2ec6a(0x1a5)][_0xf2ec6a(0x200)](_0x1c0697);var _0x112ba9=mars3d__namespace['DomUtil'][_0xf2ec6a(0x1e1)](this[_0xf2ec6a(0x1a5)][_0xf2ec6a(0x213)][_0xf2ec6a(0x215)]);return _0x112ba9;}},{'key':_0x31c17b(0x1a4),'value':function _0x52f3a9(){var _0x432201=_0x31c17b;this[_0x432201(0x1a5)][_0x432201(0x19e)]({'radius':this[_0x432201(0x1c5)][_0x432201(0x214)]*this['style'][_0x432201(0x21b)],'blur':this[_0x432201(0x1c5)][_0x432201(0x204)]*this[_0x432201(0x1b0)]['arcBlurScale'],'gradient':this['heatStyle'][_0x432201(0x1b6)]||{0.25:_0x432201(0x202),0.55:_0x432201(0x1e0),0.85:_0x432201(0x19b),0x1:_0x432201(0x195)}});var _0x137319=mars3d__namespace[_0x432201(0x1d4)]['copyCanvas'](this[_0x432201(0x1a5)][_0x432201(0x213)][_0x432201(0x215)]);return this['_heat'][_0x432201(0x19e)](this['options'][_0x432201(0x1c5)]),_0x137319;}},{'key':_0x31c17b(0x207),'value':function _0x10e853(_0xc3b3f8){var _0x50657c=_0x31c17b,_0x5a8f15=mars3d__namespace[_0x50657c(0x211)]['parse'](_0xc3b3f8);if(!_0x5a8f15)return{};var _0x4471cd=mars3d__namespace[_0x50657c(0x196)][_0x50657c(0x1e7)]([_0x5a8f15[_0x50657c(0x1df)],_0x5a8f15[_0x50657c(0x1ae)]]),_0x8b6f6=this[_0x50657c(0x1c1)],_0x463914=Math[_0x50657c(0x220)]((_0x4471cd[0x0]-_0x8b6f6[_0x50657c(0x1ef)])/this['_scale']),_0xb7ac7e=Math['round']((_0x8b6f6[_0x50657c(0x19f)]-_0x4471cd[0x1])/this[_0x50657c(0x1b7)]),_0x14f5b0=this[_0x50657c(0x1a5)][_0x50657c(0x1c7)]({'x':_0x463914,'y':_0xb7ac7e}),_0x32f3c0=this[_0x50657c(0x1a5)][_0x50657c(0x213)]['ctx'][_0x50657c(0x1d1)](_0x463914-0x1,_0xb7ac7e-0x1,0x1,0x1)[_0x50657c(0x20d)];return{'x':_0x463914,'y':_0xb7ac7e,'value':_0x14f5b0,'color':_0x50657c(0x1f1)+_0x32f3c0[0x0]+','+_0x32f3c0[0x1]+','+_0x32f3c0[0x2]+','+_0x32f3c0[0x3]+')'};}}]),_0x3a0a07;}(BaseLayer);mars3d__namespace['layer'][_0x2b06df(0x198)]=HeatLayer,mars3d__namespace[_0x2b06df(0x203)]['register'](_0x2b06df(0x1ba),HeatLayer);function getMercatorBounds(_0x36657a){var _0x492f6f=_0x2b06df,_0x314221=mars3d__namespace['PointTrans'][_0x492f6f(0x1e7)]([_0x36657a['xmin'],_0x36657a[_0x492f6f(0x1cf)]]),_0x3d57db=mars3d__namespace[_0x492f6f(0x196)][_0x492f6f(0x1e7)]([_0x36657a[_0x492f6f(0x226)],_0x36657a[_0x492f6f(0x19f)]]);return{'xmin':_0x314221[0x0],'ymin':_0x314221[0x1],'xmax':_0x3d57db[0x0],'ymax':_0x3d57db[0x1]};}function geLatLngBounds(_0x1a7b46){var _0x3bf7b3=_0x2b06df,_0x2f3996=mars3d__namespace[_0x3bf7b3(0x196)][_0x3bf7b3(0x1dc)]([_0x1a7b46['xmin'],_0x1a7b46['ymin']]),_0x12e517=mars3d__namespace[_0x3bf7b3(0x196)]['mercator2lonlat']([_0x1a7b46[_0x3bf7b3(0x226)],_0x1a7b46[_0x3bf7b3(0x19f)]]);return{'xmin':_0x2f3996[0x0],'ymin':_0x2f3996[0x1],'xmax':_0x12e517[0x0],'ymax':_0x12e517[0x1]};}exports['HeatLayer']=HeatLayer,Object[_0x2b06df(0x1b8)](exports,'__esModule',{'value':!![]});
}));
