/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.9
 * 编译日期：2022-05-23 10:16:48
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x3789bd=_0x4935;(function(_0x3ef0c8,_0x4de69a){var _0x545008=_0x4935,_0x330d68=_0x3ef0c8();while(!![]){try{var _0x53de8b=parseInt(_0x545008(0x1ea))/0x1+parseInt(_0x545008(0x1a5))/0x2*(-parseInt(_0x545008(0x22d))/0x3)+parseInt(_0x545008(0x1fa))/0x4*(-parseInt(_0x545008(0x1fd))/0x5)+parseInt(_0x545008(0x1c0))/0x6*(parseInt(_0x545008(0x1ee))/0x7)+parseInt(_0x545008(0x22a))/0x8*(-parseInt(_0x545008(0x214))/0x9)+-parseInt(_0x545008(0x22b))/0xa+parseInt(_0x545008(0x1ab))/0xb;if(_0x53de8b===_0x4de69a)break;else _0x330d68['push'](_0x330d68['shift']());}catch(_0x7e50a){_0x330d68['push'](_0x330d68['shift']());}}}(_0x2231,0x1bce7));function _0x2231(){var _0x587575=['x2XHC3rFAgvHDerHDge','Cg9ZAxrPB25Z','z2v0','y29UzMLNDxjL','zgvMAw5LuhjVCgvYDgLLCW','D3jPDgfIBgu','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','tg5Ntgf0ug9PBNq','vKvsvevyx0zpuK1bva','C2HHBq','y29UzMLNDxjHyMXL','y2fUDMfZ','z3jLzw4','q2fYDgvZAwfUmG','quXqsefFqKXftKq','zw51BwvYywjSzq','y3nZvgv4Da','Eg1PBG','y3jLyxrL','otK2ndC0BKXIB25K','ChjVDg90ExbL','BwLU','y29WEunHBNzHCW','A2v5','D2LKDgG6','x21VDw50zwriB29R','Bwf4q2fUDMfZu2L6zq','x3jLy3rHBMDSzq','y2XLyxi','z2v0uhjVDg90ExbLt2y','BwLUq2fUDMfZu2L6zq','ChvZAa','zgvMAw5LuhjVCgvYDhK','ug9PBNruCMfUCW','ywrKr3jHCgHPyW','q2vZAxvT','yNvTCe1HCa','uMvJDgfUz2XL','CM91BMq','zgvMyxvSDa','zMLSDgvY','x2nYzwf0zuDYyxbOAwm','Bwf4','CMvJDgfUz2XL','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','CMvTB3zLtgf5zxi','AgvHDfn0EwXL','zMXVB3i','z3jHBNvSyxjPDhK','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','zgf0yq','x2HLyxq','zgL2','qMfZzuXHEwvY','u3rLBMnPBe9WzxjHDgLVBG','zgvMyxvSDfzHBhvL','C2HVDW','y29VCMrPBMf0zxm','x21HCNmZzf9WCML2yxrL','B3b0Aw9UCW','ywrKug9ZAxrPB24','mtqXmdaWBxHPBwLj','x3nJywXL','z2v0ug9PBNreyxrH','vxrPBa','n3jtAKviCW','x2DYyxbOAwm','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','C2v0rgf0yq','x21HCa','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','x3jLBMrLCMvY','x2DLDefYy0HLyxrdyw52yxm','B2jQzwn0','ug9SEvv0AwW','y2XPzw50v2LKDgG','zNvUy3rPB24','nJyWnZzutvPfz28','zM9YBwf0uMvJDgfUz2XL','AgvHDa','mJv5wvv4wMO','sgvHDeXHEwvY','ChG7AgvPz2H0oG','CMDIkdiXnIWYmtySmJe2kq','yMX1zq','twf0zxjPywW','CgfYC2u','zNjVBurLz3jLzxm','CMvTB3zLr3jHCgHPyW','ywjZ','x3bVC2L0Aw9UCW','ywrKtgf5zxi','s0vfua','C2v0ug9ZAxrPB25Z','qMXLBMrPBMDtDgf0zq','A2v5CW','zM9YrwfJAa','Ew1HEa','y29UDgfPBMvY','Dg9bCNjHEq','uMvJDgfUz2XLuhjPBwL0AxzL','z2v0vMfSDwvbDa','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','otyZr2DUqxDv','DMfSDwvpzG','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','yxbWBhK','x2XHEwvY','Ew1PBG','CMDIysG','CMDIkdi1nsWYntuSmJu1kq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','C3r5Bgu','yxjJqMX1CLnJywXL','x19WCM90B19F','yxjJuMfKAxvZu2nHBgu','CMfKAxvZ','yMX1CG','z2v0sw1Hz2veyxrH','r3jHCgHPy0XHEwvY','x19LC01VzhvSzq','BwvYy2f0B3iYBg9UBgf0','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','Bg9UBgf0mM1LCMnHDg9Y','Bgf5zxi','ntaWog56wML2rq','ndG1nJiWC3zkEg1J','yM9KEq','nJaZwLLwrLfs','x2nYzwf0zufYy0DYyxbOAwm','DMfSDwu','Aw1Hz2u','tgf5zxjvDgLS','BwvYz2u','x2DLDeHLyxrdyw52yxm','y29Uy2f0','AgvPz2H0','Bg5N','BgvUz3rO','y2fSBa','y29UC3rYDwn0','z3jHCgHPyW','Dw5PzM9YBxm','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','Eg1HEa','Bgf0','zgLMzKHLAwDODa','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','CMDIkdaSmcWWkq','oefgEuvQtW','zNjVBunHy2HL','x2XHC3rFBujVDw5KCW','quXxqvLt','x21cB3vUzhnnyxG','ChG7','nJmZndLmEezlEgO','Cg9PBNrZ'];_0x2231=function(){return _0x587575;};return _0x2231();}function _interopNamespace(_0x966a68){var _0x1bdad9=_0x4935;if(_0x966a68&&_0x966a68[_0x1bdad9(0x225)])return _0x966a68;var _0x49ff4e=Object[_0x1bdad9(0x1bf)](null);return _0x966a68&&Object[_0x1bdad9(0x20c)](_0x966a68)[_0x1bdad9(0x20d)](function(_0x338950){var _0x1d8d3b=_0x1bdad9;if(_0x338950!==_0x1d8d3b(0x1d4)){var _0x406e98=Object['getOwnPropertyDescriptor'](_0x966a68,_0x338950);Object[_0x1d8d3b(0x1cd)](_0x49ff4e,_0x338950,_0x406e98[_0x1d8d3b(0x1af)]?_0x406e98:{'enumerable':!![],'get':function(){return _0x966a68[_0x338950];}});}}),_0x49ff4e[_0x1bdad9(0x1d4)]=_0x966a68,_0x49ff4e;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x2fcd01,_0x562aad){var _0x41e0f0=_0x4935,_0x32d6b7=Object[_0x41e0f0(0x20c)](_0x2fcd01);if(Object[_0x41e0f0(0x216)]){var _0x24b833=Object[_0x41e0f0(0x216)](_0x2fcd01);_0x562aad&&(_0x24b833=_0x24b833[_0x41e0f0(0x1d5)](function(_0x4ce010){var _0x11d460=_0x41e0f0;return Object[_0x11d460(0x23c)](_0x2fcd01,_0x4ce010)[_0x11d460(0x1bc)];})),_0x32d6b7[_0x41e0f0(0x1cc)]['apply'](_0x32d6b7,_0x24b833);}return _0x32d6b7;}function _objectSpread2(_0x1add05){var _0x3c1688=_0x4935;for(var _0x36147c=0x1;_0x36147c<arguments[_0x3c1688(0x237)];_0x36147c++){var _0x1b93eb=null!=arguments[_0x36147c]?arguments[_0x36147c]:{};_0x36147c%0x2?ownKeys(Object(_0x1b93eb),!0x0)[_0x3c1688(0x20d)](function(_0x4a7153){_defineProperty(_0x1add05,_0x4a7153,_0x1b93eb[_0x4a7153]);}):Object[_0x3c1688(0x21c)]?Object[_0x3c1688(0x1b1)](_0x1add05,Object[_0x3c1688(0x21c)](_0x1b93eb)):ownKeys(Object(_0x1b93eb))[_0x3c1688(0x20d)](function(_0x171bb3){var _0x2d2d5b=_0x3c1688;Object[_0x2d2d5b(0x1cd)](_0x1add05,_0x171bb3,Object[_0x2d2d5b(0x23c)](_0x1b93eb,_0x171bb3));});}return _0x1add05;}function _classCallCheck(_0x39ec0c,_0x12141a){var _0x4e38e8=_0x4935;if(!(_0x39ec0c instanceof _0x12141a))throw new TypeError(_0x4e38e8(0x1f0));}function _defineProperties(_0x1c66de,_0x3d386a){var _0x13801c=_0x4935;for(var _0x1d8824=0x0;_0x1d8824<_0x3d386a[_0x13801c(0x237)];_0x1d8824++){var _0x44039e=_0x3d386a[_0x1d8824];_0x44039e[_0x13801c(0x1bc)]=_0x44039e[_0x13801c(0x1bc)]||![],_0x44039e[_0x13801c(0x1b7)]=!![];if('value'in _0x44039e)_0x44039e[_0x13801c(0x1b2)]=!![];Object['defineProperty'](_0x1c66de,_0x44039e[_0x13801c(0x1c4)],_0x44039e);}}function _createClass(_0x1334b1,_0x4c1ad7,_0x5c3737){var _0x598e4e=_0x4935;if(_0x4c1ad7)_defineProperties(_0x1334b1[_0x598e4e(0x1c1)],_0x4c1ad7);if(_0x5c3737)_defineProperties(_0x1334b1,_0x5c3737);return Object[_0x598e4e(0x1cd)](_0x1334b1,_0x598e4e(0x1c1),{'writable':![]}),_0x1334b1;}function _defineProperty(_0x3a6276,_0x196f5a,_0x182f8b){var _0x28d85e=_0x4935;return _0x196f5a in _0x3a6276?Object[_0x28d85e(0x1cd)](_0x3a6276,_0x196f5a,{'value':_0x182f8b,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x3a6276[_0x196f5a]=_0x182f8b,_0x3a6276;}function _inherits(_0x2a0a4,_0x3f3672){var _0x14fae4=_0x4935;if(typeof _0x3f3672!==_0x14fae4(0x1f9)&&_0x3f3672!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x2a0a4['prototype']=Object[_0x14fae4(0x1bf)](_0x3f3672&&_0x3f3672[_0x14fae4(0x1c1)],{'constructor':{'value':_0x2a0a4,'writable':!![],'configurable':!![]}}),Object[_0x14fae4(0x1cd)](_0x2a0a4,'prototype',{'writable':![]});if(_0x3f3672)_setPrototypeOf(_0x2a0a4,_0x3f3672);}function _getPrototypeOf(_0x4b0d03){var _0x55e0ed=_0x4935;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x55e0ed(0x1ca)]:function _0x3b7acf(_0x2a06f6){var _0x3f5470=_0x55e0ed;return _0x2a06f6[_0x3f5470(0x21f)]||Object[_0x3f5470(0x1ca)](_0x2a06f6);},_getPrototypeOf(_0x4b0d03);}function _setPrototypeOf(_0x20eee5,_0x1f4e56){return _setPrototypeOf=Object['setPrototypeOf']||function _0x87b253(_0x311d00,_0x14758a){var _0x107816=_0x4935;return _0x311d00[_0x107816(0x21f)]=_0x14758a,_0x311d00;},_setPrototypeOf(_0x20eee5,_0x1f4e56);}function _0x4935(_0x17abd3,_0x13a437){var _0x22315d=_0x2231();return _0x4935=function(_0x4935dd,_0x4c2aca){_0x4935dd=_0x4935dd-0x1a4;var _0x379ee4=_0x22315d[_0x4935dd];if(_0x4935['ZTyyYW']===undefined){var _0x5db23f=function(_0x966a68){var _0x49ff4e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x338950='',_0x406e98='';for(var _0x2fcd01=0x0,_0x562aad,_0x32d6b7,_0x24b833=0x0;_0x32d6b7=_0x966a68['charAt'](_0x24b833++);~_0x32d6b7&&(_0x562aad=_0x2fcd01%0x4?_0x562aad*0x40+_0x32d6b7:_0x32d6b7,_0x2fcd01++%0x4)?_0x338950+=String['fromCharCode'](0xff&_0x562aad>>(-0x2*_0x2fcd01&0x6)):0x0){_0x32d6b7=_0x49ff4e['indexOf'](_0x32d6b7);}for(var _0x4ce010=0x0,_0x1add05=_0x338950['length'];_0x4ce010<_0x1add05;_0x4ce010++){_0x406e98+='%'+('00'+_0x338950['charCodeAt'](_0x4ce010)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x406e98);};_0x4935['vgtvNa']=_0x5db23f,_0x17abd3=arguments,_0x4935['ZTyyYW']=!![];}var _0xba4ee8=_0x22315d[0x0],_0x492d49=_0x4935dd+_0xba4ee8,_0x3594b4=_0x17abd3[_0x492d49];return!_0x3594b4?(_0x379ee4=_0x4935['vgtvNa'](_0x379ee4),_0x17abd3[_0x492d49]=_0x379ee4):_0x379ee4=_0x3594b4,_0x379ee4;},_0x4935(_0x17abd3,_0x13a437);}function _isNativeReflectConstruct(){var _0x4ff3d1=_0x4935;if(typeof Reflect==='undefined'||!Reflect['construct'])return![];if(Reflect['construct'][_0x4ff3d1(0x1b6)])return![];if(typeof Proxy===_0x4ff3d1(0x1f9))return!![];try{return Boolean[_0x4ff3d1(0x1c1)][_0x4ff3d1(0x215)][_0x4ff3d1(0x238)](Reflect[_0x4ff3d1(0x239)](Boolean,[],function(){})),!![];}catch(_0x2b43b2){return![];}}function _assertThisInitialized(_0x2821c3){var _0x14b318=_0x4935;if(_0x2821c3===void 0x0)throw new ReferenceError(_0x14b318(0x1f3));return _0x2821c3;}function _possibleConstructorReturn(_0x40ca07,_0x4c0c11){var _0x266a03=_0x4935;if(_0x4c0c11&&(typeof _0x4c0c11===_0x266a03(0x1f6)||typeof _0x4c0c11===_0x266a03(0x1f9)))return _0x4c0c11;else{if(_0x4c0c11!==void 0x0)throw new TypeError(_0x266a03(0x240));}return _assertThisInitialized(_0x40ca07);}function _createSuper(_0xdca525){var _0x3c76a1=_isNativeReflectConstruct();return function _0x31c542(){var _0x2d3453=_0x4935,_0x5bcacd=_getPrototypeOf(_0xdca525),_0x26b17f;if(_0x3c76a1){var _0x577a19=_getPrototypeOf(this)['constructor'];_0x26b17f=Reflect[_0x2d3453(0x239)](_0x5bcacd,arguments,_0x577a19);}else _0x26b17f=_0x5bcacd[_0x2d3453(0x217)](this,arguments);return _possibleConstructorReturn(this,_0x26b17f);};}var HeatMaterial=_0x3789bd(0x227);if(!h337__namespace[_0x3789bd(0x1bf)])throw new Error('请引入\x20heatmap.js\x20库\x20');var Cesium=mars3d__namespace[_0x3789bd(0x1d0)],BaseLayer=mars3d__namespace[_0x3789bd(0x229)][_0x3789bd(0x1e2)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x3789bd(0x201),0.6:_0x3789bd(0x1b9),0.8:'yellow',0.9:'red'}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x3789bd(0x1de)][_0x3789bd(0x1b5)]},HeatLayer=function(_0x3b1d29){var _0x339aac=_0x3789bd;_inherits(_0x5a9107,_0x3b1d29);var _0x56d9e6=_createSuper(_0x5a9107);function _0x5a9107(){var _0x214637=_0x4935,_0x371b39,_0x485da1=arguments[_0x214637(0x237)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x5a9107),_0x371b39=_0x56d9e6[_0x214637(0x238)](this,_0x485da1),_0x371b39[_0x214637(0x1e8)][_0x214637(0x1c7)]=Cesium[_0x214637(0x1e4)](_0x371b39[_0x214637(0x1e8)][_0x214637(0x1c7)],document[_0x214637(0x22c)][_0x214637(0x1f8)]),_0x371b39[_0x214637(0x1e8)][_0x214637(0x1c7)]=Math[_0x214637(0x1c2)](_0x371b39[_0x214637(0x1e8)][_0x214637(0x1c7)],0x1388),_0x371b39[_0x214637(0x1e8)][_0x214637(0x1cb)]=Cesium[_0x214637(0x1e4)](_0x371b39['options'][_0x214637(0x1cb)],document['body']['clientHeight']),_0x371b39[_0x214637(0x1e8)][_0x214637(0x1cb)]=Math['max'](_0x371b39['options'][_0x214637(0x1cb)],0x2bc),_0x371b39[_0x214637(0x1e8)]['heatStyle']=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x371b39[_0x214637(0x1e8)][_0x214637(0x1db)]||{}),_0x371b39['options']['style']=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x371b39['options'][_0x214637(0x21d)]||{}),_0x371b39;}return _createClass(_0x5a9107,[{'key':_0x339aac(0x229),'get':function _0x1fa3d2(){var _0x195743=_0x339aac;return this[_0x195743(0x218)];}},{'key':_0x339aac(0x1db),'get':function _0x197c3c(){var _0x29ef64=_0x339aac;return this[_0x29ef64(0x1e8)][_0x29ef64(0x1db)];},'set':function _0x15461e(_0x3ece56){var _0x130cc5=_0x339aac;this[_0x130cc5(0x1e8)][_0x130cc5(0x1db)]=mars3d__namespace[_0x130cc5(0x1ed)]['merge'](this[_0x130cc5(0x1e8)][_0x130cc5(0x1db)],_0x3ece56),this['_heat']&&(this[_0x130cc5(0x1e0)][_0x130cc5(0x1b0)](this[_0x130cc5(0x1e8)][_0x130cc5(0x1db)]),this['_updatePositionsHook'](!![]));}},{'key':_0x339aac(0x21d),'get':function _0x324cc8(){return this['options']['style'];},'set':function _0x210a6e(_0x4a3b45){var _0x7a4b3=_0x339aac;this[_0x7a4b3(0x1e8)][_0x7a4b3(0x21d)]=mars3d__namespace['Util'][_0x7a4b3(0x232)](this[_0x7a4b3(0x1e8)][_0x7a4b3(0x21d)],_0x4a3b45);}},{'key':_0x339aac(0x1ae),'get':function _0x18cba9(){var _0x4f69ae=_0x339aac;return this[_0x4f69ae(0x207)];},'set':function _0x384c7(_0x2f55e3){var _0x5cf7e1=_0x339aac;this[_0x5cf7e1(0x20a)](_0x2f55e3);}},{'key':_0x339aac(0x1e6),'get':function _0x5d9f84(){var _0x1b805c=_0x339aac,_0x11b2e7=[];return this[_0x1b805c(0x1ac)][_0x1b805c(0x20d)](function(_0x5c46ae){var _0x10403e=_0x1b805c;_0x11b2e7[_0x10403e(0x1cc)](_0x5c46ae[_0x10403e(0x210)]());}),_0x11b2e7;}},{'key':_0x339aac(0x1d8),'get':function _0xd3b2e9(){var _0x562aeb=_0x339aac;return this[_0x562aeb(0x1c8)];}},{'key':'_setOptionsHook','value':function _0xb319c9(_0x23ec8c){var _0x3ec6b0=_0x339aac;_0x23ec8c[_0x3ec6b0(0x1ae)]&&(this[_0x3ec6b0(0x1ae)]=_0x23ec8c[_0x3ec6b0(0x1ae)]);}},{'key':_0x339aac(0x1c6),'value':function _0x16ba2d(){var _0x416941=_0x339aac;this[_0x416941(0x218)]=new mars3d__namespace[(_0x416941(0x229))][(_0x416941(0x224))]({'noLayerManage':!![]}),this[_0x416941(0x218)][_0x416941(0x1e7)]=!![];}},{'key':'_addedHook','value':function _0x4fc309(){var _0x3204fa=_0x339aac;this[_0x3204fa(0x1f2)][_0x3204fa(0x208)](this[_0x3204fa(0x218)]),this[_0x3204fa(0x1e8)][_0x3204fa(0x1ae)]&&(this[_0x3204fa(0x1ae)]=this[_0x3204fa(0x1e8)]['positions']),this['options']['flyTo']&&this['flyToByAnimationEnd']();}},{'key':'_removedHook','value':function _0x4c3946(){var _0x8ee1e3=_0x339aac;this[_0x8ee1e3(0x1db)][_0x8ee1e3(0x20f)]&&(mars3d__namespace['DomUtil']['remove'](this[_0x8ee1e3(0x1db)]['container']),delete this[_0x8ee1e3(0x1db)][_0x8ee1e3(0x20f)]),this[_0x8ee1e3(0x1c9)](),this[_0x8ee1e3(0x1f2)][_0x8ee1e3(0x1da)](this[_0x8ee1e3(0x218)]);}},{'key':_0x339aac(0x1e9),'value':function _0x481716(_0x16511a,_0x5e143a){var _0x32b1d4=_0x339aac;this[_0x32b1d4(0x207)]=this[_0x32b1d4(0x207)]||[],this[_0x32b1d4(0x207)][_0x32b1d4(0x1cc)](_0x16511a),this[_0x32b1d4(0x1b3)](_0x5e143a);}},{'key':'setPositions','value':function _0x1967dd(_0xaacdce,_0x3282c9){var _0x177be5=_0x339aac;this[_0x177be5(0x207)]=_0xaacdce,this[_0x177be5(0x1b3)](_0x3282c9);}},{'key':_0x339aac(0x1c9),'value':function _0x31f9b9(){var _0x51845f=_0x339aac;this[_0x51845f(0x1ef)]&&(this[_0x51845f(0x218)][_0x51845f(0x205)](this[_0x51845f(0x1ef)],!![]),delete this['_graphic']);}},{'key':_0x339aac(0x1b3),'value':function _0x48a81e(_0x21ec71){var _0x2733eb=_0x339aac;if(!this[_0x2733eb(0x1e5)]||!this[_0x2733eb(0x1f2)]||!this[_0x2733eb(0x1ae)]||this[_0x2733eb(0x1ae)][_0x2733eb(0x237)]===0x0)return this;var _0x572546=this[_0x2733eb(0x233)]();return this[_0x2733eb(0x21d)]['arc']?this['_graphic']&&_0x21ec71?(this[_0x2733eb(0x1ef)][_0x2733eb(0x23b)][_0x2733eb(0x230)]=_0x572546,this[_0x2733eb(0x1ef)][_0x2733eb(0x23b)][_0x2733eb(0x1d1)]=this[_0x2733eb(0x1f5)]()):this['_createArcGraphic'](_0x572546):this[_0x2733eb(0x1ef)]&&_0x21ec71?this['_graphic']['uniforms']['image']=_0x572546:this[_0x2733eb(0x1d6)](_0x572546),this;}},{'key':'_createGraphic','value':function _0x55aa4c(_0x469dca){var _0x2101d9=_0x339aac;this['clear'](),this[_0x2101d9(0x1ef)]=new mars3d__namespace[(_0x2101d9(0x23a))][(_0x2101d9(0x211))](_objectSpread2(_objectSpread2({},this[_0x2101d9(0x1e8)]),{},{'rectangle':this[_0x2101d9(0x1c8)],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x469dca},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x2101d9(0x218)][_0x2101d9(0x1cf)](this[_0x2101d9(0x1ef)]);}},{'key':_0x339aac(0x22e),'value':function _0x52d3ab(_0x477cdd){var _0x16553b=_0x339aac;this[_0x16553b(0x1c9)]();var _0x19181d=Cesium['RenderState'][_0x16553b(0x1a6)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x16553b(0x1a8)],'frontOperation':{'fail':Cesium[_0x16553b(0x1e3)][_0x16553b(0x209)],'zFail':Cesium[_0x16553b(0x1e3)][_0x16553b(0x209)],'zPass':Cesium['StencilOperation']['REPLACE']},'backFunction':Cesium['StencilFunction']['ALWAYS'],'backOperation':{'fail':Cesium[_0x16553b(0x1e3)][_0x16553b(0x209)],'zFail':Cesium[_0x16553b(0x1e3)][_0x16553b(0x209)],'zPass':Cesium[_0x16553b(0x1e3)]['REPLACE']},'reference':0x2,'mask':0x2},'blending':Cesium[_0x16553b(0x20b)][_0x16553b(0x1bb)]}),_0x1eed7b=Math[_0x16553b(0x1dc)](Cesium[_0x16553b(0x1e4)](this['style'][_0x16553b(0x23f)],this['_mBoundsMax']*0.02))+0.1;this[_0x16553b(0x21d)]['diffHeight']&&delete this['style'][_0x16553b(0x23f)];var _0x286aac=Cesium[_0x16553b(0x1e4)](this['style']['splitNum'],0x64),_0x4b865d=Math[_0x16553b(0x1d7)](this[_0x16553b(0x1c8)][_0x16553b(0x235)],this[_0x16553b(0x1c8)]['width']);this[_0x16553b(0x21d)][_0x16553b(0x1dd)]=_0x4b865d/=_0x286aac,this['_graphic']=new mars3d__namespace[(_0x16553b(0x23a))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x16553b(0x1e8)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x16553b(0x1de))]({'aboveGround':!![],'renderState':_0x19181d,'material':new Cesium[(_0x16553b(0x202))]({'fabric':{'uniforms':{'image':_0x477cdd,'repeat':new Cesium[(_0x16553b(0x1ba))](0x1,0x1),'color':new Cesium['Color'](0x1,0x1,0x1,0.01),'bumpMap':this['_getArcHeatCanvas']()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x16553b(0x213)[_0x16553b(0x234)](_0x1eed7b,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this[_0x16553b(0x218)][_0x16553b(0x1cf)](this[_0x16553b(0x1ef)]);}},{'key':'getRectangle','value':function _0x363f71(_0x1c271e){var _0x52e489=_0x339aac;return _0x1c271e!==null&&_0x1c271e!==void 0x0&&_0x1c271e['isFormat']&&this[_0x52e489(0x1c8)]?mars3d__namespace[_0x52e489(0x1f7)][_0x52e489(0x1fb)](this['_rectangle']):this[_0x52e489(0x1c8)];}},{'key':'_getHeatCanvas','value':function _0x458487(){var _0x34c792=_0x339aac,_0x4ec8ed=this,_0x45a4c8,_0x245e6f,_0x4828d0=this[_0x34c792(0x207)],_0x3e4d0c=[],_0x10ba48,_0x5d4f27,_0x5561cd,_0x24e43f;_0x4828d0[_0x34c792(0x20d)](function(_0x3bf87f){var _0x3982f2=_0x34c792,_0x324b71=mars3d__namespace[_0x3982f2(0x1b4)][_0x3982f2(0x203)](_0x3bf87f);if(!_0x324b71)return;_0x324b71['value']=_0x3bf87f[_0x3982f2(0x22f)]||0x1,!_0x4ec8ed[_0x3982f2(0x1e8)][_0x3982f2(0x1d8)]&&(_0x10ba48===undefined?(_0x10ba48=_0x324b71[_0x3982f2(0x236)],_0x5d4f27=_0x324b71[_0x3982f2(0x236)],_0x5561cd=_0x324b71[_0x3982f2(0x23e)],_0x24e43f=_0x324b71['lat']):(_0x10ba48=Math['min'](_0x10ba48,_0x324b71[_0x3982f2(0x236)]),_0x5d4f27=Math['max'](_0x5d4f27,_0x324b71[_0x3982f2(0x236)]),_0x5561cd=Math[_0x3982f2(0x1c2)](_0x5561cd,_0x324b71['lat']),_0x24e43f=Math['max'](_0x24e43f,_0x324b71[_0x3982f2(0x23e)]))),_0x3e4d0c[_0x3982f2(0x1cc)](_0x324b71);});var _0x172936=this[_0x34c792(0x1e8)][_0x34c792(0x1d8)]||{'xmin':_0x10ba48,'xmax':_0x5d4f27,'ymin':_0x5561cd,'ymax':_0x24e43f},_0x5e76b2=getMercatorBounds(_0x172936),_0x1c7397=Math[_0x34c792(0x206)](_0x5e76b2[_0x34c792(0x23d)]-_0x5e76b2[_0x34c792(0x1be)]),_0x1a84d6=Math[_0x34c792(0x206)](_0x5e76b2[_0x34c792(0x20e)]-_0x5e76b2['ymin']),_0x169468=Math[_0x34c792(0x1d7)](_0x1c7397,_0x1a84d6),_0x41820e=Math[_0x34c792(0x1c2)](_0x1c7397,_0x1a84d6);this[_0x34c792(0x1a9)]=_0x169468;var _0xda08e3=0x1;if(_0x169468>this[_0x34c792(0x1e8)][_0x34c792(0x1c7)])_0xda08e3=_0x169468/this[_0x34c792(0x1e8)][_0x34c792(0x1c7)],_0x41820e/_0xda08e3<this[_0x34c792(0x1e8)]['minCanvasSize']&&(_0xda08e3=_0x41820e/this[_0x34c792(0x1e8)]['minCanvasSize']);else _0x41820e<this[_0x34c792(0x1e8)][_0x34c792(0x1cb)]&&(_0xda08e3=_0x41820e/this['options'][_0x34c792(0x1cb)],_0x169468/_0xda08e3>this[_0x34c792(0x1e8)][_0x34c792(0x1c7)]&&(_0xda08e3=_0x169468/this[_0x34c792(0x1e8)][_0x34c792(0x1c7)]));var _0x2a57fa=this[_0x34c792(0x1db)][_0x34c792(0x221)]*1.5,_0x1bb693=_0x1c7397/_0xda08e3+_0x2a57fa*0x2,_0x515de4=_0x1a84d6/_0xda08e3+_0x2a57fa*0x2,_0x575d71=_0x2a57fa*_0xda08e3;_0x5e76b2[_0x34c792(0x1be)]-=_0x575d71,_0x5e76b2[_0x34c792(0x219)]-=_0x575d71,_0x5e76b2['xmax']+=_0x575d71,_0x5e76b2[_0x34c792(0x20e)]+=_0x575d71,this[_0x34c792(0x1eb)]=_0xda08e3,_0x172936=geLatLngBounds(_0x5e76b2),this['_rectangle']=Cesium[_0x34c792(0x1d2)][_0x34c792(0x204)](_0x172936['xmin'],_0x172936[_0x34c792(0x219)],_0x172936[_0x34c792(0x23d)],_0x172936['ymax']);var _0x280a25=(_0x45a4c8=_0x3e4d0c[0x0]['value'])!==null&&_0x45a4c8!==void 0x0?_0x45a4c8:0x1,_0x229b9c=(_0x245e6f=_0x3e4d0c[0x0][_0x34c792(0x22f)])!==null&&_0x245e6f!==void 0x0?_0x245e6f:0x0,_0x2a63c8=[];_0x3e4d0c[_0x34c792(0x20d)](function(_0x225a27){var _0x548a50=_0x34c792,_0x2dca92=mars3d__namespace['PointTrans'][_0x548a50(0x228)]([_0x225a27[_0x548a50(0x236)],_0x225a27['lat']]),_0x3d2dc4=_0x225a27[_0x548a50(0x22f)]||0x1,_0x583b8c=Math[_0x548a50(0x1d3)]((_0x2dca92[0x0]-_0x5e76b2['xmin'])/_0xda08e3),_0x3973df=Math['round']((_0x5e76b2[_0x548a50(0x20e)]-_0x2dca92[0x1])/_0xda08e3);_0x280a25=Math[_0x548a50(0x1d7)](_0x280a25,_0x3d2dc4),_0x229b9c=Math['min'](_0x229b9c,_0x3d2dc4),_0x2a63c8['push']({'x':_0x583b8c,'y':_0x3973df,'value':_0x3d2dc4});});var _0x5737b3={'min':_0x229b9c,'max':_0x280a25,'data':_0x2a63c8};this[_0x34c792(0x1ad)]=_0x5737b3;(!this['_last_mBounds']||_0x5e76b2['xmin']!==this['_last_mBounds'][_0x34c792(0x1be)]||_0x5e76b2[_0x34c792(0x219)]!==this[_0x34c792(0x1a7)][_0x34c792(0x219)]||_0x5e76b2[_0x34c792(0x23d)]!==this['_last_mBounds'][_0x34c792(0x23d)]||_0x5e76b2[_0x34c792(0x20e)]!==this[_0x34c792(0x1a7)][_0x34c792(0x20e)])&&(this[_0x34c792(0x1a7)]=_0x5e76b2,!this['heatStyle'][_0x34c792(0x20f)]&&(this[_0x34c792(0x1db)][_0x34c792(0x20f)]=mars3d__namespace['DomUtil'][_0x34c792(0x1bf)](_0x34c792(0x1e1),_0x34c792(0x1d9),this[_0x34c792(0x1f2)]['container'])),this[_0x34c792(0x1db)][_0x34c792(0x20f)][_0x34c792(0x21d)][_0x34c792(0x1bd)]=_0x34c792(0x1c5)[_0x34c792(0x234)](_0x1bb693,_0x34c792(0x1ff))[_0x34c792(0x234)](_0x515de4,_0x34c792(0x1aa)),!this[_0x34c792(0x1e0)]?this[_0x34c792(0x1e0)]=h337__namespace['create'](this[_0x34c792(0x1db)]):this['_heat'][_0x34c792(0x1b0)](this[_0x34c792(0x1db)]));this[_0x34c792(0x1e0)][_0x34c792(0x1f1)](_0x5737b3);var _0x13c11f=mars3d__namespace['DomUtil']['copyCanvas'](this[_0x34c792(0x1e0)][_0x34c792(0x1f4)]['canvas']);return _0x13c11f;}},{'key':_0x339aac(0x1f5),'value':function _0xb11ac3(){var _0x7fc904=_0x339aac;this[_0x7fc904(0x1e0)][_0x7fc904(0x1b0)]({'radius':this[_0x7fc904(0x1db)][_0x7fc904(0x221)]*this['style'][_0x7fc904(0x220)],'blur':this['heatStyle'][_0x7fc904(0x222)]*this[_0x7fc904(0x21d)][_0x7fc904(0x21e)],'gradient':this[_0x7fc904(0x1db)]['gradientArc']||{0.25:_0x7fc904(0x1a4),0.55:'rgb(140,140,140)',0.85:_0x7fc904(0x200),0x1:_0x7fc904(0x21b)}});var _0x5bd6fc=mars3d__namespace['DomUtil'][_0x7fc904(0x1c3)](this[_0x7fc904(0x1e0)][_0x7fc904(0x1f4)][_0x7fc904(0x1b8)]);return this[_0x7fc904(0x1e0)]['configure'](this[_0x7fc904(0x1e8)][_0x7fc904(0x1db)]),_0x5bd6fc;}},{'key':_0x339aac(0x1ec),'value':function _0x27aa4e(_0x211f45){var _0x34c905=_0x339aac,_0xfba533=mars3d__namespace[_0x34c905(0x1b4)][_0x34c905(0x203)](_0x211f45);if(!_0xfba533)return{};var _0x20fd17=mars3d__namespace['PointTrans'][_0x34c905(0x228)]([_0xfba533['lng'],_0xfba533['lat']]),_0x4bffc9=this['_last_mBounds'],_0x5a75cb=Math['round']((_0x20fd17[0x0]-_0x4bffc9[_0x34c905(0x1be)])/this[_0x34c905(0x1eb)]),_0x46db88=Math[_0x34c905(0x1d3)]((_0x4bffc9[_0x34c905(0x20e)]-_0x20fd17[0x1])/this[_0x34c905(0x1eb)]),_0x501867=this['_heat'][_0x34c905(0x212)]({'x':_0x5a75cb,'y':_0x46db88}),_0x5b5841=this[_0x34c905(0x1e0)]['_renderer']['ctx'][_0x34c905(0x223)](_0x5a75cb-0x1,_0x46db88-0x1,0x1,0x1)[_0x34c905(0x1df)];return{'x':_0x5a75cb,'y':_0x46db88,'value':_0x501867,'color':_0x34c905(0x21a)+_0x5b5841[0x0]+','+_0x5b5841[0x1]+','+_0x5b5841[0x2]+','+_0x5b5841[0x3]+')'};}}]),_0x5a9107;}(BaseLayer);mars3d__namespace[_0x3789bd(0x229)][_0x3789bd(0x1fe)]=HeatLayer,mars3d__namespace[_0x3789bd(0x231)]['register'](_0x3789bd(0x1fc),HeatLayer);function getMercatorBounds(_0x7e2b3d){var _0x493106=_0x3789bd,_0xd7cd9f=mars3d__namespace[_0x493106(0x1ce)][_0x493106(0x228)]([_0x7e2b3d[_0x493106(0x1be)],_0x7e2b3d[_0x493106(0x219)]]),_0x163dc0=mars3d__namespace[_0x493106(0x1ce)][_0x493106(0x228)]([_0x7e2b3d[_0x493106(0x23d)],_0x7e2b3d[_0x493106(0x20e)]]);return{'xmin':_0xd7cd9f[0x0],'ymin':_0xd7cd9f[0x1],'xmax':_0x163dc0[0x0],'ymax':_0x163dc0[0x1]};}function geLatLngBounds(_0x12d5c7){var _0x16cea5=_0x3789bd,_0x62cc5f=mars3d__namespace[_0x16cea5(0x1ce)]['mercator2lonlat']([_0x12d5c7['xmin'],_0x12d5c7[_0x16cea5(0x219)]]),_0x47935f=mars3d__namespace[_0x16cea5(0x1ce)][_0x16cea5(0x226)]([_0x12d5c7[_0x16cea5(0x23d)],_0x12d5c7[_0x16cea5(0x20e)]]);return{'xmin':_0x62cc5f[0x0],'ymin':_0x62cc5f[0x1],'xmax':_0x47935f[0x0],'ymax':_0x47935f[0x1]};}exports[_0x3789bd(0x1fe)]=HeatLayer,Object['defineProperty'](exports,_0x3789bd(0x225),{'value':!![]});
}));
