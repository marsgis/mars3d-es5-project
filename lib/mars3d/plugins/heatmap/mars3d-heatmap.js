/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.9
 * 编译日期：2022-10-09 09:18:49
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x5341d7=_0x7871;(function(_0x6ae3a,_0x526a44){var _0x13e089=_0x7871,_0x523a12=_0x6ae3a();while(!![]){try{var _0x1eea44=parseInt(_0x13e089(0x115))/0x1*(-parseInt(_0x13e089(0x108))/0x2)+-parseInt(_0x13e089(0xb6))/0x3*(parseInt(_0x13e089(0x11b))/0x4)+parseInt(_0x13e089(0x14b))/0x5+parseInt(_0x13e089(0xb5))/0x6*(parseInt(_0x13e089(0xdd))/0x7)+-parseInt(_0x13e089(0x13c))/0x8+parseInt(_0x13e089(0x147))/0x9+-parseInt(_0x13e089(0xf5))/0xa*(-parseInt(_0x13e089(0x13d))/0xb);if(_0x1eea44===_0x526a44)break;else _0x523a12['push'](_0x523a12['shift']());}catch(_0x58edeb){_0x523a12['push'](_0x523a12['shift']());}}}(_0x1578,0x3665b));function _interopNamespace(_0x10f71c){var _0x47a396=_0x7871;if(_0x10f71c&&_0x10f71c[_0x47a396(0x11f)])return _0x10f71c;var _0x2e163d=Object[_0x47a396(0xaf)](null);return _0x10f71c&&Object[_0x47a396(0xf8)](_0x10f71c)[_0x47a396(0x10a)](function(_0x51d187){var _0x4ad57b=_0x47a396;if(_0x51d187!==_0x4ad57b(0xb8)){var _0xce759=Object[_0x4ad57b(0x10d)](_0x10f71c,_0x51d187);Object[_0x4ad57b(0xbb)](_0x2e163d,_0x51d187,_0xce759[_0x4ad57b(0xed)]?_0xce759:{'enumerable':!![],'get':function(){return _0x10f71c[_0x51d187];}});}}),_0x2e163d[_0x47a396(0xb8)]=_0x10f71c,_0x2e163d;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function _0x1578(){var _0x1bafc0=['D2LKDgG6','ChG7AgvPz2H0oG','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','y2XPzw50sgvPz2H0','yxjJ','mta4oti2muDACMjcCW','z2v0uhjVDg90ExbLt2y','y29VCMrPBMf0zxm','z3jHBNvSyxjPDhK','mta0otCZnxrdzez6wa','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','y29UC3rYDwn0','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','CM91BMq','zw51BwvYywjSzq','zgf0yq','x3nLDe9WDgLVBNniB29R','y3jLyxrL','z3jHCgHPyW','yxjJuMfKAxvZu2nHBgu','y3nZvgv4Da','CMfKAxvZ','y29UC3rYDwn0B3i','nJzwz2nzwNa','mZeWmdHTChbhzNq','rg9TvxrPBa','zgvMyxvSDa','yM9KEq','BwvYz2u','zgvMAw5LuhjVCgvYDhK','Cg9ZAxrPB25Z','s0vfua','y2XPzw50v2LKDgG','x3jLBw92zwriB29R','CMDIkdaSmcWWkq','ywrKr3jHCgHPyW','AgvHDa','q2vZAxvT','Cg9PBNrZ','zgLMzKHLAwDODa','zgL2','AgvHDfn0EwXL','quXxqvLt','y2XLyxi','Ew1HEa','ChvZAa','z2v0ug9PBNreyxrH','Eg1PBG','Bgf0','C2v0rgf0yq','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','ywrKtgf5zxi','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','vKvsvevyx0zpuK1bva','C3r5Bgu','qMXLBMrPBMDtDgf0zq','x2nYzwf0zuDYyxbOAwm','C2v0ug9ZAxrPB25Z','Dw5KzwzPBMvK','z3jLzw4','D3jPDgfIBgu','Bg9UBgf0mM1LCMnHDg9Y','tg5Ntgf0ug9PBNq','mte5ndqXqwXODLPg','Bwf4','CMvK','BwLUq2fUDMfZu2L6zq','Ew1PBG','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','y29WEunHBNzHCW','ChjVDg90ExbL','EwvSBg93','x2DLDeHLyxrdyw52yxm','vxrPBa','CMvTB3zLtgf5zxi','Bg5N','B2jQzwn0','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','x3bVC2L0Aw9UCW','z2v0','u3rLBMnPBe9WzxjHDgLVBG','uMvJDgfUz2XLuhjPBwL0AxzL','zMLSDgvY','BwLU','zMX5vg9cEufUAw1HDgLVBKvUza','x19WCM90B19F','x3jLy3rHBMDSzq','mZq5mtq3me1TAhDtsW','CMvJDgfUz2XL','x2XHEwvY','A2v5CW','x3jLBMrLCMvY','zNvUy3rPB24','r3jHCgHPy0XHEwvY','u3rLBMnPBez1BMn0Aw9U','ChG7','q29SB3i','zM9YBwf0uMvJDgfUz2XL','y2fUDMfZ','Dg9bCNjHEq','AxngB3jTyxq','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','y29UzMLNDxjHyMXL','x2XHC3rFBujVDw5KCW','zNjVBunHy2HL','zNjVBurLz3jLzxm','mte3mhrkturICq','yxbWBhK','zM9YrwfJAa','C2HVDW','D2LKDgG','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','x21cB3vUzhnnyxG','uMvUzgvYu3rHDgu','yNvTCe1HCa','x2HLyxq','Aw1Hz2u','y3r4','CMvTB3zLr3jHCgHPyW','nZaZqMHSv0Pu','CMvTB3zL','quXqsefFqKXftKq','z2v0vMfSDwvbDa','BwvYy2f0B3iYBg9UBgf0','x21VDw50zwriB29R','mtyWt3D1D3nS','Bgf5zxi','CMDIysG','CMDIkdi1nsWYntuSmJu1kq','x19LC01VzhvSzq','x21HCa','z3jHzgLLBNrbCMm','B3b0Aw9UCW','Dw5PzM9YBxm','x2DYyxbOAwm','ywjZ','y2fSBa','ug9PBNruCMfUCW','y29Uy2f0','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','x2fKzgvKsg9VAW','Bwf4q2fUDMfZu2L6zq','DMfSDwu','tgf5zxjvDgLS','DMfSDwvpzG','ug9SEvv0AwW','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','uKvqtefdrq','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','BgvUz3rO','CgfYC2u','yMX1zq','y29UzMLNDxjL','y29UDgfPBMvY','yxjJqMX1CLnJywXL','z2v0sw1Hz2veyxrH','x3nJywXL','x2DLDefYy0HLyxrdyw52yxm','mtm1nty1nNnJEvrzza','mJjbDuLhqMG','zMX5vg8','x2nYzwf0zufYy0DYyxbOAwm','Eg1HEa','x2XHC3rFAgvHDerHDge'];_0x1578=function(){return _0x1bafc0;};return _0x1578();}function ownKeys(_0x352261,_0x1987c0){var _0x2cb7e4=_0x7871,_0x3dbc1f=Object['keys'](_0x352261);if(Object[_0x2cb7e4(0x129)]){var _0x585673=Object[_0x2cb7e4(0x129)](_0x352261);_0x1987c0&&(_0x585673=_0x585673[_0x2cb7e4(0xf0)](function(_0x4e93bb){var _0x370dc2=_0x2cb7e4;return Object[_0x370dc2(0x10d)](_0x352261,_0x4e93bb)[_0x370dc2(0x150)];})),_0x3dbc1f[_0x2cb7e4(0xcb)]['apply'](_0x3dbc1f,_0x585673);}return _0x3dbc1f;}function _objectSpread2(_0x134eab){var _0x163d7c=_0x7871;for(var _0x44dd0e=0x1;_0x44dd0e<arguments[_0x163d7c(0x133)];_0x44dd0e++){var _0x26502f=null!=arguments[_0x44dd0e]?arguments[_0x44dd0e]:{};_0x44dd0e%0x2?ownKeys(Object(_0x26502f),!0x0)['forEach'](function(_0x170368){_defineProperty(_0x134eab,_0x170368,_0x26502f[_0x170368]);}):Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x134eab,Object[_0x163d7c(0x130)](_0x26502f)):ownKeys(Object(_0x26502f))[_0x163d7c(0x10a)](function(_0x4c041f){var _0x2b9377=_0x163d7c;Object[_0x2b9377(0xbb)](_0x134eab,_0x4c041f,Object[_0x2b9377(0x10d)](_0x26502f,_0x4c041f));});}return _0x134eab;}function _classCallCheck(_0x109ee2,_0x2821da){var _0x210dd2=_0x7871;if(!(_0x109ee2 instanceof _0x2821da))throw new TypeError(_0x210dd2(0x144));}function _defineProperties(_0x520232,_0x2c9bbd){var _0x10d34a=_0x7871;for(var _0x29f76e=0x0;_0x29f76e<_0x2c9bbd['length'];_0x29f76e++){var _0x26bef2=_0x2c9bbd[_0x29f76e];_0x26bef2[_0x10d34a(0x150)]=_0x26bef2[_0x10d34a(0x150)]||![],_0x26bef2[_0x10d34a(0x104)]=!![];if('value'in _0x26bef2)_0x26bef2[_0x10d34a(0xda)]=!![];Object['defineProperty'](_0x520232,_0x26bef2['key'],_0x26bef2);}}function _createClass(_0x15b269,_0x2006b0,_0x10ac76){var _0x4c9343=_0x7871;if(_0x2006b0)_defineProperties(_0x15b269[_0x4c9343(0xe4)],_0x2006b0);if(_0x10ac76)_defineProperties(_0x15b269,_0x10ac76);return Object['defineProperty'](_0x15b269,_0x4c9343(0xe4),{'writable':![]}),_0x15b269;}function _defineProperty(_0x5c6197,_0x11e710,_0x43a884){var _0x2d7041=_0x7871;return _0x11e710 in _0x5c6197?Object[_0x2d7041(0xbb)](_0x5c6197,_0x11e710,{'value':_0x43a884,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x5c6197[_0x11e710]=_0x43a884,_0x5c6197;}function _inherits(_0x400e7a,_0x2427d7){var _0x5a5b63=_0x7871;if(typeof _0x2427d7!=='function'&&_0x2427d7!==null)throw new TypeError(_0x5a5b63(0xd2));_0x400e7a['prototype']=Object['create'](_0x2427d7&&_0x2427d7[_0x5a5b63(0xe4)],{'constructor':{'value':_0x400e7a,'writable':!![],'configurable':!![]}}),Object[_0x5a5b63(0xbb)](_0x400e7a,_0x5a5b63(0xe4),{'writable':![]});if(_0x2427d7)_setPrototypeOf(_0x400e7a,_0x2427d7);}function _getPrototypeOf(_0x1caacd){var _0x4743a9=_0x7871;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x4743a9(0x148)]:function _0x56cda0(_0x598e53){var _0x37800b=_0x4743a9;return _0x598e53[_0x37800b(0xf3)]||Object[_0x37800b(0x148)](_0x598e53);},_getPrototypeOf(_0x1caacd);}function _setPrototypeOf(_0x54a7b4,_0x2d81bf){return _setPrototypeOf=Object['setPrototypeOf']||function _0x47cc6f(_0x30c2b4,_0x3c60f0){var _0xe6d1f7=_0x7871;return _0x30c2b4[_0xe6d1f7(0xf3)]=_0x3c60f0,_0x30c2b4;},_setPrototypeOf(_0x54a7b4,_0x2d81bf);}function _isNativeReflectConstruct(){var _0x883182=_0x7871;if(typeof Reflect===_0x883182(0xd8)||!Reflect[_0x883182(0x14d)])return![];if(Reflect[_0x883182(0x14d)]['sham'])return![];if(typeof Proxy===_0x883182(0xfa))return!![];try{return Boolean[_0x883182(0xe4)][_0x883182(0x12e)][_0x883182(0x126)](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x13f7b8){return![];}}function _assertThisInitialized(_0x2402de){if(_0x2402de===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x2402de;}function _possibleConstructorReturn(_0x335efc,_0x292bd2){var _0x568fe8=_0x7871;if(_0x292bd2&&(typeof _0x292bd2===_0x568fe8(0xea)||typeof _0x292bd2==='function'))return _0x292bd2;else{if(_0x292bd2!==void 0x0)throw new TypeError(_0x568fe8(0x14c));}return _assertThisInitialized(_0x335efc);}function _createSuper(_0x4a68d4){var _0x13a030=_isNativeReflectConstruct();return function _0x27f5ba(){var _0x3db90e=_0x7871,_0x1fa94a=_getPrototypeOf(_0x4a68d4),_0xcaabc3;if(_0x13a030){var _0xb8e34d=_getPrototypeOf(this)[_0x3db90e(0xb4)];_0xcaabc3=Reflect['construct'](_0x1fa94a,arguments,_0xb8e34d);}else _0xcaabc3=_0x1fa94a[_0x3db90e(0x109)](this,arguments);return _possibleConstructorReturn(this,_0xcaabc3);};}var HeatMaterial=_0x5341d7(0x14e);if(!h337__namespace[_0x5341d7(0xaf)])throw new Error(_0x5341d7(0xe2));var Cesium=mars3d__namespace[_0x5341d7(0xc3)],BaseLayer=mars3d__namespace[_0x5341d7(0x11c)]['BaseLayer'],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x5341d7(0x135),0.6:_0x5341d7(0xd9),0.8:_0x5341d7(0xe5),0.9:_0x5341d7(0xdf)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x5341d7(0x132)][_0x5341d7(0xd3)]},HeatLayer=function(_0x527cde){var _0x1f55e0=_0x5341d7;_inherits(_0x52a9ba,_0x527cde);var _0x3aa2d1=_createSuper(_0x52a9ba);function _0x52a9ba(){var _0x46b999=_0x7871,_0x44833b,_0x50462c,_0x4cf634,_0x449f00=arguments[_0x46b999(0x133)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x52a9ba),_0x4cf634=_0x3aa2d1[_0x46b999(0x126)](this,_0x449f00),_0x4cf634['options'][_0x46b999(0x12b)]=(_0x44833b=_0x4cf634[_0x46b999(0x122)][_0x46b999(0x12b)])!==null&&_0x44833b!==void 0x0?_0x44833b:document[_0x46b999(0xb9)][_0x46b999(0xbe)],_0x4cf634[_0x46b999(0x122)][_0x46b999(0x12b)]=Math[_0x46b999(0xf1)](_0x4cf634[_0x46b999(0x122)][_0x46b999(0x12b)],0x1388),_0x4cf634[_0x46b999(0x122)][_0x46b999(0xe0)]=(_0x50462c=_0x4cf634[_0x46b999(0x122)]['minCanvasSize'])!==null&&_0x50462c!==void 0x0?_0x50462c:document[_0x46b999(0xb9)][_0x46b999(0x145)],_0x4cf634['options'][_0x46b999(0xe0)]=Math[_0x46b999(0xde)](_0x4cf634[_0x46b999(0x122)]['minCanvasSize'],0x2bc),_0x4cf634[_0x46b999(0x122)][_0x46b999(0xc7)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x4cf634[_0x46b999(0x122)][_0x46b999(0xc7)]||{}),_0x4cf634[_0x46b999(0x122)]['style']=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x4cf634[_0x46b999(0x122)][_0x46b999(0xd4)]||{}),_0x4cf634;}return _createClass(_0x52a9ba,[{'key':_0x1f55e0(0x11c),'get':function _0x31d28c(){var _0x402484=_0x1f55e0;return this[_0x402484(0xf7)];}},{'key':'heatStyle','get':function _0x41968f(){var _0x5a15d9=_0x1f55e0;return this['options'][_0x5a15d9(0xc7)];},'set':function _0x3e8b43(_0x32fa04){var _0x1c52b2=_0x1f55e0;this['options'][_0x1c52b2(0xc7)]=mars3d__namespace[_0x1c52b2(0xe7)][_0x1c52b2(0xba)](this['options'][_0x1c52b2(0xc7)],_0x32fa04),this['_heat']&&(this['_heat']['configure'](this['options'][_0x1c52b2(0xc7)]),this[_0x1c52b2(0xd0)](!![]));}},{'key':'style','get':function _0x2c3bc3(){var _0x48677c=_0x1f55e0;return this['options'][_0x48677c(0xd4)];},'set':function _0x150550(_0x48e9cf){var _0x155199=_0x1f55e0;this[_0x155199(0x122)][_0x155199(0xd4)]=mars3d__namespace['Util'][_0x155199(0xba)](this[_0x155199(0x122)][_0x155199(0xd4)],_0x48e9cf);}},{'key':_0x1f55e0(0xbc),'get':function _0xf09154(){var _0x21e0d5=_0x1f55e0;return this[_0x21e0d5(0xec)];},'set':function _0x4b9638(_0x3aeca0){var _0x31828c=_0x1f55e0;this[_0x31828c(0xd7)](_0x3aeca0);}},{'key':_0x1f55e0(0x149),'get':function _0x6124dd(){var _0x2adc51=_0x1f55e0,_0x25c02a=[];return this[_0x2adc51(0xc4)][_0x2adc51(0x10a)](function(_0x233733){var _0x3f16e6=_0x2adc51;_0x25c02a['push'](_0x233733[_0x3f16e6(0x101)]());}),_0x25c02a;}},{'key':'rectangle','get':function _0x1f3592(){var _0x27838e=_0x1f55e0;return this[_0x27838e(0xf4)];}},{'key':_0x1f55e0(0xae),'value':function _0xa28c01(_0x2abe4b,_0x15c259){var _0x3868ad=_0x1f55e0;_0x2abe4b[_0x3868ad(0xbc)]&&(this[_0x3868ad(0xbc)]=_0x2abe4b[_0x3868ad(0xbc)]);}},{'key':_0x1f55e0(0x11a),'value':function _0x5197d7(){var _0x102225=_0x1f55e0;this['_layer']=new mars3d__namespace[(_0x102225(0x11c))][(_0x102225(0xfb))]({'private':!![]});}},{'key':_0x1f55e0(0x12a),'value':function _0x25fea2(){var _0x2298ec=_0x1f55e0;this[_0x2298ec(0x120)][_0x2298ec(0xd1)](this[_0x2298ec(0xf7)]),this[_0x2298ec(0x122)][_0x2298ec(0xbc)]&&(this[_0x2298ec(0xbc)]=this[_0x2298ec(0x122)][_0x2298ec(0xbc)]),this[_0x2298ec(0x122)][_0x2298ec(0x13e)]&&this[_0x2298ec(0xf2)]();}},{'key':_0x1f55e0(0xbf),'value':function _0x232da0(){var _0x12a694=_0x1f55e0;this[_0x12a694(0xc7)][_0x12a694(0x137)]&&(mars3d__namespace['DomUtil'][_0x12a694(0x116)](this[_0x12a694(0xc7)][_0x12a694(0x137)]),delete this[_0x12a694(0xc7)][_0x12a694(0x137)]),this[_0x12a694(0xc9)](),this[_0x12a694(0x120)][_0x12a694(0xe8)](this[_0x12a694(0xf7)]);}},{'key':'addPosition','value':function _0x49f694(_0x2ba8db,_0x3c54c8){var _0xeb3fd=_0x1f55e0;this[_0xeb3fd(0xec)]=this[_0xeb3fd(0xec)]||[],this[_0xeb3fd(0xec)][_0xeb3fd(0xcb)](_0x2ba8db),this['_updatePositionsHook'](_0x3c54c8);}},{'key':_0x1f55e0(0xd7),'value':function _0x4f13b9(_0x43ef72,_0x107170){var _0xbad631=_0x1f55e0;this[_0xbad631(0xec)]=_0x43ef72,this[_0xbad631(0xd0)](_0x107170);}},{'key':'clear','value':function _0x5c598f(){var _0x4af100=_0x1f55e0;this[_0x4af100(0x124)]&&(this[_0x4af100(0xf7)][_0x4af100(0x114)](this['_graphic'],!![]),delete this['_graphic']);}},{'key':_0x1f55e0(0xd0),'value':function _0x40bb39(_0x206175){var _0x296196=_0x1f55e0;if(!this[_0x296196(0x10b)]||!this[_0x296196(0x120)]||!this['positions']||this[_0x296196(0xbc)][_0x296196(0x133)]===0x0)return this;var _0x3c7a53=this['_getHeatCanvas']();return this['style'][_0x296196(0x146)]?this[_0x296196(0x124)]&&_0x206175?(this[_0x296196(0x124)][_0x296196(0x123)][_0x296196(0x112)]=_0x3c7a53,this[_0x296196(0x124)][_0x296196(0x123)][_0x296196(0x110)]=this[_0x296196(0x13b)]()):this[_0x296196(0x13f)](_0x3c7a53):this[_0x296196(0x124)]&&_0x206175?this[_0x296196(0x124)][_0x296196(0x123)][_0x296196(0x112)]=_0x3c7a53:this[_0x296196(0xd6)](_0x3c7a53),this;}},{'key':_0x1f55e0(0xd6),'value':function _0x281eaa(_0x338701){var _0x524569=_0x1f55e0;this[_0x524569(0xc9)](),this['_graphic']=new mars3d__namespace[(_0x524569(0xb0))][(_0x524569(0xef))](_objectSpread2(_objectSpread2({},this[_0x524569(0x122)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x524569(0x132))]({'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x338701},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x524569(0xf7)]['addGraphic'](this[_0x524569(0x124)]);}},{'key':_0x1f55e0(0x13f),'value':function _0x458b04(_0x3d9348){var _0x41a0c0=_0x1f55e0,_0x5b1617;this['clear']();var _0x172d9d=Cesium[_0x41a0c0(0x10f)][_0x41a0c0(0x106)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x41a0c0(0xc8)],'frontOperation':{'fail':Cesium['StencilOperation'][_0x41a0c0(0xbd)],'zFail':Cesium['StencilOperation'][_0x41a0c0(0xbd)],'zPass':Cesium[_0x41a0c0(0xee)]['REPLACE']},'backFunction':Cesium[_0x41a0c0(0xfc)][_0x41a0c0(0xc8)],'backOperation':{'fail':Cesium[_0x41a0c0(0xee)][_0x41a0c0(0xbd)],'zFail':Cesium[_0x41a0c0(0xee)]['KEEP'],'zPass':Cesium[_0x41a0c0(0xee)][_0x41a0c0(0x131)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x41a0c0(0xd5)][_0x41a0c0(0x117)]}),_0x252737=Math['floor']((_0x5b1617=this[_0x41a0c0(0xd4)][_0x41a0c0(0xc5)])!==null&&_0x5b1617!==void 0x0?_0x5b1617:this[_0x41a0c0(0x10e)]*0.02)+0.1;this[_0x41a0c0(0xd4)][_0x41a0c0(0xc5)]&&delete this[_0x41a0c0(0xd4)][_0x41a0c0(0xc5)];var _0x196faa=(this[_0x41a0c0(0xd4)]['splitNum'],0x64),_0x36f9b3=Math[_0x41a0c0(0xde)](this[_0x41a0c0(0xf4)]['height'],this[_0x41a0c0(0xf4)][_0x41a0c0(0x10c)]);this['style'][_0x41a0c0(0x14a)]=_0x36f9b3/=_0x196faa,this[_0x41a0c0(0x124)]=new mars3d__namespace[(_0x41a0c0(0xb0))][(_0x41a0c0(0xef))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x41a0c0(0xf4)],'appearance':new Cesium[(_0x41a0c0(0x132))]({'aboveGround':!![],'renderState':_0x172d9d,'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x3d9348,'repeat':new Cesium['Cartesian2'](0x1,0x1),'color':new Cesium[(_0x41a0c0(0xfe))](0x1,0x1,0x1,0.01),'bumpMap':this[_0x41a0c0(0x13b)]()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':'attribute\x20vec3\x20position3DHigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec3\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20batchId;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bumpMap_3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionMC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionEC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_st;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20p\x20=\x20czm_computePosition();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionMC\x20=\x20position3DHigh\x20+\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionEC\x20=\x20(czm_modelViewRelativeToEye\x20*\x20p).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_st\x20=\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(bumpMap_3,\x20v_st);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBump\x20=\x20distance(vec3(0.0),color.rgb);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20upDir\x20=\x20normalize(v_positionMC.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20disPos\x20=\x20upDir\x20*\x20centerBump\x20*\x20'['concat'](_0x252737,_0x41a0c0(0xeb)),'flat':!![]})})),this['_layer'][_0x41a0c0(0xc1)](this[_0x41a0c0(0x124)]);}},{'key':'getRectangle','value':function _0xc51707(_0x3891bb){var _0x2d87c6=_0x1f55e0;return _0x3891bb!==null&&_0x3891bb!==void 0x0&&_0x3891bb[_0x2d87c6(0x102)]&&this['_rectangle']?mars3d__namespace[_0x2d87c6(0x12f)][_0x2d87c6(0xff)](this['_rectangle']):this[_0x2d87c6(0xf4)];}},{'key':_0x1f55e0(0xe6),'value':function _0x15968e(){var _0x5b46a8=_0x1f55e0,_0x32e075=this,_0x103fe7,_0x361c92,_0x3dcad6,_0xb10b88,_0x45c6b5=this['_positions'],_0x394146=[],_0xc8ce7d,_0x3be4b3,_0x18d31a,_0x1f9420;_0x45c6b5[_0x5b46a8(0x10a)](function(_0x3b3132){var _0x4455c5=_0x5b46a8,_0x3d18d0=mars3d__namespace[_0x4455c5(0xdc)][_0x4455c5(0x134)](_0x3b3132);if(!_0x3d18d0)return;_0x3d18d0[_0x4455c5(0x12c)]=_0x3b3132[_0x4455c5(0x12c)]||0x1,!_0x32e075[_0x4455c5(0x122)][_0x4455c5(0xf6)]&&(_0xc8ce7d===undefined?(_0xc8ce7d=_0x3d18d0[_0x4455c5(0xe9)],_0x3be4b3=_0x3d18d0[_0x4455c5(0xe9)],_0x18d31a=_0x3d18d0[_0x4455c5(0xce)],_0x1f9420=_0x3d18d0[_0x4455c5(0xce)]):(_0xc8ce7d=Math[_0x4455c5(0xf1)](_0xc8ce7d,_0x3d18d0[_0x4455c5(0xe9)]),_0x3be4b3=Math['max'](_0x3be4b3,_0x3d18d0['lng']),_0x18d31a=Math[_0x4455c5(0xf1)](_0x18d31a,_0x3d18d0[_0x4455c5(0xce)]),_0x1f9420=Math[_0x4455c5(0xde)](_0x1f9420,_0x3d18d0[_0x4455c5(0xce)]))),_0x394146['push'](_0x3d18d0);});var _0x41cbed=this[_0x5b46a8(0x122)]['rectangle']||{'xmin':_0xc8ce7d,'xmax':_0x3be4b3,'ymin':_0x18d31a,'ymax':_0x1f9420},_0x4c7e0f=getMercatorBounds(_0x41cbed),_0x18bc74=Math[_0x5b46a8(0x125)](_0x4c7e0f[_0x5b46a8(0x140)]-_0x4c7e0f[_0x5b46a8(0xcd)]),_0x13aded=Math[_0x5b46a8(0x125)](_0x4c7e0f['ymax']-_0x4c7e0f[_0x5b46a8(0xe1)]),_0x500216=Math[_0x5b46a8(0xde)](_0x18bc74,_0x13aded),_0x121cd6=Math['min'](_0x18bc74,_0x13aded);this[_0x5b46a8(0x10e)]=_0x500216;var _0xd8bd1e=0x1;if(_0x500216>this[_0x5b46a8(0x122)][_0x5b46a8(0x12b)])_0xd8bd1e=_0x500216/this[_0x5b46a8(0x122)][_0x5b46a8(0x12b)],_0x121cd6/_0xd8bd1e<this[_0x5b46a8(0x122)][_0x5b46a8(0xe0)]&&(_0xd8bd1e=_0x121cd6/this[_0x5b46a8(0x122)]['minCanvasSize']);else _0x121cd6<this['options']['minCanvasSize']&&(_0xd8bd1e=_0x121cd6/this[_0x5b46a8(0x122)][_0x5b46a8(0xe0)],_0x500216/_0xd8bd1e>this[_0x5b46a8(0x122)]['maxCanvasSize']&&(_0xd8bd1e=_0x500216/this[_0x5b46a8(0x122)]['maxCanvasSize']));var _0xf86647=this[_0x5b46a8(0xc7)][_0x5b46a8(0xb3)]*1.5,_0x25f0c8=_0x18bc74/_0xd8bd1e+_0xf86647*0x2,_0x2ae72a=_0x13aded/_0xd8bd1e+_0xf86647*0x2,_0x1e8df8=_0xf86647*_0xd8bd1e;_0x4c7e0f[_0x5b46a8(0xcd)]-=_0x1e8df8,_0x4c7e0f[_0x5b46a8(0xe1)]-=_0x1e8df8,_0x4c7e0f[_0x5b46a8(0x140)]+=_0x1e8df8,_0x4c7e0f[_0x5b46a8(0xca)]+=_0x1e8df8,this[_0x5b46a8(0x13a)]=_0xd8bd1e,_0x41cbed=geLatLngBounds(_0x4c7e0f),this[_0x5b46a8(0xf4)]=Cesium['Rectangle'][_0x5b46a8(0x107)](_0x41cbed[_0x5b46a8(0xcd)],_0x41cbed[_0x5b46a8(0xe1)],_0x41cbed[_0x5b46a8(0x140)],_0x41cbed[_0x5b46a8(0xca)]);var _0x18b421=(_0x103fe7=_0x394146[0x0][_0x5b46a8(0x12c)])!==null&&_0x103fe7!==void 0x0?_0x103fe7:0x1,_0x4e7549=(_0x361c92=_0x394146[0x0]['value'])!==null&&_0x361c92!==void 0x0?_0x361c92:0x0,_0x22c201=[];_0x394146['forEach'](function(_0x2972ab){var _0x58809d=_0x5b46a8,_0x575f06=mars3d__namespace['PointTrans']['lonlat2mercator']([_0x2972ab[_0x58809d(0xe9)],_0x2972ab['lat']]),_0x53bc26=_0x2972ab[_0x58809d(0x12c)]||0x1,_0x54252e=Math[_0x58809d(0x14f)]((_0x575f06[0x0]-_0x4c7e0f[_0x58809d(0xcd)])/_0xd8bd1e),_0x585fbb=Math['round']((_0x4c7e0f[_0x58809d(0xca)]-_0x575f06[0x1])/_0xd8bd1e);_0x18b421=Math[_0x58809d(0xde)](_0x18b421,_0x53bc26),_0x4e7549=Math[_0x58809d(0xf1)](_0x4e7549,_0x53bc26),_0x22c201[_0x58809d(0xcb)]({'x':_0x54252e,'y':_0x585fbb,'value':_0x53bc26});});var _0x200f69={'min':(_0x3dcad6=this[_0x5b46a8(0x122)][_0x5b46a8(0xf1)])!==null&&_0x3dcad6!==void 0x0?_0x3dcad6:_0x4e7549,'max':(_0xb10b88=this['options'][_0x5b46a8(0xde)])!==null&&_0xb10b88!==void 0x0?_0xb10b88:_0x18b421,'data':_0x22c201};this[_0x5b46a8(0x141)]=_0x200f69;(!this['_last_mBounds']||_0x4c7e0f[_0x5b46a8(0xcd)]!==this[_0x5b46a8(0x105)]['xmin']||_0x4c7e0f[_0x5b46a8(0xe1)]!==this[_0x5b46a8(0x105)][_0x5b46a8(0xe1)]||_0x4c7e0f[_0x5b46a8(0x140)]!==this[_0x5b46a8(0x105)][_0x5b46a8(0x140)]||_0x4c7e0f[_0x5b46a8(0xca)]!==this[_0x5b46a8(0x105)][_0x5b46a8(0xca)])&&(this[_0x5b46a8(0x105)]=_0x4c7e0f,!this['heatStyle'][_0x5b46a8(0x137)]&&(this['heatStyle'][_0x5b46a8(0x137)]=mars3d__namespace[_0x5b46a8(0xb7)][_0x5b46a8(0xaf)](_0x5b46a8(0xc6),_0x5b46a8(0x103),this[_0x5b46a8(0x120)][_0x5b46a8(0x137)])),this[_0x5b46a8(0xc7)][_0x5b46a8(0x137)][_0x5b46a8(0xd4)][_0x5b46a8(0xb2)]=_0x5b46a8(0x142)[_0x5b46a8(0x128)](_0x25f0c8,_0x5b46a8(0x143))[_0x5b46a8(0x128)](_0x2ae72a,_0x5b46a8(0xfd)),!this[_0x5b46a8(0x111)]?this[_0x5b46a8(0x111)]=h337__namespace[_0x5b46a8(0xaf)](this['heatStyle']):this[_0x5b46a8(0x111)][_0x5b46a8(0x136)](this[_0x5b46a8(0xc7)]));this['_heat'][_0x5b46a8(0xcf)](_0x200f69);var _0x42b4f2=mars3d__namespace[_0x5b46a8(0xb7)]['copyCanvas'](this['_heat']['_renderer'][_0x5b46a8(0x100)]);return _0x42b4f2;}},{'key':_0x1f55e0(0x13b),'value':function _0x5a8f4c(){var _0x17e1d3=_0x1f55e0;this[_0x17e1d3(0x111)][_0x17e1d3(0x136)]({'radius':this[_0x17e1d3(0xc7)][_0x17e1d3(0xb3)]*this['style'][_0x17e1d3(0xb1)],'blur':this['heatStyle']['blur']*this[_0x17e1d3(0xd4)][_0x17e1d3(0x138)],'gradient':this[_0x17e1d3(0xc7)][_0x17e1d3(0x121)]||{0.25:_0x17e1d3(0xc0),0.55:'rgb(140,140,140)',0.85:'rgb(216,216,216)',0x1:_0x17e1d3(0x11e)}});var _0x54d8df=mars3d__namespace['DomUtil'][_0x17e1d3(0xe3)](this[_0x17e1d3(0x111)][_0x17e1d3(0xf9)][_0x17e1d3(0x100)]);return this[_0x17e1d3(0x111)][_0x17e1d3(0x136)](this[_0x17e1d3(0x122)][_0x17e1d3(0xc7)]),_0x54d8df;}},{'key':_0x1f55e0(0xcc),'value':function _0x4a766d(_0xc216ae){var _0x5c6bc9=_0x1f55e0,_0x5bd3ff=mars3d__namespace[_0x5c6bc9(0xdc)][_0x5c6bc9(0x134)](_0xc216ae);if(!_0x5bd3ff)return{};var _0x1c4e5d=mars3d__namespace[_0x5c6bc9(0x127)][_0x5c6bc9(0xdb)]([_0x5bd3ff[_0x5c6bc9(0xe9)],_0x5bd3ff[_0x5c6bc9(0xce)]]),_0x2f1da2=this[_0x5c6bc9(0x105)],_0x264e74=Math[_0x5c6bc9(0x14f)]((_0x1c4e5d[0x0]-_0x2f1da2[_0x5c6bc9(0xcd)])/this[_0x5c6bc9(0x13a)]),_0x59ddd7=Math[_0x5c6bc9(0x14f)]((_0x2f1da2['ymax']-_0x1c4e5d[0x1])/this['_scale']),_0x10ec88=this[_0x5c6bc9(0x111)][_0x5c6bc9(0x118)]({'x':_0x264e74,'y':_0x59ddd7}),_0x57f63a=this[_0x5c6bc9(0x111)][_0x5c6bc9(0xf9)][_0x5c6bc9(0x113)][_0x5c6bc9(0x139)](_0x264e74-0x1,_0x59ddd7-0x1,0x1,0x1)[_0x5c6bc9(0xad)];return{'x':_0x264e74,'y':_0x59ddd7,'value':_0x10ec88,'color':_0x5c6bc9(0x11d)+_0x57f63a[0x0]+','+_0x57f63a[0x1]+','+_0x57f63a[0x2]+','+_0x57f63a[0x3]+')'};}}]),_0x52a9ba;}(BaseLayer);mars3d__namespace[_0x5341d7(0x11c)]['HeatLayer']=HeatLayer,mars3d__namespace[_0x5341d7(0x12d)]['register'](_0x5341d7(0xc2),HeatLayer);function _0x7871(_0x37eb61,_0x268cb2){var _0x15786d=_0x1578();return _0x7871=function(_0x787176,_0x50f9a0){_0x787176=_0x787176-0xad;var _0x233903=_0x15786d[_0x787176];if(_0x7871['iWGDBR']===undefined){var _0x728b65=function(_0x10f71c){var _0x2e163d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x51d187='',_0xce759='';for(var _0x352261=0x0,_0x1987c0,_0x3dbc1f,_0x585673=0x0;_0x3dbc1f=_0x10f71c['charAt'](_0x585673++);~_0x3dbc1f&&(_0x1987c0=_0x352261%0x4?_0x1987c0*0x40+_0x3dbc1f:_0x3dbc1f,_0x352261++%0x4)?_0x51d187+=String['fromCharCode'](0xff&_0x1987c0>>(-0x2*_0x352261&0x6)):0x0){_0x3dbc1f=_0x2e163d['indexOf'](_0x3dbc1f);}for(var _0x4e93bb=0x0,_0x134eab=_0x51d187['length'];_0x4e93bb<_0x134eab;_0x4e93bb++){_0xce759+='%'+('00'+_0x51d187['charCodeAt'](_0x4e93bb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xce759);};_0x7871['iKlMGJ']=_0x728b65,_0x37eb61=arguments,_0x7871['iWGDBR']=!![];}var _0x2095e8=_0x15786d[0x0],_0x424883=_0x787176+_0x2095e8,_0x5a0db4=_0x37eb61[_0x424883];return!_0x5a0db4?(_0x233903=_0x7871['iKlMGJ'](_0x233903),_0x37eb61[_0x424883]=_0x233903):_0x233903=_0x5a0db4,_0x233903;},_0x7871(_0x37eb61,_0x268cb2);}function getMercatorBounds(_0x2c29ae){var _0x1fe035=_0x5341d7,_0xa0197f=mars3d__namespace[_0x1fe035(0x127)][_0x1fe035(0xdb)]([_0x2c29ae[_0x1fe035(0xcd)],_0x2c29ae['ymin']]),_0x37f85b=mars3d__namespace[_0x1fe035(0x127)]['lonlat2mercator']([_0x2c29ae[_0x1fe035(0x140)],_0x2c29ae[_0x1fe035(0xca)]]);return{'xmin':_0xa0197f[0x0],'ymin':_0xa0197f[0x1],'xmax':_0x37f85b[0x0],'ymax':_0x37f85b[0x1]};}function geLatLngBounds(_0x3d5da8){var _0x5930f2=_0x5341d7,_0x5ef7e7=mars3d__namespace[_0x5930f2(0x127)][_0x5930f2(0x119)]([_0x3d5da8[_0x5930f2(0xcd)],_0x3d5da8[_0x5930f2(0xe1)]]),_0x4e350f=mars3d__namespace[_0x5930f2(0x127)][_0x5930f2(0x119)]([_0x3d5da8[_0x5930f2(0x140)],_0x3d5da8['ymax']]);return{'xmin':_0x5ef7e7[0x0],'ymin':_0x5ef7e7[0x1],'xmax':_0x4e350f[0x0],'ymax':_0x4e350f[0x1]};}exports['HeatLayer']=HeatLayer,Object[_0x5341d7(0xbb)](exports,_0x5341d7(0x11f),{'value':!![]});
}));
