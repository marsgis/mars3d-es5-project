/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.2
 * 编译日期：2022-08-01 17:50:49
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x4857d0=_0x3331;(function(_0x50c361,_0x45c2da){var _0x56edbd=_0x3331,_0x2ad16d=_0x50c361();while(!![]){try{var _0x42a027=parseInt(_0x56edbd(0x13a))/0x1+-parseInt(_0x56edbd(0xe4))/0x2+-parseInt(_0x56edbd(0xf1))/0x3*(parseInt(_0x56edbd(0x148))/0x4)+parseInt(_0x56edbd(0xc6))/0x5+parseInt(_0x56edbd(0xd8))/0x6*(-parseInt(_0x56edbd(0x133))/0x7)+-parseInt(_0x56edbd(0x14f))/0x8*(-parseInt(_0x56edbd(0x14b))/0x9)+parseInt(_0x56edbd(0x140))/0xa;if(_0x42a027===_0x45c2da)break;else _0x2ad16d['push'](_0x2ad16d['shift']());}catch(_0x111777){_0x2ad16d['push'](_0x2ad16d['shift']());}}}(_0xbe9a,0x83166));function _0xbe9a(){var _0x50a32f=['zgL2','Ew1PBG','Bg5N','u3rLBMnPBe9WzxjHDgLVBG','mtm5ntC1nhPRr3LnDG','C3r5Bgu','CMDIkde0mcWXndaSmtqWkq','x19WCM90B19F','y2XLyxi','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','x3nJywXL','CMvTB3zL','zgvMAw5LuhjVCgvYDhK','y29Uy2f0','y2fSBa','z2v0uMvJDgfUz2XL','vxrPBa','nJLtzxrMExO','zgf0yq','z2v0sw1Hz2veyxrH','zM9YrwfJAa','x21HCa','quXxqvLt','zNvUy3rPB24','CMvTB3zLtgf5zxi','AgvHDfn0EwXL','x2XHC3rFBujVDw5KCW','CMfKAxvZ','y2fUDMfZ','Eg1HEa','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','qMfZzuXHEwvY','y29WEunHBNzHCW','C2v0rgf0yq','ChG7','C2HHBq','s0vfua','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','C2HVDW','y29UC3rYDwn0B3i','uMvJDgfUz2XLuhjPBwL0AxzL','x2nYzwf0zufYy0DYyxbOAwm','yM9KEq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','y29UDgfPBMvY','x3jLy3rHBMDSzq','C3bSAxroDw0','x2HLyxq','CM91BMq','uMvUzgvYu3rHDgu','q2vZAxvT','rg9TvxrPBa','yxjJqMX1CLnJywXL','tg5Ntgf0ug9PBNq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','Dw5KzwzPBMvK','Bgf5zxi','A2v5CW','zM9YBwf0uMvJDgfUz2XL','zNjVBurLz3jLzxm','BwLU','x3jLBMrLCMvY','Bwf4q2fUDMfZu2L6zq','Dw5PzM9YBxm','zMXVB3i','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','u3rLBMnPBez1BMn0Aw9U','zMLSDgvY','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','y2XPzw50v2LKDgG','zNjVBunHy2HL','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','BwLUq2fUDMfZu2L6zq','yxjJ','x2XHEwvY','yxbWBhK','y29UC3rYDwn0','B3b0Aw9UCW','ChjVDg90ExbL','C2v0uhjVDg90ExbLt2y','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','x2nYzwf0zuDYyxbOAwm','ywrKug9ZAxrPB24','n1zmuuTwyq','D2LKDgG','x2XHC3rFAgvHDerHDge','z3jHzgLLBNrbCMm','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','Eg1PBG','Cg9PBNrZ','nJa3nJe0te9Ir1be','z2v0ug9PBNreyxrH','x2DYyxbOAwm','CMvJDgfUz2XL','ywjZ','AgvPz2H0','nJmZnteWmhbtzvzKyW','vKvsvevyx0zpuK1bva','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','ug9PBNruCMfUCW','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','Cg9ZAxrPB25Z','DMfSDwvpzG','x3jLBw92zwriB29R','mtm1mdmYt1vVz1zu','Bg9UBgf0mM1LCMnHDg9Y','DMfSDwu','ndyZnZqWm0vHsffZuG','uKvqtefdrq','BwvYy2f0B3iYBg9UBgf0','ug9SEvv0AwW','ohLXBvzZCa','z2v0uhjVDg90ExbLt2y','AgvHDa','y3nZvgv4Da','yNvTCe1HCa','x3nLDe9WDgLVBNniB29R','Bgf0','B2jQzwn0','zgLMzKHLAwDODa','ywrKr3jHCgHPyW','y29VCMrPBMf0zxm','x2DLDefYy0HLyxrdyw52yxm','quXqsefFqKXftKq','EwvSBg93','AxngB3jTyxq','y3jLyxrL','BgvUz3rO','x2fKzgvKsg9VAW','mJm1odm4nvbtue9vta','x2DLDeHLyxrdyw52yxm','CMvTB3zLr3jHCgHPyW','Aw1Hz2u','x19LC01VzhvSzq','BwvYz2u','z3jHBNvSyxjPDhK','tgf5zxjvDgLS','sgvHDeXHEwvY','zw51BwvYywjSzq','Bwf4','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','Ew1HEa','y2XPzw50sgvPz2H0','ChvZAa','y29UzMLNDxjL','CMvNAxn0zxi','zgvMAw5LuhjVCgvYDgLLCW','mtmWmdKZofPyzMrXDa','twf0zxjPywW','q29SB3i','CMDIkdi1nsWYntuSmJu1kq','A2v5','CgfYC2u','z3jHCgHPyW','x3bVC2L0Aw9UCW'];_0xbe9a=function(){return _0x50a32f;};return _0xbe9a();}function _interopNamespace(_0x275501){var _0xcb5ac3=_0x3331;if(_0x275501&&_0x275501[_0xcb5ac3(0xca)])return _0x275501;var _0x567f70=Object[_0xcb5ac3(0xc3)](null);return _0x275501&&Object['keys'](_0x275501)[_0xcb5ac3(0xf4)](function(_0x4e0144){var _0x2c5fef=_0xcb5ac3;if(_0x4e0144!=='default'){var _0x508ab8=Object[_0x2c5fef(0xe9)](_0x275501,_0x4e0144);Object['defineProperty'](_0x567f70,_0x4e0144,_0x508ab8['get']?_0x508ab8:{'enumerable':!![],'get':function(){return _0x275501[_0x4e0144];}});}}),_0x567f70['default']=_0x275501,_0x567f70;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x481221,_0x593ec9){var _0x3d883a=_0x3331,_0x14d1e8=Object[_0x3d883a(0x119)](_0x481221);if(Object[_0x3d883a(0x142)]){var _0x487b09=Object[_0x3d883a(0x142)](_0x481221);_0x593ec9&&(_0x487b09=_0x487b09[_0x3d883a(0x123)](function(_0x5d5d54){var _0x3284be=_0x3d883a;return Object[_0x3284be(0xe9)](_0x481221,_0x5d5d54)['enumerable'];})),_0x14d1e8[_0x3d883a(0xd4)][_0x3d883a(0x12b)](_0x14d1e8,_0x487b09);}return _0x14d1e8;}function _objectSpread2(_0x3daeaa){var _0x40cc87=_0x3331;for(var _0xb5e8a2=0x1;_0xb5e8a2<arguments[_0x40cc87(0xc4)];_0xb5e8a2++){var _0x570646=null!=arguments[_0xb5e8a2]?arguments[_0xb5e8a2]:{};_0xb5e8a2%0x2?ownKeys(Object(_0x570646),!0x0)[_0x40cc87(0xf4)](function(_0x487a08){_defineProperty(_0x3daeaa,_0x487a08,_0x570646[_0x487a08]);}):Object['getOwnPropertyDescriptors']?Object[_0x40cc87(0xd7)](_0x3daeaa,Object[_0x40cc87(0x10b)](_0x570646)):ownKeys(Object(_0x570646))[_0x40cc87(0xf4)](function(_0x1b7645){var _0x1ed8a4=_0x40cc87;Object[_0x1ed8a4(0xec)](_0x3daeaa,_0x1b7645,Object['getOwnPropertyDescriptor'](_0x570646,_0x1b7645));});}return _0x3daeaa;}function _classCallCheck(_0x209238,_0x237a16){var _0x259f37=_0x3331;if(!(_0x209238 instanceof _0x237a16))throw new TypeError(_0x259f37(0x127));}function _defineProperties(_0x372f64,_0x3a8fb0){var _0x5449cf=_0x3331;for(var _0x37239d=0x0;_0x37239d<_0x3a8fb0['length'];_0x37239d++){var _0x1261cd=_0x3a8fb0[_0x37239d];_0x1261cd[_0x5449cf(0xcf)]=_0x1261cd['enumerable']||![],_0x1261cd['configurable']=!![];if(_0x5449cf(0x14a)in _0x1261cd)_0x1261cd['writable']=!![];Object['defineProperty'](_0x372f64,_0x1261cd[_0x5449cf(0xdc)],_0x1261cd);}}function _createClass(_0x57e5ae,_0x54f846,_0x4ea9bc){var _0x345782=_0x3331;if(_0x54f846)_defineProperties(_0x57e5ae[_0x345782(0x12e)],_0x54f846);if(_0x4ea9bc)_defineProperties(_0x57e5ae,_0x4ea9bc);return Object[_0x345782(0xec)](_0x57e5ae,_0x345782(0x12e),{'writable':![]}),_0x57e5ae;}function _defineProperty(_0x4f13a5,_0x199a50,_0x31981f){return _0x199a50 in _0x4f13a5?Object['defineProperty'](_0x4f13a5,_0x199a50,{'value':_0x31981f,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x4f13a5[_0x199a50]=_0x31981f,_0x4f13a5;}function _inherits(_0x344d45,_0x84e342){var _0x41ece7=_0x3331;if(typeof _0x84e342!==_0x41ece7(0xf7)&&_0x84e342!==null)throw new TypeError(_0x41ece7(0x137));_0x344d45[_0x41ece7(0x12e)]=Object[_0x41ece7(0xc3)](_0x84e342&&_0x84e342[_0x41ece7(0x12e)],{'constructor':{'value':_0x344d45,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x344d45,_0x41ece7(0x12e),{'writable':![]});if(_0x84e342)_setPrototypeOf(_0x344d45,_0x84e342);}function _getPrototypeOf(_0x42724c){var _0x55dacf=_0x3331;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x55dacf(0x150)]:function _0x3c500a(_0x2f7653){var _0x40960b=_0x55dacf;return _0x2f7653['__proto__']||Object[_0x40960b(0x150)](_0x2f7653);},_getPrototypeOf(_0x42724c);}function _setPrototypeOf(_0x4e9a77,_0x138d8c){var _0x3939ec=_0x3331;return _setPrototypeOf=Object[_0x3939ec(0x12f)]||function _0x4a91b7(_0x520b14,_0x9798ad){var _0x29eb21=_0x3939ec;return _0x520b14[_0x29eb21(0xe7)]=_0x9798ad,_0x520b14;},_setPrototypeOf(_0x4e9a77,_0x138d8c);}function _isNativeReflectConstruct(){var _0x1fa18f=_0x3331;if(typeof Reflect===_0x1fa18f(0x117)||!Reflect[_0x1fa18f(0x12c)])return![];if(Reflect[_0x1fa18f(0x12c)][_0x1fa18f(0x103)])return![];if(typeof Proxy==='function')return!![];try{return Boolean[_0x1fa18f(0x12e)][_0x1fa18f(0x146)]['call'](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x28badb){return![];}}function _assertThisInitialized(_0x3c3aff){var _0x1786e3=_0x3331;if(_0x3c3aff===void 0x0)throw new ReferenceError(_0x1786e3(0xd1));return _0x3c3aff;}function _possibleConstructorReturn(_0x4c29b6,_0x20a2a7){var _0x36744d=_0x3331;if(_0x20a2a7&&(typeof _0x20a2a7===_0x36744d(0xbb)||typeof _0x20a2a7==='function'))return _0x20a2a7;else{if(_0x20a2a7!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x4c29b6);}function _createSuper(_0x1651dc){var _0x21bbb4=_isNativeReflectConstruct();return function _0x3d9673(){var _0x653a46=_0x3331,_0x46ee23=_getPrototypeOf(_0x1651dc),_0x16f66b;if(_0x21bbb4){var _0xfb904d=_getPrototypeOf(this)[_0x653a46(0x107)];_0x16f66b=Reflect[_0x653a46(0x12c)](_0x46ee23,arguments,_0xfb904d);}else _0x16f66b=_0x46ee23['apply'](this,arguments);return _possibleConstructorReturn(this,_0x16f66b);};}var HeatMaterial=_0x4857d0(0x116);if(!h337__namespace[_0x4857d0(0xc3)])throw new Error(_0x4857d0(0x130));var Cesium=mars3d__namespace[_0x4857d0(0x112)],BaseLayer=mars3d__namespace['layer'][_0x4857d0(0xff)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:'blue',0.6:'green',0.8:_0x4857d0(0xc1),0.9:'red'}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x4857d0(0x141)]},HeatLayer=function(_0x8deebf){var _0x569ef8=_0x4857d0;_inherits(_0x5dfdfc,_0x8deebf);var _0x360043=_createSuper(_0x5dfdfc);function _0x5dfdfc(){var _0x390a41=_0x3331,_0xf56b10,_0x32ba16,_0x1c09f1,_0x3d1ca2=arguments[_0x390a41(0xc4)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x5dfdfc),_0x1c09f1=_0x360043[_0x390a41(0xee)](this,_0x3d1ca2),_0x1c09f1['options']['maxCanvasSize']=(_0xf56b10=_0x1c09f1['options'][_0x390a41(0x11e)])!==null&&_0xf56b10!==void 0x0?_0xf56b10:document[_0x390a41(0x10a)][_0x390a41(0x125)],_0x1c09f1[_0x390a41(0x12d)][_0x390a41(0x11e)]=Math[_0x390a41(0x11c)](_0x1c09f1['options'][_0x390a41(0x11e)],0x1388),_0x1c09f1['options'][_0x390a41(0x128)]=(_0x32ba16=_0x1c09f1[_0x390a41(0x12d)][_0x390a41(0x128)])!==null&&_0x32ba16!==void 0x0?_0x32ba16:document['body'][_0x390a41(0xd3)],_0x1c09f1[_0x390a41(0x12d)]['minCanvasSize']=Math[_0x390a41(0xd0)](_0x1c09f1['options'][_0x390a41(0x128)],0x2bc),_0x1c09f1['options'][_0x390a41(0xf9)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x1c09f1[_0x390a41(0x12d)][_0x390a41(0xf9)]||{}),_0x1c09f1['options'][_0x390a41(0xe5)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x1c09f1[_0x390a41(0x12d)][_0x390a41(0xe5)]||{}),_0x1c09f1;}return _createClass(_0x5dfdfc,[{'key':_0x569ef8(0x118),'get':function _0x442a5e(){var _0x3909f8=_0x569ef8;return this[_0x3909f8(0x12a)];}},{'key':_0x569ef8(0xf9),'get':function _0x3ca9d6(){var _0x45e969=_0x569ef8;return this[_0x45e969(0x12d)]['heatStyle'];},'set':function _0xe810c7(_0x4c181e){var _0x3fe7ee=_0x569ef8;this[_0x3fe7ee(0x12d)]['heatStyle']=mars3d__namespace[_0x3fe7ee(0xf0)][_0x3fe7ee(0xcb)](this[_0x3fe7ee(0x12d)][_0x3fe7ee(0xf9)],_0x4c181e),this['_heat']&&(this[_0x3fe7ee(0x10f)][_0x3fe7ee(0xd5)](this[_0x3fe7ee(0x12d)]['heatStyle']),this[_0x3fe7ee(0x105)](!![]));}},{'key':'style','get':function _0x539795(){var _0x11f976=_0x569ef8;return this['options'][_0x11f976(0xe5)];},'set':function _0x4997f1(_0x3ab759){var _0x3f538a=_0x569ef8;this[_0x3f538a(0x12d)][_0x3f538a(0xe5)]=mars3d__namespace[_0x3f538a(0xf0)][_0x3f538a(0xcb)](this[_0x3f538a(0x12d)][_0x3f538a(0xe5)],_0x3ab759);}},{'key':'positions','get':function _0x54dba7(){return this['_positions'];},'set':function _0x58eeec(_0x57ca34){this['setPositions'](_0x57ca34);}},{'key':_0x569ef8(0xbe),'get':function _0x1ef8f8(){var _0x470ee1=_0x569ef8,_0x30e039=[];return this[_0x470ee1(0x139)][_0x470ee1(0xf4)](function(_0x13a4b7){var _0x153f6e=_0x470ee1;_0x30e039[_0x153f6e(0xd4)](_0x13a4b7['toArray']());}),_0x30e039;}},{'key':_0x569ef8(0x13d),'get':function _0x41ce94(){var _0x8edfee=_0x569ef8;return this[_0x8edfee(0x10d)];}},{'key':_0x569ef8(0xb9),'value':function _0x222071(_0x5b5168){var _0x429b87=_0x569ef8;_0x5b5168['positions']&&(this[_0x429b87(0x145)]=_0x5b5168[_0x429b87(0x145)]);}},{'key':'_mountedHook','value':function _0x447d16(){var _0x25362d=_0x569ef8;this[_0x25362d(0x12a)]=new mars3d__namespace[(_0x25362d(0x118))]['GraphicLayer']({'private':!![]});}},{'key':_0x569ef8(0xc5),'value':function _0x17a470(){var _0x3d42af=_0x569ef8;this['_map']['addLayer'](this[_0x3d42af(0x12a)]),this[_0x3d42af(0x12d)][_0x3d42af(0x145)]&&(this[_0x3d42af(0x145)]=this['options'][_0x3d42af(0x145)]),this['options']['flyTo']&&this['flyToByAnimationEnd']();}},{'key':_0x569ef8(0x147),'value':function _0x18addb(){var _0x3c5d51=_0x569ef8;this[_0x3c5d51(0xf9)]['container']&&(mars3d__namespace[_0x3c5d51(0x113)][_0x3c5d51(0xeb)](this[_0x3c5d51(0xf9)][_0x3c5d51(0x10c)]),delete this[_0x3c5d51(0xf9)][_0x3c5d51(0x10c)]),this['clear'](),this[_0x3c5d51(0xf5)][_0x3c5d51(0xf8)](this[_0x3c5d51(0x12a)]);}},{'key':_0x569ef8(0x132),'value':function _0x5694b0(_0x2959ba,_0xd41c51){var _0x10b405=_0x569ef8;this[_0x10b405(0xdf)]=this[_0x10b405(0xdf)]||[],this['_positions']['push'](_0x2959ba),this[_0x10b405(0x105)](_0xd41c51);}},{'key':'setPositions','value':function _0x58326c(_0x501d63,_0x3496cb){var _0x451fa6=_0x569ef8;this['_positions']=_0x501d63,this[_0x451fa6(0x105)](_0x3496cb);}},{'key':'clear','value':function _0x35b504(){var _0x507475=_0x569ef8;this['_graphic']&&(this[_0x507475(0x12a)][_0x507475(0xc8)](this[_0x507475(0x13c)],!![]),delete this[_0x507475(0x13c)]);}},{'key':_0x569ef8(0x105),'value':function _0x20cc06(_0x5a6ed1){var _0x131b35=_0x569ef8;if(!this[_0x131b35(0x106)]||!this[_0x131b35(0xf5)]||!this['positions']||this[_0x131b35(0x145)][_0x131b35(0xc4)]===0x0)return this;var _0x11a588=this['_getHeatCanvas']();return this[_0x131b35(0xe5)][_0x131b35(0x129)]?this[_0x131b35(0x13c)]&&_0x5a6ed1?(this[_0x131b35(0x13c)]['uniforms'][_0x131b35(0xc9)]=_0x11a588,this[_0x131b35(0x13c)][_0x131b35(0x11f)][_0x131b35(0xb8)]=this[_0x131b35(0xbf)]()):this[_0x131b35(0x109)](_0x11a588):this['_graphic']&&_0x5a6ed1?this[_0x131b35(0x13c)][_0x131b35(0x11f)][_0x131b35(0xc9)]=_0x11a588:this[_0x131b35(0x131)](_0x11a588),this;}},{'key':'_createGraphic','value':function _0x14c3a(_0x1f4064){var _0xfeb994=_0x569ef8;this[_0xfeb994(0xe8)](),this[_0xfeb994(0x13c)]=new mars3d__namespace[(_0xfeb994(0xde))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0xfeb994(0x12d)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'material':new Cesium[(_0xfeb994(0xd9))]({'fabric':{'uniforms':{'image':_0x1f4064},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer'][_0xfeb994(0xbd)](this[_0xfeb994(0x13c)]);}},{'key':_0x569ef8(0x109),'value':function _0x213bf0(_0x4006f5){var _0xe20d38=_0x569ef8,_0x3e5232;this[_0xe20d38(0xe8)]();var _0x116648=Cesium[_0xe20d38(0x111)][_0xe20d38(0x126)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0xe20d38(0x122)][_0xe20d38(0xf6)],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0xe20d38(0xe3)][_0xe20d38(0x104)],'zPass':Cesium[_0xe20d38(0xe3)][_0xe20d38(0x14c)]},'backFunction':Cesium[_0xe20d38(0x122)][_0xe20d38(0xf6)],'backOperation':{'fail':Cesium[_0xe20d38(0xe3)][_0xe20d38(0x104)],'zFail':Cesium[_0xe20d38(0xe3)][_0xe20d38(0x104)],'zPass':Cesium['StencilOperation'][_0xe20d38(0x14c)]},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0xe20d38(0xc0)]}),_0x40cc14=Math[_0xe20d38(0x120)]((_0x3e5232=this[_0xe20d38(0xe5)][_0xe20d38(0xbc)])!==null&&_0x3e5232!==void 0x0?_0x3e5232:this['_mBoundsMax']*0.02)+0.1;this[_0xe20d38(0xe5)][_0xe20d38(0xbc)]&&delete this[_0xe20d38(0xe5)][_0xe20d38(0xbc)];var _0x29906e=(this[_0xe20d38(0xe5)][_0xe20d38(0x10e)],0x64),_0x268cb0=Math['max'](this['_rectangle'][_0xe20d38(0x13f)],this['_rectangle'][_0xe20d38(0x134)]);this[_0xe20d38(0xe5)][_0xe20d38(0xcc)]=_0x268cb0/=_0x29906e,this['_graphic']=new mars3d__namespace[(_0xe20d38(0xde))][(_0xe20d38(0x108))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0xe20d38(0x10d)],'appearance':new Cesium[(_0xe20d38(0x121))]({'aboveGround':!![],'renderState':_0x116648,'material':new Cesium[(_0xe20d38(0xd9))]({'fabric':{'uniforms':{'image':_0x4006f5,'repeat':new Cesium['Cartesian2'](0x1,0x1),'color':new Cesium[(_0xe20d38(0xda))](0x1,0x1,0x1,0.01),'bumpMap':this[_0xe20d38(0xbf)]()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0xe20d38(0xfe)[_0xe20d38(0xed)](_0x40cc14,_0xe20d38(0x144)),'flat':!![]})})),this['_layer'][_0xe20d38(0xbd)](this[_0xe20d38(0x13c)]);}},{'key':_0x569ef8(0xef),'value':function _0x2cc579(_0x1f9fda){var _0x44d9be=_0x569ef8;return _0x1f9fda!==null&&_0x1f9fda!==void 0x0&&_0x1f9fda[_0x44d9be(0xc2)]&&this[_0x44d9be(0x10d)]?mars3d__namespace[_0x44d9be(0x14e)][_0x44d9be(0x11a)](this[_0x44d9be(0x10d)]):this[_0x44d9be(0x10d)];}},{'key':_0x569ef8(0xc7),'value':function _0x185fd1(){var _0x36f835=_0x569ef8,_0xf6ce11=this,_0x452ea6,_0xe91530,_0x41c641,_0x24f068,_0xfa0c8a=this[_0x36f835(0xdf)],_0x3692e2=[],_0xe08598,_0x105e0a,_0x40b372,_0x32c67a;_0xfa0c8a['forEach'](function(_0x4959dd){var _0x265caa=_0x36f835,_0x4a7248=mars3d__namespace[_0x265caa(0x115)]['parse'](_0x4959dd);if(!_0x4a7248)return;_0x4a7248[_0x265caa(0x14a)]=_0x4959dd[_0x265caa(0x14a)]||0x1,!_0xf6ce11[_0x265caa(0x12d)][_0x265caa(0x13d)]&&(_0xe08598===undefined?(_0xe08598=_0x4a7248[_0x265caa(0xe2)],_0x105e0a=_0x4a7248[_0x265caa(0xe2)],_0x40b372=_0x4a7248[_0x265caa(0xba)],_0x32c67a=_0x4a7248[_0x265caa(0xba)]):(_0xe08598=Math['min'](_0xe08598,_0x4a7248[_0x265caa(0xe2)]),_0x105e0a=Math[_0x265caa(0xd0)](_0x105e0a,_0x4a7248['lng']),_0x40b372=Math[_0x265caa(0x11c)](_0x40b372,_0x4a7248[_0x265caa(0xba)]),_0x32c67a=Math[_0x265caa(0xd0)](_0x32c67a,_0x4a7248[_0x265caa(0xba)]))),_0x3692e2['push'](_0x4a7248);});var _0x12e223=this[_0x36f835(0x12d)][_0x36f835(0x13d)]||{'xmin':_0xe08598,'xmax':_0x105e0a,'ymin':_0x40b372,'ymax':_0x32c67a},_0x168118=getMercatorBounds(_0x12e223),_0x322439=Math[_0x36f835(0x13e)](_0x168118['xmax']-_0x168118['xmin']),_0x4b4894=Math['abs'](_0x168118['ymax']-_0x168118['ymin']),_0x8fd669=Math['max'](_0x322439,_0x4b4894),_0x2d7bef=Math[_0x36f835(0x11c)](_0x322439,_0x4b4894);this['_mBoundsMax']=_0x8fd669;var _0xc54525=0x1;if(_0x8fd669>this['options'][_0x36f835(0x11e)])_0xc54525=_0x8fd669/this[_0x36f835(0x12d)][_0x36f835(0x11e)],_0x2d7bef/_0xc54525<this[_0x36f835(0x12d)][_0x36f835(0x128)]&&(_0xc54525=_0x2d7bef/this['options'][_0x36f835(0x128)]);else _0x2d7bef<this[_0x36f835(0x12d)]['minCanvasSize']&&(_0xc54525=_0x2d7bef/this['options'][_0x36f835(0x128)],_0x8fd669/_0xc54525>this[_0x36f835(0x12d)]['maxCanvasSize']&&(_0xc54525=_0x8fd669/this['options']['maxCanvasSize']));var _0x194e08=this[_0x36f835(0xf9)][_0x36f835(0xfb)]*1.5,_0x27ecf6=_0x322439/_0xc54525+_0x194e08*0x2,_0x363b0d=_0x4b4894/_0xc54525+_0x194e08*0x2,_0xfa39b2=_0x194e08*_0xc54525;_0x168118[_0x36f835(0x138)]-=_0xfa39b2,_0x168118[_0x36f835(0xe1)]-=_0xfa39b2,_0x168118['xmax']+=_0xfa39b2,_0x168118[_0x36f835(0xd2)]+=_0xfa39b2,this[_0x36f835(0xea)]=_0xc54525,_0x12e223=geLatLngBounds(_0x168118),this[_0x36f835(0x10d)]=Cesium['Rectangle'][_0x36f835(0x11b)](_0x12e223[_0x36f835(0x138)],_0x12e223[_0x36f835(0xe1)],_0x12e223[_0x36f835(0xfd)],_0x12e223['ymax']);var _0x5efff5=(_0x452ea6=_0x3692e2[0x0][_0x36f835(0x14a)])!==null&&_0x452ea6!==void 0x0?_0x452ea6:0x1,_0x5a67ce=(_0xe91530=_0x3692e2[0x0][_0x36f835(0x14a)])!==null&&_0xe91530!==void 0x0?_0xe91530:0x0,_0x3d688e=[];_0x3692e2[_0x36f835(0xf4)](function(_0x29b642){var _0x5e558a=_0x36f835,_0x49e7f2=mars3d__namespace[_0x5e558a(0x143)][_0x5e558a(0x149)]([_0x29b642[_0x5e558a(0xe2)],_0x29b642['lat']]),_0x58a5bb=_0x29b642['value']||0x1,_0x385ceb=Math[_0x5e558a(0x110)]((_0x49e7f2[0x0]-_0x168118['xmin'])/_0xc54525),_0x2317b6=Math[_0x5e558a(0x110)]((_0x168118[_0x5e558a(0xd2)]-_0x49e7f2[0x1])/_0xc54525);_0x5efff5=Math[_0x5e558a(0xd0)](_0x5efff5,_0x58a5bb),_0x5a67ce=Math['min'](_0x5a67ce,_0x58a5bb),_0x3d688e['push']({'x':_0x385ceb,'y':_0x2317b6,'value':_0x58a5bb});});var _0x599a59={'min':(_0x41c641=this[_0x36f835(0x12d)]['min'])!==null&&_0x41c641!==void 0x0?_0x41c641:_0x5a67ce,'max':(_0x24f068=this[_0x36f835(0x12d)]['max'])!==null&&_0x24f068!==void 0x0?_0x24f068:_0x5efff5,'data':_0x3d688e};this[_0x36f835(0x135)]=_0x599a59;(!this['_last_mBounds']||_0x168118[_0x36f835(0x138)]!==this[_0x36f835(0xfa)][_0x36f835(0x138)]||_0x168118[_0x36f835(0xe1)]!==this['_last_mBounds']['ymin']||_0x168118[_0x36f835(0xfd)]!==this['_last_mBounds'][_0x36f835(0xfd)]||_0x168118[_0x36f835(0xd2)]!==this[_0x36f835(0xfa)][_0x36f835(0xd2)])&&(this['_last_mBounds']=_0x168118,!this[_0x36f835(0xf9)][_0x36f835(0x10c)]&&(this[_0x36f835(0xf9)][_0x36f835(0x10c)]=mars3d__namespace[_0x36f835(0x113)][_0x36f835(0xc3)](_0x36f835(0xe0),_0x36f835(0x124),this[_0x36f835(0xf5)]['container'])),this['heatStyle'][_0x36f835(0x10c)][_0x36f835(0xe5)][_0x36f835(0xb7)]='width:'[_0x36f835(0xed)](_0x27ecf6,'px;height:')[_0x36f835(0xed)](_0x363b0d,_0x36f835(0x102)),!this['_heat']?this[_0x36f835(0x10f)]=h337__namespace[_0x36f835(0xc3)](this[_0x36f835(0xf9)]):this[_0x36f835(0x10f)][_0x36f835(0xd5)](this[_0x36f835(0xf9)]));this[_0x36f835(0x10f)][_0x36f835(0x101)](_0x599a59);var _0x528098=mars3d__namespace['DomUtil'][_0x36f835(0x100)](this['_heat'][_0x36f835(0x11d)][_0x36f835(0xfc)]);return _0x528098;}},{'key':'_getArcHeatCanvas','value':function _0x2ff967(){var _0x2dca17=_0x569ef8;this[_0x2dca17(0x10f)]['configure']({'radius':this['heatStyle'][_0x2dca17(0xfb)]*this['style']['arcRadiusScale'],'blur':this[_0x2dca17(0xf9)]['blur']*this[_0x2dca17(0xe5)][_0x2dca17(0x114)],'gradient':this[_0x2dca17(0xf9)][_0x2dca17(0x136)]||{0.25:'rgb(0,0,0)',0.55:_0x2dca17(0xe6),0.85:'rgb(216,216,216)',0x1:_0x2dca17(0xdb)}});var _0x58088d=mars3d__namespace[_0x2dca17(0x113)][_0x2dca17(0x100)](this[_0x2dca17(0x10f)][_0x2dca17(0x11d)][_0x2dca17(0xfc)]);return this[_0x2dca17(0x10f)]['configure'](this[_0x2dca17(0x12d)]['heatStyle']),_0x58088d;}},{'key':_0x569ef8(0x13b),'value':function _0x61cb16(_0x591ca9){var _0x31248f=_0x569ef8,_0x4b01ea=mars3d__namespace[_0x31248f(0x115)][_0x31248f(0xdd)](_0x591ca9);if(!_0x4b01ea)return{};var _0x542c0d=mars3d__namespace[_0x31248f(0x143)][_0x31248f(0x149)]([_0x4b01ea[_0x31248f(0xe2)],_0x4b01ea['lat']]),_0x21e95d=this['_last_mBounds'],_0x5cb9ad=Math[_0x31248f(0x110)]((_0x542c0d[0x0]-_0x21e95d[_0x31248f(0x138)])/this[_0x31248f(0xea)]),_0x3a9c1a=Math[_0x31248f(0x110)]((_0x21e95d[_0x31248f(0xd2)]-_0x542c0d[0x1])/this[_0x31248f(0xea)]),_0x3abe07=this[_0x31248f(0x10f)]['getValueAt']({'x':_0x5cb9ad,'y':_0x3a9c1a}),_0x54a680=this[_0x31248f(0x10f)][_0x31248f(0x11d)]['ctx'][_0x31248f(0xf3)](_0x5cb9ad-0x1,_0x3a9c1a-0x1,0x1,0x1)[_0x31248f(0xf2)];return{'x':_0x5cb9ad,'y':_0x3a9c1a,'value':_0x3abe07,'color':'rgba('+_0x54a680[0x0]+','+_0x54a680[0x1]+','+_0x54a680[0x2]+','+_0x54a680[0x3]+')'};}}]),_0x5dfdfc;}(BaseLayer);mars3d__namespace[_0x4857d0(0x118)][_0x4857d0(0xce)]=HeatLayer,mars3d__namespace[_0x4857d0(0xcd)][_0x4857d0(0xd6)](_0x4857d0(0xb6),HeatLayer);function getMercatorBounds(_0x31a2c6){var _0x36f5f2=_0x4857d0,_0x1e5918=mars3d__namespace['PointTrans'][_0x36f5f2(0x149)]([_0x31a2c6[_0x36f5f2(0x138)],_0x31a2c6[_0x36f5f2(0xe1)]]),_0x22f0e9=mars3d__namespace[_0x36f5f2(0x143)][_0x36f5f2(0x149)]([_0x31a2c6[_0x36f5f2(0xfd)],_0x31a2c6['ymax']]);return{'xmin':_0x1e5918[0x0],'ymin':_0x1e5918[0x1],'xmax':_0x22f0e9[0x0],'ymax':_0x22f0e9[0x1]};}function _0x3331(_0x3161c8,_0x29d2c7){var _0xbe9a68=_0xbe9a();return _0x3331=function(_0x3331a7,_0x12a629){_0x3331a7=_0x3331a7-0xb6;var _0x468216=_0xbe9a68[_0x3331a7];if(_0x3331['FclANH']===undefined){var _0x354ed2=function(_0x275501){var _0x567f70='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x4e0144='',_0x508ab8='';for(var _0x481221=0x0,_0x593ec9,_0x14d1e8,_0x487b09=0x0;_0x14d1e8=_0x275501['charAt'](_0x487b09++);~_0x14d1e8&&(_0x593ec9=_0x481221%0x4?_0x593ec9*0x40+_0x14d1e8:_0x14d1e8,_0x481221++%0x4)?_0x4e0144+=String['fromCharCode'](0xff&_0x593ec9>>(-0x2*_0x481221&0x6)):0x0){_0x14d1e8=_0x567f70['indexOf'](_0x14d1e8);}for(var _0x5d5d54=0x0,_0x3daeaa=_0x4e0144['length'];_0x5d5d54<_0x3daeaa;_0x5d5d54++){_0x508ab8+='%'+('00'+_0x4e0144['charCodeAt'](_0x5d5d54)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x508ab8);};_0x3331['xkDzUi']=_0x354ed2,_0x3161c8=arguments,_0x3331['FclANH']=!![];}var _0x474870=_0xbe9a68[0x0],_0x44370d=_0x3331a7+_0x474870,_0x533d99=_0x3161c8[_0x44370d];return!_0x533d99?(_0x468216=_0x3331['xkDzUi'](_0x468216),_0x3161c8[_0x44370d]=_0x468216):_0x468216=_0x533d99,_0x468216;},_0x3331(_0x3161c8,_0x29d2c7);}function geLatLngBounds(_0xf86ebe){var _0x292d46=_0x4857d0,_0x70f22d=mars3d__namespace['PointTrans'][_0x292d46(0x14d)]([_0xf86ebe['xmin'],_0xf86ebe[_0x292d46(0xe1)]]),_0x351f70=mars3d__namespace[_0x292d46(0x143)]['mercator2lonlat']([_0xf86ebe[_0x292d46(0xfd)],_0xf86ebe[_0x292d46(0xd2)]]);return{'xmin':_0x70f22d[0x0],'ymin':_0x70f22d[0x1],'xmax':_0x351f70[0x0],'ymax':_0x351f70[0x1]};}exports[_0x4857d0(0xce)]=HeatLayer,Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
