/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.7
 * 编译日期：2022-09-07 15:01:47
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x2db040=_0x4960;(function(_0x292335,_0x2906c9){var _0x292f5e=_0x4960,_0x2bafc4=_0x292335();while(!![]){try{var _0x1d6ef4=parseInt(_0x292f5e(0xae))/0x1*(-parseInt(_0x292f5e(0x9b))/0x2)+parseInt(_0x292f5e(0xf1))/0x3+-parseInt(_0x292f5e(0xc8))/0x4+parseInt(_0x292f5e(0x95))/0x5*(-parseInt(_0x292f5e(0xbd))/0x6)+-parseInt(_0x292f5e(0xfb))/0x7*(-parseInt(_0x292f5e(0x117))/0x8)+-parseInt(_0x292f5e(0xeb))/0x9*(-parseInt(_0x292f5e(0x91))/0xa)+parseInt(_0x292f5e(0xdb))/0xb*(parseInt(_0x292f5e(0xf6))/0xc);if(_0x1d6ef4===_0x2906c9)break;else _0x2bafc4['push'](_0x2bafc4['shift']());}catch(_0x377210){_0x2bafc4['push'](_0x2bafc4['shift']());}}}(_0x5665,0xab12b));function _interopNamespace(_0x4f1755){var _0x1937a6=_0x4960;if(_0x4f1755&&_0x4f1755['__esModule'])return _0x4f1755;var _0x52fb36=Object['create'](null);return _0x4f1755&&Object[_0x1937a6(0xea)](_0x4f1755)[_0x1937a6(0x105)](function(_0x1518da){var _0x45bd36=_0x1937a6;if(_0x1518da!==_0x45bd36(0x9e)){var _0x57c087=Object['getOwnPropertyDescriptor'](_0x4f1755,_0x1518da);Object[_0x45bd36(0xb7)](_0x52fb36,_0x1518da,_0x57c087[_0x45bd36(0xf2)]?_0x57c087:{'enumerable':!![],'get':function(){return _0x4f1755[_0x1518da];}});}}),_0x52fb36[_0x1937a6(0x9e)]=_0x4f1755,_0x52fb36;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x4f4d4a,_0x17d4f8){var _0x5daa87=_0x4960,_0x3162f1=Object[_0x5daa87(0xea)](_0x4f4d4a);if(Object[_0x5daa87(0x9f)]){var _0x371e43=Object['getOwnPropertySymbols'](_0x4f4d4a);_0x17d4f8&&(_0x371e43=_0x371e43[_0x5daa87(0xac)](function(_0x3a5566){var _0xd31ea5=_0x5daa87;return Object[_0xd31ea5(0xa8)](_0x4f4d4a,_0x3a5566)[_0xd31ea5(0xf0)];})),_0x3162f1['push'][_0x5daa87(0xc1)](_0x3162f1,_0x371e43);}return _0x3162f1;}function _objectSpread2(_0x1f6d8e){var _0x5471e8=_0x4960;for(var _0x2c747d=0x1;_0x2c747d<arguments['length'];_0x2c747d++){var _0x1f9aed=null!=arguments[_0x2c747d]?arguments[_0x2c747d]:{};_0x2c747d%0x2?ownKeys(Object(_0x1f9aed),!0x0)[_0x5471e8(0x105)](function(_0xfa2224){_defineProperty(_0x1f6d8e,_0xfa2224,_0x1f9aed[_0xfa2224]);}):Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x1f6d8e,Object[_0x5471e8(0xa6)](_0x1f9aed)):ownKeys(Object(_0x1f9aed))[_0x5471e8(0x105)](function(_0x14784a){var _0x2f04c2=_0x5471e8;Object[_0x2f04c2(0xb7)](_0x1f6d8e,_0x14784a,Object['getOwnPropertyDescriptor'](_0x1f9aed,_0x14784a));});}return _0x1f6d8e;}function _classCallCheck(_0x2eca4b,_0x2a2791){var _0x1e911c=_0x4960;if(!(_0x2eca4b instanceof _0x2a2791))throw new TypeError(_0x1e911c(0xc2));}function _defineProperties(_0x3546c5,_0x1be84f){var _0x1ea36e=_0x4960;for(var _0x4ce8de=0x0;_0x4ce8de<_0x1be84f[_0x1ea36e(0xf5)];_0x4ce8de++){var _0x48c9c6=_0x1be84f[_0x4ce8de];_0x48c9c6[_0x1ea36e(0xf0)]=_0x48c9c6['enumerable']||![],_0x48c9c6['configurable']=!![];if('value'in _0x48c9c6)_0x48c9c6[_0x1ea36e(0x88)]=!![];Object[_0x1ea36e(0xb7)](_0x3546c5,_0x48c9c6[_0x1ea36e(0x97)],_0x48c9c6);}}function _0x5665(){var _0x3ac7f2=['x2DLDefYy0HLyxrdyw52yxm','CM91BMq','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','nta3mJCYqu92t2f5','y29VCMrPBMf0zxm','ywjZ','BwvYy2f0B3iYBg9UBgf0','CMDIkdaSmcWWkq','zgL2','x21VDw50zwriB29R','C3r5Bgu','vxrPBa','zMX5vg8','zgf0yq','x2DLDeHLyxrdyw52yxm','ug9SEvv0AwW','y3jLyxrL','r3jHCgHPy0XHEwvY','tgf5zxjvDgLS','quXqsefFqKXftKq','x2XHC3rFAgvHDerHDge','D3jPDgfIBgu','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','rg9TvxrPBa','x3jLy3rHBMDSzq','u3rLBMnPBe9WzxjHDgLVBG','zM9YBwf0uMvJDgfUz2XL','x2HLyxq','Bgf0','ChG7','mZyWotC5mejPB2TYva','z2v0sw1Hz2veyxrH','x2DYyxbOAwm','AgvHDfn0EwXL','mtvdvfbpCLa','x19LC01VzhvSzq','A2v5','twf0zxjPywW','ywrKtgf5zxi','ChjVDg90ExbL','mtmYmNnVy3zPrq','BwvYz2u','y29WEunHBNzHCW','zgvMyxvSDa','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','CMvJDgfUz2XL','Eg1HEa','y29UDgfPBMvY','Dw5PzM9YBxm','B3b0Aw9UCW','y2fSBa','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','CgfYC2u','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','CMDIkde0mcWXndaSmtqWkq','Bg5N','C2HHBq','zMLSDgvY','y2fUDMfZ','nJu1AxDNrKLX','Dg9bCNjHEq','Aw1Hz2u','u3rLBMnPBez1BMn0Aw9U','z3jHBNvSyxjPDhK','zMX5vg9cEufUAw1HDgLVBKvUza','vKvsvevyx0zpuK1bva','ywrKug9ZAxrPB24','uKvqtefdrq','zgvMAw5LuhjVCgvYDhK','Bgf5zxi','CMDIkdi1nsWYntuSmJu1kq','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','Ew1HEa','y3nZvgv4Da','mti1ode4oePiBxnlzG','CMvTB3zLr3jHCgHPyW','CMDIkdiXnIWYmtySmJe2kq','yM9KEq','yxbWBhK','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','x21HCa','zNjVBunHy2HL','Bwf4','x3nJywXL','BwLUq2fUDMfZu2L6zq','mJi5mtqYmfz5Ae9qBW','C2v0ug9ZAxrPB25Z','DMfSDwvpzG','x3bVC2L0Aw9UCW','sgvHDeXHEwvY','Dw5KzwzPBMvK','tg5Ntgf0ug9PBNq','Cg9ZAxrPB25Z','ug9PBNruCMfUCW','C2v0uhjVDg90ExbLt2y','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','C2HVDW','zgLMzKHLAwDODa','y2XPzw50sgvPz2H0','y29UC3rYDwn0B3i','y2XPzw50v2LKDgG','x2XHC3rFBujVDw5KCW','z2v0vMfSDwvbDa','mtfNr2fir0q','ChvZAa','x3jLBMrLCMvY','AgvHDa','q2fYDgvZAwfUmG','zNjVBurLz3jLzxm','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','Eg1PBG','z3jHzgLLBNrbCMm','s0vfua','EwvSBg93','qMfZzuXHEwvY','y29Uy2f0','CMvK','z2v0ug9PBNreyxrH','A2v5CW','oxHnsw1osW','z2v0uMvJDgfUz2XL','q29SB3i','y2XLyxi','quXxqvLt','zw51BwvYywjSzq','mtGZmJG4mhrgsg5Lta','z2v0','ywrKr3jHCgHPyW','Bwf4q2fUDMfZu2L6zq','BgvUz3rO','mtKWnJKWoerpwu9rzG','z3jHCgHPyW','x2XHEwvY','q2vZAxvT','x3nLDe9WDgLVBNniB29R','mtmZBxPQzxrg','DMfSDwu','Bg9UBgf0mM1LCMnHDg9Y','x2nYzwf0zuDYyxbOAwm','BwLU','y29UC3rYDwn0','D2LKDgG','y3r4','CMvNAxn0zxi','CMDIysG','zM9YrwfJAa','zMXVB3i','x21cB3vUzhnnyxG','CMvTB3zL','qMXLBMrPBMDtDgf0zq','y29UzMLNDxjL','z2v0uhjVDg90ExbLt2y','yxjJuMfKAxvZu2nHBgu','C3bSAxroDw0','Ew1PBG','CMfKAxvZ','z3jLzw4','yNvTCe1HCa','Cg9PBNrZ','zNvUy3rPB24'];_0x5665=function(){return _0x3ac7f2;};return _0x5665();}function _createClass(_0x4a7969,_0x3f9c5b,_0x474359){var _0x568b65=_0x4960;if(_0x3f9c5b)_defineProperties(_0x4a7969[_0x568b65(0x9a)],_0x3f9c5b);if(_0x474359)_defineProperties(_0x4a7969,_0x474359);return Object[_0x568b65(0xb7)](_0x4a7969,_0x568b65(0x9a),{'writable':![]}),_0x4a7969;}function _defineProperty(_0x4e897f,_0x3dca5c,_0x3fb42b){return _0x3dca5c in _0x4e897f?Object['defineProperty'](_0x4e897f,_0x3dca5c,{'value':_0x3fb42b,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x4e897f[_0x3dca5c]=_0x3fb42b,_0x4e897f;}function _inherits(_0x4f4893,_0x1fe0fc){var _0x4f8f61=_0x4960;if(typeof _0x1fe0fc!==_0x4f8f61(0x113)&&_0x1fe0fc!==null)throw new TypeError(_0x4f8f61(0xe1));_0x4f4893[_0x4f8f61(0x9a)]=Object[_0x4f8f61(0x83)](_0x1fe0fc&&_0x1fe0fc[_0x4f8f61(0x9a)],{'constructor':{'value':_0x4f4893,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x4f4893,_0x4f8f61(0x9a),{'writable':![]});if(_0x1fe0fc)_setPrototypeOf(_0x4f4893,_0x1fe0fc);}function _getPrototypeOf(_0x4a82b3){var _0x38b335=_0x4960;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x38b335(0x10b)]:function _0x37059f(_0x418b72){return _0x418b72['__proto__']||Object['getPrototypeOf'](_0x418b72);},_getPrototypeOf(_0x4a82b3);}function _setPrototypeOf(_0x323795,_0xe0374a){var _0x7c5c17=_0x4960;return _setPrototypeOf=Object[_0x7c5c17(0xd1)]||function _0x292df3(_0x5bcfc0,_0x218cc0){return _0x5bcfc0['__proto__']=_0x218cc0,_0x5bcfc0;},_setPrototypeOf(_0x323795,_0xe0374a);}function _isNativeReflectConstruct(){var _0x318e40=_0x4960;if(typeof Reflect===_0x318e40(0xcd)||!Reflect[_0x318e40(0x100)])return![];if(Reflect['construct'][_0x318e40(0xab)])return![];if(typeof Proxy==='function')return!![];try{return Boolean['prototype'][_0x318e40(0xca)][_0x318e40(0xa5)](Reflect[_0x318e40(0x100)](Boolean,[],function(){})),!![];}catch(_0x106091){return![];}}function _assertThisInitialized(_0x5f0276){var _0x2782f4=_0x4960;if(_0x5f0276===void 0x0)throw new ReferenceError(_0x2782f4(0xd2));return _0x5f0276;}function _possibleConstructorReturn(_0x1fcd66,_0x84039a){var _0x1a959e=_0x4960;if(_0x84039a&&(typeof _0x84039a==='object'||typeof _0x84039a===_0x1a959e(0x113)))return _0x84039a;else{if(_0x84039a!==void 0x0)throw new TypeError(_0x1a959e(0x89));}return _assertThisInitialized(_0x1fcd66);}function _createSuper(_0x43c18c){var _0xdc99cc=_isNativeReflectConstruct();return function _0x5c371c(){var _0xb4a14=_0x4960,_0xa75a32=_getPrototypeOf(_0x43c18c),_0x5cc56b;if(_0xdc99cc){var _0x239665=_getPrototypeOf(this)[_0xb4a14(0xd7)];_0x5cc56b=Reflect[_0xb4a14(0x100)](_0xa75a32,arguments,_0x239665);}else _0x5cc56b=_0xa75a32[_0xb4a14(0xc1)](this,arguments);return _possibleConstructorReturn(this,_0x5cc56b);};}var HeatMaterial='uniform\x20sampler2D\x20image;\x0a\x0aczm_material\x20czm_getMaterial(czm_materialInput\x20materialInput)\x20{\x0a\x20\x20czm_material\x20material\x20=\x20czm_getDefaultMaterial(materialInput);\x0a\x20\x20vec2\x20st\x20=\x20materialInput.st;\x0a\x20\x20vec4\x20colorImage\x20=\x20texture2D(image,\x20st);\x0a\x20\x20if(colorImage.rgb\x20==\x20vec3(1.0)\x20||\x20colorImage.rgb\x20==\x20vec3(0.0))\x20{\x0a\x20\x20\x20\x20discard;\x0a\x20\x20}\x0a\x20\x20material.diffuse\x20=\x20colorImage.rgb;\x0a\x20\x20material.alpha\x20=\x20colorImage.a;\x0a\x20\x20return\x20material;\x0a}\x0a';if(!h337__namespace[_0x2db040(0x83)])throw new Error('请引入\x20heatmap.js\x20库\x20');var Cesium=mars3d__namespace[_0x2db040(0xf9)],BaseLayer=mars3d__namespace[_0x2db040(0xb8)][_0x2db040(0xe6)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:'blue',0.6:_0x2db040(0x110),0.8:_0x2db040(0xe5),0.9:_0x2db040(0xe8)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x2db040(0xb4)]},HeatLayer=function(_0x298450){var _0x203e98=_0x2db040;_inherits(_0x5c65e8,_0x298450);var _0x1e1615=_createSuper(_0x5c65e8);function _0x5c65e8(){var _0x531a91=_0x4960,_0x56c0ad,_0x24f80b,_0x4d0b2c,_0x1fe272=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x5c65e8),_0x4d0b2c=_0x1e1615[_0x531a91(0xa5)](this,_0x1fe272),_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0xf4)]=(_0x56c0ad=_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0xf4)])!==null&&_0x56c0ad!==void 0x0?_0x56c0ad:document['body'][_0x531a91(0xd8)],_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0xf4)]=Math[_0x531a91(0xff)](_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0xf4)],0x1388),_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0xc7)]=(_0x24f80b=_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0xc7)])!==null&&_0x24f80b!==void 0x0?_0x24f80b:document[_0x531a91(0xc0)][_0x531a91(0xd6)],_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0xc7)]=Math[_0x531a91(0xc5)](_0x4d0b2c[_0x531a91(0xa4)]['minCanvasSize'],0x2bc),_0x4d0b2c[_0x531a91(0xa4)]['heatStyle']=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0x94)]||{}),_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0x11e)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x4d0b2c[_0x531a91(0xa4)][_0x531a91(0x11e)]||{}),_0x4d0b2c;}return _createClass(_0x5c65e8,[{'key':'layer','get':function _0x2346e4(){var _0x133776=_0x4960;return this[_0x133776(0xf8)];}},{'key':_0x203e98(0x94),'get':function _0x52f983(){var _0x1f3a40=_0x203e98;return this[_0x1f3a40(0xa4)][_0x1f3a40(0x94)];},'set':function _0x3e00b4(_0x196349){var _0x55c671=_0x203e98;this[_0x55c671(0xa4)][_0x55c671(0x94)]=mars3d__namespace[_0x55c671(0x11f)]['merge'](this[_0x55c671(0xa4)][_0x55c671(0x94)],_0x196349),this[_0x55c671(0x8e)]&&(this['_heat'][_0x55c671(0x10a)](this[_0x55c671(0xa4)][_0x55c671(0x94)]),this[_0x55c671(0xba)](!![]));}},{'key':'style','get':function _0xbe4904(){var _0x13ae07=_0x203e98;return this[_0x13ae07(0xa4)][_0x13ae07(0x11e)];},'set':function _0x45830b(_0x1ca4a3){var _0x4965cc=_0x203e98;this[_0x4965cc(0xa4)]['style']=mars3d__namespace[_0x4965cc(0x11f)][_0x4965cc(0x9c)](this[_0x4965cc(0xa4)][_0x4965cc(0x11e)],_0x1ca4a3);}},{'key':_0x203e98(0xcf),'get':function _0x132ec3(){return this['_positions'];},'set':function _0x1eae52(_0xb9e21b){var _0x32e4c1=_0x203e98;this[_0x32e4c1(0xc9)](_0xb9e21b);}},{'key':_0x203e98(0x118),'get':function _0x1ee7c2(){var _0x278fcb=_0x203e98,_0x30736c=[];return this[_0x278fcb(0x112)][_0x278fcb(0x105)](function(_0x2b6601){var _0x3bc387=_0x278fcb;_0x30736c[_0x3bc387(0xdc)](_0x2b6601[_0x3bc387(0xaf)]());}),_0x30736c;}},{'key':_0x203e98(0xa0),'get':function _0x450220(){return this['_rectangle'];}},{'key':_0x203e98(0xfa),'value':function _0x27b3b0(_0xbd935e,_0x43a7dd){var _0x495f6b=_0x203e98;_0xbd935e[_0x495f6b(0xcf)]&&(this[_0x495f6b(0xcf)]=_0xbd935e[_0x495f6b(0xcf)]);}},{'key':_0x203e98(0x11d),'value':function _0x5bbee1(){var _0x41001a=_0x203e98;this[_0x41001a(0xf8)]=new mars3d__namespace[(_0x41001a(0xb8))][(_0x41001a(0x84))]({'private':!![]});}},{'key':'_addedHook','value':function _0x23785d(){var _0xb0f71b=_0x203e98;this[_0xb0f71b(0xc3)][_0xb0f71b(0x99)](this[_0xb0f71b(0xf8)]),this[_0xb0f71b(0xa4)][_0xb0f71b(0xcf)]&&(this[_0xb0f71b(0xcf)]=this['options'][_0xb0f71b(0xcf)]),this[_0xb0f71b(0xa4)][_0xb0f71b(0x120)]&&this[_0xb0f71b(0xb3)]();}},{'key':'_removedHook','value':function _0xaddd15(){var _0x4650af=_0x203e98;this[_0x4650af(0x94)]['container']&&(mars3d__namespace[_0x4650af(0x8a)][_0x4650af(0x108)](this[_0x4650af(0x94)][_0x4650af(0xa2)]),delete this[_0x4650af(0x94)][_0x4650af(0xa2)]),this[_0x4650af(0xee)](),this[_0x4650af(0xc3)]['removeLayer'](this[_0x4650af(0xf8)]);}},{'key':_0x203e98(0xb5),'value':function _0x3cbe51(_0x3f87e2,_0x305d95){var _0x59d49c=_0x203e98;this['_positions']=this[_0x59d49c(0xcb)]||[],this[_0x59d49c(0xcb)][_0x59d49c(0xdc)](_0x3f87e2),this[_0x59d49c(0xba)](_0x305d95);}},{'key':'setPositions','value':function _0x163a78(_0x5f124c,_0x1ad0bb){var _0x3927e0=_0x203e98;this['_positions']=_0x5f124c,this[_0x3927e0(0xba)](_0x1ad0bb);}},{'key':'clear','value':function _0x429e48(){var _0x472eeb=_0x203e98;this['_graphic']&&(this[_0x472eeb(0xf8)][_0x472eeb(0xbe)](this[_0x472eeb(0x93)],!![]),delete this[_0x472eeb(0x93)]);}},{'key':_0x203e98(0xba),'value':function _0x4a706c(_0x47b9bf){var _0x45bde4=_0x203e98;if(!this[_0x45bde4(0xd4)]||!this[_0x45bde4(0xc3)]||!this[_0x45bde4(0xcf)]||this[_0x45bde4(0xcf)][_0x45bde4(0xf5)]===0x0)return this;var _0x145d43=this[_0x45bde4(0x122)]();return this['style']['arc']?this[_0x45bde4(0x93)]&&_0x47b9bf?(this['_graphic'][_0x45bde4(0xa3)][_0x45bde4(0xb0)]=_0x145d43,this[_0x45bde4(0x93)][_0x45bde4(0xa3)][_0x45bde4(0x111)]=this['_getArcHeatCanvas']()):this['_createArcGraphic'](_0x145d43):this[_0x45bde4(0x93)]&&_0x47b9bf?this[_0x45bde4(0x93)][_0x45bde4(0xa3)][_0x45bde4(0xb0)]=_0x145d43:this['_createGraphic'](_0x145d43),this;}},{'key':_0x203e98(0xfe),'value':function _0x59cfba(_0x555f22){var _0x84845b=_0x203e98;this[_0x84845b(0xee)](),this[_0x84845b(0x93)]=new mars3d__namespace['graphic']['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x84845b(0x8b)],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'material':new Cesium[(_0x84845b(0x98))]({'fabric':{'uniforms':{'image':_0x555f22},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x84845b(0xf8)][_0x84845b(0xf3)](this[_0x84845b(0x93)]);}},{'key':'_createArcGraphic','value':function _0x4ee650(_0x24d236){var _0x20c7b7=_0x203e98,_0x26b327;this['clear']();var _0x23bcd4=Cesium['RenderState'][_0x20c7b7(0xc4)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x20c7b7(0xb1)][_0x20c7b7(0xef)],'frontOperation':{'fail':Cesium[_0x20c7b7(0x8c)][_0x20c7b7(0xe4)],'zFail':Cesium[_0x20c7b7(0x8c)][_0x20c7b7(0xe4)],'zPass':Cesium['StencilOperation'][_0x20c7b7(0xb6)]},'backFunction':Cesium[_0x20c7b7(0xb1)][_0x20c7b7(0xef)],'backOperation':{'fail':Cesium[_0x20c7b7(0x8c)]['KEEP'],'zFail':Cesium[_0x20c7b7(0x8c)][_0x20c7b7(0xe4)],'zPass':Cesium['StencilOperation'][_0x20c7b7(0xb6)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x20c7b7(0x109)][_0x20c7b7(0x86)]}),_0x39314e=Math[_0x20c7b7(0x106)]((_0x26b327=this[_0x20c7b7(0x11e)][_0x20c7b7(0xd5)])!==null&&_0x26b327!==void 0x0?_0x26b327:this['_mBoundsMax']*0.02)+0.1;this['style'][_0x20c7b7(0xd5)]&&delete this['style'][_0x20c7b7(0xd5)];var _0x303ec7=(this[_0x20c7b7(0x11e)][_0x20c7b7(0x10d)],0x64),_0x5e008e=Math[_0x20c7b7(0xc5)](this[_0x20c7b7(0x8b)]['height'],this[_0x20c7b7(0x8b)][_0x20c7b7(0x101)]);this[_0x20c7b7(0x11e)][_0x20c7b7(0xb2)]=_0x5e008e/=_0x303ec7,this[_0x20c7b7(0x93)]=new mars3d__namespace[(_0x20c7b7(0xf7))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x20c7b7(0xa4)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x20c7b7(0xd3))]({'aboveGround':!![],'renderState':_0x23bcd4,'material':new Cesium[(_0x20c7b7(0x98))]({'fabric':{'uniforms':{'image':_0x24d236,'repeat':new Cesium[(_0x20c7b7(0xdf))](0x1,0x1),'color':new Cesium[(_0x20c7b7(0xed))](0x1,0x1,0x1,0.01),'bumpMap':this[_0x20c7b7(0x114)]()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':'attribute\x20vec3\x20position3DHigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec3\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20batchId;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bumpMap_3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionMC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionEC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_st;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20p\x20=\x20czm_computePosition();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionMC\x20=\x20position3DHigh\x20+\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionEC\x20=\x20(czm_modelViewRelativeToEye\x20*\x20p).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_st\x20=\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(bumpMap_3,\x20v_st);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBump\x20=\x20distance(vec3(0.0),color.rgb);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20upDir\x20=\x20normalize(v_positionMC.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20disPos\x20=\x20upDir\x20*\x20centerBump\x20*\x20'[_0x20c7b7(0xe7)](_0x39314e,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this[_0x20c7b7(0xf8)]['addGraphic'](this[_0x20c7b7(0x93)]);}},{'key':_0x203e98(0xec),'value':function _0x29104a(_0x40a0f3){var _0xe38d2b=_0x203e98;return _0x40a0f3!==null&&_0x40a0f3!==void 0x0&&_0x40a0f3['isFormat']&&this['_rectangle']?mars3d__namespace[_0xe38d2b(0x82)][_0xe38d2b(0x8d)](this[_0xe38d2b(0x8b)]):this[_0xe38d2b(0x8b)];}},{'key':_0x203e98(0x122),'value':function _0x41648c(){var _0x26f696=_0x203e98,_0x593365=this,_0x1eed11,_0x58cdd4,_0x2e99fa,_0x12cd32,_0x447a57=this[_0x26f696(0xcb)],_0x1cc57e=[],_0x59b05a,_0x372646,_0xaaba45,_0x54be7e;_0x447a57[_0x26f696(0x105)](function(_0x1292bd){var _0x2eef2c=_0x26f696,_0x2a133a=mars3d__namespace[_0x2eef2c(0xce)][_0x2eef2c(0xa7)](_0x1292bd);if(!_0x2a133a)return;_0x2a133a[_0x2eef2c(0xfc)]=_0x1292bd[_0x2eef2c(0xfc)]||0x1,!_0x593365[_0x2eef2c(0xa4)][_0x2eef2c(0xa0)]&&(_0x59b05a===undefined?(_0x59b05a=_0x2a133a['lng'],_0x372646=_0x2a133a[_0x2eef2c(0xaa)],_0xaaba45=_0x2a133a[_0x2eef2c(0x8f)],_0x54be7e=_0x2a133a[_0x2eef2c(0x8f)]):(_0x59b05a=Math[_0x2eef2c(0xff)](_0x59b05a,_0x2a133a[_0x2eef2c(0xaa)]),_0x372646=Math['max'](_0x372646,_0x2a133a[_0x2eef2c(0xaa)]),_0xaaba45=Math[_0x2eef2c(0xff)](_0xaaba45,_0x2a133a[_0x2eef2c(0x8f)]),_0x54be7e=Math[_0x2eef2c(0xc5)](_0x54be7e,_0x2a133a['lat']))),_0x1cc57e[_0x2eef2c(0xdc)](_0x2a133a);});var _0x4b183e=this[_0x26f696(0xa4)][_0x26f696(0xa0)]||{'xmin':_0x59b05a,'xmax':_0x372646,'ymin':_0xaaba45,'ymax':_0x54be7e},_0x169357=getMercatorBounds(_0x4b183e),_0xb6d1a2=Math['abs'](_0x169357['xmax']-_0x169357[_0x26f696(0xe2)]),_0xb3b29a=Math[_0x26f696(0x119)](_0x169357[_0x26f696(0xbb)]-_0x169357['ymin']),_0x1fa92c=Math[_0x26f696(0xc5)](_0xb6d1a2,_0xb3b29a),_0x2e8309=Math['min'](_0xb6d1a2,_0xb3b29a);this[_0x26f696(0x107)]=_0x1fa92c;var _0x547a95=0x1;if(_0x1fa92c>this[_0x26f696(0xa4)][_0x26f696(0xf4)])_0x547a95=_0x1fa92c/this[_0x26f696(0xa4)][_0x26f696(0xf4)],_0x2e8309/_0x547a95<this['options'][_0x26f696(0xc7)]&&(_0x547a95=_0x2e8309/this[_0x26f696(0xa4)][_0x26f696(0xc7)]);else _0x2e8309<this[_0x26f696(0xa4)]['minCanvasSize']&&(_0x547a95=_0x2e8309/this[_0x26f696(0xa4)][_0x26f696(0xc7)],_0x1fa92c/_0x547a95>this[_0x26f696(0xa4)][_0x26f696(0xf4)]&&(_0x547a95=_0x1fa92c/this['options'][_0x26f696(0xf4)]));var _0xf8bbff=this[_0x26f696(0x94)][_0x26f696(0x10f)]*1.5,_0x29c1f4=_0xb6d1a2/_0x547a95+_0xf8bbff*0x2,_0x4366db=_0xb3b29a/_0x547a95+_0xf8bbff*0x2,_0x289968=_0xf8bbff*_0x547a95;_0x169357[_0x26f696(0xe2)]-=_0x289968,_0x169357[_0x26f696(0x10e)]-=_0x289968,_0x169357['xmax']+=_0x289968,_0x169357[_0x26f696(0xbb)]+=_0x289968,this[_0x26f696(0xc6)]=_0x547a95,_0x4b183e=geLatLngBounds(_0x169357),this[_0x26f696(0x8b)]=Cesium['Rectangle'][_0x26f696(0xe0)](_0x4b183e['xmin'],_0x4b183e[_0x26f696(0x10e)],_0x4b183e[_0x26f696(0xa1)],_0x4b183e[_0x26f696(0xbb)]);var _0x337a0c=(_0x1eed11=_0x1cc57e[0x0][_0x26f696(0xfc)])!==null&&_0x1eed11!==void 0x0?_0x1eed11:0x1,_0x52c76c=(_0x58cdd4=_0x1cc57e[0x0][_0x26f696(0xfc)])!==null&&_0x58cdd4!==void 0x0?_0x58cdd4:0x0,_0x12ad62=[];_0x1cc57e['forEach'](function(_0x4a03ea){var _0x54fca4=_0x26f696,_0x1f9cdc=mars3d__namespace[_0x54fca4(0xd0)][_0x54fca4(0xfd)]([_0x4a03ea['lng'],_0x4a03ea[_0x54fca4(0x8f)]]),_0x2c3f49=_0x4a03ea['value']||0x1,_0x52aed9=Math[_0x54fca4(0x115)]((_0x1f9cdc[0x0]-_0x169357[_0x54fca4(0xe2)])/_0x547a95),_0x50385c=Math[_0x54fca4(0x115)]((_0x169357['ymax']-_0x1f9cdc[0x1])/_0x547a95);_0x337a0c=Math['max'](_0x337a0c,_0x2c3f49),_0x52c76c=Math[_0x54fca4(0xff)](_0x52c76c,_0x2c3f49),_0x12ad62['push']({'x':_0x52aed9,'y':_0x50385c,'value':_0x2c3f49});});var _0x1bc61b={'min':(_0x2e99fa=this[_0x26f696(0xa4)][_0x26f696(0xff)])!==null&&_0x2e99fa!==void 0x0?_0x2e99fa:_0x52c76c,'max':(_0x12cd32=this[_0x26f696(0xa4)]['max'])!==null&&_0x12cd32!==void 0x0?_0x12cd32:_0x337a0c,'data':_0x12ad62};this[_0x26f696(0x87)]=_0x1bc61b;(!this[_0x26f696(0xd9)]||_0x169357['xmin']!==this['_last_mBounds']['xmin']||_0x169357['ymin']!==this[_0x26f696(0xd9)][_0x26f696(0x10e)]||_0x169357[_0x26f696(0xa1)]!==this[_0x26f696(0xd9)][_0x26f696(0xa1)]||_0x169357['ymax']!==this[_0x26f696(0xd9)]['ymax'])&&(this[_0x26f696(0xd9)]=_0x169357,!this['heatStyle'][_0x26f696(0xa2)]&&(this[_0x26f696(0x94)]['container']=mars3d__namespace[_0x26f696(0x8a)][_0x26f696(0x83)](_0x26f696(0x11c),_0x26f696(0x116),this[_0x26f696(0xc3)][_0x26f696(0xa2)])),this[_0x26f696(0x94)][_0x26f696(0xa2)]['style'][_0x26f696(0xbc)]='width:'[_0x26f696(0xe7)](_0x29c1f4,'px;height:')[_0x26f696(0xe7)](_0x4366db,_0x26f696(0x90)),!this[_0x26f696(0x8e)]?this[_0x26f696(0x8e)]=h337__namespace[_0x26f696(0x83)](this[_0x26f696(0x94)]):this['_heat']['configure'](this[_0x26f696(0x94)]));this[_0x26f696(0x8e)]['setData'](_0x1bc61b);var _0x1e24a3=mars3d__namespace['DomUtil'][_0x26f696(0x9d)](this['_heat'][_0x26f696(0xdd)][_0x26f696(0xad)]);return _0x1e24a3;}},{'key':_0x203e98(0x114),'value':function _0x33d6df(){var _0x1ed210=_0x203e98;this[_0x1ed210(0x8e)][_0x1ed210(0x10a)]({'radius':this[_0x1ed210(0x94)][_0x1ed210(0x10f)]*this['style'][_0x1ed210(0x10c)],'blur':this['heatStyle']['blur']*this['style']['arcBlurScale'],'gradient':this[_0x1ed210(0x94)][_0x1ed210(0xe3)]||{0.25:_0x1ed210(0x11b),0.55:_0x1ed210(0xa9),0.85:_0x1ed210(0xbf),0x1:_0x1ed210(0xb9)}});var _0x274629=mars3d__namespace[_0x1ed210(0x8a)][_0x1ed210(0x9d)](this[_0x1ed210(0x8e)][_0x1ed210(0xdd)][_0x1ed210(0xad)]);return this[_0x1ed210(0x8e)][_0x1ed210(0x10a)](this['options'][_0x1ed210(0x94)]),_0x274629;}},{'key':_0x203e98(0xe9),'value':function _0x2ffc06(_0x31d5a6){var _0x1c7136=_0x203e98,_0x1d80a0=mars3d__namespace[_0x1c7136(0xce)][_0x1c7136(0xa7)](_0x31d5a6);if(!_0x1d80a0)return{};var _0x5a37e0=mars3d__namespace[_0x1c7136(0xd0)][_0x1c7136(0xfd)]([_0x1d80a0[_0x1c7136(0xaa)],_0x1d80a0['lat']]),_0x17c812=this[_0x1c7136(0xd9)],_0xe6dee8=Math[_0x1c7136(0x115)]((_0x5a37e0[0x0]-_0x17c812[_0x1c7136(0xe2)])/this[_0x1c7136(0xc6)]),_0x5dd3c0=Math['round']((_0x17c812[_0x1c7136(0xbb)]-_0x5a37e0[0x1])/this['_scale']),_0x1eae73=this[_0x1c7136(0x8e)][_0x1c7136(0xda)]({'x':_0xe6dee8,'y':_0x5dd3c0}),_0x2ac83d=this[_0x1c7136(0x8e)][_0x1c7136(0xdd)][_0x1c7136(0x102)][_0x1c7136(0x92)](_0xe6dee8-0x1,_0x5dd3c0-0x1,0x1,0x1)[_0x1c7136(0x121)];return{'x':_0xe6dee8,'y':_0x5dd3c0,'value':_0x1eae73,'color':_0x1c7136(0x104)+_0x2ac83d[0x0]+','+_0x2ac83d[0x1]+','+_0x2ac83d[0x2]+','+_0x2ac83d[0x3]+')'};}}]),_0x5c65e8;}(BaseLayer);function _0x4960(_0x3af276,_0x14155f){var _0x566564=_0x5665();return _0x4960=function(_0x4960fe,_0x380cfa){_0x4960fe=_0x4960fe-0x82;var _0x234d8d=_0x566564[_0x4960fe];if(_0x4960['JwSYwv']===undefined){var _0x29fb6b=function(_0x4f1755){var _0x52fb36='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x1518da='',_0x57c087='';for(var _0x4f4d4a=0x0,_0x17d4f8,_0x3162f1,_0x371e43=0x0;_0x3162f1=_0x4f1755['charAt'](_0x371e43++);~_0x3162f1&&(_0x17d4f8=_0x4f4d4a%0x4?_0x17d4f8*0x40+_0x3162f1:_0x3162f1,_0x4f4d4a++%0x4)?_0x1518da+=String['fromCharCode'](0xff&_0x17d4f8>>(-0x2*_0x4f4d4a&0x6)):0x0){_0x3162f1=_0x52fb36['indexOf'](_0x3162f1);}for(var _0x3a5566=0x0,_0x1f6d8e=_0x1518da['length'];_0x3a5566<_0x1f6d8e;_0x3a5566++){_0x57c087+='%'+('00'+_0x1518da['charCodeAt'](_0x3a5566)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x57c087);};_0x4960['WUDdjD']=_0x29fb6b,_0x3af276=arguments,_0x4960['JwSYwv']=!![];}var _0x33f21a=_0x566564[0x0],_0x315f0d=_0x4960fe+_0x33f21a,_0x35a977=_0x3af276[_0x315f0d];return!_0x35a977?(_0x234d8d=_0x4960['WUDdjD'](_0x234d8d),_0x3af276[_0x315f0d]=_0x234d8d):_0x234d8d=_0x35a977,_0x234d8d;},_0x4960(_0x3af276,_0x14155f);}mars3d__namespace[_0x2db040(0xb8)][_0x2db040(0xcc)]=HeatLayer,mars3d__namespace[_0x2db040(0x85)][_0x2db040(0x103)](_0x2db040(0xde),HeatLayer);function getMercatorBounds(_0x2772a2){var _0x138b6d=_0x2db040,_0x3ece55=mars3d__namespace[_0x138b6d(0xd0)]['lonlat2mercator']([_0x2772a2[_0x138b6d(0xe2)],_0x2772a2[_0x138b6d(0x10e)]]),_0x511597=mars3d__namespace[_0x138b6d(0xd0)]['lonlat2mercator']([_0x2772a2['xmax'],_0x2772a2[_0x138b6d(0xbb)]]);return{'xmin':_0x3ece55[0x0],'ymin':_0x3ece55[0x1],'xmax':_0x511597[0x0],'ymax':_0x511597[0x1]};}function geLatLngBounds(_0x51861c){var _0x4369d=_0x2db040,_0x201e1a=mars3d__namespace['PointTrans']['mercator2lonlat']([_0x51861c['xmin'],_0x51861c[_0x4369d(0x10e)]]),_0x1ae5ad=mars3d__namespace[_0x4369d(0xd0)][_0x4369d(0x11a)]([_0x51861c[_0x4369d(0xa1)],_0x51861c[_0x4369d(0xbb)]]);return{'xmin':_0x201e1a[0x0],'ymin':_0x201e1a[0x1],'xmax':_0x1ae5ad[0x0],'ymax':_0x1ae5ad[0x1]};}exports[_0x2db040(0xcc)]=HeatLayer,Object[_0x2db040(0xb7)](exports,_0x2db040(0x96),{'value':!![]});
}));
