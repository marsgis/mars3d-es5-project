/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.1
 * 编译日期：2022-07-25 15:48:07
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x6ba69=_0x28db;(function(_0x3716dd,_0x3c73ad){var _0x3ddbac=_0x28db,_0x1769ec=_0x3716dd();while(!![]){try{var _0x40152a=-parseInt(_0x3ddbac(0x198))/0x1*(parseInt(_0x3ddbac(0x168))/0x2)+parseInt(_0x3ddbac(0x161))/0x3*(parseInt(_0x3ddbac(0x1ba))/0x4)+-parseInt(_0x3ddbac(0x1a1))/0x5+parseInt(_0x3ddbac(0x15f))/0x6*(parseInt(_0x3ddbac(0x1d4))/0x7)+-parseInt(_0x3ddbac(0x14e))/0x8*(-parseInt(_0x3ddbac(0x1cb))/0x9)+parseInt(_0x3ddbac(0x1b1))/0xa*(-parseInt(_0x3ddbac(0x1c1))/0xb)+-parseInt(_0x3ddbac(0x16e))/0xc;if(_0x40152a===_0x3c73ad)break;else _0x1769ec['push'](_0x1769ec['shift']());}catch(_0x5533a7){_0x1769ec['push'](_0x1769ec['shift']());}}}(_0x4262,0x755d0));function _interopNamespace(_0x153558){var _0x523451=_0x28db;if(_0x153558&&_0x153558[_0x523451(0x16f)])return _0x153558;var _0xd91b5c=Object['create'](null);return _0x153558&&Object[_0x523451(0x1c2)](_0x153558)['forEach'](function(_0x417161){var _0x534402=_0x523451;if(_0x417161!=='default'){var _0x3264fa=Object[_0x534402(0x1dd)](_0x153558,_0x417161);Object[_0x534402(0x1d5)](_0xd91b5c,_0x417161,_0x3264fa['get']?_0x3264fa:{'enumerable':!![],'get':function(){return _0x153558[_0x417161];}});}}),_0xd91b5c['default']=_0x153558,_0xd91b5c;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function _0x28db(_0x42055d,_0x2071c0){var _0x4262bb=_0x4262();return _0x28db=function(_0x28db2f,_0x554d4c){_0x28db2f=_0x28db2f-0x145;var _0x5f1908=_0x4262bb[_0x28db2f];if(_0x28db['nuXzQd']===undefined){var _0x591129=function(_0x153558){var _0xd91b5c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x417161='',_0x3264fa='';for(var _0x38e6d4=0x0,_0x2cf00c,_0x3d5725,_0x37e67c=0x0;_0x3d5725=_0x153558['charAt'](_0x37e67c++);~_0x3d5725&&(_0x2cf00c=_0x38e6d4%0x4?_0x2cf00c*0x40+_0x3d5725:_0x3d5725,_0x38e6d4++%0x4)?_0x417161+=String['fromCharCode'](0xff&_0x2cf00c>>(-0x2*_0x38e6d4&0x6)):0x0){_0x3d5725=_0xd91b5c['indexOf'](_0x3d5725);}for(var _0xf063b0=0x0,_0x8a44ac=_0x417161['length'];_0xf063b0<_0x8a44ac;_0xf063b0++){_0x3264fa+='%'+('00'+_0x417161['charCodeAt'](_0xf063b0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3264fa);};_0x28db['YwfGjR']=_0x591129,_0x42055d=arguments,_0x28db['nuXzQd']=!![];}var _0x1c8926=_0x4262bb[0x0],_0x407b86=_0x28db2f+_0x1c8926,_0x404e6f=_0x42055d[_0x407b86];return!_0x404e6f?(_0x5f1908=_0x28db['YwfGjR'](_0x5f1908),_0x42055d[_0x407b86]=_0x5f1908):_0x5f1908=_0x404e6f,_0x5f1908;},_0x28db(_0x42055d,_0x2071c0);}function ownKeys(_0x38e6d4,_0x2cf00c){var _0x2aed02=_0x28db,_0x3d5725=Object[_0x2aed02(0x1c2)](_0x38e6d4);if(Object[_0x2aed02(0x145)]){var _0x37e67c=Object[_0x2aed02(0x145)](_0x38e6d4);_0x2cf00c&&(_0x37e67c=_0x37e67c['filter'](function(_0xf063b0){var _0x19740f=_0x2aed02;return Object[_0x19740f(0x1dd)](_0x38e6d4,_0xf063b0)[_0x19740f(0x1d1)];})),_0x3d5725[_0x2aed02(0x1a7)][_0x2aed02(0x1a9)](_0x3d5725,_0x37e67c);}return _0x3d5725;}function _objectSpread2(_0x8a44ac){var _0x3e083d=_0x28db;for(var _0x312183=0x1;_0x312183<arguments[_0x3e083d(0x190)];_0x312183++){var _0x31fd3d=null!=arguments[_0x312183]?arguments[_0x312183]:{};_0x312183%0x2?ownKeys(Object(_0x31fd3d),!0x0)[_0x3e083d(0x1c3)](function(_0x16a1b3){_defineProperty(_0x8a44ac,_0x16a1b3,_0x31fd3d[_0x16a1b3]);}):Object['getOwnPropertyDescriptors']?Object[_0x3e083d(0x16a)](_0x8a44ac,Object[_0x3e083d(0x1d6)](_0x31fd3d)):ownKeys(Object(_0x31fd3d))[_0x3e083d(0x1c3)](function(_0x54a333){var _0x23b988=_0x3e083d;Object[_0x23b988(0x1d5)](_0x8a44ac,_0x54a333,Object[_0x23b988(0x1dd)](_0x31fd3d,_0x54a333));});}return _0x8a44ac;}function _classCallCheck(_0x5f3105,_0x4315fb){var _0x2c918c=_0x28db;if(!(_0x5f3105 instanceof _0x4315fb))throw new TypeError(_0x2c918c(0x157));}function _defineProperties(_0x58c419,_0x269a29){var _0x5c1d0e=_0x28db;for(var _0x82ceb4=0x0;_0x82ceb4<_0x269a29[_0x5c1d0e(0x190)];_0x82ceb4++){var _0x3714d8=_0x269a29[_0x82ceb4];_0x3714d8[_0x5c1d0e(0x1d1)]=_0x3714d8[_0x5c1d0e(0x1d1)]||![],_0x3714d8[_0x5c1d0e(0x186)]=!![];if('value'in _0x3714d8)_0x3714d8[_0x5c1d0e(0x181)]=!![];Object[_0x5c1d0e(0x1d5)](_0x58c419,_0x3714d8[_0x5c1d0e(0x175)],_0x3714d8);}}function _createClass(_0x246e95,_0x39faaa,_0x376b57){var _0x396155=_0x28db;if(_0x39faaa)_defineProperties(_0x246e95[_0x396155(0x19d)],_0x39faaa);if(_0x376b57)_defineProperties(_0x246e95,_0x376b57);return Object[_0x396155(0x1d5)](_0x246e95,_0x396155(0x19d),{'writable':![]}),_0x246e95;}function _defineProperty(_0x2a1bb7,_0x5ce7a3,_0x2a5aef){return _0x5ce7a3 in _0x2a1bb7?Object['defineProperty'](_0x2a1bb7,_0x5ce7a3,{'value':_0x2a5aef,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x2a1bb7[_0x5ce7a3]=_0x2a5aef,_0x2a1bb7;}function _inherits(_0x1758b7,_0x4aa3b7){var _0x48fcdd=_0x28db;if(typeof _0x4aa3b7!==_0x48fcdd(0x14c)&&_0x4aa3b7!==null)throw new TypeError(_0x48fcdd(0x1d7));_0x1758b7['prototype']=Object[_0x48fcdd(0x148)](_0x4aa3b7&&_0x4aa3b7[_0x48fcdd(0x19d)],{'constructor':{'value':_0x1758b7,'writable':!![],'configurable':!![]}}),Object[_0x48fcdd(0x1d5)](_0x1758b7,_0x48fcdd(0x19d),{'writable':![]});if(_0x4aa3b7)_setPrototypeOf(_0x1758b7,_0x4aa3b7);}function _getPrototypeOf(_0x49577e){var _0x411ea3=_0x28db;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x411ea3(0x155)]:function _0x26eb99(_0x14307c){var _0x31db9f=_0x411ea3;return _0x14307c[_0x31db9f(0x14a)]||Object[_0x31db9f(0x155)](_0x14307c);},_getPrototypeOf(_0x49577e);}function _setPrototypeOf(_0x4b0363,_0x1259c8){var _0x7bc218=_0x28db;return _setPrototypeOf=Object[_0x7bc218(0x147)]||function _0x542e03(_0x4a9ebd,_0x2b9363){var _0x10c6cb=_0x7bc218;return _0x4a9ebd[_0x10c6cb(0x14a)]=_0x2b9363,_0x4a9ebd;},_setPrototypeOf(_0x4b0363,_0x1259c8);}function _isNativeReflectConstruct(){var _0x269015=_0x28db;if(typeof Reflect==='undefined'||!Reflect[_0x269015(0x184)])return![];if(Reflect['construct'][_0x269015(0x165)])return![];if(typeof Proxy==='function')return!![];try{return Boolean[_0x269015(0x19d)][_0x269015(0x1c9)][_0x269015(0x167)](Reflect[_0x269015(0x184)](Boolean,[],function(){})),!![];}catch(_0x49572c){return![];}}function _assertThisInitialized(_0x263148){var _0x40f453=_0x28db;if(_0x263148===void 0x0)throw new ReferenceError(_0x40f453(0x15d));return _0x263148;}function _possibleConstructorReturn(_0x2b7c09,_0x4fa88f){var _0x4a832c=_0x28db;if(_0x4fa88f&&(typeof _0x4fa88f===_0x4a832c(0x1a6)||typeof _0x4fa88f==='function'))return _0x4fa88f;else{if(_0x4fa88f!==void 0x0)throw new TypeError(_0x4a832c(0x172));}return _assertThisInitialized(_0x2b7c09);}function _createSuper(_0x27630b){var _0x45d77c=_isNativeReflectConstruct();return function _0x1acee5(){var _0x410fd5=_0x28db,_0x4370f1=_getPrototypeOf(_0x27630b),_0x2e27b8;if(_0x45d77c){var _0x2d44e8=_getPrototypeOf(this)['constructor'];_0x2e27b8=Reflect[_0x410fd5(0x184)](_0x4370f1,arguments,_0x2d44e8);}else _0x2e27b8=_0x4370f1[_0x410fd5(0x1a9)](this,arguments);return _possibleConstructorReturn(this,_0x2e27b8);};}var HeatMaterial=_0x6ba69(0x170);if(!h337__namespace[_0x6ba69(0x148)])throw new Error(_0x6ba69(0x16c));var Cesium=mars3d__namespace[_0x6ba69(0x19c)],BaseLayer=mars3d__namespace[_0x6ba69(0x1ad)][_0x6ba69(0x1ae)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x6ba69(0x174),0.6:'green',0.8:_0x6ba69(0x163),0.9:'red'}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x6ba69(0x197)][_0x6ba69(0x199)]},HeatLayer=function(_0x538de1){var _0x32f832=_0x6ba69;_inherits(_0x5cbe88,_0x538de1);var _0x13901a=_createSuper(_0x5cbe88);function _0x5cbe88(){var _0x574d27=_0x28db,_0x171469,_0x5ea218,_0x5427a8,_0x41e707=arguments[_0x574d27(0x190)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x5cbe88),_0x5427a8=_0x13901a[_0x574d27(0x167)](this,_0x41e707),_0x5427a8[_0x574d27(0x18b)]['maxCanvasSize']=(_0x171469=_0x5427a8[_0x574d27(0x18b)]['maxCanvasSize'])!==null&&_0x171469!==void 0x0?_0x171469:document['body']['clientWidth'],_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x153)]=Math['min'](_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x153)],0x1388),_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x1c8)]=(_0x5ea218=_0x5427a8['options']['minCanvasSize'])!==null&&_0x5ea218!==void 0x0?_0x5ea218:document[_0x574d27(0x15c)][_0x574d27(0x15b)],_0x5427a8[_0x574d27(0x18b)]['minCanvasSize']=Math[_0x574d27(0x16b)](_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x1c8)],0x2bc),_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x1b6)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x1b6)]||{}),_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x1cf)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x5427a8[_0x574d27(0x18b)][_0x574d27(0x1cf)]||{}),_0x5427a8;}return _createClass(_0x5cbe88,[{'key':_0x32f832(0x1ad),'get':function _0x42ab0f(){return this['_layer'];}},{'key':_0x32f832(0x1b6),'get':function _0x1979a2(){var _0x1a66e2=_0x32f832;return this[_0x1a66e2(0x18b)][_0x1a66e2(0x1b6)];},'set':function _0x1522fe(_0x513e93){var _0x545ace=_0x32f832;this[_0x545ace(0x18b)][_0x545ace(0x1b6)]=mars3d__namespace[_0x545ace(0x1da)][_0x545ace(0x1d0)](this[_0x545ace(0x18b)][_0x545ace(0x1b6)],_0x513e93),this[_0x545ace(0x17b)]&&(this[_0x545ace(0x17b)][_0x545ace(0x150)](this['options'][_0x545ace(0x1b6)]),this[_0x545ace(0x178)](!![]));}},{'key':_0x32f832(0x1cf),'get':function _0x2180ae(){var _0x86916d=_0x32f832;return this[_0x86916d(0x18b)][_0x86916d(0x1cf)];},'set':function _0x13077e(_0x2d5903){var _0xa3a2f3=_0x32f832;this[_0xa3a2f3(0x18b)][_0xa3a2f3(0x1cf)]=mars3d__namespace['Util']['merge'](this[_0xa3a2f3(0x18b)]['style'],_0x2d5903);}},{'key':'positions','get':function _0x113fc0(){var _0x3d441e=_0x32f832;return this[_0x3d441e(0x152)];},'set':function _0x2b54dc(_0x5abf29){this['setPositions'](_0x5abf29);}},{'key':_0x32f832(0x166),'get':function _0x3d61fa(){var _0x2daa6c=_0x32f832,_0x163824=[];return this[_0x2daa6c(0x156)][_0x2daa6c(0x1c3)](function(_0x481205){var _0x4b700c=_0x2daa6c;_0x163824[_0x4b700c(0x1a7)](_0x481205[_0x4b700c(0x1db)]());}),_0x163824;}},{'key':'rectangle','get':function _0x403a8f(){var _0x5271bc=_0x32f832;return this[_0x5271bc(0x195)];}},{'key':'_setOptionsHook','value':function _0x2666b7(_0x37131e){var _0x4e0c58=_0x32f832;_0x37131e[_0x4e0c58(0x1ab)]&&(this[_0x4e0c58(0x1ab)]=_0x37131e[_0x4e0c58(0x1ab)]);}},{'key':_0x32f832(0x18c),'value':function _0x2048e3(){var _0x5208a3=_0x32f832;this[_0x5208a3(0x14f)]=new mars3d__namespace[(_0x5208a3(0x1ad))][(_0x5208a3(0x160))]({'private':!![]});}},{'key':_0x32f832(0x17f),'value':function _0x1c0f7a(){var _0x2ced3d=_0x32f832;this[_0x2ced3d(0x1a5)][_0x2ced3d(0x1e0)](this[_0x2ced3d(0x14f)]),this[_0x2ced3d(0x18b)][_0x2ced3d(0x1ab)]&&(this[_0x2ced3d(0x1ab)]=this[_0x2ced3d(0x18b)][_0x2ced3d(0x1ab)]),this[_0x2ced3d(0x18b)][_0x2ced3d(0x162)]&&this['flyToByAnimationEnd']();}},{'key':_0x32f832(0x173),'value':function _0x193778(){var _0x108a27=_0x32f832;this[_0x108a27(0x1b6)]['container']&&(mars3d__namespace[_0x108a27(0x18a)]['remove'](this[_0x108a27(0x1b6)][_0x108a27(0x1bb)]),delete this[_0x108a27(0x1b6)][_0x108a27(0x1bb)]),this[_0x108a27(0x1c6)](),this['_map'][_0x108a27(0x193)](this['_layer']);}},{'key':_0x32f832(0x194),'value':function _0x2b82c3(_0xd7f7e4,_0x1002cf){var _0x3a39ed=_0x32f832;this[_0x3a39ed(0x152)]=this[_0x3a39ed(0x152)]||[],this[_0x3a39ed(0x152)]['push'](_0xd7f7e4),this['_updatePositionsHook'](_0x1002cf);}},{'key':_0x32f832(0x1b9),'value':function _0x1552e6(_0x24d8e2,_0x3c093f){this['_positions']=_0x24d8e2,this['_updatePositionsHook'](_0x3c093f);}},{'key':_0x32f832(0x1c6),'value':function _0x109663(){var _0x29c503=_0x32f832;this[_0x29c503(0x179)]&&(this[_0x29c503(0x14f)][_0x29c503(0x1d8)](this[_0x29c503(0x179)],!![]),delete this[_0x29c503(0x179)]);}},{'key':_0x32f832(0x178),'value':function _0x130508(_0x59e91e){var _0x5e7e04=_0x32f832;if(!this[_0x5e7e04(0x1af)]||!this[_0x5e7e04(0x1a5)]||!this[_0x5e7e04(0x1ab)]||this[_0x5e7e04(0x1ab)][_0x5e7e04(0x190)]===0x0)return this;var _0x3fc9e4=this['_getHeatCanvas']();return this['style'][_0x5e7e04(0x1b7)]?this['_graphic']&&_0x59e91e?(this[_0x5e7e04(0x179)]['uniforms'][_0x5e7e04(0x1c7)]=_0x3fc9e4,this['_graphic'][_0x5e7e04(0x1cd)]['bumpMap']=this['_getArcHeatCanvas']()):this['_createArcGraphic'](_0x3fc9e4):this[_0x5e7e04(0x179)]&&_0x59e91e?this[_0x5e7e04(0x179)]['uniforms'][_0x5e7e04(0x1c7)]=_0x3fc9e4:this[_0x5e7e04(0x1b4)](_0x3fc9e4),this;}},{'key':_0x32f832(0x1b4),'value':function _0x5126bc(_0x4488b5){var _0xc72971=_0x32f832;this[_0xc72971(0x1c6)](),this['_graphic']=new mars3d__namespace['graphic'][(_0xc72971(0x15e))](_objectSpread2(_objectSpread2({},this[_0xc72971(0x18b)]),{},{'rectangle':this[_0xc72971(0x195)],'appearance':new Cesium[(_0xc72971(0x197))]({'material':new Cesium[(_0xc72971(0x1bf))]({'fabric':{'uniforms':{'image':_0x4488b5},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0xc72971(0x14f)]['addGraphic'](this[_0xc72971(0x179)]);}},{'key':_0x32f832(0x1cc),'value':function _0x57ebae(_0x110597){var _0x108141=_0x32f832,_0x1e1faf;this['clear']();var _0x4f0387=Cesium[_0x108141(0x177)]['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x108141(0x180)]['ALWAYS'],'frontOperation':{'fail':Cesium[_0x108141(0x1ca)][_0x108141(0x1a4)],'zFail':Cesium[_0x108141(0x1ca)]['KEEP'],'zPass':Cesium[_0x108141(0x1ca)][_0x108141(0x19e)]},'backFunction':Cesium[_0x108141(0x180)][_0x108141(0x1aa)],'backOperation':{'fail':Cesium[_0x108141(0x1ca)][_0x108141(0x1a4)],'zFail':Cesium[_0x108141(0x1ca)]['KEEP'],'zPass':Cesium[_0x108141(0x1ca)]['REPLACE']},'reference':0x2,'mask':0x2},'blending':Cesium[_0x108141(0x1de)][_0x108141(0x15a)]}),_0x4356a4=Math[_0x108141(0x151)]((_0x1e1faf=this[_0x108141(0x1cf)][_0x108141(0x1b8)])!==null&&_0x1e1faf!==void 0x0?_0x1e1faf:this['_mBoundsMax']*0.02)+0.1;this['style'][_0x108141(0x1b8)]&&delete this['style']['diffHeight'];var _0x4c80f6=(this['style'][_0x108141(0x18d)],0x64),_0x155b97=Math[_0x108141(0x16b)](this['_rectangle'][_0x108141(0x171)],this[_0x108141(0x195)][_0x108141(0x18e)]);this['style'][_0x108141(0x1b0)]=_0x155b97/=_0x4c80f6,this[_0x108141(0x179)]=new mars3d__namespace['graphic'][(_0x108141(0x15e))](_objectSpread2(_objectSpread2({},this[_0x108141(0x18b)]),{},{'rectangle':this[_0x108141(0x195)],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'aboveGround':!![],'renderState':_0x4f0387,'material':new Cesium[(_0x108141(0x1bf))]({'fabric':{'uniforms':{'image':_0x110597,'repeat':new Cesium[(_0x108141(0x158))](0x1,0x1),'color':new Cesium['Color'](0x1,0x1,0x1,0.01),'bumpMap':this['_getArcHeatCanvas']()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':'attribute\x20vec3\x20position3DHigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec3\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20batchId;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bumpMap_3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionMC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionEC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_st;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20p\x20=\x20czm_computePosition();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionMC\x20=\x20position3DHigh\x20+\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionEC\x20=\x20(czm_modelViewRelativeToEye\x20*\x20p).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_st\x20=\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(bumpMap_3,\x20v_st);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBump\x20=\x20distance(vec3(0.0),color.rgb);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20upDir\x20=\x20normalize(v_positionMC.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20disPos\x20=\x20upDir\x20*\x20centerBump\x20*\x20'[_0x108141(0x192)](_0x4356a4,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this[_0x108141(0x14f)]['addGraphic'](this[_0x108141(0x179)]);}},{'key':'getRectangle','value':function _0x3f929c(_0x176b10){var _0x3dcfc2=_0x32f832;return _0x176b10!==null&&_0x176b10!==void 0x0&&_0x176b10[_0x3dcfc2(0x1c0)]&&this[_0x3dcfc2(0x195)]?mars3d__namespace[_0x3dcfc2(0x16d)][_0x3dcfc2(0x164)](this['_rectangle']):this[_0x3dcfc2(0x195)];}},{'key':'_getHeatCanvas','value':function _0x1632bf(){var _0x4ca39a=_0x32f832,_0x37b07f=this,_0x110ad8,_0x23ee41,_0x233159,_0x2dfd59,_0x58249a=this[_0x4ca39a(0x152)],_0x2ae178=[],_0x2f581f,_0x5c8332,_0x1b8bb8,_0x3f53ad;_0x58249a[_0x4ca39a(0x1c3)](function(_0x488917){var _0x58ed19=_0x4ca39a,_0x2f036a=mars3d__namespace[_0x58ed19(0x183)]['parse'](_0x488917);if(!_0x2f036a)return;_0x2f036a['value']=_0x488917[_0x58ed19(0x188)]||0x1,!_0x37b07f[_0x58ed19(0x18b)][_0x58ed19(0x1a3)]&&(_0x2f581f===undefined?(_0x2f581f=_0x2f036a[_0x58ed19(0x169)],_0x5c8332=_0x2f036a[_0x58ed19(0x169)],_0x1b8bb8=_0x2f036a[_0x58ed19(0x1c4)],_0x3f53ad=_0x2f036a[_0x58ed19(0x1c4)]):(_0x2f581f=Math[_0x58ed19(0x187)](_0x2f581f,_0x2f036a[_0x58ed19(0x169)]),_0x5c8332=Math[_0x58ed19(0x16b)](_0x5c8332,_0x2f036a['lng']),_0x1b8bb8=Math[_0x58ed19(0x187)](_0x1b8bb8,_0x2f036a['lat']),_0x3f53ad=Math['max'](_0x3f53ad,_0x2f036a[_0x58ed19(0x1c4)]))),_0x2ae178[_0x58ed19(0x1a7)](_0x2f036a);});var _0x555b86=this[_0x4ca39a(0x18b)]['rectangle']||{'xmin':_0x2f581f,'xmax':_0x5c8332,'ymin':_0x1b8bb8,'ymax':_0x3f53ad},_0xa087d1=getMercatorBounds(_0x555b86),_0x876bc4=Math[_0x4ca39a(0x185)](_0xa087d1[_0x4ca39a(0x14b)]-_0xa087d1[_0x4ca39a(0x14d)]),_0x3f385b=Math[_0x4ca39a(0x185)](_0xa087d1[_0x4ca39a(0x1a0)]-_0xa087d1['ymin']),_0x55da0f=Math[_0x4ca39a(0x16b)](_0x876bc4,_0x3f385b),_0x4d7cfd=Math[_0x4ca39a(0x187)](_0x876bc4,_0x3f385b);this[_0x4ca39a(0x1d3)]=_0x55da0f;var _0x3557d6=0x1;if(_0x55da0f>this[_0x4ca39a(0x18b)][_0x4ca39a(0x153)])_0x3557d6=_0x55da0f/this[_0x4ca39a(0x18b)]['maxCanvasSize'],_0x4d7cfd/_0x3557d6<this[_0x4ca39a(0x18b)][_0x4ca39a(0x1c8)]&&(_0x3557d6=_0x4d7cfd/this['options'][_0x4ca39a(0x1c8)]);else _0x4d7cfd<this[_0x4ca39a(0x18b)][_0x4ca39a(0x1c8)]&&(_0x3557d6=_0x4d7cfd/this[_0x4ca39a(0x18b)][_0x4ca39a(0x1c8)],_0x55da0f/_0x3557d6>this['options'][_0x4ca39a(0x153)]&&(_0x3557d6=_0x55da0f/this['options'][_0x4ca39a(0x153)]));var _0x338e96=this['heatStyle'][_0x4ca39a(0x196)]*1.5,_0x1ae4eb=_0x876bc4/_0x3557d6+_0x338e96*0x2,_0x585602=_0x3f385b/_0x3557d6+_0x338e96*0x2,_0x316f55=_0x338e96*_0x3557d6;_0xa087d1[_0x4ca39a(0x14d)]-=_0x316f55,_0xa087d1['ymin']-=_0x316f55,_0xa087d1['xmax']+=_0x316f55,_0xa087d1[_0x4ca39a(0x1a0)]+=_0x316f55,this['_scale']=_0x3557d6,_0x555b86=geLatLngBounds(_0xa087d1),this[_0x4ca39a(0x195)]=Cesium['Rectangle'][_0x4ca39a(0x154)](_0x555b86[_0x4ca39a(0x14d)],_0x555b86[_0x4ca39a(0x176)],_0x555b86[_0x4ca39a(0x14b)],_0x555b86[_0x4ca39a(0x1a0)]);var _0x1933e9=(_0x110ad8=_0x2ae178[0x0][_0x4ca39a(0x188)])!==null&&_0x110ad8!==void 0x0?_0x110ad8:0x1,_0x3a00a6=(_0x23ee41=_0x2ae178[0x0][_0x4ca39a(0x188)])!==null&&_0x23ee41!==void 0x0?_0x23ee41:0x0,_0x21d29b=[];_0x2ae178[_0x4ca39a(0x1c3)](function(_0x3d7cee){var _0x4924a7=_0x4ca39a,_0x4bedea=mars3d__namespace[_0x4924a7(0x19a)][_0x4924a7(0x1b3)]([_0x3d7cee[_0x4924a7(0x169)],_0x3d7cee[_0x4924a7(0x1c4)]]),_0x39c0b4=_0x3d7cee[_0x4924a7(0x188)]||0x1,_0x3b2f11=Math[_0x4924a7(0x18f)]((_0x4bedea[0x0]-_0xa087d1[_0x4924a7(0x14d)])/_0x3557d6),_0x14ad35=Math[_0x4924a7(0x18f)]((_0xa087d1['ymax']-_0x4bedea[0x1])/_0x3557d6);_0x1933e9=Math[_0x4924a7(0x16b)](_0x1933e9,_0x39c0b4),_0x3a00a6=Math['min'](_0x3a00a6,_0x39c0b4),_0x21d29b[_0x4924a7(0x1a7)]({'x':_0x3b2f11,'y':_0x14ad35,'value':_0x39c0b4});});var _0x320c90={'min':(_0x233159=this[_0x4ca39a(0x18b)]['min'])!==null&&_0x233159!==void 0x0?_0x233159:_0x3a00a6,'max':(_0x2dfd59=this[_0x4ca39a(0x18b)][_0x4ca39a(0x16b)])!==null&&_0x2dfd59!==void 0x0?_0x2dfd59:_0x1933e9,'data':_0x21d29b};this[_0x4ca39a(0x1d9)]=_0x320c90;(!this[_0x4ca39a(0x1a2)]||_0xa087d1[_0x4ca39a(0x14d)]!==this['_last_mBounds'][_0x4ca39a(0x14d)]||_0xa087d1[_0x4ca39a(0x176)]!==this[_0x4ca39a(0x1a2)][_0x4ca39a(0x176)]||_0xa087d1['xmax']!==this[_0x4ca39a(0x1a2)][_0x4ca39a(0x14b)]||_0xa087d1[_0x4ca39a(0x1a0)]!==this[_0x4ca39a(0x1a2)][_0x4ca39a(0x1a0)])&&(this[_0x4ca39a(0x1a2)]=_0xa087d1,!this[_0x4ca39a(0x1b6)]['container']&&(this['heatStyle'][_0x4ca39a(0x1bb)]=mars3d__namespace[_0x4ca39a(0x18a)]['create']('div',_0x4ca39a(0x1be),this[_0x4ca39a(0x1a5)]['container'])),this[_0x4ca39a(0x1b6)][_0x4ca39a(0x1bb)][_0x4ca39a(0x1cf)]['cssText']=_0x4ca39a(0x1bd)[_0x4ca39a(0x192)](_0x1ae4eb,_0x4ca39a(0x1a8))[_0x4ca39a(0x192)](_0x585602,_0x4ca39a(0x191)),!this[_0x4ca39a(0x17b)]?this[_0x4ca39a(0x17b)]=h337__namespace[_0x4ca39a(0x148)](this[_0x4ca39a(0x1b6)]):this[_0x4ca39a(0x17b)][_0x4ca39a(0x150)](this[_0x4ca39a(0x1b6)]));this[_0x4ca39a(0x17b)]['setData'](_0x320c90);var _0x16c5cc=mars3d__namespace[_0x4ca39a(0x18a)]['copyCanvas'](this[_0x4ca39a(0x17b)][_0x4ca39a(0x19b)]['canvas']);return _0x16c5cc;}},{'key':_0x32f832(0x19f),'value':function _0x4d0f75(){var _0x5954b0=_0x32f832;this[_0x5954b0(0x17b)]['configure']({'radius':this[_0x5954b0(0x1b6)]['radius']*this['style']['arcRadiusScale'],'blur':this['heatStyle'][_0x5954b0(0x146)]*this[_0x5954b0(0x1cf)][_0x5954b0(0x1d2)],'gradient':this[_0x5954b0(0x1b6)][_0x5954b0(0x149)]||{0.25:_0x5954b0(0x17e),0.55:_0x5954b0(0x1ac),0.85:_0x5954b0(0x189),0x1:_0x5954b0(0x1e1)}});var _0x2171e5=mars3d__namespace[_0x5954b0(0x18a)]['copyCanvas'](this[_0x5954b0(0x17b)]['_renderer'][_0x5954b0(0x1b5)]);return this[_0x5954b0(0x17b)][_0x5954b0(0x150)](this[_0x5954b0(0x18b)][_0x5954b0(0x1b6)]),_0x2171e5;}},{'key':_0x32f832(0x1df),'value':function _0x13f179(_0x3bd39e){var _0x565393=_0x32f832,_0x4c47bc=mars3d__namespace[_0x565393(0x183)][_0x565393(0x159)](_0x3bd39e);if(!_0x4c47bc)return{};var _0x2ad8c0=mars3d__namespace[_0x565393(0x19a)][_0x565393(0x1b3)]([_0x4c47bc['lng'],_0x4c47bc[_0x565393(0x1c4)]]),_0x21888e=this[_0x565393(0x1a2)],_0x26e585=Math[_0x565393(0x18f)]((_0x2ad8c0[0x0]-_0x21888e[_0x565393(0x14d)])/this[_0x565393(0x17c)]),_0x5bde32=Math[_0x565393(0x18f)]((_0x21888e['ymax']-_0x2ad8c0[0x1])/this[_0x565393(0x17c)]),_0x5c1c00=this[_0x565393(0x17b)][_0x565393(0x17d)]({'x':_0x26e585,'y':_0x5bde32}),_0x2ad7cb=this[_0x565393(0x17b)][_0x565393(0x19b)]['ctx'][_0x565393(0x1dc)](_0x26e585-0x1,_0x5bde32-0x1,0x1,0x1)[_0x565393(0x182)];return{'x':_0x26e585,'y':_0x5bde32,'value':_0x5c1c00,'color':'rgba('+_0x2ad7cb[0x0]+','+_0x2ad7cb[0x1]+','+_0x2ad7cb[0x2]+','+_0x2ad7cb[0x3]+')'};}}]),_0x5cbe88;}(BaseLayer);function _0x4262(){var _0x744a64=['6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','ug9SEvv0AwW','mte4otmXndbHz05ptu0','x19LC01VzhvSzq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','AgvPz2H0','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','x3jLBw92zwriB29R','yMX1zq','A2v5','Ew1PBG','uMvUzgvYu3rHDgu','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','x2DYyxbOAwm','sgvHDeXHEwvY','x2HLyxq','x3nJywXL','z2v0vMfSDwvbDa','CMDIkdaSmcWWkq','x2fKzgvKsg9VAW','u3rLBMnPBez1BMn0Aw9U','D3jPDgfIBgu','zgf0yq','tg5Ntgf0ug9PBNq','y29UC3rYDwn0','ywjZ','y29UzMLNDxjHyMXL','BwLU','DMfSDwu','CMDIkdiXnIWYmtySmJe2kq','rg9TvxrPBa','B3b0Aw9UCW','x21VDw50zwriB29R','C3bSAxroDw0','D2LKDgG','CM91BMq','BgvUz3rO','ChG7','y29Uy2f0','CMvTB3zLtgf5zxi','ywrKug9ZAxrPB24','x3jLy3rHBMDSzq','CMfKAxvZ','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','m3brB3zHCG','vKvsvevyx0zpuK1bva','ug9PBNruCMfUCW','x3jLBMrLCMvY','q2vZAxvT','ChjVDg90ExbL','uKvqtefdrq','x2DLDefYy0HLyxrdyw52yxm','Ew1HEa','nZuZntyWyxDYter5','x2XHC3rFBujVDw5KCW','CMvJDgfUz2XL','s0vfua','x21HCa','B2jQzwn0','ChvZAa','ChG7AgvPz2H0oG','yxbWBhK','quXxqvLt','Cg9ZAxrPB25Z','CMDIkde0mcWXndaSmtqWkq','Bgf5zxi','qMfZzuXHEwvY','C2HVDW','z3jHBNvSyxjPDhK','mtuWotCZmgXpu3DIAW','CMvNAxn0zxi','Bg9UBgf0mM1LCMnHDg9Y','x2nYzwf0zuDYyxbOAwm','y2fUDMfZ','AgvHDfn0EwXL','yxjJ','zgLMzKHLAwDODa','C2v0ug9ZAxrPB25Z','oe5VrLfvua','y29UDgfPBMvY','tgf5zxjvDgLS','D2LKDgG6','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','twf0zxjPywW','AxngB3jTyxq','mtfWCe5zwLe','A2v5CW','zM9YrwfJAa','Bgf0','AgvHDa','y2XLyxi','Aw1Hz2u','BwLUq2fUDMfZu2L6zq','DMfSDwvpzG','u3rLBMnPBe9WzxjHDgLVBG','owXcEwvHrq','x2nYzwf0zufYy0DYyxbOAwm','Dw5PzM9YBxm','BwvYy2f0B3iYBg9UBgf0','C3r5Bgu','BwvYz2u','zw51BwvYywjSzq','yxjJqMX1CLnJywXL','x21cB3vUzhnnyxG','n2XYCefgDW','zgvMAw5LuhjVCgvYDhK','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','CMvTB3zLr3jHCgHPyW','x2XHC3rFAgvHDerHDge','vxrPBa','Dg9bCNjHEq','z2v0sw1Hz2veyxrH','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','qMXLBMrPBMDtDgf0zq','z2v0ug9PBNreyxrH','ywrKtgf5zxi','CMDIkdi1nsWYntuSmJu1kq','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','yMX1CG','C2v0uhjVDg90ExbLt2y','y3jLyxrL','z3jHzgLLBNrbCMm','x19WCM90B19F','Eg1HEa','zNvUy3rPB24','Eg1PBG','mZi5nZy4oer0u1zoDG','x2XHEwvY','y29UzMLNDxjL','zMXVB3i','x3bVC2L0Aw9UCW','Bwf4q2fUDMfZu2L6zq','zNjVBurLz3jLzxm','z2v0uhjVDg90ExbLt2y','Cg9PBNrZ','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','q2fYDgvZAwfUmG','CgfYC2u','quXqsefFqKXftKq','y2XPzw50sgvPz2H0','yM9KEq','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','uMvJDgfUz2XLuhjPBwL0AxzL','ndi5odm4ofvpugjJqq','r3jHCgHPy0XHEwvY','mte0mJm0nLbMEwThAa','zMX5vg8','EwvSBg93','zM9YBwf0uMvJDgfUz2XL','C2HHBq','y29VCMrPBMf0zxm','y2fSBa','nZC3odjerNrIAgq','Bg5N','zgvMAw5LuhjVCgvYDgLLCW','Bwf4'];_0x4262=function(){return _0x744a64;};return _0x4262();}mars3d__namespace[_0x6ba69(0x1ad)][_0x6ba69(0x17a)]=HeatLayer,mars3d__namespace[_0x6ba69(0x1bc)][_0x6ba69(0x1b2)](_0x6ba69(0x1c5),HeatLayer);function getMercatorBounds(_0x40a908){var _0x23c72a=_0x6ba69,_0x44db8a=mars3d__namespace[_0x23c72a(0x19a)]['lonlat2mercator']([_0x40a908['xmin'],_0x40a908[_0x23c72a(0x176)]]),_0x5cd7ff=mars3d__namespace['PointTrans'][_0x23c72a(0x1b3)]([_0x40a908[_0x23c72a(0x14b)],_0x40a908[_0x23c72a(0x1a0)]]);return{'xmin':_0x44db8a[0x0],'ymin':_0x44db8a[0x1],'xmax':_0x5cd7ff[0x0],'ymax':_0x5cd7ff[0x1]};}function geLatLngBounds(_0x4fd756){var _0x461412=_0x6ba69,_0x2bf3ad=mars3d__namespace[_0x461412(0x19a)][_0x461412(0x1ce)]([_0x4fd756[_0x461412(0x14d)],_0x4fd756[_0x461412(0x176)]]),_0x3f98da=mars3d__namespace[_0x461412(0x19a)][_0x461412(0x1ce)]([_0x4fd756[_0x461412(0x14b)],_0x4fd756['ymax']]);return{'xmin':_0x2bf3ad[0x0],'ymin':_0x2bf3ad[0x1],'xmax':_0x3f98da[0x0],'ymax':_0x3f98da[0x1]};}exports[_0x6ba69(0x17a)]=HeatLayer,Object[_0x6ba69(0x1d5)](exports,_0x6ba69(0x16f),{'value':!![]});
}));
