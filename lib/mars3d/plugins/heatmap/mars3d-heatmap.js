/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.9
 * 编译日期：2022-05-22 14:42:46
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x675b1f=_0x3389;(function(_0x3a145f,_0x3aff52){var _0x3a5127=_0x3389,_0x2edf98=_0x3a145f();while(!![]){try{var _0xf82e04=parseInt(_0x3a5127(0x122))/0x1+parseInt(_0x3a5127(0xc3))/0x2+-parseInt(_0x3a5127(0xab))/0x3*(parseInt(_0x3a5127(0xa3))/0x4)+parseInt(_0x3a5127(0x125))/0x5*(parseInt(_0x3a5127(0x9d))/0x6)+parseInt(_0x3a5127(0xde))/0x7*(parseInt(_0x3a5127(0xc2))/0x8)+-parseInt(_0x3a5127(0xa2))/0x9+-parseInt(_0x3a5127(0xf9))/0xa;if(_0xf82e04===_0x3aff52)break;else _0x2edf98['push'](_0x2edf98['shift']());}catch(_0x282c3f){_0x2edf98['push'](_0x2edf98['shift']());}}}(_0x4e18,0xb6a43));function _0x4e18(){var _0x7576ae=['vKvsvevyx0zpuK1bva','q2fYDgvZAwfUmG','zgvMyxvSDa','x21VDw50zwriB29R','uMvUzgvYu3rHDgu','uMvJDgfUz2XL','x2DLDeHLyxrdyw52yxm','u3rLBMnPBe9WzxjHDgLVBG','Bg9UBgf0mM1LCMnHDg9Y','DMfSDwvpzG','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','Eg1HEa','y3nZvgv4Da','mtuWDgXfA2nv','uKvqtefdrq','ChG7AgvPz2H0oG','Cg9ZAxrPB25Z','B3b0Aw9UCW','mJC3nJu5owzrEffwAW','ndrhCvPOtuq','rg9TvxrPBa','Bwf4q2fUDMfZu2L6zq','yxjJuMfKAxvZu2nHBgu','y2XPzw50sgvPz2H0','CMvTB3zLtgf5zxi','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','mJG0nJCZDfb2ve5M','C2v0ug9ZAxrPB25Z','ywrKr3jHCgHPyW','zMX5vg8','x21cB3vUzhnnyxG','vxrPBa','Bg5N','EwvSBg93','y29Uy2f0','C2HVDW','BgvUz3rO','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','yM9KEq','y29UC3rYDwn0B3i','yxbWBhK','z2v0','CMDIkdiXnIWYmtySmJe2kq','CMDIysG','quXxqvLt','x2nYzwf0zufYy0DYyxbOAwm','Ew1PBG','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','yxjJ','nZK3mJG4Dg9gA1vZ','mty4mJq3ogLpDxnSAq','Eg1PBG','DMfSDwu','x2HLyxq','CMvJDgfUz2XL','y3jLyxrL','AgvPz2H0','z3jHzgLLBNrbCMm','s0vfua','tgf5zxjvDgLS','CMvNAxn0zxi','D2LKDgG6','CgfYC2u','C2v0rgf0yq','z2v0ug9PBNreyxrH','x19WCM90B19F','yxjJqMX1CLnJywXL','ywrKug9ZAxrPB24','yMX1CG','ywrKtgf5zxi','ChjVDg90ExbL','B2jQzwn0','ChG7','x21HCa','q2vZAxvT','x2DLDefYy0HLyxrdyw52yxm','tg5Ntgf0ug9PBNq','ndLXDxDsy2W','A2v5','y2XLyxi','zgvMyxvSDfzHBhvL','CM91BMq','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','C2v0uhjVDg90ExbLt2y','zM9YrwfJAa','x2XHEwvY','y29UDgfPBMvY','x2XHC3rFBujVDw5KCW','AxngB3jTyxq','y29UzMLNDxjL','r3jHCgHPy0XHEwvY','AgvHDfn0EwXL','CMfKAxvZ','x2nYzwf0zuDYyxbOAwm','ug9SEvv0AwW','zNvUy3rPB24','zMLSDgvY','y29UC3rYDwn0','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','zMXVB3i','BwLU','y2fUDMfZ','x2XHC3rFAgvHDerHDge','CMDIkdaSmcWWkq','nty1mdqZmeXoEfDbEq','D3jPDgfIBgu','ywjZ','x2DYyxbOAwm','x3bVC2L0Aw9UCW','Dw5PzM9YBxm','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','Bgf5zxi','A2v5CW','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','z2v0uhjVDg90ExbLt2y','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','Dw5KzwzPBMvK','qMfZzuXHEwvY','Bwf4','AgvHDa','y29UzMLNDxjHyMXL','z3jHCgHPyW','BwvYy2f0B3iYBg9UBgf0','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','x3jLBw92zwriB29R','twf0zxjPywW','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','Aw1Hz2u','C3bSAxroDw0','sgvHDeXHEwvY','CMvTB3zLr3jHCgHPyW','BwLUq2fUDMfZu2L6zq','CMDIkdi1nsWYntuSmJu1kq','yNvTCe1HCa','x3nJywXL','ChvZAa','CMvTB3zL','y2fSBa','C3r5Bgu','x3jLy3rHBMDSzq','zw51BwvYywjSzq','zNjVBurLz3jLzxm','zNjVBunHy2HL','Bgf0','z2v0uMvJDgfUz2XL','otq4ndeZqvDRq1Lm','z2v0vMfSDwvbDa','CMvK','mZu2mZvgDe92Eg4','BwvYz2u','zMX5vg9cEufUAw1HDgLVBKvUza','ug9PBNruCMfUCW','zgLMzKHLAwDODa','x3jLBMrLCMvY','zgvMAw5LuhjVCgvYDhK','Ew1HEa','quXqsefFqKXftKq','uMvJDgfUz2XLuhjPBwL0AxzL','x3nLDe9WDgLVBNniB29R','y29WEunHBNzHCW','zM9YBwf0uMvJDgfUz2XL','x19LC01VzhvSzq'];_0x4e18=function(){return _0x7576ae;};return _0x4e18();}function _interopNamespace(_0x2debc4){var _0x215b5b=_0x3389;if(_0x2debc4&&_0x2debc4[_0x215b5b(0x132)])return _0x2debc4;var _0x3aa79a=Object['create'](null);return _0x2debc4&&Object['keys'](_0x2debc4)[_0x215b5b(0xe5)](function(_0xfa10af){var _0xb290e2=_0x215b5b;if(_0xfa10af!==_0xb290e2(0x92)){var _0x23a245=Object['getOwnPropertyDescriptor'](_0x2debc4,_0xfa10af);Object[_0xb290e2(0x12b)](_0x3aa79a,_0xfa10af,_0x23a245[_0xb290e2(0xba)]?_0x23a245:{'enumerable':!![],'get':function(){return _0x2debc4[_0xfa10af];}});}}),_0x3aa79a['default']=_0x2debc4,_0x3aa79a;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x28587c,_0x55d98f){var _0x717a1b=_0x3389,_0x3062cc=Object[_0x717a1b(0x101)](_0x28587c);if(Object[_0x717a1b(0x102)]){var _0x54bba3=Object['getOwnPropertySymbols'](_0x28587c);_0x55d98f&&(_0x54bba3=_0x54bba3[_0x717a1b(0xf1)](function(_0x324474){var _0xa0f5ac=_0x717a1b;return Object['getOwnPropertyDescriptor'](_0x28587c,_0x324474)[_0xa0f5ac(0x11d)];})),_0x3062cc[_0x717a1b(0x118)][_0x717a1b(0xb9)](_0x3062cc,_0x54bba3);}return _0x3062cc;}function _objectSpread2(_0x3e5bc8){var _0x23c36d=_0x3389;for(var _0x21b7ae=0x1;_0x21b7ae<arguments[_0x23c36d(0xb5)];_0x21b7ae++){var _0x16b473=null!=arguments[_0x21b7ae]?arguments[_0x21b7ae]:{};_0x21b7ae%0x2?ownKeys(Object(_0x16b473),!0x0)[_0x23c36d(0xe5)](function(_0x97eaff){_defineProperty(_0x3e5bc8,_0x97eaff,_0x16b473[_0x97eaff]);}):Object[_0x23c36d(0xff)]?Object['defineProperties'](_0x3e5bc8,Object['getOwnPropertyDescriptors'](_0x16b473)):ownKeys(Object(_0x16b473))['forEach'](function(_0x2f9711){var _0x3abb99=_0x23c36d;Object[_0x3abb99(0x12b)](_0x3e5bc8,_0x2f9711,Object[_0x3abb99(0xc0)](_0x16b473,_0x2f9711));});}return _0x3e5bc8;}function _classCallCheck(_0x5326f1,_0xfd6c5){var _0x32d22e=_0x3389;if(!(_0x5326f1 instanceof _0xfd6c5))throw new TypeError(_0x32d22e(0xf3));}function _defineProperties(_0x135b20,_0x63ef8a){var _0x449e4e=_0x3389;for(var _0x36c5ae=0x0;_0x36c5ae<_0x63ef8a[_0x449e4e(0xb5)];_0x36c5ae++){var _0x184178=_0x63ef8a[_0x36c5ae];_0x184178[_0x449e4e(0x11d)]=_0x184178['enumerable']||![],_0x184178[_0x449e4e(0x109)]=!![];if(_0x449e4e(0xc5)in _0x184178)_0x184178[_0x449e4e(0xfa)]=!![];Object[_0x449e4e(0x12b)](_0x135b20,_0x184178[_0x449e4e(0xdf)],_0x184178);}}function _createClass(_0x28be5f,_0x46c3bb,_0x5ad2b5){var _0x2a38c1=_0x3389;if(_0x46c3bb)_defineProperties(_0x28be5f['prototype'],_0x46c3bb);if(_0x5ad2b5)_defineProperties(_0x28be5f,_0x5ad2b5);return Object['defineProperty'](_0x28be5f,_0x2a38c1(0xd7),{'writable':![]}),_0x28be5f;}function _defineProperty(_0x3cc06d,_0x57ea1e,_0x50e31a){var _0x20b17c=_0x3389;return _0x57ea1e in _0x3cc06d?Object[_0x20b17c(0x12b)](_0x3cc06d,_0x57ea1e,{'value':_0x50e31a,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x3cc06d[_0x57ea1e]=_0x50e31a,_0x3cc06d;}function _inherits(_0x4f78d3,_0x272746){var _0x514f34=_0x3389;if(typeof _0x272746!=='function'&&_0x272746!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x4f78d3[_0x514f34(0xd7)]=Object['create'](_0x272746&&_0x272746[_0x514f34(0xd7)],{'constructor':{'value':_0x4f78d3,'writable':!![],'configurable':!![]}}),Object[_0x514f34(0x12b)](_0x4f78d3,_0x514f34(0xd7),{'writable':![]});if(_0x272746)_setPrototypeOf(_0x4f78d3,_0x272746);}function _getPrototypeOf(_0x376853){var _0x281af6=_0x3389;return _getPrototypeOf=Object[_0x281af6(0xe4)]?Object['getPrototypeOf']:function _0x2691c7(_0x83aa90){var _0x2907c7=_0x281af6;return _0x83aa90['__proto__']||Object[_0x2907c7(0x103)](_0x83aa90);},_getPrototypeOf(_0x376853);}function _setPrototypeOf(_0x4b6531,_0x386d3a){var _0x308722=_0x3389;return _setPrototypeOf=Object[_0x308722(0xe4)]||function _0x534db4(_0x6cc0e3,_0x2e3759){var _0x12934c=_0x308722;return _0x6cc0e3[_0x12934c(0xd2)]=_0x2e3759,_0x6cc0e3;},_setPrototypeOf(_0x4b6531,_0x386d3a);}function _isNativeReflectConstruct(){var _0x40eebc=_0x3389;if(typeof Reflect===_0x40eebc(0x105)||!Reflect[_0x40eebc(0xf2)])return![];if(Reflect[_0x40eebc(0xf2)]['sham'])return![];if(typeof Proxy===_0x40eebc(0xf0))return!![];try{return Boolean[_0x40eebc(0xd7)][_0x40eebc(0x99)][_0x40eebc(0x11a)](Reflect[_0x40eebc(0xf2)](Boolean,[],function(){})),!![];}catch(_0x14c4ef){return![];}}function _assertThisInitialized(_0x3cf9f9){if(_0x3cf9f9===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x3cf9f9;}function _possibleConstructorReturn(_0x3c2970,_0xa3f3c6){var _0x386343=_0x3389;if(_0xa3f3c6&&(typeof _0xa3f3c6===_0x386343(0xd8)||typeof _0xa3f3c6===_0x386343(0xf0)))return _0xa3f3c6;else{if(_0xa3f3c6!==void 0x0)throw new TypeError(_0x386343(0xb6));}return _assertThisInitialized(_0x3c2970);}function _createSuper(_0x12971a){var _0x5983d2=_isNativeReflectConstruct();return function _0x17cec4(){var _0x428a34=_0x3389,_0x353420=_getPrototypeOf(_0x12971a),_0x2634df;if(_0x5983d2){var _0x5f6547=_getPrototypeOf(this)[_0x428a34(0xb8)];_0x2634df=Reflect['construct'](_0x353420,arguments,_0x5f6547);}else _0x2634df=_0x353420['apply'](this,arguments);return _possibleConstructorReturn(this,_0x2634df);};}var HeatMaterial=_0x675b1f(0x10f);function _0x3389(_0x20a941,_0x5d28dc){var _0x4e1893=_0x4e18();return _0x3389=function(_0x338955,_0x14e7d8){_0x338955=_0x338955-0x92;var _0x4a464b=_0x4e1893[_0x338955];if(_0x3389['gwgsua']===undefined){var _0x472f23=function(_0x2debc4){var _0x3aa79a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0xfa10af='',_0x23a245='';for(var _0x28587c=0x0,_0x55d98f,_0x3062cc,_0x54bba3=0x0;_0x3062cc=_0x2debc4['charAt'](_0x54bba3++);~_0x3062cc&&(_0x55d98f=_0x28587c%0x4?_0x55d98f*0x40+_0x3062cc:_0x3062cc,_0x28587c++%0x4)?_0xfa10af+=String['fromCharCode'](0xff&_0x55d98f>>(-0x2*_0x28587c&0x6)):0x0){_0x3062cc=_0x3aa79a['indexOf'](_0x3062cc);}for(var _0x324474=0x0,_0x3e5bc8=_0xfa10af['length'];_0x324474<_0x3e5bc8;_0x324474++){_0x23a245+='%'+('00'+_0xfa10af['charCodeAt'](_0x324474)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x23a245);};_0x3389['LNQGAu']=_0x472f23,_0x20a941=arguments,_0x3389['gwgsua']=!![];}var _0x31c9ac=_0x4e1893[0x0],_0x17d4c6=_0x338955+_0x31c9ac,_0x3a8d5a=_0x20a941[_0x17d4c6];return!_0x3a8d5a?(_0x4a464b=_0x3389['LNQGAu'](_0x4a464b),_0x20a941[_0x17d4c6]=_0x4a464b):_0x4a464b=_0x3a8d5a,_0x4a464b;},_0x3389(_0x20a941,_0x5d28dc);}if(!h337__namespace[_0x675b1f(0xc8)])throw new Error(_0x675b1f(0xa9));var Cesium=mars3d__namespace[_0x675b1f(0xdb)],BaseLayer=mars3d__namespace['layer'][_0x675b1f(0x106)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:'blue',0.6:'green',0.8:_0x675b1f(0xb2),0.9:_0x675b1f(0x124)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x675b1f(0x133)]},HeatLayer=function(_0xc72890){var _0xf594f6=_0x675b1f;_inherits(_0x3e666c,_0xc72890);var _0xbf00ee=_createSuper(_0x3e666c);function _0x3e666c(){var _0x4ba4fe=_0x3389,_0x41ab09,_0x55aef4=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x3e666c),_0x41ab09=_0xbf00ee['call'](this,_0x55aef4),_0x41ab09['options'][_0x4ba4fe(0xa5)]=Cesium['defaultValue'](_0x41ab09[_0x4ba4fe(0xa1)]['maxCanvasSize'],document[_0x4ba4fe(0xb7)]['clientWidth']),_0x41ab09[_0x4ba4fe(0xa1)]['maxCanvasSize']=Math['min'](_0x41ab09[_0x4ba4fe(0xa1)]['maxCanvasSize'],0x1388),_0x41ab09[_0x4ba4fe(0xa1)][_0x4ba4fe(0x114)]=Cesium[_0x4ba4fe(0xe1)](_0x41ab09[_0x4ba4fe(0xa1)][_0x4ba4fe(0x114)],document['body'][_0x4ba4fe(0xa7)]),_0x41ab09[_0x4ba4fe(0xa1)]['minCanvasSize']=Math[_0x4ba4fe(0x107)](_0x41ab09[_0x4ba4fe(0xa1)][_0x4ba4fe(0x114)],0x2bc),_0x41ab09[_0x4ba4fe(0xa1)]['heatStyle']=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x41ab09['options'][_0x4ba4fe(0xec)]||{}),_0x41ab09[_0x4ba4fe(0xa1)][_0x4ba4fe(0x11b)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x41ab09[_0x4ba4fe(0xa1)][_0x4ba4fe(0x11b)]||{}),_0x41ab09;}return _createClass(_0x3e666c,[{'key':_0xf594f6(0x100),'get':function _0x213f93(){var _0x2fe1d5=_0xf594f6;return this[_0x2fe1d5(0xe6)];}},{'key':_0xf594f6(0xec),'get':function _0x4e86b8(){var _0x15c7f0=_0xf594f6;return this[_0x15c7f0(0xa1)][_0x15c7f0(0xec)];},'set':function _0x4a4f27(_0x532213){var _0x1a999d=_0xf594f6;this[_0x1a999d(0xa1)]['heatStyle']=mars3d__namespace['Util'][_0x1a999d(0x126)](this[_0x1a999d(0xa1)][_0x1a999d(0xec)],_0x532213),this['_heat']&&(this[_0x1a999d(0xc6)][_0x1a999d(0xea)](this[_0x1a999d(0xa1)][_0x1a999d(0xec)]),this[_0x1a999d(0x9a)](!![]));}},{'key':_0xf594f6(0x11b),'get':function _0x25c7c6(){var _0xf4bb9a=_0xf594f6;return this[_0xf4bb9a(0xa1)][_0xf4bb9a(0x11b)];},'set':function _0x1e5c97(_0x34b50e){var _0x3fd311=_0xf594f6;this[_0x3fd311(0xa1)][_0x3fd311(0x11b)]=mars3d__namespace[_0x3fd311(0xb0)]['merge'](this[_0x3fd311(0xa1)][_0x3fd311(0x11b)],_0x34b50e);}},{'key':'positions','get':function _0xf3f7(){var _0x1826f1=_0xf594f6;return this[_0x1826f1(0xfd)];},'set':function _0x352651(_0x14997b){var _0x4747ad=_0xf594f6;this[_0x4747ad(0xac)](_0x14997b);}},{'key':'coordinates','get':function _0xa5b07(){var _0x53bece=_0xf594f6,_0x3d188b=[];return this['points'][_0x53bece(0xe5)](function(_0x262f59){_0x3d188b['push'](_0x262f59['toArray']());}),_0x3d188b;}},{'key':_0xf594f6(0xc7),'get':function _0x504809(){return this['_rectangle'];}},{'key':_0xf594f6(0x12f),'value':function _0x4cc5b8(_0x1d1b13){var _0x1782a1=_0xf594f6;_0x1d1b13[_0x1782a1(0xa0)]&&(this['positions']=_0x1d1b13[_0x1782a1(0xa0)]);}},{'key':_0xf594f6(0x93),'value':function _0x43c460(){var _0x33d84d=_0xf594f6;this['_layer']=new mars3d__namespace[(_0x33d84d(0x100))][(_0x33d84d(0xeb))]({'noLayerManage':!![]}),this['_layer']['_mars3d_private']=!![];}},{'key':'_addedHook','value':function _0x554c93(){var _0x1be1f2=_0xf594f6;this[_0x1be1f2(0xda)][_0x1be1f2(0xd6)](this[_0x1be1f2(0xe6)]),this[_0x1be1f2(0xa1)][_0x1be1f2(0xa0)]&&(this[_0x1be1f2(0xa0)]=this[_0x1be1f2(0xa1)][_0x1be1f2(0xa0)]),this['options'][_0x1be1f2(0xae)]&&this[_0x1be1f2(0x127)]();}},{'key':_0xf594f6(0x10d),'value':function _0x2f3046(){var _0x5e04b9=_0xf594f6;this['heatStyle'][_0x5e04b9(0xe7)]&&(mars3d__namespace[_0x5e04b9(0xa4)][_0x5e04b9(0x119)](this[_0x5e04b9(0xec)][_0x5e04b9(0xe7)]),delete this[_0x5e04b9(0xec)][_0x5e04b9(0xe7)]),this[_0x5e04b9(0xe0)](),this[_0x5e04b9(0xda)][_0x5e04b9(0xa8)](this[_0x5e04b9(0xe6)]);}},{'key':_0xf594f6(0xd4),'value':function _0x2d75d2(_0xd9a2c7,_0x535e37){var _0x5a3767=_0xf594f6;this[_0x5a3767(0xfd)]=this['_positions']||[],this['_positions']['push'](_0xd9a2c7),this[_0x5a3767(0x9a)](_0x535e37);}},{'key':_0xf594f6(0xac),'value':function _0x5e6301(_0x43983d,_0x2c8d2d){var _0x1a1dcb=_0xf594f6;this['_positions']=_0x43983d,this[_0x1a1dcb(0x9a)](_0x2c8d2d);}},{'key':_0xf594f6(0xe0),'value':function _0x18a99d(){var _0x327fa6=_0xf594f6;this['_graphic']&&(this[_0x327fa6(0xe6)][_0x327fa6(0x113)](this[_0x327fa6(0xfc)],!![]),delete this[_0x327fa6(0xfc)]);}},{'key':_0xf594f6(0x9a),'value':function _0x136d20(_0x337564){var _0x492bd2=_0xf594f6;if(!this[_0x492bd2(0xb4)]||!this[_0x492bd2(0xda)]||!this[_0x492bd2(0xa0)]||this[_0x492bd2(0xa0)]['length']===0x0)return this;var _0x505c31=this['_getHeatCanvas']();return this[_0x492bd2(0x11b)][_0x492bd2(0xc1)]?this[_0x492bd2(0xfc)]&&_0x337564?(this[_0x492bd2(0xfc)]['uniforms']['image']=_0x505c31,this[_0x492bd2(0xfc)][_0x492bd2(0xfe)][_0x492bd2(0x116)]=this[_0x492bd2(0xdc)]()):this[_0x492bd2(0xbe)](_0x505c31):this[_0x492bd2(0xfc)]&&_0x337564?this[_0x492bd2(0xfc)][_0x492bd2(0xfe)][_0x492bd2(0x110)]=_0x505c31:this['_createGraphic'](_0x505c31),this;}},{'key':_0xf594f6(0xee),'value':function _0x204a68(_0x3aee6a){var _0x37acb0=_0xf594f6;this[_0x37acb0(0xe0)](),this[_0x37acb0(0xfc)]=new mars3d__namespace[(_0x37acb0(0x10a))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x37acb0(0x11c)],'appearance':new Cesium[(_0x37acb0(0xaa))]({'material':new Cesium[(_0x37acb0(0x10e))]({'fabric':{'uniforms':{'image':_0x3aee6a},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x37acb0(0xe6)][_0x37acb0(0xad)](this['_graphic']);}},{'key':_0xf594f6(0xbe),'value':function _0x46bd97(_0x7f52e0){var _0x150dca=_0xf594f6;this[_0x150dca(0xe0)]();var _0x5ce716=Cesium[_0x150dca(0x94)][_0x150dca(0x11f)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x150dca(0xbd)],'frontOperation':{'fail':Cesium['StencilOperation'][_0x150dca(0xcb)],'zFail':Cesium['StencilOperation'][_0x150dca(0xcb)],'zPass':Cesium['StencilOperation'][_0x150dca(0x9e)]},'backFunction':Cesium['StencilFunction']['ALWAYS'],'backOperation':{'fail':Cesium[_0x150dca(0x97)][_0x150dca(0xcb)],'zFail':Cesium[_0x150dca(0x97)]['KEEP'],'zPass':Cesium[_0x150dca(0x97)][_0x150dca(0x9e)]},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0x150dca(0x12d)]}),_0x57da33=Math[_0x150dca(0xf4)](Cesium[_0x150dca(0xe1)](this[_0x150dca(0x11b)][_0x150dca(0x129)],this[_0x150dca(0xaf)]*0.02))+0.1;this[_0x150dca(0x11b)][_0x150dca(0x129)]&&delete this[_0x150dca(0x11b)][_0x150dca(0x129)];var _0x492782=Cesium['defaultValue'](this[_0x150dca(0x11b)][_0x150dca(0x111)],0x64),_0x536eb0=Math[_0x150dca(0x107)](this['_rectangle'][_0x150dca(0xc9)],this[_0x150dca(0x11c)]['width']);this['style']['granularity']=_0x536eb0/=_0x492782,this[_0x150dca(0xfc)]=new mars3d__namespace[(_0x150dca(0x10a))][(_0x150dca(0x12e))](_objectSpread2(_objectSpread2({},this[_0x150dca(0xa1)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x150dca(0xaa))]({'aboveGround':!![],'renderState':_0x5ce716,'material':new Cesium[(_0x150dca(0x10e))]({'fabric':{'uniforms':{'image':_0x7f52e0,'repeat':new Cesium[(_0x150dca(0x134))](0x1,0x1),'color':new Cesium['Color'](0x1,0x1,0x1,0.01),'bumpMap':this['_getArcHeatCanvas']()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x150dca(0xe3)[_0x150dca(0xb3)](_0x57da33,_0x150dca(0x104)),'flat':!![]})})),this[_0x150dca(0xe6)][_0x150dca(0xad)](this[_0x150dca(0xfc)]);}},{'key':_0xf594f6(0x121),'value':function _0x2e7567(_0x3928be){var _0x1f2a6d=_0xf594f6;return _0x3928be!==null&&_0x3928be!==void 0x0&&_0x3928be[_0x1f2a6d(0xe9)]&&this['_rectangle']?mars3d__namespace[_0x1f2a6d(0xef)][_0x1f2a6d(0x131)](this[_0x1f2a6d(0x11c)]):this[_0x1f2a6d(0x11c)];}},{'key':_0xf594f6(0x96),'value':function _0xbad7a6(){var _0x1fe6af=_0xf594f6,_0x5c0751=this,_0x76cc92,_0x126a80,_0x4afd4b=this[_0x1fe6af(0xfd)],_0x3f9c45=[],_0x572d3a,_0x5e0f82,_0x39324b,_0x3e122b;_0x4afd4b[_0x1fe6af(0xe5)](function(_0x118094){var _0x2cb681=_0x1fe6af,_0x1ba9a1=mars3d__namespace[_0x2cb681(0xdd)][_0x2cb681(0xcf)](_0x118094);if(!_0x1ba9a1)return;_0x1ba9a1[_0x2cb681(0xc5)]=_0x118094[_0x2cb681(0xc5)]||0x1,!_0x5c0751[_0x2cb681(0xa1)]['rectangle']&&(_0x572d3a===undefined?(_0x572d3a=_0x1ba9a1[_0x2cb681(0xb1)],_0x5e0f82=_0x1ba9a1[_0x2cb681(0xb1)],_0x39324b=_0x1ba9a1[_0x2cb681(0x120)],_0x3e122b=_0x1ba9a1[_0x2cb681(0x120)]):(_0x572d3a=Math[_0x2cb681(0xf5)](_0x572d3a,_0x1ba9a1['lng']),_0x5e0f82=Math['max'](_0x5e0f82,_0x1ba9a1['lng']),_0x39324b=Math[_0x2cb681(0xf5)](_0x39324b,_0x1ba9a1[_0x2cb681(0x120)]),_0x3e122b=Math[_0x2cb681(0x107)](_0x3e122b,_0x1ba9a1[_0x2cb681(0x120)]))),_0x3f9c45['push'](_0x1ba9a1);});var _0x27af8f=this[_0x1fe6af(0xa1)][_0x1fe6af(0xc7)]||{'xmin':_0x572d3a,'xmax':_0x5e0f82,'ymin':_0x39324b,'ymax':_0x3e122b},_0x5ce2d0=getMercatorBounds(_0x27af8f),_0x480051=Math[_0x1fe6af(0xfb)](_0x5ce2d0[_0x1fe6af(0x9b)]-_0x5ce2d0['xmin']),_0xe4202=Math[_0x1fe6af(0xfb)](_0x5ce2d0[_0x1fe6af(0x12c)]-_0x5ce2d0[_0x1fe6af(0xbf)]),_0x138303=Math[_0x1fe6af(0x107)](_0x480051,_0xe4202),_0x2574a4=Math['min'](_0x480051,_0xe4202);this[_0x1fe6af(0xaf)]=_0x138303;var _0x10c4a2=0x1;if(_0x138303>this['options'][_0x1fe6af(0xa5)])_0x10c4a2=_0x138303/this[_0x1fe6af(0xa1)][_0x1fe6af(0xa5)],_0x2574a4/_0x10c4a2<this[_0x1fe6af(0xa1)][_0x1fe6af(0x114)]&&(_0x10c4a2=_0x2574a4/this[_0x1fe6af(0xa1)][_0x1fe6af(0x114)]);else _0x2574a4<this['options']['minCanvasSize']&&(_0x10c4a2=_0x2574a4/this[_0x1fe6af(0xa1)][_0x1fe6af(0x114)],_0x138303/_0x10c4a2>this[_0x1fe6af(0xa1)]['maxCanvasSize']&&(_0x10c4a2=_0x138303/this[_0x1fe6af(0xa1)][_0x1fe6af(0xa5)]));var _0x4d4a8c=this[_0x1fe6af(0xec)][_0x1fe6af(0xed)]*1.5,_0x4b5b2d=_0x480051/_0x10c4a2+_0x4d4a8c*0x2,_0x2a38aa=_0xe4202/_0x10c4a2+_0x4d4a8c*0x2,_0x36ae9e=_0x4d4a8c*_0x10c4a2;_0x5ce2d0['xmin']-=_0x36ae9e,_0x5ce2d0['ymin']-=_0x36ae9e,_0x5ce2d0[_0x1fe6af(0x9b)]+=_0x36ae9e,_0x5ce2d0[_0x1fe6af(0x12c)]+=_0x36ae9e,this[_0x1fe6af(0x117)]=_0x10c4a2,_0x27af8f=geLatLngBounds(_0x5ce2d0),this[_0x1fe6af(0x11c)]=Cesium[_0x1fe6af(0x95)][_0x1fe6af(0x11e)](_0x27af8f[_0x1fe6af(0xc4)],_0x27af8f[_0x1fe6af(0xbf)],_0x27af8f[_0x1fe6af(0x9b)],_0x27af8f[_0x1fe6af(0x12c)]);var _0x20013e=(_0x76cc92=_0x3f9c45[0x0]['value'])!==null&&_0x76cc92!==void 0x0?_0x76cc92:0x1,_0x3693a6=(_0x126a80=_0x3f9c45[0x0][_0x1fe6af(0xc5)])!==null&&_0x126a80!==void 0x0?_0x126a80:0x0,_0x193a04=[];_0x3f9c45[_0x1fe6af(0xe5)](function(_0x39b71f){var _0x36548b=_0x1fe6af,_0x1f2ca1=mars3d__namespace[_0x36548b(0x128)][_0x36548b(0x98)]([_0x39b71f[_0x36548b(0xb1)],_0x39b71f[_0x36548b(0x120)]]),_0x56f570=_0x39b71f[_0x36548b(0xc5)]||0x1,_0x5225d7=Math['round']((_0x1f2ca1[0x0]-_0x5ce2d0[_0x36548b(0xc4)])/_0x10c4a2),_0x1d3bb6=Math[_0x36548b(0xe2)]((_0x5ce2d0['ymax']-_0x1f2ca1[0x1])/_0x10c4a2);_0x20013e=Math[_0x36548b(0x107)](_0x20013e,_0x56f570),_0x3693a6=Math['min'](_0x3693a6,_0x56f570),_0x193a04[_0x36548b(0x118)]({'x':_0x5225d7,'y':_0x1d3bb6,'value':_0x56f570});});var _0x228339={'min':_0x3693a6,'max':_0x20013e,'data':_0x193a04};this[_0x1fe6af(0xf7)]=_0x228339;(!this[_0x1fe6af(0xe8)]||_0x5ce2d0['xmin']!==this['_last_mBounds'][_0x1fe6af(0xc4)]||_0x5ce2d0[_0x1fe6af(0xbf)]!==this[_0x1fe6af(0xe8)][_0x1fe6af(0xbf)]||_0x5ce2d0[_0x1fe6af(0x9b)]!==this[_0x1fe6af(0xe8)][_0x1fe6af(0x9b)]||_0x5ce2d0['ymax']!==this[_0x1fe6af(0xe8)][_0x1fe6af(0x12c)])&&(this[_0x1fe6af(0xe8)]=_0x5ce2d0,!this['heatStyle'][_0x1fe6af(0xe7)]&&(this[_0x1fe6af(0xec)][_0x1fe6af(0xe7)]=mars3d__namespace[_0x1fe6af(0xa4)][_0x1fe6af(0xc8)]('div',_0x1fe6af(0x10c),this[_0x1fe6af(0xda)][_0x1fe6af(0xe7)])),this[_0x1fe6af(0xec)]['container']['style'][_0x1fe6af(0x9c)]=_0x1fe6af(0xce)[_0x1fe6af(0xb3)](_0x4b5b2d,_0x1fe6af(0x9f))[_0x1fe6af(0xb3)](_0x2a38aa,_0x1fe6af(0xd9)),!this[_0x1fe6af(0xc6)]?this[_0x1fe6af(0xc6)]=h337__namespace[_0x1fe6af(0xc8)](this['heatStyle']):this[_0x1fe6af(0xc6)][_0x1fe6af(0xea)](this[_0x1fe6af(0xec)]));this['_heat'][_0x1fe6af(0xd0)](_0x228339);var _0x15266e=mars3d__namespace[_0x1fe6af(0xa4)][_0x1fe6af(0x130)](this[_0x1fe6af(0xc6)][_0x1fe6af(0x12a)]['canvas']);return _0x15266e;}},{'key':_0xf594f6(0xdc),'value':function _0x8cfa0(){var _0x507634=_0xf594f6;this[_0x507634(0xc6)][_0x507634(0xea)]({'radius':this['heatStyle']['radius']*this[_0x507634(0x11b)][_0x507634(0xa6)],'blur':this[_0x507634(0xec)][_0x507634(0xd5)]*this['style'][_0x507634(0xd3)],'gradient':this['heatStyle'][_0x507634(0xca)]||{0.25:_0x507634(0xf8),0.55:'rgb(140,140,140)',0.85:_0x507634(0xbb),0x1:_0x507634(0x115)}});var _0x5184fe=mars3d__namespace[_0x507634(0xa4)]['copyCanvas'](this[_0x507634(0xc6)][_0x507634(0x12a)][_0x507634(0xf6)]);return this[_0x507634(0xc6)][_0x507634(0xea)](this[_0x507634(0xa1)][_0x507634(0xec)]),_0x5184fe;}},{'key':_0xf594f6(0xd1),'value':function _0x443d59(_0x1b096d){var _0x4b203b=_0xf594f6,_0x371084=mars3d__namespace[_0x4b203b(0xdd)][_0x4b203b(0xcf)](_0x1b096d);if(!_0x371084)return{};var _0x375210=mars3d__namespace['PointTrans'][_0x4b203b(0x98)]([_0x371084[_0x4b203b(0xb1)],_0x371084[_0x4b203b(0x120)]]),_0x566888=this['_last_mBounds'],_0x11d8fb=Math[_0x4b203b(0xe2)]((_0x375210[0x0]-_0x566888[_0x4b203b(0xc4)])/this['_scale']),_0x3c2ad9=Math[_0x4b203b(0xe2)]((_0x566888['ymax']-_0x375210[0x1])/this[_0x4b203b(0x117)]),_0x1f9872=this['_heat'][_0x4b203b(0x123)]({'x':_0x11d8fb,'y':_0x3c2ad9}),_0x2b8b21=this['_heat'][_0x4b203b(0x12a)]['ctx']['getImageData'](_0x11d8fb-0x1,_0x3c2ad9-0x1,0x1,0x1)['data'];return{'x':_0x11d8fb,'y':_0x3c2ad9,'value':_0x1f9872,'color':_0x4b203b(0xbc)+_0x2b8b21[0x0]+','+_0x2b8b21[0x1]+','+_0x2b8b21[0x2]+','+_0x2b8b21[0x3]+')'};}}]),_0x3e666c;}(BaseLayer);mars3d__namespace[_0x675b1f(0x100)][_0x675b1f(0x112)]=HeatLayer,mars3d__namespace[_0x675b1f(0xcc)][_0x675b1f(0xcd)](_0x675b1f(0x108),HeatLayer);function getMercatorBounds(_0xbbb012){var _0x4790ef=_0x675b1f,_0x23ffee=mars3d__namespace[_0x4790ef(0x128)][_0x4790ef(0x98)]([_0xbbb012[_0x4790ef(0xc4)],_0xbbb012[_0x4790ef(0xbf)]]),_0x515e23=mars3d__namespace[_0x4790ef(0x128)]['lonlat2mercator']([_0xbbb012['xmax'],_0xbbb012[_0x4790ef(0x12c)]]);return{'xmin':_0x23ffee[0x0],'ymin':_0x23ffee[0x1],'xmax':_0x515e23[0x0],'ymax':_0x515e23[0x1]};}function geLatLngBounds(_0x3079a4){var _0x4eaf9e=_0x675b1f,_0x5c9a67=mars3d__namespace[_0x4eaf9e(0x128)][_0x4eaf9e(0x10b)]([_0x3079a4[_0x4eaf9e(0xc4)],_0x3079a4[_0x4eaf9e(0xbf)]]),_0x348c95=mars3d__namespace[_0x4eaf9e(0x128)][_0x4eaf9e(0x10b)]([_0x3079a4[_0x4eaf9e(0x9b)],_0x3079a4[_0x4eaf9e(0x12c)]]);return{'xmin':_0x5c9a67[0x0],'ymin':_0x5c9a67[0x1],'xmax':_0x348c95[0x0],'ymax':_0x348c95[0x1]};}exports['HeatLayer']=HeatLayer,Object[_0x675b1f(0x12b)](exports,_0x675b1f(0x132),{'value':!![]});
}));
